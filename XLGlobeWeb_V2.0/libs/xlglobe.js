!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("markdown-it-sanitizer"),require("hammerjs"),require("babel-polyfill"),require("es6-promise"),require("terraformer-wkt-parser"),require("rainbowvis.js"),require("mapv/"),require("mapvgl/")):"function"==typeof define&&define.amd?define(["markdown-it-sanitizer","hammerjs","babel-polyfill","es6-promise","terraformer-wkt-parser","rainbowvis.js","mapv/","mapvgl/"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).XLGlobe=t(e.MarkdownItSanitizer,e.Hammer,null,e.Es6Promise,e.WKT,e.Rainbow,e.MapV$1,e.MapVGL$1)}(this,(function(MarkdownItSanitizer,Hammer,babelPolyfill,Es6Promise,WKT,Rainbow,MapV$1,MapVGL$1){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var MarkdownItSanitizer__default=_interopDefaultLegacy(MarkdownItSanitizer),Hammer__default=_interopDefaultLegacy(Hammer),Es6Promise__default=_interopDefaultLegacy(Es6Promise),WKT__default=_interopDefaultLegacy(WKT),Rainbow__default=_interopDefaultLegacy(Rainbow),MapV__namespace=_interopNamespace(MapV$1),MapVGL__namespace=_interopNamespace(MapVGL$1),XLGlobe$2={MouseEventType:Cesium.ScreenSpaceEventType},latlng$1={};function pickCenterPoint$2(e){var t=e.canvas,i=new Cesium.Cartesian2(t.clientWidth/2,t.clientHeight/2),n=e.camera.getPickRay(i);return e.globe.pick(n,e)||e.camera.pickEllipsoid(i)}latlng$1.getCurrentMousePosition=function(e,t,i){var n=e.pick(t);if(e.pickPositionSupported&&Cesium.defined(n)){var r=n.id;if(null==i||i&&r!==i){var o=e.pickPosition(t);if(Cesium.defined(o)){var a=Cesium.Cartographic.fromCartesian(o).height;if(a>=0)return o;if(!Cesium.defined(n.id)&&a>=-500)return o}}}if(e.mode===Cesium.SceneMode.SCENE3D){var s=e.camera.getPickRay(t);o=e.globe.pick(s,e)}else o=e.camera.pickEllipsoid(t,e.globe.ellipsoid);return o},latlng$1.getCenter=function(e){var t=e.scene,i=pickCenterPoint$2(t);if(!i){var n=t.globe,r=t.camera.positionCartographic.clone(),o=n.getHeight(r);r.height=o||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}var a=latlng$1.formatPositon(i),s=Cesium.Cartesian3.distance(i,e.scene.camera.positionWC);return a.cameraZ=s,a},latlng$1.getExtent=function(e){var t={xmin:70,xmax:140,ymin:0,ymax:55},i=e.scene,n=i.globe.ellipsoid,r=i.canvas,o=e.camera.pickEllipsoid(new Cesium.Cartesian2(0,0),n);if(o){var a=n.cartesianToCartographic(o);t.xmin=Cesium.Math.toDegrees(a.longitude),t.ymax=Cesium.Math.toDegrees(a.latitude)}else{for(var s,l=r.width/2,u=r.height/2,c=0;c<=u;c+=10){var h=c<=l?c:l;if(s=e.camera.pickEllipsoid(new Cesium.Cartesian2(h,c),n))break}if(s){a=n.cartesianToCartographic(s);t.xmin=Cesium.Math.toDegrees(a.longitude),t.ymax=Cesium.Math.toDegrees(a.latitude)}}var g=e.camera.pickEllipsoid(new Cesium.Cartesian2(r.width,r.height),n);if(g){var d=n.cartesianToCartographic(g);t.xmax=Cesium.Math.toDegrees(d.longitude),t.ymin=Cesium.Math.toDegrees(d.latitude)}else{var p;for(l=r.width/2,u=r.height/2,c=r.height;c>=u;c-=10){h=c>=l?c:l;if(p=e.camera.pickEllipsoid(new Cesium.Cartesian2(h,c),n))break}if(p){d=n.cartesianToCartographic(p);t.xmax=Cesium.Math.toDegrees(d.longitude),t.ymin=Cesium.Math.toDegrees(d.latitude)}}if(t.xmax<t.xmin){var m=t.xmax;t.xmax=t.xmin,t.xmin=m}if(t.ymax<t.ymin){m=t.ymax;t.ymax=t.ymin,t.ymin=m}return t},latlng$1.getViewBounds=function(e){var t=e.camera.computeViewRectangle(),i=t.west/Math.PI*180,n=t.north/Math.PI*180,r=t.east/Math.PI*180;return{southwest:{lng:i,lat:t.south/Math.PI*180},northeast:{lng:r,lat:n}}},latlng$1.getCameraView=function(e){var t=e.camera,i=t.positionCartographic,n={};return n.y=Number(Cesium.Math.toDegrees(i.latitude).toFixed(6)),n.x=Number(Cesium.Math.toDegrees(i.longitude).toFixed(6)),n.z=Number(i.height.toFixed(1)),n.heading=Number(Cesium.Math.toDegrees(t.heading||-90).toFixed(1)),n.pitch=Number(Cesium.Math.toDegrees(t.pitch||0).toFixed(1)),n.roll=Number(Cesium.Math.toDegrees(t.roll||0).toFixed(1)),n},latlng$1.formatPositon=function(e){var t=Cesium.Cartographic.fromCartesian(e),i={};return i.y=Number(Cesium.Math.toDegrees(t.latitude).toFixed(6)),i.x=Number(Cesium.Math.toDegrees(t.longitude).toFixed(6)),i.z=Number(t.height.toFixed(1)),i},latlng$1.Cartesian3To=function(e,t){if(e){var i;if(t)i=t.scene.globe.ellipsoid.cartesianToCartographic(e);else i=Cesium.Cartographic.fromCartesian(e);return{cartesian3:e,cartographic:i,latlng:{lat:Cesium.Math.toDegrees(i.latitude),lng:Cesium.Math.toDegrees(i.longitude),height:i.height}}}},latlng$1.windingPoint={isStart:!1,viewer:null,start:function(e,t){t||(t=getCenter(e)),this.viewer=e,this.position=Cesium.Cartesian3.fromDegrees(t.x,t.y,t.z),this.distance=t.distance||Cesium.Cartesian3.distance(this.position,e.camera.positionWC),this.angle=360/(t.time||60),this.time=e.clock.currentTime.clone(),this.heading=e.camera.heading,this.pitch=e.camera.pitch,this.viewer.clock.onTick.addEventListener(this.clock_onTickHandler,this),this.isStart=!0},clock_onTickHandler:function(e){var t=Cesium.JulianDate.secondsDifference(this.viewer.clock.currentTime,this.time),i=Cesium.Math.toRadians(t*this.angle)+this.heading;this.viewer.scene.camera.setView({destination:this.position,orientation:{heading:i,pitch:this.pitch}}),this.viewer.scene.camera.moveBackward(this.distance)},stop:function(){this.isStart&&(this.viewer&&this.viewer.clock.onTick.removeEventListener(this.clock_onTickHandler,this),this.isStart=!1)}},latlng$1.aroundPoint={isStart:!1,viewer:null,start:function(e,t){t||(t=getCenter(e)),this.viewer=e,this.position=Cesium.Cartesian3.fromDegrees(t.x,t.y,t.z),this.angle=360/(t.time||60),this.time=e.clock.currentTime.clone(),this.heading=e.camera.heading,this.pitch=e.camera.pitch,this.viewer.clock.onTick.addEventListener(this.clock_onTickHandler,this),this.isStart=!0},clock_onTickHandler:function(e){var t=Cesium.JulianDate.secondsDifference(this.viewer.clock.currentTime,this.time),i=Cesium.Math.toRadians(t*this.angle)+this.heading;viewer.scene.camera.setView({orientation:{heading:i,pitch:this.pitch}})},stop:function(){this.isStart&&(this.viewer&&this.viewer.clock.onTick.removeEventListener(this.clock_onTickHandler,this),this.isStart=!1)}};var getCenter$2=function(e,t){var i=e.scene,n=pickCenterPoint$1(i);if(!n){var r=i.globe,o=i.camera.positionCartographic.clone(),a=r.getHeight(o);o.height=a||0,n=Cesium.Ellipsoid.WGS84.cartographicToCartesian(o)}var s=latlng$1.formatPositon(n);t&&(s=e.globe.point2wgs(s));var l=Cesium.Cartesian3.distance(n,e.scene.camera.positionWC);return s.cameraZ=l,s};function pickCenterPoint$1(e){var t=e.canvas,i=new Cesium.Cartesian2(t.clientWidth/2,t.clientHeight/2),n=e.camera.getPickRay(i);return e.globe.pick(n,e)||e.camera.pickEllipsoid(i)}var util$1={isNumber:function(e){return"number"==typeof e&&e.constructor==Number},isString:function(e){return"string"==typeof e&&e.constructor==String},extend:function(e){for(var t=0;t<Object.getOwnPropertyNames(arguments).length;t++){var i=Object.getOwnPropertyNames(arguments)[t];if("caller"!=i&&"callee"!=i&&"length"!=i&&"arguments"!=i){var n=arguments[i];if(n)for(var r=0;r<Object.getOwnPropertyNames(n).length;r++){var o=Object.getOwnPropertyNames(n)[r];"caller"!=i&&"callee"!=i&&"length"!=i&&"arguments"!=i&&(e[o]=n[o])}}}return e},getRequest:function(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var i=e.substr(1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=decodeURI(i[n].split("=")[1]);return t},getRequestByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?decodeURI(i[2]):null},clone:function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=clone(e[i]);return t}if("object"==typeof e){t={};for(var r in e)"_layer"!=r&&"_layers"!=r&&"_parent"!=r&&e.hasOwnProperty(r)&&(t[r]=clone(e[r]));return t}return e},isPCBroswer:function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),i="iphone"==e.match(/iphone/i),n="midp"==e.match(/midp/i),r="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),o="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),s="windows ce"==e.match(/windows ce/i),l="windows mobile"==e.match(/windows mobile/i);return!(t||i||n||r||o||a||s||l)},webglreport:function(){var e=getExplorerInfo$1();if("IE"==e.type&&e.version<11)return!1;try{var t,i=document.createElement("canvas");if("undefined"!=typeof WebGL2RenderingContext&&(t=i.getContext("webgl2")||i.getContext("experimental-webgl2")||void 0),null==t&&(t=i.getContext("webgl")||i.getContext("experimental-webgl")||void 0),null==t)return!1}catch(e){return!1}return!0},terrainPolyline:function(e){var t=e.viewer,i=e.positions;if(null!=i&&0!=i.length){for(var n=Cesium.PolylinePipeline.generateArc({positions:i,granularity:e.granularity||1e-5}),r=[],o=t.scene.globe.ellipsoid,a=0;a<n.length;a+=3){var s=Cesium.Cartesian3.unpack(n,a);r.push(o.cartesianToCartographic(s))}var l=Cesium.Cartographic.fromCartesian(i[0]).height;Cesium.when(Cesium.sampleTerrainMostDetailed(t.terrainProvider,r),(function(n){for(var r=!1,a=e.offset||2,s=0;s<n.length;++s)null==n[s].height?(r=!0,n[s].height=l):n[s].height=a+n[s].height*t.scene._terrainExaggeration;var u=o.cartographicArrayToCartesianArray(n);e.calback?e.calback(u,r):i.setValue&&i.setValue(u)}))}else e.calback&&e.calback(i)}},_ellipsoid$2=new Cesium.EllipsoidTerrainProvider({ellipsoid:Cesium.Ellipsoid.WGS84});function getExplorerInfo$1(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("msie")>=0?{type:"IE",version:Number(e.match(/msie ([\d]+)/)[1])}:e.indexOf("firefox")>=0?{type:"Firefox",version:Number(e.match(/firefox\/([\d]+)/)[1])}:e.indexOf("chrome")>=0?{type:"Chrome",version:Number(e.match(/chrome\/([\d]+)/)[1])}:e.indexOf("opera")>=0?{type:"Opera",version:Number(e.match(/opera.([\d]+)/)[1])}:e.indexOf("Safari")>=0?{type:"Safari",version:Number(e.match(/version\/([\d]+)/)[1])}:{type:e,version:-1}}function floatObj$1(){function e(e){var t,i={times:1,num:0};if(t=e,Math.floor(t)===t)return i.num=e,i;var n=e+"",r=n.indexOf("."),o=n.substr(r+1).length,a=Math.pow(10,o),s=parseInt(e*a+.5,10);return i.times=a,i.num=s,i}function t(t,i,n){var r=e(t),o=e(i),a=r.num,s=o.num,l=r.times,u=o.times,c=l>u?l:u;switch(n){case"add":return(l===u?a+s:l>u?a+s*(l/u):a*(u/l)+s)/c;case"subtract":return(l===u?a-s:l>u?a-s*(l/u):a*(u/l)-s)/c;case"multiply":return a*s/(l*u);case"divide":return a/s*(u/l)}}return{add:function(e,i){return t(e,i,"add")},subtract:function(e,i){return t(e,i,"subtract")},multiply:function(e,i){return t(e,i,"multiply")},divide:function(e,i){return t(e,i,"divide")}}}util$1.getEllipsoidTerrain=function(){return _ellipsoid$2},util$1.getTerrainProvider=function(e){return e.hasOwnProperty("requestWaterMask")||(e.requestWaterMask=!0),e.hasOwnProperty("requestVertexNormals")||(e.requestVertexNormals=!0),""==e.url||null==e.url||"cesium"==e.url?new Cesium.CesiumTerrainProvider({url:Cesium.IonResource.fromAssetId(1)}):"ellipsoid"==e.url||"null"==e.url?_ellipsoid$2:new Cesium.CesiumTerrainProvider(e)},util$1.createModel=function(e,t){e=t.globe.point2map(e);var i=Cesium.Cartesian3.fromDegrees(e.x,e.y,e.z||0),n=Cesium.Math.toRadians(e.heading||0),r=Cesium.Math.toRadians(e.pitch||0),o=Cesium.Math.toRadians(e.roll||0),a=new Cesium.HeadingPitchRoll(n,r,o),s=Cesium.Transforms.headingPitchRollQuaternion(i,a);return t.entities.add({name:e.name||"",position:i,orientation:s,model:e,tooltip:e.tooltip,popup:e.popup})},util$1.formatDegree=function(e){e=Math.abs(e);var t=Math.floor(e);return t+"° "+Math.floor(60*(e-t))+"'  "+Math.round(3600*(e-t)%60)+'"'},util$1.floatObj=floatObj$1(),util$1.randomPointsWithinPolygon=function(e,t,i){for(var n=1e9,r=-1e9,o=1e9,a=-1e9,s=0;s<e.length;s++)n=Math.min(n,e[s].x),r=Math.max(r,e[s].x),o=Math.min(o,e[s].y),a=Math.max(a,e[s].y);var l=[];i&&"geojson"==i&&(l={type:"FeatureCollection",features:[]});for(var u=0;u<t;u++){var c=util$1.randomPointsWithinBbox(n,r,o,a,1)[0];if(util$1.isDotInPolygon(c,e))if("geojson"==i){var h={type:"Feature",properties:{value:parseInt(1e7*Math.random())},geometry:{type:"Point",coordinates:[c.x,c.y]}};l.features.push(h)}else l.push(c);else u--}return l},util$1.randomPointsWithinBbox=function(e,t,i,n,r,o){if(o&&"geojson"==o){for(var a={type:"FeatureCollection",features:[]},s=0;s<r;s++){var l={type:"Feature",properties:{value:parseInt(1e7*Math.random())},geometry:{type:"Point",coordinates:[Math.random()*(t-e)+e,Math.random()*(n-i)+i]}};a.features.push(l)}return a}for(a=[],s=0;s<r;s++){l={x:Math.random()*(t-e)+e,y:Math.random()*(n-i)+i};a.push(l)}return a},util$1.isDotInPolygon=function(e,t,i=!0){var n,r,o=!1;e.x||(e.x=e[0],e.y=e[1]);for(var a=0,s=t.length-1;a<t.length;s=a++){if(n=t[a],r=t[s],n=n.x?{x:n.x,y:n.y}:{x:n[0],y:n[1]},r=r.x?{x:r.x,y:r.y}:{x:r[0],y:r[1]},i&&util$1.onSegment(n,r,e))return!0;n.y>e.y!=r.y>e.y&&e.x<(e.y-n.y)*(n.x-r.x)/(n.y-r.y)+n.x&&(o=!o)}return o},util$1.onSegment=function(e,t,i){return(i.x-e.x)*(t.y-e.y)==(t.x-e.x)*(i.y-e.y)&&Math.min(e.x,t.x)<=i.x&&i.x<=Math.max(e.x,t.x)&&Math.min(e.y,t.y)<=i.y&&i.y<=Math.max(e.y,t.y)},util$1.getJSON=function(e,t){const i=new XMLHttpRequest;i.responseType="json",i.open("get",e,!0),i.onload=function(){if(!(i.status>=200&&i.status<300))throw new Error(i.statusText);t(i.response)},i.send()};var pointconvert$2=function(){var e=52.35987755982988,t=3.141592653589793,i=6378245,n=.006693421622965943,r=function(e){var t=52.35987755982988,i=Number(e[0])-.0065,n=Number(e[1])-.006,r=Math.sqrt(i*i+n*n)-2e-5*Math.sin(n*t),o=Math.atan2(n,i)-3e-6*Math.cos(i*t),a=r*Math.cos(o),s=r*Math.sin(o);return[a=Number(a.toFixed(6)),s=Number(s.toFixed(6))]},o=function(t){var i=Number(t[0]),n=Number(t[1]),r=Math.sqrt(i*i+n*n)+2e-5*Math.sin(n*e),o=Math.atan2(n,i)+3e-6*Math.cos(i*e),a=r*Math.cos(o)+.0065,s=r*Math.sin(o)+.006;return[a=Number(a.toFixed(6)),s=Number(s.toFixed(6))]},a=function(e){var r=Number(e[0]),o=Number(e[1]);if(c(r,o))return[r,o];var a=l(r-105,o-35),s=u(r-105,o-35),h=o/180*t,g=Math.sin(h);g=1-n*g*g;var d=Math.sqrt(g),p=o+(a=180*a/(i*(1-n)/(g*d)*t)),m=r+(s=180*s/(i/d*Math.cos(h)*t));return[m=Number(m.toFixed(6)),p=Number(p.toFixed(6))]},s=function(e){var r=Number(e[0]),o=Number(e[1]);if(c(r,o))return[r,o];var a=l(r-105,o-35),s=u(r-105,o-35),h=o/180*t,g=Math.sin(h);g=1-n*g*g;var d=Math.sqrt(g);a=180*a/(i*(1-n)/(g*d)*t),s=180*s/(i/d*Math.cos(h)*t),mglat=o+a,mglng=r+s;var p=2*r-mglng,m=2*o-mglat;return[p=Number(p.toFixed(6)),m=Number(m.toFixed(6))]},l=function(e,i){var n=2*e-100+3*i+.2*i*i+.1*e*i+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*t)+20*Math.sin(2*e*t))/3,n+=2*(20*Math.sin(i*t)+40*Math.sin(i/3*t))/3,n+=2*(160*Math.sin(i/12*t)+320*Math.sin(i*t/30))/3},u=function(e,i){var n=300+e+2*i+.1*e*e+.1*e*i+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*t)+20*Math.sin(2*e*t))/3,n+=2*(20*Math.sin(e*t)+40*Math.sin(e/3*t))/3,n+=2*(150*Math.sin(e/12*t)+300*Math.sin(e/30*t))/3},c=function(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1};return{jwd2mct:function(e){var i=Number(e[0]),n=Number(e[1]),r=20037508.34*i/180,o=Math.log(Math.tan((90+n)*t/360))/(t/180);return o=20037508.34*o/180,[r=Number(r.toFixed(2)),o=Number(o.toFixed(2))]},mct2jwd:function(e){var i=Number(e[0])/20037508.34*180,n=Number(e[1])/20037508.34*180;return n=180/t*(2*Math.atan(Math.exp(n*t/180))-t/2),[i=Number(i.toFixed(6)),n=Number(n.toFixed(6))]},bd2gcj:r,gcj2bd:o,bd2wgs:function(e){return s(r(e))},wgs2bd:function(e){return o(a(e))},wgs2gcj:a,gcj2wgs:s}};function extend$1(e){let t,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(t in r=arguments[i],r)e[t]=r[t];return e}const create=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function setOptions(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?create(e.options):{});for(const i in t)e.options[i]=t[i];return e.options}const isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Util={extend:extend$1,create:create,setOptions:setOptions,isArray:isArray};function checkDeprecatedMixinEvents(e){if("undefined"!=typeof L&&L&&L.Mixin){e=Util.isArray(e)?e:[e];for(let t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function Class(){}Class.extend=function(e){const t=function(){Util.setOptions(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,n=Util.create(i);n.constructor=t,t.prototype=n;for(const e in this)Object.prototype.hasOwnProperty.call(this,e)&&"prototype"!==e&&"__super__"!==e&&(t[e]=this[e]);return e.statics&&Util.extend(t,e.statics),e.includes&&(checkDeprecatedMixinEvents(e.includes),Util.extend.apply(null,[n].concat(e.includes))),Util.extend(n,e),delete n.statics,delete n.includes,n.options&&(n.options=i.options?Util.create(i.options):{},Util.extend(n.options,e.options)),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(let e=0,t=n._initHooks.length;e<t;e++)n._initHooks[e].call(this)}},t};var BaseLayer=Class.extend({config:{},viewer:null,initialize:function(e,t){this.viewer=t,this.config=e,this.name=e.name,this.config.alpha&&(this._opacity=this.config.alpha),this.config.hasOwnProperty("hasOpacity")&&(this.hasOpacity=this.config.hasOpacity),this.create(),e.visible?this.setVisible(!0):this._visible=!1,e.visible&&e.flyTo&&this.centerAt(this.config.flyToDuration||0)},create:function(){this.config.onCreate&&this.config.onCreate(this.viewer)},showError:function(e,t){t||(t="未知错误"),this.viewer&&this.viewer.cesiumWidget.showErrorPanel(e,void 0,t),console.log("layer错误:"+e+t)},_visible:null,getVisible:function(){return this._visible},setVisible:function(e){null!=this._visible&&this._visible==e||(this._visible=e,e?(this.config.msg&&XLGlobe.eDialog.msg(this.config.msg),this.add()):this.remove())},add:function(){this._visible=!0,this.config.onAdd&&this.config.onAdd()},remove:function(){this._visible=!1,this.config.onRemove&&this.config.onRemove()},centerAt:function(e){this.config.extent||this.config.center?this.viewer.centerAt(this.config.extent||this.config.center,{duration:e,isWgs84:!0}):this.config.onCenterAt&&this.config.onCenterAt(e)},hasOpacity:!1,_opacity:!1,setOpacity:function(e){this.config.onSetOpacity&&this.config.onSetOpacity(e,this.viewer)},hasZIndex:!1,setZIndex:function(e){this.config.onSetZIndex&&this.config.onSetZIndex(e,this.viewer)},destroy:function(){this.setVisible(!1)}});function S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function guid(){return S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()}function createImageryProvider(e,t){var i=null;switch(e.type_new||e.type){case"single":i=new SingleImageryProvider(e,t);break;case"image":i=new ImageImageryProvider(e,t);break;case"xyz":i=new XYZImageryProvider(e,t);break;case"tile":i=new TileImageryProvider(e,t);break;case"wms":i=new WMSImageryProvider(e,t);break;case"tms":i=new TMSImageryProvider(e,t);break;case"wmts":i=new WMTSImageryProvider(e,t);break;case"arcgis":i=new ArcgisImageryProvider(e,t);break;case"arcgis_tile":i=new ArcgisTileImageryProvider(e,t);break;case"arcgis_dynamic":i=new ArcgisDynamicImageryProvider(e,t);break;case"arcgis_cache":i=new ArcgisCacheImageryProvider(e,t);break;case"tianditu":i=new TiandituImageryProvider(e,t);break;case"www_gaode":i=new GaodeImageryProvider(e,t);break;case"baidu":i=new BaiduImageryProvider(e,t);break;case"www_google":i=new GoogleImageryProvider(e,t);break;case"www_osm":i=new OSMImageryProvider(e,t);break;case"www_bing":i=new BingImageryProvider(e,t);break;case"mapbox":i=new MapboxImageryProvider(e,t);break;case"mapboxstyle":i=new MapboxStyleImageryProvider(e,t);break;case"custom_grid":i=new GridImageryProvider;break;case"custom_tilecoord":i=new TileCoordinatesImageryProvider;break;case"custom_featuregrid":i=new _FeatureGridImageryProvider(e,t);break;case"group":if(e.layers&&e.layers.length>0){for(var n=[],r=0;r<e.layers.length;r++){var o=createImageryProvider(e.layers[r],t);null!=o&&n.push(o)}i=n}break;default:console.log("config配置图层未处理:"+e)}return i}class SingleImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.SingleTileImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class ImageImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.SingleTileImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class XYZImageryProvider{constructor(e,t){var i=getOptions(e,t);i.customTags=i.customTags||{},i.customTags.z4490=function(e,t,i,n){return n+1};var n=new Cesium.UrlTemplateImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class TileImageryProvider{constructor(e,t){var i=getOptions(e,t);i.customTags=i.customTags||{},i.customTags.z4490=function(e,t,i,n){return n+1};var n=new Cesium.UrlTemplateImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class WMSImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.WebMapServiceImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class TMSImageryProvider{constructor(e,t){var i=getOptions(e,t);i.url||(i.url=Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII"));var n=new Cesium.TileMapServiceImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class WMTSImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.GeographicTilingScheme({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:1});i.tilingScheme=n,i.tileMatrixLabels=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"];var r=new Cesium.WebMapTileServiceImageryProvider(i);return r.config=i,r=setLayerInfo(r,i)}}class ArcgisImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.ArcGisMapServerImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class ArcgisTileImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.ArcGisMapServerImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class ArcgisDynamicImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.ArcGisMapServerImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class ArcgisCacheImageryProvider{constructor(e,t){var i=getOptions(e,t);Cesium.UrlTemplateImageryProvider.prototype.padLeft0||(Cesium.UrlTemplateImageryProvider.prototype.padLeft0=function(e,t){for(var i=(e=String(e)).length;i<t;)e="0"+e,i++;return e}),i.customTags={arc_x:function(e,t,i,n){return e.padLeft0(t.toString(16),8)},arc_y:function(e,t,i,n){return e.padLeft0(i.toString(16),8)},arc_z:function(e,t,i,n){return e.padLeft0(n.toString(),2)},arc_z4490:function(e,t,i,n){return e.padLeft0((n+1).toString(),2)},arc_X:function(e,t,i,n){return e.padLeft0(t.toString(16),8).toUpperCase()},arc_Y:function(e,t,i,n){return e.padLeft0(i.toString(16),8).toUpperCase()},arc_Z:function(e,t,i,n){return e.padLeft0(n.toString(),2).toUpperCase()},arc_Z4490:function(e,t,i,n){return e.padLeft0((n+1).toString(),2).toUpperCase()}};var n=new Cesium.UrlTemplateImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}class TiandituImageryProvider{constructor(e,t){var i=getOptions(e,t),n=null,r=i.layer;i.token||(i.token="6a043ce7d3a0791392dd921a6d6f5f29");var o=18;if("4326"==i.crs)if("DataServer"==i.dataserver){var a="http://t{s}.tianditu.gov.cn/DataServer?T="+r+"_c&x={x}&y={y}&l={z}&tk="+i.token;n=new Cesium.UrlTemplateImageryProvider({url:i.proxy?new Cesium.Resource({url:a,proxy:i.proxy}):a,credit:i.credit,subdomains:["0","1","2","3","4","5","6","7"],tilingScheme:new Cesium.WebMercatorTilingScheme,maximumLevel:o})}else{for(var s=new Array(o),l=0;l<=o;l++)s[l]=(l+1).toString();a="http://t{s}.tianditu.gov.cn/"+r+"_c/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer="+r+"&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk="+i.token;n=new Cesium.WebMapTileServiceImageryProvider({url:i.proxy?new Cesium.Resource({url:a,proxy:i.proxy}):a,layer:r,credit:i.credit,style:"default",format:"tiles",tileMatrixSetID:"c",subdomains:["0","1","2","3","4","5","6","7"],tileMatrixLabels:s,tilingScheme:new Cesium.GeographicTilingScheme,maximumLevel:o})}else if("DataServer"==i.dataserver){a="http://t{s}.tianditu.gov.cn/DataServer?T="+r+"_w&x={x}&y={y}&l={z}&tk="+i.token;n=new Cesium.UrlTemplateImageryProvider({url:i.proxy?new Cesium.Resource({url:a,proxy:i.proxy}):a,credit:i.credit,subdomains:["0","1","2","3","4","5","6","7"],tilingScheme:new Cesium.WebMercatorTilingScheme,maximumLevel:o})}else{for(s=new Array(o),l=0;l<=o;l++)s[l]=l.toString();a="http://t{s}.tianditu.gov.cn/"+r+"_w/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer="+r+"&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk="+i.token;n=new Cesium.WebMapTileServiceImageryProvider({url:i.proxy?new Cesium.Resource({url:a.replace("{s}","0"),proxy:i.proxy}):a,layer:r,style:"default",credit:i.credit,format:"tiles",tileMatrixSetID:"w",subdomains:["0","1","2","3","4","5","6","7"],tileMatrixLabels:s,tilingScheme:new Cesium.WebMercatorTilingScheme,maximumLevel:o})}return n.config=i,n=setLayerInfo(n,i)}}class GaodeImageryProvider{constructor(e,t){var i,n=getOptions(e,t);switch(n.layer){case"vec":default:i="http://"+(n.bigfont?"wprd":"webrd")+"0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}";break;case"img_d":i="http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}";break;case"img_z":i="http://webst0{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scale=1&style=8";break;case"time":i="http://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&;t=1&x={x}&y={y}&z={z}&&t="+(new Date).getTime()}var r=new Cesium.UrlTemplateImageryProvider({url:n.proxy?new Cesium.Resource({url:i,proxy:n.proxy}):i,credit:n.credit,subdomains:["1","2","3","4"],maximumLevel:18});return r.config=n,r=setLayerInfo(r,n)}}class BaiduImageryProvider{constructor(e,t){var i,n=getOptions(e,t);switch(n.layer){case"vec":default:i="http://online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles="+(n.bigfont?"ph":"pl")+"&scaler=1&p=1";break;case"img_d":i="http://shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46";break;case"img_d_tile":i="http://shangetu0.map.bdimg.com/tile/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46";break;case"img_z":i="http://online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles="+(n.bigfont?"sh":"sl")+"&v=020";break;case"custom":n.customid=n.customid||"midnight",i="http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid="+n.customid;break;case"time":i="http://its.map.baidu.com:8002/traffic/TrafficTileService?x={x}&y={y}&level={z}&time="+(new Date).getTime()+"&label=web2D&v=017"}this._url=i,this._errorEvent=new Cesium.Event,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._minimumLevel=1;var r=new Cesium.Cartesian2(-33554054,-33746824),o=new Cesium.Cartesian2(33554054,33746824);this._tilingScheme=new Cesium.WebMercatorTilingScheme({rectangleSouthwestInMeters:r,rectangleNortheastInMeters:o}),this._rectangle=this._tilingScheme.rectangle;var a=Cesium.Resource.createIfNeeded(i);this._resource=a,this._tileDiscardPolicy=void 0,this._credit=n.credit,this._readyPromise=void 0,this._ready=!0}getTileCredits(e,t,i){}requestImage(e,t,i,n){if(!this._ready)throw new DeveloperError("requestImage must not be called before the imagery provider is ready.");var r=this._tilingScheme.getNumberOfXTilesAtLevel(i),o=this._tilingScheme.getNumberOfYTilesAtLevel(i),a=this.url.replace("{x}",e-r/2).replace("{y}",o/2-t-1).replace("{z}",i).replace("{s}",0);return Cesium.ImageryProvider.loadImage(this,a)}}Object.defineProperties(BaiduImageryProvider.prototype,{url:{get:function(){return this._resource.url}},token:{get:function(){return this._token}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return this._minimumLevel}},tilingScheme:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},tileDiscardPolicy:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},rectangle:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._resource}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){if(!this.ready)throw new Cesium.DeveloperError("credit must not be called before the imagery provider is ready.");return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}}});class GoogleImageryProvider{constructor(e,t){var i,n=getOptions(e,t);if(n.url)i=n.url;else if("4326"==n.crs||"wgs84"==n.crs)switch(n.layer){default:case"img_d":i="http://mt{s}.google.cn/vt/lyrs=s@1870&hl=us&gl=us&x={x}&y={y}&z={z}";break;case"img":i="http://mt{s}.google.cn/vt/lyrs=y&hl=us&gl=us&x={x}&y={y}&z={z}"}else switch(n.layer){case"vec":default:i="http://mt{s}.google.cn/vt/lyrs=m@207000000&hl=zh-CN&gl=CN&src=app&x={x}&y={y}&z={z}&s=Galile";break;case"img_d":i="http://mt{s}.google.cn/vt/lyrs=s&hl=zh-CN&gl=CN&x={x}&y={y}&z={z}&s=Gali";break;case"img_z":i="http://mt{s}.google.cn/vt/imgtp=png32&lyrs=h@207000000&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}&s=Galil";break;case"ter":i="http://mt{s}.google.cn/vt/lyrs=t@131,r@227000000&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}&s=Galile"}var r=new Cesium.UrlTemplateImageryProvider({url:n.proxy?new Cesium.Resource({url:i,proxy:n.proxy}):i,credit:n.credit,subdomains:n.subdomains?n.subdomains:["1","2","3"],maximumLevel:20});return r.config=n,r=setLayerInfo(r,n)}}class OSMImageryProvider{constructor(e,t){var i=getOptions(e,t),n="http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",r=new Cesium.UrlTemplateImageryProvider({url:i.proxy?new Cesium.Resource({url:n,proxy:i.proxy}):n,credit:i.credit,subdomains:"abc",maximumLevel:18});return r.config=i,r=setLayerInfo(r,i)}}class BingImageryProvider{constructor(e,t){var i=getOptions(e,t),n="https://dev.virtualearth.net",r=i.layer||Cesium.BingMapsStyle.Aerial,o=new Cesium.BingMapsImageryProvider({url:i.proxy?new Cesium.Resource({url:n,proxy:i.proxy}):n,credit:i.credit,key:i.key||"AtkX3zhnRe5fyGuLU30uZw8r3sxdBDnpQly7KfFTCB2rGlDgXBG3yr-qEiQEicEc",mapStyle:r});return o.config=i,o=setLayerInfo(o,i)}}class MapboxImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new Cesium.MapboxImageryProvider({mapId:i.layer||"mapbox.satellite",credit:i.credit,accessToken:i.token});return n.config=i,n=setLayerInfo(n,i)}}class MapboxStyleImageryProvider{constructor(e,t){var i=getOptions(e,t),n={url:i.url||"https://api.mapbox.com/styles/v1",username:i.username||"mapbox",styleId:i.styleId,accessToken:i.token,tilesize:i.tilesize||512,scaleFactor:i.scaleFactor||!0};i.ellipsoid&&(n.ellipsoid=i.ellipsoid),i.minimumLevel&&(n.minimumLevel=i.minimumLevel),i.maximumLevel&&(n.maximumLevel=i.maximumLevel),i.rectangle&&(n.rectangle=i.rectangle),i.credit&&(n.credit=i.credit);var r=new Cesium.MapboxStyleImageryProvider(n);return r.config=n,r=setLayerInfo(r,n)}}class GridImageryProvider{constructor(){return new Cesium.GridImageryProvider}}class TileCoordinatesImageryProvider{constructor(){return new Cesium.TileCoordinatesImageryProvider}}class _FeatureGridImageryProvider{constructor(e,t){var i=getOptions(e,t),n=new _FeatureGridImageryProvider(i);return n.config=i,n=setLayerInfo(n,i)}}function getOptions(e,t){e.url&&(t&&(e.url=e.url.replace("$serverURL$",t)),e.url=e.url.replace("$hostname$",location.hostname).replace("$host$",location.host));var i={};for(var n in e){var r=e[n];if(null!=r)switch(n){default:i[n]=r;break;case"crs":i[n]=r,"4326"==r||"EPSG4326"==r.toUpperCase()||"EPSG:4326"==r.toUpperCase()?i.tilingScheme=new Cesium.GeographicTilingScheme({numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX||2,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY||1}):"4490"==r||"EPSG4490"==r.toUpperCase()||"EPSG:4490"==r.toUpperCase()?(i.tilingScheme=new Cesium.GeographicTilingScheme({numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX||2,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY||1}),i.is4490=!0):i.tilingScheme=new Cesium.WebMercatorTilingScheme({numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX||1,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY||1});break;case"proxy":i.proxy=new Cesium.DefaultProxy(r);break;case"rectangle":i.rectangle=Cesium.Rectangle.fromDegrees(r.xmin,r.ymin,r.xmax,r.ymax)}}return i.layerid||(i.layerid=guid()),i.is4490&&i.url&&(i.url=i.url.replace("{z}","{z4490}"),i.url=i.url.replace("{arc_z}","{arc_z4490}"),i.url=i.url.replace("{arc_Z}","{arc_Z4490}")),i.url&&(i.proxy||i.headers||i.queryParameters)&&(i.url instanceof Cesium.Resource?i.url.headers=i.headers:i.url=new Cesium.Resource({url:i.url,proxy:i.proxy?new Cesium.DefaultProxy(i.proxy):null,headers:i.headers,queryParameters:i.queryParameters})),i}function setLayerInfo(e,t){return e.layerid=t.layerid,e}var layerImageryProvider=Object.freeze({__proto__:null,createImageryProvider:createImageryProvider,SingleImageryProvider:SingleImageryProvider,ImageImageryProvider:ImageImageryProvider,XYZImageryProvider:XYZImageryProvider,TileImageryProvider:TileImageryProvider,WMSImageryProvider:WMSImageryProvider,TMSImageryProvider:TMSImageryProvider,WMTSImageryProvider:WMTSImageryProvider,ArcgisImageryProvider:ArcgisImageryProvider,ArcgisTileImageryProvider:ArcgisTileImageryProvider,ArcgisDynamicImageryProvider:ArcgisDynamicImageryProvider,ArcgisCacheImageryProvider:ArcgisCacheImageryProvider,TiandituImageryProvider:TiandituImageryProvider,GaodeImageryProvider:GaodeImageryProvider,BaiduImageryProvider:BaiduImageryProvider,GoogleImageryProvider:GoogleImageryProvider,OSMImageryProvider:OSMImageryProvider,BingImageryProvider:BingImageryProvider,MapboxImageryProvider:MapboxImageryProvider,MapboxStyleImageryProvider:MapboxStyleImageryProvider,GridImageryProvider:GridImageryProvider,TileCoordinatesImageryProvider:TileCoordinatesImageryProvider,_FeatureGridImageryProvider:_FeatureGridImageryProvider}),TileLayer=BaseLayer.extend({layer:null,getLayer:function(){return this.layer},add:function(){null!=this.layer&&this.remove(),this.addEx();var e=createImageryProvider(this.config);if(null!=e){var t=this.config,i={show:!0,alpha:this._opacity};if(t.rectangle&&t.rectangle.xmin&&t.rectangle.xmax&&t.rectangle.ymin&&t.rectangle.ymax){var n=t.rectangle.xmin,r=t.rectangle.xmax,o=t.rectangle.ymin,a=t.rectangle.ymax;i.rectangle=Cesium.Rectangle.fromDegrees(n,o,r,a),this.rectangle=i.rectangle}t.brightness&&(i.brightness=t.brightness),t.contrast&&(i.contrast=t.contrast),t.hue&&(i.hue=t.hue),t.saturation&&(i.saturation=t.saturation),t.gamma&&(i.gamma=t.gamma),t.maximumAnisotropy&&(i.maximumAnisotropy=t.maximumAnisotropy),t.minimumTerrainLevel&&(i.minimumTerrainLevel=t.minimumTerrainLevel),t.maximumTerrainLevel&&(i.maximumTerrainLevel=t.maximumTerrainLevel),this.layer=new Cesium.ImageryLayer(e,i),this.layer.config=this.config,this.config.onLoadTileStart&&(this.layer.onLoadTileStart=this.config.onLoadTileStart),this.config.onLoadTileEnd&&(this.layer.onLoadTileEnd=this.config.onLoadTileEnd),this.config.onLoadTileError&&(this.layer.onLoadTileError=this.config.onLoadTileError),this.viewer.imageryLayers.add(this.layer),this.setZIndex(this.config.order),this.config.calback&&this.config.calback(this.layer)}},createImageryProvider:function(e){return createImageryProvider(e)},addEx:function(){},remove:function(){null!=this.layer&&(this.removeEx(),this.viewer.imageryLayers.remove(this.layer,!0),this.layer=null)},removeEx:function(){},centerAt:function(e){if(null!=this.layer)if(this.config.extent||this.config.center)this.viewer.centerAt(this.config.extent||this.config.center,{duration:e,isWgs84:!0});else if(Cesium.defined(this.rectangle))this.viewer.camera.flyTo({destination:this.rectangle,duration:e});else{var t=this.layer.imageryProvider.rectangle;Cesium.defined(t)&&t!=Cesium.Rectangle.MAX_VALUE&&t.west>0&&t.south>0&&t.east>0&&t.north>0&&this.viewer.camera.flyTo({destination:t,duration:e})}},hasOpacity:!0,_opacity:1,setOpacity:function(e){this._opacity=e,null!=this.layer&&(this.layer.alpha=e)},hasZIndex:!0,setZIndex:function(e){if(null!=this.layer&&null!=e){this.viewer.imageryLayers.raiseToTop(this.layer);for(var t=this.viewer.imageryLayers._layers,i=t.length-1;i>=0;i--)if(t[i]!=this.layer){var n=t[i].config;n&&n.order&&e<n.order&&this.viewer.imageryLayers.lower(this.layer)}}}});const decodeCache={};function getDecodeCache(e){let t=decodeCache[e];if(t)return t;t=decodeCache[e]=[];for(let e=0;e<128;e++){const i=String.fromCharCode(e);t.push(i)}for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function decode$1(e,t){"string"!=typeof t&&(t=decode$1.defaultChars);const i=getDecodeCache(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let n=0,r=e.length;n<r;n+=3){const o=parseInt(e.slice(n+1,n+3),16);if(o<128)t+=i[o];else{if(192==(224&o)&&n+3<r){const i=parseInt(e.slice(n+4,n+6),16);if(128==(192&i)){const e=o<<6&1984|63&i;t+=e<128?"��":String.fromCharCode(e),n+=3;continue}}if(224==(240&o)&&n+6<r){const i=parseInt(e.slice(n+4,n+6),16),r=parseInt(e.slice(n+7,n+9),16);if(128==(192&i)&&128==(192&r)){const e=o<<12&61440|i<<6&4032|63&r;t+=e<2048||e>=55296&&e<=57343?"���":String.fromCharCode(e),n+=6;continue}}if(240==(248&o)&&n+9<r){const i=parseInt(e.slice(n+4,n+6),16),r=parseInt(e.slice(n+7,n+9),16),a=parseInt(e.slice(n+10,n+12),16);if(128==(192&i)&&128==(192&r)&&128==(192&a)){let e=o<<18&1835008|i<<12&258048|r<<6&4032|63&a;e<65536||e>1114111?t+="����":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),n+=9;continue}}t+="�"}}return t}))}decode$1.defaultChars=";/?:@&=+$,#",decode$1.componentChars="";const encodeCache={};function getEncodeCache(e){let t=encodeCache[e];if(t)return t;t=encodeCache[e]=[];for(let e=0;e<128;e++){const i=String.fromCharCode(e);/^[0-9a-z]$/i.test(i)?t.push(i):t.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2))}for(let i=0;i<e.length;i++)t[e.charCodeAt(i)]=e[i];return t}function encode$1(e,t,i){"string"!=typeof t&&(i=t,t=encode$1.defaultChars),void 0===i&&(i=!0);const n=getEncodeCache(t);let r="";for(let t=0,o=e.length;t<o;t++){const a=e.charCodeAt(t);if(i&&37===a&&t+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(t+1,t+3)))r+=e.slice(t,t+3),t+=2;else if(a<128)r+=n[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&t+1<o){const i=e.charCodeAt(t+1);if(i>=56320&&i<=57343){r+=encodeURIComponent(e[t]+e[t+1]),t++;continue}}r+="%EF%BF%BD"}else r+=encodeURIComponent(e[t])}return r}function format(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#",encode$1.componentChars="-_.!~*'()";const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,t){if(e&&e instanceof Url)return e;const i=new Url;return i.parse(e,t),i}Url.prototype.parse=function(e,t){let i,n,r,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=simplePathPattern.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let a=protocolPattern.exec(o);if(a&&(a=a[0],i=a.toLowerCase(),this.protocol=a,o=o.substr(a.length)),(t||a||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r="//"===o.substr(0,2),!r||a&&hostlessProtocol[a]||(o=o.substr(2),this.slashes=!0)),!hostlessProtocol[a]&&(r||a&&!slashedProtocol[a])){let e,t,i=-1;for(let e=0;e<hostEndingChars.length;e++)n=o.indexOf(hostEndingChars[e]),-1!==n&&(-1===i||n<i)&&(i=n);t=-1===i?o.lastIndexOf("@"):o.lastIndexOf("@",i),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),i=-1;for(let e=0;e<nonHostChars.length;e++)n=o.indexOf(nonHostChars[e]),-1!==n&&(-1===i||n<i)&&(i=n);-1===i&&(i=o.length),":"===o[i-1]&&i--;const r=o.slice(0,i);o=o.slice(i),this.parseHost(r),this.hostname=this.hostname||"";const a="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!a){const e=this.hostname.split(/\./);for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i&&!i.match(hostnamePartPattern)){let n="";for(let e=0,t=i.length;e<t;e++)i.charCodeAt(e)>127?n+="x":n+=i[e];if(!n.match(hostnamePartPattern)){const n=e.slice(0,t),r=e.slice(t+1),a=i.match(hostnamePartStart);a&&(n.push(a[1]),r.unshift(a[2])),r.length&&(o=r.join(".")+o),this.hostname=n.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),a&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=o.indexOf("#");-1!==s&&(this.hash=o.substr(s),o=o.slice(0,s));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),slashedProtocol[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(e){let t=portPattern.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var mdurl=Object.freeze({__proto__:null,decode:decode$1,encode:encode$1,format:format,parse:urlParse}),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze({__proto__:null,Any:Any,Cc:Cc,Cf:regex$1,P:P,S:regex,Z:Z}),htmlDecodeTree=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map((e=>e.charCodeAt(0)))),xmlDecodeTree=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map((e=>e.charCodeAt(0)))),_a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=null!==(_a=String.fromCodePoint)&&void 0!==_a?_a:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function replaceCodePoint(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=decodeMap.get(e))&&void 0!==t?t:e}var CharCodes;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags,EntityDecoderState,DecodingMode;function isNumber$1(e){return e>=CharCodes.ZERO&&e<=CharCodes.NINE}function isHexadecimalCharacter(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_F||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_Z||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_Z||isNumber$1(e)}function isEntityInAttributeInvalidEnd(e){return e===CharCodes.EQUALS||isAsciiAlphaNumeric(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(BinTrieFlags||(BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(EntityDecoderState||(EntityDecoderState={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(e,t,i){this.decodeTree=e,this.emitCodePoint=t,this.errors=i,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(e){this.decodeMode=e,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case EntityDecoderState.EntityStart:return e.charCodeAt(t)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(e,t));case EntityDecoderState.NumericStart:return this.stateNumericStart(e,t);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(e,t);case EntityDecoderState.NumericHex:return this.stateNumericHex(e,t);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,i,n){if(t!==i){const r=i-t;this.result=this.result*Math.pow(n,r)+parseInt(e.substr(t,r),n),this.consumed+=r}}stateNumericHex(e,t){const i=t;for(;t<e.length;){const n=e.charCodeAt(t);if(!isNumber$1(n)&&!isHexadecimalCharacter(n))return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(n,3);t+=1}return this.addToNumericResult(e,i,t,16),-1}stateNumericDecimal(e,t){const i=t;for(;t<e.length;){const n=e.charCodeAt(t);if(!isNumber$1(n))return this.addToNumericResult(e,i,t,10),this.emitNumericEntity(n,2);t+=1}return this.addToNumericResult(e,i,t,10),-1}emitNumericEntity(e,t){var i;if(this.consumed<=t)return null===(i=this.errors)||void 0===i||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(e!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:i}=this;let n=i[this.treeIndex],r=(n&BinTrieFlags.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=determineBranch(i,n,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===DecodingMode.Attribute&&(0===r||isEntityInAttributeInvalidEnd(o))?0:this.emitNotTerminatedNamedEntity();if(n=i[this.treeIndex],r=(n&BinTrieFlags.VALUE_LENGTH)>>14,0!==r){if(o===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:i}=this,n=(i[t]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,i){const{decodeTree:n}=this;return this.emitCodePoint(1===t?n[e]&~BinTrieFlags.VALUE_LENGTH:n[e+1],i),3===t&&this.emitCodePoint(n[e+2],i),i}end(){var e;switch(this.state){case EntityDecoderState.NamedEntity:return 0===this.result||this.decodeMode===DecodingMode.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(e){let t="";const i=new EntityDecoder(e,(e=>t+=fromCodePoint$1(e)));return function(e,n){let r=0,o=0;for(;(o=e.indexOf("&",o))>=0;){t+=e.slice(r,o),i.startEntity(n);const a=i.write(e,o+1);if(a<0){r=o+i.end();break}r=o+a,o=0===a?r+1:r}const a=t+e.slice(r);return t="",a}}function determineBranch(e,t,i,n){const r=(t&BinTrieFlags.BRANCH_LENGTH)>>7,o=t&BinTrieFlags.JUMP_TABLE;if(0===r)return 0!==o&&n===o?i:-1;if(o){const t=n-o;return t<0||t>=r?-1:e[i+t]-1}let a=i,s=a+r-1;for(;a<=s;){const t=a+s>>>1,i=e[t];if(i<n)a=t+1;else{if(!(i>n))return e[t+r];s=t-1}}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);function decodeHTML(e,t=DecodingMode.Legacy){return htmlDecoder(e,t)}function _class$1(e){return Object.prototype.toString.call(e)}function isString$1(e){return"[object String]"===_class$1(e)}getDecoder(xmlDecodeTree);const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(e,t){return _hasOwnProperty.call(e,t)}function assign$1(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(i){e[i]=t[i]}))}})),e}function arrayReplaceAt(e,t,i){return[].concat(e.slice(0,t),i,e.slice(t+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function fromCodePoint(e){if(e>65535){const t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(e,t){if(35===t.charCodeAt(0)&&DIGITAL_ENTITY_TEST_RE.test(t)){const i="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return isValidEntityCode(i)?fromCodePoint(i):e}const i=decodeHTML(e);return i!==e?i:e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(UNESCAPE_ALL_RE,(function(e,t,i){return t||replaceEntityPattern(e,i)}))}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(e){return HTML_REPLACEMENTS[e]}function escapeHtml(e){return HTML_ESCAPE_TEST_RE.test(e)?e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):e}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(e){return e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(e){switch(e){case 9:case 32:return!0}return!1}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return P.test(e)||regex.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const lib={mdurl:mdurl,ucmicro:ucmicro};var utils=Object.freeze({__proto__:null,lib:lib,assign:assign$1,isString:isString$1,has:has,unescapeMd:unescapeMd,unescapeAll:unescapeAll,isValidEntityCode:isValidEntityCode,fromCodePoint:fromCodePoint,escapeHtml:escapeHtml,arrayReplaceAt:arrayReplaceAt,isSpace:isSpace,isWhiteSpace:isWhiteSpace,isMdAsciiPunct:isMdAsciiPunct,isPunctChar:isPunctChar,escapeRE:escapeRE$1,normalizeReference:normalizeReference});function parseLinkLabel(e,t,i){let n,r,o,a;const s=e.posMax,l=e.pos;for(e.pos=t+1,n=1;e.pos<s;){if(o=e.src.charCodeAt(e.pos),93===o&&(n--,0===n)){r=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===o)if(a===e.pos-1)n++;else if(i)return e.pos=l,-1}let u=-1;return r&&(u=e.pos),e.pos=l,u}function parseLinkDestination(e,t,i){let n,r=t;const o={ok:!1,pos:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<i;){if(n=e.charCodeAt(r),10===n)return o;if(60===n)return o;if(62===n)return o.pos=r+1,o.str=unescapeAll(e.slice(t+1,r)),o.ok=!0,o;92===n&&r+1<i?r+=2:r++}return o}let a=0;for(;r<i&&(n=e.charCodeAt(r),32!==n)&&!(n<32||127===n);)if(92===n&&r+1<i){if(32===e.charCodeAt(r+1))break;r+=2}else{if(40===n&&(a++,a>32))return o;if(41===n){if(0===a)break;a--}r++}return t===r||0!==a||(o.str=unescapeAll(e.slice(t,r)),o.pos=r,o.ok=!0),o}function parseLinkTitle(e,t,i,n){let r,o=t;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)a.str=n.str,a.marker=n.marker;else{if(o>=i)return a;let n=e.charCodeAt(o);if(34!==n&&39!==n&&40!==n)return a;t++,o++,40===n&&(n=41),a.marker=n}for(;o<i;){if(r=e.charCodeAt(o),r===a.marker)return a.pos=o+1,a.str+=unescapeAll(e.slice(t,o)),a.ok=!0,a;if(40===r&&41===a.marker)return a;92===r&&o+1<i&&o++,o++}return a.can_continue=!0,a.str+=unescapeAll(e.slice(t,o)),a}var helpers=Object.freeze({__proto__:null,parseLinkLabel:parseLinkLabel,parseLinkDestination:parseLinkDestination,parseLinkTitle:parseLinkTitle});const default_rules={};function Renderer(){this.rules=assign$1({},default_rules)}function Ruler(){this.__rules__=[],this.__cache__=null}function Token(e,t,i){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=i,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function StateCore(e,t,i){this.src=e,this.env=i,this.tokens=[],this.inlineMode=!1,this.md=t}default_rules.code_inline=function(e,t,i,n,r){const o=e[t];return"<code"+r.renderAttrs(o)+">"+escapeHtml(o.content)+"</code>"},default_rules.code_block=function(e,t,i,n,r){const o=e[t];return"<pre"+r.renderAttrs(o)+"><code>"+escapeHtml(e[t].content)+"</code></pre>\n"},default_rules.fence=function(e,t,i,n,r){const o=e[t],a=o.info?unescapeAll(o.info).trim():"";let s,l="",u="";if(a){const e=a.split(/(\s+)/g);l=e[0],u=e.slice(2).join("")}if(s=i.highlight&&i.highlight(o.content,l,u)||escapeHtml(o.content),0===s.indexOf("<pre"))return s+"\n";if(a){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",i.langPrefix+l]):(t[e]=t[e].slice(),t[e][1]+=" "+i.langPrefix+l);const n={attrs:t};return`<pre><code${r.renderAttrs(n)}>${s}</code></pre>\n`}return`<pre><code${r.renderAttrs(o)}>${s}</code></pre>\n`},default_rules.image=function(e,t,i,n,r){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=r.renderInlineAsText(o.children,i,n),r.renderToken(e,t,i)},default_rules.hardbreak=function(e,t,i){return i.xhtmlOut?"<br />\n":"<br>\n"},default_rules.softbreak=function(e,t,i){return i.breaks?i.xhtmlOut?"<br />\n":"<br>\n":"\n"},default_rules.text=function(e,t){return escapeHtml(e[t].content)},default_rules.html_block=function(e,t){return e[t].content},default_rules.html_inline=function(e,t){return e[t].content},Renderer.prototype.renderAttrs=function(e){let t,i,n;if(!e.attrs)return"";for(n="",t=0,i=e.attrs.length;t<i;t++)n+=" "+escapeHtml(e.attrs[t][0])+'="'+escapeHtml(e.attrs[t][1])+'"';return n},Renderer.prototype.renderToken=function(e,t,i){const n=e[t];let r="";if(n.hidden)return"";n.block&&-1!==n.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===n.nesting?"</":"<")+n.tag,r+=this.renderAttrs(n),0===n.nesting&&i.xhtmlOut&&(r+=" /");let o=!1;if(n.block&&(o=!0,1===n.nesting&&t+1<e.length)){const i=e[t+1];("inline"===i.type||i.hidden||-1===i.nesting&&i.tag===n.tag)&&(o=!1)}return r+=o?">\n":">",r},Renderer.prototype.renderInline=function(e,t,i){let n="";const r=this.rules;for(let o=0,a=e.length;o<a;o++){const a=e[o].type;void 0!==r[a]?n+=r[a](e,o,t,i,this):n+=this.renderToken(e,o,t)}return n},Renderer.prototype.renderInlineAsText=function(e,t,i){let n="";for(let r=0,o=e.length;r<o;r++)switch(e[r].type){case"text":case"html_inline":case"html_block":n+=e[r].content;break;case"image":n+=this.renderInlineAsText(e[r].children,t,i);break;case"softbreak":case"hardbreak":n+="\n"}return n},Renderer.prototype.render=function(e,t,i){let n="";const r=this.rules;for(let o=0,a=e.length;o<a;o++){const a=e[o].type;"inline"===a?n+=this.renderInline(e[o].children,t,i):void 0!==r[a]?n+=r[a](e,o,t,i,this):n+=this.renderToken(e,o,t,i)}return n},Ruler.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Ruler.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(i){i.enabled&&(t&&i.alt.indexOf(t)<0||e.__cache__[t].push(i.fn))}))}))},Ruler.prototype.at=function(e,t,i){const n=this.__find__(e),r=i||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=r.alt||[],this.__cache__=null},Ruler.prototype.before=function(e,t,i,n){const r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(e,t,i,n){const r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(e,t,i){const n=i||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const i=[];return e.forEach((function(e){const n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,i.push(e)}),this),this.__cache__=null,i},Ruler.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},Ruler.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const i=[];return e.forEach((function(e){const n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,i.push(e)}),this),this.__cache__=null,i},Ruler.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},Token.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let i=0,n=t.length;i<n;i++)if(t[i][0]===e)return i;return-1},Token.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Token.prototype.attrSet=function(e,t){const i=this.attrIndex(e),n=[e,t];i<0?this.attrPush(n):this.attrs[i]=n},Token.prototype.attrGet=function(e){const t=this.attrIndex(e);let i=null;return t>=0&&(i=this.attrs[t][1]),i},Token.prototype.attrJoin=function(e,t){const i=this.attrIndex(e);i<0?this.attrPush([e,t]):this.attrs[i][1]=this.attrs[i][1]+" "+t},StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize$2(e){let t;t=e.src.replace(NEWLINES_RE,"\n"),t=t.replace(NULL_RE,"�"),e.src=t}function block(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function inline(e){const t=e.tokens;for(let i=0,n=t.length;i<n;i++){const n=t[i];"inline"===n.type&&e.md.inline.parse(n.content,e.md,e.env,n.children)}}function isLinkOpen$1(e){return/^<a[>\s]/i.test(e)}function isLinkClose$1(e){return/^<\/a\s*>/i.test(e)}function linkify$1(e){const t=e.tokens;if(e.md.options.linkify)for(let i=0,n=t.length;i<n;i++){if("inline"!==t[i].type||!e.md.linkify.pretest(t[i].content))continue;let n=t[i].children,r=0;for(let o=n.length-1;o>=0;o--){const a=n[o];if("link_close"!==a.type){if("html_inline"===a.type&&(isLinkOpen$1(a.content)&&r>0&&r--,isLinkClose$1(a.content)&&r++),!(r>0)&&"text"===a.type&&e.md.linkify.test(a.content)){const r=a.content;let s=e.md.linkify.match(r);const l=[];let u=a.level,c=0;s.length>0&&0===s[0].index&&o>0&&"text_special"===n[o-1].type&&(s=s.slice(1));for(let t=0;t<s.length;t++){const i=s[t].url,n=e.md.normalizeLink(i);if(!e.md.validateLink(n))continue;let o=s[t].text;o=s[t].schema?"mailto:"!==s[t].schema||/^mailto:/i.test(o)?e.md.normalizeLinkText(o):e.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");const a=s[t].index;if(a>c){const t=new e.Token("text","",0);t.content=r.slice(c,a),t.level=u,l.push(t)}const h=new e.Token("link_open","a",1);h.attrs=[["href",n]],h.level=u++,h.markup="linkify",h.info="auto",l.push(h);const g=new e.Token("text","",0);g.content=o,g.level=u,l.push(g);const d=new e.Token("link_close","a",-1);d.level=--u,d.markup="linkify",d.info="auto",l.push(d),c=s[t].lastIndex}if(c<r.length){const t=new e.Token("text","",0);t.content=r.slice(c),t.level=u,l.push(t)}t[i].children=n=arrayReplaceAt(n,o,l)}}else for(o--;n[o].level!==a.level&&"link_open"!==n[o].type;)o--}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/gi,SCOPED_ABBR={c:"©",r:"®",tm:"™"};function replaceFn(e,t){return SCOPED_ABBR[t.toLowerCase()]}function replace_scoped(e){let t=0;for(let i=e.length-1;i>=0;i--){const n=e[i];"text"!==n.type||t||(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn)),"link_open"===n.type&&"auto"===n.info&&t--,"link_close"===n.type&&"auto"===n.info&&t++}}function replace_rare(e){let t=0;for(let i=e.length-1;i>=0;i--){const n=e[i];"text"!==n.type||t||RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&t--,"link_close"===n.type&&"auto"===n.info&&t++}}function replace(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(SCOPED_ABBR_TEST_RE.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),RARE_RE.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="’";function replaceAt(e,t,i){return e.slice(0,t)+i+e.slice(t+1)}function process_inlines(e,t){let i;const n=[];for(let r=0;r<e.length;r++){const o=e[r],a=e[r].level;for(i=n.length-1;i>=0&&!(n[i].level<=a);i--);if(n.length=i+1,"text"!==o.type)continue;let s=o.content,l=0,u=s.length;e:for(;l<u;){QUOTE_RE.lastIndex=l;const c=QUOTE_RE.exec(s);if(!c)break;let h=!0,g=!0;l=c.index+1;const d="'"===c[0];let p=32;if(c.index-1>=0)p=s.charCodeAt(c.index-1);else for(i=r-1;i>=0&&("softbreak"!==e[i].type&&"hardbreak"!==e[i].type);i--)if(e[i].content){p=e[i].content.charCodeAt(e[i].content.length-1);break}let m=32;if(l<u)m=s.charCodeAt(l);else for(i=r+1;i<e.length&&("softbreak"!==e[i].type&&"hardbreak"!==e[i].type);i++)if(e[i].content){m=e[i].content.charCodeAt(0);break}const f=isMdAsciiPunct(p)||isPunctChar(String.fromCharCode(p)),C=isMdAsciiPunct(m)||isPunctChar(String.fromCharCode(m)),y=isWhiteSpace(p),v=isWhiteSpace(m);if(v?h=!1:C&&(y||f||(h=!1)),y?g=!1:f&&(v||C||(g=!1)),34===m&&'"'===c[0]&&p>=48&&p<=57&&(g=h=!1),h&&g&&(h=f,g=C),h||g){if(g)for(i=n.length-1;i>=0;i--){let h=n[i];if(n[i].level<a)break;if(h.single===d&&n[i].level===a){let a,g;h=n[i],d?(a=t.md.options.quotes[2],g=t.md.options.quotes[3]):(a=t.md.options.quotes[0],g=t.md.options.quotes[1]),o.content=replaceAt(o.content,c.index,g),e[h.token].content=replaceAt(e[h.token].content,h.pos,a),l+=g.length-1,h.token===r&&(l+=a.length-1),s=o.content,u=s.length,n.length=i;continue e}}h?n.push({token:r,pos:c.index,single:d,level:a}):g&&d&&(o.content=replaceAt(o.content,c.index,APOSTROPHE))}else d&&(o.content=replaceAt(o.content,c.index,APOSTROPHE))}}}function smartquotes(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&QUOTE_TEST_RE.test(e.tokens[t].content)&&process_inlines(e.tokens[t].children,e)}function text_join(e){let t,i;const n=e.tokens,r=n.length;for(let e=0;e<r;e++){if("inline"!==n[e].type)continue;const r=n[e].children,o=r.length;for(t=0;t<o;t++)"text_special"===r[t].type&&(r[t].type="text");for(t=i=0;t<o;t++)"text"===r[t].type&&t+1<o&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==i&&(r[i]=r[t]),i++);t!==i&&(r.length=i)}}const _rules$2=[["normalize",normalize$2],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let e=0;e<_rules$2.length;e++)this.ruler.push(_rules$2[e][0],_rules$2[e][1])}function StateBlock(e,t,i,n){this.src=e,this.md=t,this.env=i,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let e=0,t=0,i=0,n=0,o=r.length,a=!1;t<o;t++){const s=r.charCodeAt(t);if(!a){if(isSpace(s)){i++,9===s?n+=4-n%4:n++;continue}a=!0}10!==s&&t!==o-1||(10!==s&&t++,this.bMarks.push(e),this.eMarks.push(t),this.tShift.push(i),this.sCount.push(n),this.bsCount.push(0),a=!1,i=0,n=0,e=t+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Core.prototype.process=function(e){const t=this.ruler.getRules("");for(let i=0,n=t.length;i<n;i++)t[i](e)},Core.prototype.State=StateCore,StateBlock.prototype.push=function(e,t,i){const n=new Token(e,t,i);return n.block=!0,i<0&&this.level--,n.level=this.level,i>0&&this.level++,this.tokens.push(n),n},StateBlock.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},StateBlock.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},StateBlock.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!isSpace(this.src.charCodeAt(e)))break}return e},StateBlock.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!isSpace(this.src.charCodeAt(--e)))return e+1;return e},StateBlock.prototype.skipChars=function(e,t){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===t;e++);return e},StateBlock.prototype.skipCharsBack=function(e,t,i){if(e<=i)return e;for(;e>i;)if(t!==this.src.charCodeAt(--e))return e+1;return e},StateBlock.prototype.getLines=function(e,t,i,n){if(e>=t)return"";const r=new Array(t-e);for(let o=0,a=e;a<t;a++,o++){let e=0;const s=this.bMarks[a];let l,u=s;for(l=a+1<t||n?this.eMarks[a]+1:this.eMarks[a];u<l&&e<i;){const t=this.src.charCodeAt(u);if(isSpace(t))9===t?e+=4-(e+this.bsCount[a])%4:e++;else{if(!(u-s<this.tShift[a]))break;e++}u++}r[o]=e>i?new Array(e-i+1).join(" ")+this.src.slice(u,l):this.src.slice(u,l)}return r.join("")},StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(e,t){const i=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(i,n)}function escapedSplit(e){const t=[],i=e.length;let n=0,r=e.charCodeAt(n),o=!1,a=0,s="";for(;n<i;)124===r&&(o?(s+=e.substring(a,n-1),a=n):(t.push(s+e.substring(a,n)),s="",a=n+1)),o=92===r,n++,r=e.charCodeAt(n);return t.push(s+e.substring(a)),t}function table(e,t,i,n){if(t+2>i)return!1;let r=t+1;if(e.sCount[r]<e.blkIndent)return!1;if(e.sCount[r]-e.blkIndent>=4)return!1;let o=e.bMarks[r]+e.tShift[r];if(o>=e.eMarks[r])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a)return!1;if(o>=e.eMarks[r])return!1;const s=e.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s&&!isSpace(s))return!1;if(45===a&&isSpace(s))return!1;for(;o<e.eMarks[r];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!isSpace(t))return!1;o++}let l=getLine(e,t+1),u=l.split("|");const c=[];for(let e=0;e<u.length;e++){const t=u[e].trim();if(!t){if(0===e||e===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?c.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?c.push("left"):c.push("")}if(l=getLine(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;u=escapedSplit(l),u.length&&""===u[0]&&u.shift(),u.length&&""===u[u.length-1]&&u.pop();const h=u.length;if(0===h||h!==c.length)return!1;if(n)return!0;const g=e.parentType;e.parentType="table";const d=e.md.block.ruler.getRules("blockquote"),p=[t,0];e.push("table_open","table",1).map=p;e.push("thead_open","thead",1).map=[t,t+1];e.push("tr_open","tr",1).map=[t,t+1];for(let t=0;t<u.length;t++){const i=e.push("th_open","th",1);c[t]&&(i.attrs=[["style","text-align:"+c[t]]]);const n=e.push("inline","",0);n.content=u[t].trim(),n.children=[],e.push("th_close","th",-1)}let m;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let f=0;for(r=t+2;r<i&&!(e.sCount[r]<e.blkIndent);r++){let n=!1;for(let t=0,o=d.length;t<o;t++)if(d[t](e,r,i,!0)){n=!0;break}if(n)break;if(l=getLine(e,r).trim(),!l)break;if(e.sCount[r]-e.blkIndent>=4)break;if(u=escapedSplit(l),u.length&&""===u[0]&&u.shift(),u.length&&""===u[u.length-1]&&u.pop(),f+=h-u.length,f>MAX_AUTOCOMPLETED_CELLS)break;if(r===t+2){e.push("tbody_open","tbody",1).map=m=[t+2,0]}e.push("tr_open","tr",1).map=[r,r+1];for(let t=0;t<h;t++){const i=e.push("td_open","td",1);c[t]&&(i.attrs=[["style","text-align:"+c[t]]]);const n=e.push("inline","",0);n.content=u[t]?u[t].trim():"",n.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return m&&(e.push("tbody_close","tbody",-1),m[1]=r),e.push("table_close","table",-1),p[1]=r,e.parentType=g,e.line=r,!0}function code(e,t,i){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,r=n;for(;n<i;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;n++,r=n}e.line=r;const o=e.push("code_block","code",0);return o.content=e.getLines(t,r,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}function fence(e,t,i,n){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(r+3>o)return!1;const a=e.src.charCodeAt(r);if(126!==a&&96!==a)return!1;let s=r;r=e.skipChars(r,a);let l=r-s;if(l<3)return!1;const u=e.src.slice(s,r),c=e.src.slice(r,o);if(96===a&&c.indexOf(String.fromCharCode(a))>=0)return!1;if(n)return!0;let h=t,g=!1;for(;(h++,!(h>=i))&&(r=s=e.bMarks[h]+e.tShift[h],o=e.eMarks[h],!(r<o&&e.sCount[h]<e.blkIndent));)if(e.src.charCodeAt(r)===a&&!(e.sCount[h]-e.blkIndent>=4||(r=e.skipChars(r,a),r-s<l||(r=e.skipSpaces(r),r<o)))){g=!0;break}l=e.sCount[t],e.line=h+(g?1:0);const d=e.push("fence","code",0);return d.info=c,d.content=e.getLines(t+1,h,l,!0),d.markup=u,d.map=[t,e.line],!0}function blockquote(e,t,i,n){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const a=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(r))return!1;if(n)return!0;const s=[],l=[],u=[],c=[],h=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let d,p=!1;for(d=t;d<i;d++){const t=e.sCount[d]<e.blkIndent;if(r=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],r>=o)break;if(62===e.src.charCodeAt(r++)&&!t){let t,i,n=e.sCount[d]+1;32===e.src.charCodeAt(r)?(r++,n++,i=!1,t=!0):9===e.src.charCodeAt(r)?(t=!0,(e.bsCount[d]+n)%4==3?(r++,n++,i=!1):i=!0):t=!1;let a=n;for(s.push(e.bMarks[d]),e.bMarks[d]=r;r<o;){const t=e.src.charCodeAt(r);if(!isSpace(t))break;9===t?a+=4-(a+e.bsCount[d]+(i?1:0))%4:a++,r++}p=r>=o,l.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(t?1:0),u.push(e.sCount[d]),e.sCount[d]=a-n,c.push(e.tShift[d]),e.tShift[d]=r-e.bMarks[d];continue}if(p)break;let n=!1;for(let t=0,r=h.length;t<r;t++)if(h[t](e,d,i,!0)){n=!0;break}if(n){e.lineMax=d,0!==e.blkIndent&&(s.push(e.bMarks[d]),l.push(e.bsCount[d]),c.push(e.tShift[d]),u.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}s.push(e.bMarks[d]),l.push(e.bsCount[d]),c.push(e.tShift[d]),u.push(e.sCount[d]),e.sCount[d]=-1}const m=e.blkIndent;e.blkIndent=0;const f=e.push("blockquote_open","blockquote",1);f.markup=">";const C=[t,0];f.map=C,e.md.block.tokenize(e,t,d);e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=a,e.parentType=g,C[1]=e.line;for(let i=0;i<c.length;i++)e.bMarks[i+t]=s[i],e.tShift[i+t]=c[i],e.sCount[i+t]=u[i],e.bsCount[i+t]=l[i];return e.blkIndent=m,!0}function hr(e,t,i,n){const r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(o++);if(42!==a&&45!==a&&95!==a)return!1;let s=1;for(;o<r;){const t=e.src.charCodeAt(o++);if(t!==a&&!isSpace(t))return!1;t===a&&s++}if(s<3)return!1;if(n)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(a)),!0}function skipBulletListMarker(e,t){const i=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(n++);if(42!==r&&45!==r&&43!==r)return-1;if(n<i){if(!isSpace(e.src.charCodeAt(n)))return-1}return n}function skipOrderedListMarker(e,t){const i=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let r=i;if(r+1>=n)return-1;let o=e.src.charCodeAt(r++);if(o<48||o>57)return-1;for(;;){if(r>=n)return-1;if(o=e.src.charCodeAt(r++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(r-i>=10)return-1}return r<n&&(o=e.src.charCodeAt(r),!isSpace(o))?-1:r}function markTightParagraphs(e,t){const i=e.level+2;for(let n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function list(e,t,i,n){let r,o,a,s,l=t,u=!0;if(e.sCount[l]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let c,h,g,d=!1;if(n&&"paragraph"===e.parentType&&e.sCount[l]>=e.blkIndent&&(d=!0),(g=skipOrderedListMarker(e,l))>=0){if(c=!0,a=e.bMarks[l]+e.tShift[l],h=Number(e.src.slice(a,g-1)),d&&1!==h)return!1}else{if(!((g=skipBulletListMarker(e,l))>=0))return!1;c=!1}if(d&&e.skipSpaces(g)>=e.eMarks[l])return!1;if(n)return!0;const p=e.src.charCodeAt(g-1),m=e.tokens.length;c?(s=e.push("ordered_list_open","ol",1),1!==h&&(s.attrs=[["start",h]])):s=e.push("bullet_list_open","ul",1);const f=[l,0];s.map=f,s.markup=String.fromCharCode(p);let C=!1;const y=e.md.block.ruler.getRules("list"),v=e.parentType;for(e.parentType="list";l<i;){o=g,r=e.eMarks[l];const t=e.sCount[l]+g-(e.bMarks[l]+e.tShift[l]);let n=t;for(;o<r;){const t=e.src.charCodeAt(o);if(9===t)n+=4-(n+e.bsCount[l])%4;else{if(32!==t)break;n++}o++}const h=o;let d;d=h>=r?1:n-t,d>4&&(d=1);const m=t+d;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(p);const f=[l,0];s.map=f,c&&(s.info=e.src.slice(a,g-1));const v=e.tight,A=e.tShift[l],I=e.sCount[l],w=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=m,e.tight=!0,e.tShift[l]=h-e.bMarks[l],e.sCount[l]=n,h>=r&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,i):e.md.block.tokenize(e,l,i,!0),e.tight&&!C||(u=!1),C=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[l]=A,e.sCount[l]=I,e.tight=v,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(p),l=e.line,f[1]=l,l>=i)break;if(e.sCount[l]<e.blkIndent)break;if(e.sCount[l]-e.blkIndent>=4)break;let b=!1;for(let t=0,n=y.length;t<n;t++)if(y[t](e,l,i,!0)){b=!0;break}if(b)break;if(c){if(g=skipOrderedListMarker(e,l),g<0)break;a=e.bMarks[l]+e.tShift[l]}else if(g=skipBulletListMarker(e,l),g<0)break;if(p!==e.src.charCodeAt(g-1))break}return s=c?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(p),f[1]=l,e.line=l,e.parentType=v,u&&markTightParagraphs(e,m),!0}function reference(e,t,i,n){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(r))return!1;function s(t){const i=e.lineMax;if(t>=i||e.isEmpty(t))return null;let n=!1;if(e.sCount[t]-e.blkIndent>3&&(n=!0),e.sCount[t]<0&&(n=!0),!n){const n=e.md.block.ruler.getRules("reference"),r=e.parentType;e.parentType="reference";let o=!1;for(let r=0,a=n.length;r<a;r++)if(n[r](e,t,i,!0)){o=!0;break}if(e.parentType=r,o)return null}const r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(r,o+1)}let l=e.src.slice(r,o+1);o=l.length;let u=-1;for(r=1;r<o;r++){const e=l.charCodeAt(r);if(91===e)return!1;if(93===e){u=r;break}if(10===e){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}else if(92===e&&(r++,r<o&&10===l.charCodeAt(r))){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}}if(u<0||58!==l.charCodeAt(u+1))return!1;for(r=u+2;r<o;r++){const e=l.charCodeAt(r);if(10===e){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}else if(!isSpace(e))break}const c=e.md.helpers.parseLinkDestination(l,r,o);if(!c.ok)return!1;const h=e.md.normalizeLink(c.str);if(!e.md.validateLink(h))return!1;r=c.pos;const g=r,d=a,p=r;for(;r<o;r++){const e=l.charCodeAt(r);if(10===e){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}else if(!isSpace(e))break}let m,f=e.md.helpers.parseLinkTitle(l,r,o);for(;f.can_continue;){const t=s(a);if(null===t)break;l+=t,r=o,o=l.length,a++,f=e.md.helpers.parseLinkTitle(l,r,o,f)}for(r<o&&p!==r&&f.ok?(m=f.str,r=f.pos):(m="",r=g,a=d);r<o;){if(!isSpace(l.charCodeAt(r)))break;r++}if(r<o&&10!==l.charCodeAt(r)&&m)for(m="",r=g,a=d;r<o;){if(!isSpace(l.charCodeAt(r)))break;r++}if(r<o&&10!==l.charCodeAt(r))return!1;const C=normalizeReference(l.slice(1,u));return!!C&&(n||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[C]&&(e.env.references[C]={title:m,href:h}),e.line=a),!0)}var block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];const attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(e,t,i,n){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(r))return!1;let a=e.src.slice(r,o),s=0;for(;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(a);s++);if(s===HTML_SEQUENCES.length)return!1;if(n)return HTML_SEQUENCES[s][2];let l=t+1;if(!HTML_SEQUENCES[s][1].test(a))for(;l<i&&!(e.sCount[l]<e.blkIndent);l++)if(r=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],a=e.src.slice(r,o),HTML_SEQUENCES[s][1].test(a)){0!==a.length&&l++;break}e.line=l;const u=e.push("html_block","",0);return u.map=[t,l],u.content=e.getLines(t,l,e.blkIndent,!0),!0}function heading(e,t,i,n){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(r);if(35!==a||r>=o)return!1;let s=1;for(a=e.src.charCodeAt(++r);35===a&&r<o&&s<=6;)s++,a=e.src.charCodeAt(++r);if(s>6||r<o&&!isSpace(a))return!1;if(n)return!0;o=e.skipSpacesBack(o,r);const l=e.skipCharsBack(o,35,r);l>r&&isSpace(e.src.charCodeAt(l-1))&&(o=l),e.line=t+1;const u=e.push("heading_open","h"+String(s),1);u.markup="########".slice(0,s),u.map=[t,e.line];const c=e.push("inline","",0);c.content=e.src.slice(r,o).trim(),c.map=[t,e.line],c.children=[];return e.push("heading_close","h"+String(s),-1).markup="########".slice(0,s),!0}function lheading(e,t,i){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const r=e.parentType;e.parentType="paragraph";let o,a=0,s=t+1;for(;s<i&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let t=e.bMarks[s]+e.tShift[s];const i=e.eMarks[s];if(t<i&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=i))){a=61===o?1:2;break}}if(e.sCount[s]<0)continue;let t=!1;for(let r=0,o=n.length;r<o;r++)if(n[r](e,s,i,!0)){t=!0;break}if(t)break}if(!a)return!1;const l=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const u=e.push("heading_open","h"+String(a),1);u.markup=String.fromCharCode(o),u.map=[t,e.line];const c=e.push("inline","",0);c.content=l,c.map=[t,e.line-1],c.children=[];return e.push("heading_close","h"+String(a),-1).markup=String.fromCharCode(o),e.parentType=r,!0}function paragraph(e,t,i){const n=e.md.block.ruler.getRules("paragraph"),r=e.parentType;let o=t+1;for(e.parentType="paragraph";o<i&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let r=0,a=n.length;r<a;r++)if(n[r](e,o,i,!0)){t=!0;break}if(t)break}const a=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o;e.push("paragraph_open","p",1).map=[t,e.line];const s=e.push("inline","",0);return s.content=a,s.map=[t,e.line],s.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let e=0;e<_rules$1.length;e++)this.ruler.push(_rules$1[e][0],_rules$1[e][1],{alt:(_rules$1[e][2]||[]).slice()})}function StateInline(e,t,i,n){this.src=e,this.env=i,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(e,t){let i=e.pos;for(;i<e.posMax&&!isTerminatorChar(e.src.charCodeAt(i));)i++;return i!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,i)),e.pos=i,!0)}ParserBlock.prototype.tokenize=function(e,t,i){const n=this.ruler.getRules(""),r=n.length,o=e.md.options.maxNesting;let a=t,s=!1;for(;a<i&&(e.line=a=e.skipEmptyLines(a),!(a>=i))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=o){e.line=i;break}const t=e.line;let l=!1;for(let o=0;o<r;o++)if(l=n[o](e,a,i,!1),l){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),a=e.line,a<i&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},ParserBlock.prototype.parse=function(e,t,i,n){if(!e)return;const r=new this.State(e,t,i,n);this.tokenize(r,r.line,r.lineMax)},ParserBlock.prototype.State=StateBlock,StateInline.prototype.pushPending=function(){const e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},StateInline.prototype.push=function(e,t,i){this.pending&&this.pushPending();const n=new Token(e,t,i);let r=null;return i<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,i>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(r),n},StateInline.prototype.scanDelims=function(e,t){const i=this.posMax,n=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<i&&this.src.charCodeAt(o)===n;)o++;const a=o-e,s=o<i?this.src.charCodeAt(o):32,l=isMdAsciiPunct(r)||isPunctChar(String.fromCharCode(r)),u=isMdAsciiPunct(s)||isPunctChar(String.fromCharCode(s)),c=isWhiteSpace(r),h=isWhiteSpace(s),g=!h&&(!u||c||l),d=!c&&(!l||h||u);return{can_open:g&&(t||!d||l),can_close:d&&(t||!g||u),length:a}},StateInline.prototype.Token=Token;const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const i=e.pos;if(i+3>e.posMax)return!1;if(58!==e.src.charCodeAt(i))return!1;if(47!==e.src.charCodeAt(i+1))return!1;if(47!==e.src.charCodeAt(i+2))return!1;const n=e.pending.match(SCHEME_RE);if(!n)return!1;const r=n[1],o=e.md.linkify.matchAtStart(e.src.slice(i-r.length));if(!o)return!1;let a=o.url;if(a.length<=r.length)return!1;a=a.replace(/\*+$/,"");const s=e.md.normalizeLink(a);if(!e.md.validateLink(s))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const t=e.push("link_open","a",1);t.attrs=[["href",s]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(a);const i=e.push("link_close","a",-1);i.markup="linkify",i.info="auto"}return e.pos+=a.length-r.length,!0}function newline(e,t){let i=e.pos;if(10!==e.src.charCodeAt(i))return!1;const n=e.pending.length-1,r=e.posMax;if(!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){let t=n-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(i++;i<r&&isSpace(e.src.charCodeAt(i));)i++;return e.pos=i,!0}const ESCAPED=[];for(let e=0;e<256;e++)ESCAPED.push(0);function escape(e,t){let i=e.pos;const n=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(i++,i>=n)return!1;let r=e.src.charCodeAt(i);if(10===r){for(t||e.push("hardbreak","br",0),i++;i<n&&(r=e.src.charCodeAt(i),isSpace(r));)i++;return e.pos=i,!0}let o=e.src[i];if(r>=55296&&r<=56319&&i+1<n){const t=e.src.charCodeAt(i+1);t>=56320&&t<=57343&&(o+=e.src[i+1],i++)}const a="\\"+o;if(!t){const t=e.push("text_special","",0);r<256&&0!==ESCAPED[r]?t.content=o:t.content=a,t.markup=a,t.info="escape"}return e.pos=i+1,!0}function backtick(e,t){let i=e.pos;if(96!==e.src.charCodeAt(i))return!1;const n=i;i++;const r=e.posMax;for(;i<r&&96===e.src.charCodeAt(i);)i++;const o=e.src.slice(n,i),a=o.length;if(e.backticksScanned&&(e.backticks[a]||0)<=n)return t||(e.pending+=o),e.pos+=a,!0;let s,l=i;for(;-1!==(s=e.src.indexOf("`",l));){for(l=s+1;l<r&&96===e.src.charCodeAt(l);)l++;const n=l-s;if(n===a){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(i,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[n]=s}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=a,!0}function strikethrough_tokenize(e,t){const i=e.pos,n=e.src.charCodeAt(i);if(t)return!1;if(126!==n)return!1;const r=e.scanDelims(e.pos,!0);let o=r.length;const a=String.fromCharCode(n);if(o<2)return!1;let s;o%2&&(s=e.push("text","",0),s.content=a,o--);for(let t=0;t<o;t+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0}function postProcess$1(e,t){let i;const n=[],r=t.length;for(let o=0;o<r;o++){const r=t[o];if(126!==r.marker)continue;if(-1===r.end)continue;const a=t[r.end];i=e.tokens[r.token],i.type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",i=e.tokens[a.token],i.type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===e.tokens[a.token-1].type&&"~"===e.tokens[a.token-1].content&&n.push(a.token-1)}for(;n.length;){const t=n.pop();let r=t+1;for(;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;r--,t!==r&&(i=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=i)}}function strikethrough_postProcess(e){const t=e.tokens_meta,i=e.tokens_meta.length;postProcess$1(e,e.delimiters);for(let n=0;n<i;n++)t[n]&&t[n].delimiters&&postProcess$1(e,t[n].delimiters)}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){ESCAPED[e.charCodeAt(0)]=1}));var r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(e,t){const i=e.pos,n=e.src.charCodeAt(i);if(t)return!1;if(95!==n&&42!==n)return!1;const r=e.scanDelims(e.pos,42===n);for(let t=0;t<r.length;t++){e.push("text","",0).content=String.fromCharCode(n),e.delimiters.push({marker:n,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0}function postProcess(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(95!==n.marker&&42!==n.marker)continue;if(-1===n.end)continue;const r=t[n.end],o=i>0&&t[i-1].end===n.end+1&&t[i-1].marker===n.marker&&t[i-1].token===n.token-1&&t[n.end+1].token===r.token+1,a=String.fromCharCode(n.marker),s=e.tokens[n.token];s.type=o?"strong_open":"em_open",s.tag=o?"strong":"em",s.nesting=1,s.markup=o?a+a:a,s.content="";const l=e.tokens[r.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?a+a:a,l.content="",o&&(e.tokens[t[i-1].token].content="",e.tokens[t[n.end+1].token].content="",i--)}}function emphasis_post_process(e){const t=e.tokens_meta,i=e.tokens_meta.length;postProcess(e,e.delimiters);for(let n=0;n<i;n++)t[n]&&t[n].delimiters&&postProcess(e,t[n].delimiters)}var r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link$1(e,t){let i,n,r,o,a="",s="",l=e.pos,u=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const c=e.pos,h=e.posMax,g=e.pos+1,d=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(d<0)return!1;let p=d+1;if(p<h&&40===e.src.charCodeAt(p)){for(u=!1,p++;p<h&&(i=e.src.charCodeAt(p),isSpace(i)||10===i);p++);if(p>=h)return!1;if(l=p,r=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),r.ok){for(a=e.md.normalizeLink(r.str),e.md.validateLink(a)?p=r.pos:a="",l=p;p<h&&(i=e.src.charCodeAt(p),isSpace(i)||10===i);p++);if(r=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<h&&l!==p&&r.ok)for(s=r.str,p=r.pos;p<h&&(i=e.src.charCodeAt(p),isSpace(i)||10===i);p++);}(p>=h||41!==e.src.charCodeAt(p))&&(u=!0),p++}if(u){if(void 0===e.env.references)return!1;if(p<h&&91===e.src.charCodeAt(p)?(l=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?n=e.src.slice(l,p++):p=d+1):p=d+1,n||(n=e.src.slice(g,d)),o=e.env.references[normalizeReference(n)],!o)return e.pos=c,!1;a=o.href,s=o.title}if(!t){e.pos=g,e.posMax=d;const t=[["href",a]];e.push("link_open","a",1).attrs=t,s&&t.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=h,!0}function image(e,t){let i,n,r,o,a,s,l,u,c="";const h=e.pos,g=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const d=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(o=p+1,o<g&&40===e.src.charCodeAt(o)){for(o++;o<g&&(i=e.src.charCodeAt(o),isSpace(i)||10===i);o++);if(o>=g)return!1;for(u=o,s=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),s.ok&&(c=e.md.normalizeLink(s.str),e.md.validateLink(c)?o=s.pos:c=""),u=o;o<g&&(i=e.src.charCodeAt(o),isSpace(i)||10===i);o++);if(s=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<g&&u!==o&&s.ok)for(l=s.str,o=s.pos;o<g&&(i=e.src.charCodeAt(o),isSpace(i)||10===i);o++);else l="";if(o>=g||41!==e.src.charCodeAt(o))return e.pos=h,!1;o++}else{if(void 0===e.env.references)return!1;if(o<g&&91===e.src.charCodeAt(o)?(u=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?r=e.src.slice(u,o++):o=p+1):o=p+1,r||(r=e.src.slice(d,p)),a=e.env.references[normalizeReference(r)],!a)return e.pos=h,!1;c=a.href,l=a.title}if(!t){n=e.src.slice(d,p);const t=[];e.md.inline.parse(n,e.md,e.env,t);const i=e.push("image","img",0),r=[["src",c],["alt",""]];i.attrs=r,i.children=t,i.content=n,l&&r.push(["title",l])}return e.pos=o,e.posMax=g,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(e,t){let i=e.pos;if(60!==e.src.charCodeAt(i))return!1;const n=e.pos,r=e.posMax;for(;;){if(++i>=r)return!1;const t=e.src.charCodeAt(i);if(60===t)return!1;if(62===t)break}const o=e.src.slice(n+1,i);if(AUTOLINK_RE.test(o)){const i=e.md.normalizeLink(o);if(!e.md.validateLink(i))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",i]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const n=e.push("link_close","a",-1);n.markup="autolink",n.info="auto"}return e.pos+=o.length+2,!0}if(EMAIL_RE.test(o)){const i=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(i))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",i]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const n=e.push("link_close","a",-1);n.markup="autolink",n.info="auto"}return e.pos+=o.length+2,!0}return!1}function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}function isLetter(e){const t=32|e;return t>=97&&t<=122}function html_inline(e,t){if(!e.md.options.html)return!1;const i=e.posMax,n=e.pos;if(60!==e.src.charCodeAt(n)||n+2>=i)return!1;const r=e.src.charCodeAt(n+1);if(33!==r&&63!==r&&47!==r&&!isLetter(r))return!1;const o=e.src.slice(n).match(HTML_TAG_RE);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],isLinkOpen(t.content)&&e.linkLevel++,isLinkClose(t.content)&&e.linkLevel--}return e.pos+=o[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(e,t){const i=e.pos,n=e.posMax;if(38!==e.src.charCodeAt(i))return!1;if(i+1>=n)return!1;if(35===e.src.charCodeAt(i+1)){const n=e.src.slice(i).match(DIGITAL_RE);if(n){if(!t){const t="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),i=e.push("text_special","",0);i.content=isValidEntityCode(t)?fromCodePoint(t):fromCodePoint(65533),i.markup=n[0],i.info="entity"}return e.pos+=n[0].length,!0}}else{const n=e.src.slice(i).match(NAMED_RE);if(n){const i=decodeHTML(n[0]);if(i!==n[0]){if(!t){const t=e.push("text_special","",0);t.content=i,t.markup=n[0],t.info="entity"}return e.pos+=n[0].length,!0}}}return!1}function processDelimiters(e){const t={},i=e.length;if(!i)return;let n=0,r=-2;const o=[];for(let a=0;a<i;a++){const i=e[a];if(o.push(0),e[n].marker===i.marker&&r===i.token-1||(n=a),r=i.token,i.length=i.length||0,!i.close)continue;t.hasOwnProperty(i.marker)||(t[i.marker]=[-1,-1,-1,-1,-1,-1]);const s=t[i.marker][(i.open?3:0)+i.length%3];let l=n-o[n]-1,u=l;for(;l>s;l-=o[l]+1){const t=e[l];if(t.marker===i.marker&&(t.open&&t.end<0)){let n=!1;if((t.close||i.open)&&(t.length+i.length)%3==0&&(t.length%3==0&&i.length%3==0||(n=!0)),!n){const n=l>0&&!e[l-1].open?o[l-1]+1:0;o[a]=a-l+n,o[l]=n,i.open=!1,t.end=a,t.close=!1,u=-1,r=-2;break}}}-1!==u&&(t[i.marker][(i.open?3:0)+(i.length||0)%3]=u)}}function link_pairs(e){const t=e.tokens_meta,i=e.tokens_meta.length;processDelimiters(e.delimiters);for(let e=0;e<i;e++)t[e]&&t[e].delimiters&&processDelimiters(t[e].delimiters)}function fragments_join(e){let t,i,n=0;const r=e.tokens,o=e.tokens.length;for(t=i=0;t<o;t++)r[t].nesting<0&&n--,r[t].level=n,r[t].nesting>0&&n++,"text"===r[t].type&&t+1<o&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==i&&(r[i]=r[t]),i++);t!==i&&(r.length=i)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link$1],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1]);this.ruler2=new Ruler;for(let e=0;e<_rules2.length;e++)this.ruler2.push(_rules2[e][0],_rules2[e][1])}function reFactory(e){const t={};e=e||{},t.src_Any=Any.source,t.src_Cc=Cc.source,t.src_Z=Z.source,t.src_P=P.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const i="[><｜]";return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+i+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function assign(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(i){e[i]=t[i]}))})),e}function _class(e){return Object.prototype.toString.call(e)}function isString(e){return"[object String]"===_class(e)}function isObject$2(e){return"[object Object]"===_class(e)}function isRegExp(e){return"[object RegExp]"===_class(e)}function isFunction(e){return"[object Function]"===_class(e)}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}ParserInline.prototype.skipToken=function(e){const t=e.pos,i=this.ruler.getRules(""),n=i.length,r=e.md.options.maxNesting,o=e.cache;if(void 0!==o[t])return void(e.pos=o[t]);let a=!1;if(e.level<r){for(let r=0;r<n;r++)if(e.level++,a=i[r](e,!0),e.level--,a){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,o[t]=e.pos},ParserInline.prototype.tokenize=function(e){const t=this.ruler.getRules(""),i=t.length,n=e.posMax,r=e.md.options.maxNesting;for(;e.pos<n;){const o=e.pos;let a=!1;if(e.level<r)for(let n=0;n<i;n++)if(a=t[n](e,!1),a){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(a){if(e.pos>=n)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},ParserInline.prototype.parse=function(e,t,i,n){const r=new this.State(e,t,i,n);this.tokenize(r);const o=this.ruler2.getRules(""),a=o.length;for(let e=0;e<a;e++)o[e](r)},ParserInline.prototype.State=StateInline;const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(e){return Object.keys(e||{}).reduce((function(e,t){return e||defaultOptions.hasOwnProperty(t)}),!1)}const defaultSchemas={"http:":{validate:function(e,t,i){const n=e.slice(t);return i.re.http||(i.re.http=new RegExp("^\\/\\/"+i.re.src_auth+i.re.src_host_port_strict+i.re.src_path,"i")),i.re.http.test(n)?n.match(i.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,i){const n=e.slice(t);return i.re.no_http||(i.re.no_http=new RegExp("^"+i.re.src_auth+"(?:localhost|(?:(?:"+i.re.src_domain+")\\.)+"+i.re.src_domain_root+")"+i.re.src_port+i.re.src_host_terminator+i.re.src_path,"i")),i.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(i.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,i){const n=e.slice(t);return i.re.mailto||(i.re.mailto=new RegExp("^"+i.re.src_email_name+"@"+i.re.src_host_strict,"i")),i.re.mailto.test(n)?n.match(i.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(t,i){const n=t.slice(i);return e.test(n)?n.match(e)[0].length:0}}function createNormalizer(){return function(e,t){t.normalize(e)}}function compile(e){const t=e.re=reFactory(e.__opts__),i=e.__tlds__.slice();function n(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push(tlds_2ch_src_re),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const r=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const i=e.__schemas__[t];if(null===i)return;const n={validate:null,link:null};if(e.__compiled__[t]=n,isObject$2(i))return isRegExp(i.validate)?n.validate=createValidator(i.validate):isFunction(i.validate)?n.validate=i.validate:o(t,i),void(isFunction(i.normalize)?n.normalize=i.normalize:i.normalize?o(t,i):n.normalize=createNormalizer());isString(i)?r.push(t):o(t,i)})),r.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:createNormalizer()};const a=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,t){const i=e.__index__,n=e.__last_index__,r=e.__text_cache__.slice(i,n);this.schema=e.__schema__.toLowerCase(),this.index=i+t,this.lastIndex=n+t,this.raw=r,this.text=r,this.url=r}function createMatch(e,t){const i=new Match(e,t);return e.__compiled__[i.schema].normalize(i,e),i}function LinkifyIt(e,t){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,t);t||isOptionsObj(e)&&(t=e,e={}),this.__opts__=assign({},defaultOptions,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function(e,t){return this.__schemas__[e]=t,compile(this),this},LinkifyIt.prototype.set=function(e){return this.__opts__=assign(this.__opts__,e),this},LinkifyIt.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,i,n,r,o,a,s,l,u;if(this.re.schema_test.test(e))for(s=this.re.schema_search,s.lastIndex=0;null!==(t=s.exec(e));)if(r=this.testSchemaAt(e,t[2],s.lastIndex),r){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=i.index+i[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0},LinkifyIt.prototype.pretest=function(e){return this.re.pretest.test(e)},LinkifyIt.prototype.testSchemaAt=function(e,t,i){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,i,this):0},LinkifyIt.prototype.match=function(e){const t=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(createMatch(this,i)),i=this.__last_index__);let n=i?e.slice(i):e;for(;this.test(n);)t.push(createMatch(this,i)),n=n.slice(this.__last_index__),i+=this.__last_index__;return t.length?t:null},LinkifyIt.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const i=this.testSchemaAt(e,t[2],t[0].length);return i?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i,createMatch(this,0)):null},LinkifyIt.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,i){return e!==i[t-1]})).reverse(),compile(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},LinkifyIt.prototype.onCompile=function(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map(e,t){const i=[];let n=e.length;for(;n--;)i[n]=t(e[n]);return i}function mapDomain(e,t){const i=e.split("@");let n="";i.length>1&&(n=i[0]+"@",e=i[1]);return n+map((e=e.replace(regexSeparators,".")).split("."),t).join(".")}function ucs2decode(e){const t=[];let i=0;const n=e.length;for(;i<n;){const r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){const n=e.charCodeAt(i++);56320==(64512&n)?t.push(((1023&r)<<10)+(1023&n)+65536):(t.push(r),i--)}else t.push(r)}return t}const ucs2encode=e=>String.fromCodePoint(...e),basicToDigit=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:base},digitToBasic=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},adapt=function(e,t,i){let n=0;for(e=i?floor(e/damp):e>>1,e+=floor(e/t);e>baseMinusTMin*tMax>>1;n+=base)e=floor(e/baseMinusTMin);return floor(n+(baseMinusTMin+1)*e/(e+skew))},decode=function(e){const t=[],i=e.length;let n=0,r=initialN,o=initialBias,a=e.lastIndexOf(delimiter);a<0&&(a=0);for(let i=0;i<a;++i)e.charCodeAt(i)>=128&&error("not-basic"),t.push(e.charCodeAt(i));for(let s=a>0?a+1:0;s<i;){const a=n;for(let t=1,r=base;;r+=base){s>=i&&error("invalid-input");const a=basicToDigit(e.charCodeAt(s++));a>=base&&error("invalid-input"),a>floor((maxInt-n)/t)&&error("overflow"),n+=a*t;const l=r<=o?tMin:r>=o+tMax?tMax:r-o;if(a<l)break;const u=base-l;t>floor(maxInt/u)&&error("overflow"),t*=u}const l=t.length+1;o=adapt(n-a,l,0==a),floor(n/l)>maxInt-r&&error("overflow"),r+=floor(n/l),n%=l,t.splice(n++,0,r)}return String.fromCodePoint(...t)},encode=function(e){const t=[],i=(e=ucs2decode(e)).length;let n=initialN,r=0,o=initialBias;for(const i of e)i<128&&t.push(stringFromCharCode(i));const a=t.length;let s=a;for(a&&t.push(delimiter);s<i;){let i=maxInt;for(const t of e)t>=n&&t<i&&(i=t);const l=s+1;i-n>floor((maxInt-r)/l)&&error("overflow"),r+=(i-n)*l,n=i;for(const i of e)if(i<n&&++r>maxInt&&error("overflow"),i===n){let e=r;for(let i=base;;i+=base){const n=i<=o?tMin:i>=o+tMax?tMax:i-o;if(e<n)break;const r=e-n,a=base-n;t.push(stringFromCharCode(digitToBasic(n+r%a,0))),e=floor(r/a)}t.push(stringFromCharCode(digitToBasic(e,0))),o=adapt(r,l,s===a),r=0,++s}++r,++n}return t.join("")},toUnicode=function(e){return mapDomain(e,(function(e){return regexPunycode.test(e)?decode(e.slice(4).toLowerCase()):e}))},toASCII=function(e){return mapDomain(e,(function(e){return regexNonASCII.test(e)?"xn--"+encode(e):e}))},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};var cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}};const config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){const t=e.trim().toLowerCase();return!BAD_PROTO_RE.test(t)||GOOD_DATA_RE.test(t)}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toASCII(t.hostname)}catch(e){}return encode$1(format(t))}function normalizeLinkText(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toUnicode(t.hostname)}catch(e){}return decode$1(format(t),decode$1.defaultChars+"%")}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||isString$1(e)||(t=e||{},e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(e),t&&this.set(t)}MarkdownIt.prototype.set=function(e){return assign$1(this.options,e),this},MarkdownIt.prototype.configure=function(e){const t=this;if(isString$1(e)){const t=e;if(!(e=config[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(i){e.components[i].rules&&t[i].ruler.enableOnly(e.components[i].rules),e.components[i].rules2&&t[i].ruler2.enableOnly(e.components[i].rules2)})),this},MarkdownIt.prototype.enable=function(e,t){let i=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){i=i.concat(this[t].ruler.enable(e,!0))}),this),i=i.concat(this.inline.ruler2.enable(e,!0));const n=e.filter((function(e){return i.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},MarkdownIt.prototype.disable=function(e,t){let i=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){i=i.concat(this[t].ruler.disable(e,!0))}),this),i=i.concat(this.inline.ruler2.disable(e,!0));const n=e.filter((function(e){return i.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},MarkdownIt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},MarkdownIt.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const i=new this.core.State(e,this,t);return this.core.process(i),i.tokens},MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},MarkdownIt.prototype.parseInline=function(e,t){const i=new this.core.State(e,this,t);return i.inlineMode=!0,this.core.process(i),i.tokens},MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var htmlTagRegex=/<html(.|\s)*>(.|\s)*<\/html>/im,md=new MarkdownIt({html:!0,linkify:!0});md.use(MarkdownItSanitizer__default.default,{imageClass:"",removeUnbalanced:!1,removeUnknown:!1});var KnockoutMarkdownBinding={register:function(e){e.bindingHandlers.markdown={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i){for(;t.firstChild;)e.removeNode(t.firstChild);var n,r=e.unwrap(i());n=htmlTagRegex.test(r)?r:md.render(r);var o=e.utils.parseHtmlFragment(n,t);t.className=t.className+" markdown";for(var a=0;a<o.length;++a){var s=o[a];setAnchorTargets(s),t.appendChild(s)}}}}};function setAnchorTargets(e){if(e instanceof HTMLAnchorElement&&(e.target="_blank"),e.childNodes&&e.childNodes.length>0)for(var t=0;t<e.childNodes.length;++t)setAnchorTargets(e.childNodes[t])}var KnockoutHammerBinding={register:function(){Cesium.knockout.bindingHandlers.swipeLeft={init:function(e,t,i,n,r){var o=Cesium.knockout.unwrap(t());new Hammer__default.default(e).on("swipeleft",(function(e){var t=r.$data;o.apply(t,arguments)}))}},Cesium.knockout.bindingHandlers.swipeRight={init:function(e,t,i,n,r){var o=Cesium.knockout.unwrap(t());new Hammer__default.default(e).on("swiperight",(function(e){var t=r.$data;o.apply(t,arguments)}))}}}},Knockout$4=Cesium.knockout,registerKnockoutBindings=function(){Cesium.SvgPathBindingHandler.register(Knockout$4),KnockoutMarkdownBinding.register(Knockout$4),KnockoutHammerBinding.register(Knockout$4),Knockout$4.bindingHandlers.embeddedComponent={init:function(e,t,i,n,r){return Knockout$4.unwrap(t()).show(e),{controlsDescendantBindings:!0}},update:function(e,t,i,n,r){}}};const createFragmentFromTemplate=function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.firstChild);return i};var Knockout$3=Cesium.knockout,loadView=function(e,t,i){t=Cesium.getElement(t);var n,r=createFragmentFromTemplate(e),o=[];for(n=0;n<r.childNodes.length;++n)o.push(r.childNodes[n]);for(t.appendChild(r),n=0;n<o.length;++n){var a=o[n];1!==a.nodeType&&8!==a.nodeType||Knockout$3.applyBindings(i,a)}return o},Knockout$2=Cesium.knockout,DistanceLegendViewModel=function(e){if(!Cesium.defined(e)||!Cesium.defined(e.terria))throw new Cesium.DeveloperError("options.terria is required.");this.terria=e.terria,this._removeSubscription=void 0,this._lastLegendUpdate=void 0,this.eventHelper=new Cesium.EventHelper,this.distanceLabel=void 0,this.barWidth=void 0,this.enableDistanceLegend=!Cesium.defined(e.enableDistanceLegend)||e.enableDistanceLegend,Knockout$2.track(this,["distanceLabel","barWidth"]),this.eventHelper.add(this.terria.afterWidgetChanged,(function(){Cesium.defined(this._removeSubscription)&&(this._removeSubscription(),this._removeSubscription=void 0)}),this);var t=this;function i(){if(Cesium.defined(t.terria)){var e=t.terria.scene;t._removeSubscription=e.postRender.addEventListener((function(){updateDistanceLegendCesium(this,e)}),t)}}i(),this.eventHelper.add(this.terria.afterWidgetChanged,(function(){i()}),this)};DistanceLegendViewModel.prototype.destroy=function(){this.eventHelper.removeAll()},DistanceLegendViewModel.prototype.show=function(e){var t;t=this.enableDistanceLegend?'<div class="distance-legend" data-bind="visible: distanceLabel && barWidth"><div class="distance-legend-label" data-bind="text: distanceLabel"></div><div class="distance-legend-scale-bar" data-bind="style: { width: barWidth + \'px\', left: (5 + (125 - barWidth) / 2) + \'px\' }"></div></div>':'<div class="distance-legend"  style="display: none;" data-bind="visible: distanceLabel && barWidth"><div class="distance-legend-label"  data-bind="text: distanceLabel"></div><div class="distance-legend-scale-bar"  data-bind="style: { width: barWidth + \'px\', left: (5 + (125 - barWidth) / 2) + \'px\' }"></div></div>',loadView(t,e,this)},DistanceLegendViewModel.create=function(e){var t=new DistanceLegendViewModel(e);return t.show(e.container),t};var geodesic=new Cesium.EllipsoidGeodesic,distances=[1,2,3,5,10,20,30,50,100,200,300,500,1e3,2e3,3e3,5e3,1e4,2e4,3e4,5e4,1e5,2e5,3e5,5e5,1e6,2e6,3e6,5e6,1e7,2e7,3e7,5e7];function updateDistanceLegendCesium(e,t){if(!e.enableDistanceLegend)return e.barWidth=void 0,void(e.distanceLabel=void 0);var i=Cesium.getTimestamp();if(!(i<e._lastLegendUpdate+250)){e._lastLegendUpdate=i;var n=t.canvas.clientWidth,r=t.canvas.clientHeight,o=t.camera.getPickRay(new Cesium.Cartesian2(n/2|0,r-1)),a=t.camera.getPickRay(new Cesium.Cartesian2(1+n/2|0,r-1)),s=t.globe,l=s.pick(o,t),u=s.pick(a,t);if(!Cesium.defined(l)||!Cesium.defined(u))return e.barWidth=void 0,void(e.distanceLabel=void 0);var c=s.ellipsoid.cartesianToCartographic(l),h=s.ellipsoid.cartesianToCartographic(u);geodesic.setEndPoints(c,h);for(var g,d,p=geodesic.surfaceDistance,m=distances.length-1;!Cesium.defined(g)&&m>=0;--m)distances[m]/p<100&&(g=distances[m]);if(Cesium.defined(g))d=g>=1e3?(g/1e3).toString()+" km":g.toString()+" m",e.barWidth=g/p|0,e.distanceLabel=d;else e.barWidth=void 0,e.distanceLabel=void 0}}var svgReset="M 7.5,0 C 3.375,0 0,3.375 0,7.5 0,11.625 3.375,15 7.5,15 c 3.46875,0 6.375,-2.4375 7.21875,-5.625 l -1.96875,0 C 12,11.53125 9.9375,13.125 7.5,13.125 4.40625,13.125 1.875,10.59375 1.875,7.5 1.875,4.40625 4.40625,1.875 7.5,1.875 c 1.59375,0 2.90625,0.65625 3.9375,1.6875 l -3,3 6.5625,0 L 15,0 12.75,2.25 C 11.4375,0.84375 9.5625,0 7.5,0 z",Knockout$1=Cesium.knockout,UserInterfaceControl=function(e){if(!Cesium.defined(e))throw new Cesium.DeveloperError("terria is required");this._terria=e,this.name="Unnamed Control",this.text=void 0,this.svgIcon=void 0,this.svgHeight=void 0,this.svgWidth=void 0,this.cssClass=void 0,this.isActive=!1,Knockout$1.track(this,["name","svgIcon","svgHeight","svgWidth","cssClass","isActive"])};Object.defineProperties(UserInterfaceControl.prototype,{terria:{get:function(){return this._terria}},hasText:{get:function(){return Cesium.defined(this.text)&&"string"==typeof this.text}}}),UserInterfaceControl.prototype.activate=function(){throw new Cesium.DeveloperError("activate must be implemented in the derived class.")};var NavigationControl=function(e){UserInterfaceControl.apply(this,arguments)};NavigationControl.prototype=Object.create(UserInterfaceControl.prototype);var CesiumMath$1=Cesium.Math,ResetViewNavigationControl=function(e){NavigationControl.apply(this,arguments),this.name="重置视图",this.navigationLocked=!1,this.svgIcon=svgReset,this.svgHeight=15,this.svgWidth=15,this.cssClass="navigation-control-icon-reset"};ResetViewNavigationControl.prototype=Object.create(NavigationControl.prototype),ResetViewNavigationControl.prototype.setNavigationLocked=function(e){this.navigationLocked=e},ResetViewNavigationControl.prototype.resetView=function(){if(!this.navigationLocked){var e=this.terria.scene;if(e.screenSpaceCameraController.enableInputs){this.isActive=!0;var t=e.camera;if(Cesium.defined(this.terria.trackedEntity)){var i=this.terria.trackedEntity;this.terria.trackedEntity=void 0,this.terria.trackedEntity=i}else if(this.terria.options.defaultResetView){if(this.terria.options.defaultResetView&&this.terria.options.defaultResetView instanceof Cesium.Cartographic)t.flyTo({destination:e.globe.ellipsoid.cartographicToCartesian(this.terria.options.defaultResetView)});else if(this.terria.options.defaultResetView&&this.terria.options.defaultResetView instanceof Cesium.Rectangle)try{Cesium.Rectangle.validate(this.terria.options.defaultResetView),t.flyTo({destination:this.terria.options.defaultResetView,orientation:{heading:CesiumMath$1.toRadians(5.729578)}})}catch(e){console.log("Cesium-navigation/ResetViewNavigationControl:   options.defaultResetView Cesium rectangle is  invalid!")}}else"function"==typeof t.flyHome?t.flyHome(1):t.flyTo({destination:Cesium.Camera.DEFAULT_VIEW_RECTANGLE,duration:1});this.isActive=!1}}},ResetViewNavigationControl.prototype.activate=function(){this.resetView()};var Utils$2={},unprojectedScratch=new Cesium.Cartographic,rayScratch=new Cesium.Ray;Utils$2.getCameraFocus=function(e,t,i){var n=e.scene,r=n.camera;if(n.mode!==Cesium.SceneMode.MORPHING&&(Cesium.defined(i)||(i=new Cesium.Cartesian3),Cesium.defined(e.trackedEntity)?i=e.trackedEntity.position.getValue(e.clock.currentTime,i):(rayScratch.origin=r.positionWC,rayScratch.direction=r.directionWC,i=n.globe.pick(rayScratch,n,i)),Cesium.defined(i)))return n.mode===Cesium.SceneMode.SCENE2D||n.mode===Cesium.SceneMode.COLUMBUS_VIEW?(i=r.worldToCameraCoordinatesPoint(i,i),t&&(i=n.globe.ellipsoid.cartographicToCartesian(n.mapProjection.unproject(i,unprojectedScratch),i))):t||(i=r.worldToCameraCoordinatesPoint(i,i)),i};var ZoomNavigationControl=function(e,t){NavigationControl.apply(this,arguments),this.name=t?"放大":"缩小",this.text="",this.cssClass="iconfont_RJ navigation-control-icon-zoom-"+(t?"in icon-fangda":"out icon-suoxiao"),this.relativeAmount=2,t&&(this.relativeAmount=1/this.relativeAmount)};ZoomNavigationControl.prototype.relativeAmount=1,ZoomNavigationControl.prototype=Object.create(NavigationControl.prototype),ZoomNavigationControl.prototype.activate=function(){this.zoom(this.relativeAmount)};var cartesian3Scratch=new Cesium.Cartesian3;ZoomNavigationControl.prototype.zoom=function(e){if(this.isActive=!0,Cesium.defined(this.terria)){var t=this.terria.scene,i=t.screenSpaceCameraController;if(!i.enableInputs||!i.enableZoom)return;var n,r=t.camera;switch(t.mode){case Cesium.SceneMode.MORPHING:break;case Cesium.SceneMode.SCENE2D:r.zoomIn(r.positionCartographic.height*(1-this.relativeAmount));break;default:var o;if(o=Cesium.defined(this.terria.trackedEntity)?new Cesium.Cartesian3:Utils$2.getCameraFocus(this.terria,!1),Cesium.defined(o))n={direction:r.direction,up:r.up};else{var a=new Cesium.Ray(r.worldToCameraCoordinatesPoint(t.globe.ellipsoid.cartographicToCartesian(r.positionCartographic)),r.directionWC);o=Cesium.IntersectionTests.grazingAltitudeLocation(a,t.globe.ellipsoid),n={heading:r.heading,pitch:r.pitch,roll:r.roll}}var s=Cesium.Cartesian3.subtract(r.position,o,cartesian3Scratch),l=Cesium.Cartesian3.multiplyByScalar(s,e,s),u=Cesium.Cartesian3.add(o,l,o);Cesium.defined(this.terria.trackedEntity)||t.mode===Cesium.SceneMode.COLUMBUS_VIEW?r.position=u:r.flyTo({destination:u,orientation:n,duration:.5,convert:!1})}}this.isActive=!1};var svgCompassOuterRing="m 66.5625,0 0,15.15625 3.71875,0 0,-10.40625 5.5,10.40625 4.375,0 0,-15.15625 -3.71875,0 0,10.40625 L 70.9375,0 66.5625,0 z M 72.5,20.21875 c -28.867432,0 -52.28125,23.407738 -52.28125,52.28125 0,28.87351 23.413818,52.3125 52.28125,52.3125 28.86743,0 52.28125,-23.43899 52.28125,-52.3125 0,-28.873512 -23.41382,-52.28125 -52.28125,-52.28125 z m 0,1.75 c 13.842515,0 26.368948,5.558092 35.5,14.5625 l -11.03125,11 0.625,0.625 11.03125,-11 c 8.9199,9.108762 14.4375,21.579143 14.4375,35.34375 0,13.764606 -5.5176,26.22729 -14.4375,35.34375 l -11.03125,-11 -0.625,0.625 11.03125,11 c -9.130866,9.01087 -21.658601,14.59375 -35.5,14.59375 -13.801622,0 -26.321058,-5.53481 -35.4375,-14.5 l 11.125,-11.09375 c 6.277989,6.12179 14.857796,9.90625 24.3125,9.90625 19.241896,0 34.875,-15.629154 34.875,-34.875 0,-19.245847 -15.633104,-34.84375 -34.875,-34.84375 -9.454704,0 -18.034511,3.760884 -24.3125,9.875 L 37.0625,36.4375 C 46.179178,27.478444 58.696991,21.96875 72.5,21.96875 z m -0.875,0.84375 0,13.9375 1.75,0 0,-13.9375 -1.75,0 z M 36.46875,37.0625 47.5625,48.15625 C 41.429794,54.436565 37.65625,63.027539 37.65625,72.5 c 0,9.472461 3.773544,18.055746 9.90625,24.34375 L 36.46875,107.9375 c -8.96721,-9.1247 -14.5,-21.624886 -14.5,-35.4375 0,-13.812615 5.53279,-26.320526 14.5,-35.4375 z M 72.5,39.40625 c 18.297686,0 33.125,14.791695 33.125,33.09375 0,18.302054 -14.827314,33.125 -33.125,33.125 -18.297687,0 -33.09375,-14.822946 -33.09375,-33.125 0,-18.302056 14.796063,-33.09375 33.09375,-33.09375 z M 22.84375,71.625 l 0,1.75 13.96875,0 0,-1.75 -13.96875,0 z m 85.5625,0 0,1.75 14,0 0,-1.75 -14,0 z M 71.75,108.25 l 0,13.9375 1.71875,0 0,-13.9375 -1.71875,0 z",svgCompassGyro="m 72.71875,54.375 c -0.476702,0 -0.908208,0.245402 -1.21875,0.5625 -0.310542,0.317098 -0.551189,0.701933 -0.78125,1.1875 -0.172018,0.363062 -0.319101,0.791709 -0.46875,1.25 -6.91615,1.075544 -12.313231,6.656514 -13,13.625 -0.327516,0.117495 -0.661877,0.244642 -0.9375,0.375 -0.485434,0.22959 -0.901634,0.471239 -1.21875,0.78125 -0.317116,0.310011 -0.5625,0.742111 -0.5625,1.21875 l 0.03125,0 c 0,0.476639 0.245384,0.877489 0.5625,1.1875 0.317116,0.310011 0.702066,0.58291 1.1875,0.8125 0.35554,0.168155 0.771616,0.32165 1.21875,0.46875 1.370803,6.10004 6.420817,10.834127 12.71875,11.8125 0.146999,0.447079 0.30025,0.863113 0.46875,1.21875 0.230061,0.485567 0.470708,0.870402 0.78125,1.1875 0.310542,0.317098 0.742048,0.5625 1.21875,0.5625 0.476702,0 0.876958,-0.245402 1.1875,-0.5625 0.310542,-0.317098 0.582439,-0.701933 0.8125,-1.1875 0.172018,-0.363062 0.319101,-0.791709 0.46875,-1.25 6.249045,-1.017063 11.256351,-5.7184 12.625,-11.78125 0.447134,-0.1471 0.86321,-0.300595 1.21875,-0.46875 0.485434,-0.22959 0.901633,-0.502489 1.21875,-0.8125 0.317117,-0.310011 0.5625,-0.710861 0.5625,-1.1875 l -0.03125,0 c 0,-0.476639 -0.245383,-0.908739 -0.5625,-1.21875 C 89.901633,71.846239 89.516684,71.60459 89.03125,71.375 88.755626,71.244642 88.456123,71.117495 88.125,71 87.439949,64.078341 82.072807,58.503735 75.21875,57.375 c -0.15044,-0.461669 -0.326927,-0.884711 -0.5,-1.25 -0.230061,-0.485567 -0.501958,-0.870402 -0.8125,-1.1875 -0.310542,-0.317098 -0.710798,-0.5625 -1.1875,-0.5625 z m -0.0625,1.40625 c 0.03595,-0.01283 0.05968,0 0.0625,0 0.0056,0 0.04321,-0.02233 0.1875,0.125 0.144288,0.147334 0.34336,0.447188 0.53125,0.84375 0.06385,0.134761 0.123901,0.309578 0.1875,0.46875 -0.320353,-0.01957 -0.643524,-0.0625 -0.96875,-0.0625 -0.289073,0 -0.558569,0.04702 -0.84375,0.0625 C 71.8761,57.059578 71.936151,56.884761 72,56.75 c 0.18789,-0.396562 0.355712,-0.696416 0.5,-0.84375 0.07214,-0.07367 0.120304,-0.112167 0.15625,-0.125 z m 0,2.40625 c 0.448007,0 0.906196,0.05436 1.34375,0.09375 0.177011,0.592256 0.347655,1.271044 0.5,2.03125 0.475097,2.370753 0.807525,5.463852 0.9375,8.9375 -0.906869,-0.02852 -1.834463,-0.0625 -2.78125,-0.0625 -0.92298,0 -1.802327,0.03537 -2.6875,0.0625 0.138529,-3.473648 0.493653,-6.566747 0.96875,-8.9375 0.154684,-0.771878 0.320019,-1.463985 0.5,-2.0625 0.405568,-0.03377 0.804291,-0.0625 1.21875,-0.0625 z m -2.71875,0.28125 c -0.129732,0.498888 -0.259782,0.987558 -0.375,1.5625 -0.498513,2.487595 -0.838088,5.693299 -0.96875,9.25 -3.21363,0.15162 -6.119596,0.480068 -8.40625,0.9375 -0.682394,0.136509 -1.275579,0.279657 -1.84375,0.4375 0.799068,-6.135482 5.504716,-11.036454 11.59375,-12.1875 z M 75.5,58.5 c 6.043169,1.18408 10.705093,6.052712 11.5,12.15625 -0.569435,-0.155806 -1.200273,-0.302525 -1.875,-0.4375 -2.262525,-0.452605 -5.108535,-0.783809 -8.28125,-0.9375 -0.130662,-3.556701 -0.470237,-6.762405 -0.96875,-9.25 C 75.761959,59.467174 75.626981,58.990925 75.5,58.5 z m -2.84375,12.09375 c 0.959338,0 1.895843,0.03282 2.8125,0.0625 C 75.48165,71.267751 75.5,71.871028 75.5,72.5 c 0,1.228616 -0.01449,2.438313 -0.0625,3.59375 -0.897358,0.0284 -1.811972,0.0625 -2.75,0.0625 -0.927373,0 -1.831062,-0.03473 -2.71875,-0.0625 -0.05109,-1.155437 -0.0625,-2.365134 -0.0625,-3.59375 0,-0.628972 0.01741,-1.232249 0.03125,-1.84375 0.895269,-0.02827 1.783025,-0.0625 2.71875,-0.0625 z M 68.5625,70.6875 c -0.01243,0.60601 -0.03125,1.189946 -0.03125,1.8125 0,1.22431 0.01541,2.407837 0.0625,3.5625 -3.125243,-0.150329 -5.92077,-0.471558 -8.09375,-0.90625 -0.784983,-0.157031 -1.511491,-0.316471 -2.125,-0.5 -0.107878,-0.704096 -0.1875,-1.422089 -0.1875,-2.15625 0,-0.115714 0.02849,-0.228688 0.03125,-0.34375 0.643106,-0.20284 1.389577,-0.390377 2.25,-0.5625 2.166953,-0.433487 4.97905,-0.75541 8.09375,-0.90625 z m 8.3125,0.03125 c 3.075121,0.15271 5.824455,0.446046 7.96875,0.875 0.857478,0.171534 1.630962,0.360416 2.28125,0.5625 0.0027,0.114659 0,0.228443 0,0.34375 0,0.735827 -0.07914,1.450633 -0.1875,2.15625 -0.598568,0.180148 -1.29077,0.34562 -2.0625,0.5 -2.158064,0.431708 -4.932088,0.754666 -8.03125,0.90625 0.04709,-1.154663 0.0625,-2.33819 0.0625,-3.5625 0,-0.611824 -0.01924,-1.185379 -0.03125,-1.78125 z M 57.15625,72.5625 c 0.0023,0.572772 0.06082,1.131112 0.125,1.6875 -0.125327,-0.05123 -0.266577,-0.10497 -0.375,-0.15625 -0.396499,-0.187528 -0.665288,-0.387337 -0.8125,-0.53125 -0.147212,-0.143913 -0.15625,-0.182756 -0.15625,-0.1875 0,-0.0047 -0.02221,-0.07484 0.125,-0.21875 0.147212,-0.143913 0.447251,-0.312472 0.84375,-0.5 0.07123,-0.03369 0.171867,-0.06006 0.25,-0.09375 z m 31.03125,0 c 0.08201,0.03503 0.175941,0.05872 0.25,0.09375 0.396499,0.187528 0.665288,0.356087 0.8125,0.5 0.14725,0.14391 0.15625,0.21405 0.15625,0.21875 0,0.0047 -0.009,0.04359 -0.15625,0.1875 -0.147212,0.143913 -0.416001,0.343722 -0.8125,0.53125 -0.09755,0.04613 -0.233314,0.07889 -0.34375,0.125 0.06214,-0.546289 0.09144,-1.094215 0.09375,-1.65625 z m -29.5,3.625 c 0.479308,0.123125 0.983064,0.234089 1.53125,0.34375 2.301781,0.460458 5.229421,0.787224 8.46875,0.9375 0.167006,2.84339 0.46081,5.433176 0.875,7.5 0.115218,0.574942 0.245268,1.063612 0.375,1.5625 -5.463677,-1.028179 -9.833074,-5.091831 -11.25,-10.34375 z m 27.96875,0 C 85.247546,81.408945 80.919274,85.442932 75.5,86.5 c 0.126981,-0.490925 0.261959,-0.967174 0.375,-1.53125 0.41419,-2.066824 0.707994,-4.65661 0.875,-7.5 3.204493,-0.15162 6.088346,-0.480068 8.375,-0.9375 0.548186,-0.109661 1.051942,-0.220625 1.53125,-0.34375 z M 70.0625,77.53125 c 0.865391,0.02589 1.723666,0.03125 2.625,0.03125 0.912062,0 1.782843,-0.0048 2.65625,-0.03125 -0.165173,2.736408 -0.453252,5.207651 -0.84375,7.15625 -0.152345,0.760206 -0.322989,1.438994 -0.5,2.03125 -0.437447,0.03919 -0.895856,0.0625 -1.34375,0.0625 -0.414943,0 -0.812719,-0.02881 -1.21875,-0.0625 -0.177011,-0.592256 -0.347655,-1.271044 -0.5,-2.03125 -0.390498,-1.948599 -0.700644,-4.419842 -0.875,-7.15625 z m 1.75,10.28125 c 0.284911,0.01545 0.554954,0.03125 0.84375,0.03125 0.325029,0 0.648588,-0.01171 0.96875,-0.03125 -0.05999,0.148763 -0.127309,0.31046 -0.1875,0.4375 -0.18789,0.396562 -0.386962,0.696416 -0.53125,0.84375 -0.144288,0.147334 -0.181857,0.125 -0.1875,0.125 -0.0056,0 -0.07446,0.02233 -0.21875,-0.125 C 72.355712,88.946416 72.18789,88.646562 72,88.25 71.939809,88.12296 71.872486,87.961263 71.8125,87.8125 z",svgCompassRotationMarker="M 72.46875,22.03125 C 59.505873,22.050338 46.521615,27.004287 36.6875,36.875 L 47.84375,47.96875 C 61.521556,34.240041 83.442603,34.227389 97.125,47.90625 l 11.125,-11.125 C 98.401629,26.935424 85.431627,22.012162 72.46875,22.03125 z",CesiumMath=Cesium.Math,Knockout=Cesium.knockout,NavigationViewModel=function(e){this.terria=e.terria,this.eventHelper=new Cesium.EventHelper,this.enableZoomControls=!Cesium.defined(e.enableZoomControls)||e.enableZoomControls,this.enableCompass=!Cesium.defined(e.enableCompass)||e.enableCompass,this.navigationLocked=!1,this.controls=e.controls,Cesium.defined(this.controls)||(this.controls=[new ZoomNavigationControl(this.terria,!0),new ResetViewNavigationControl(this.terria),new ZoomNavigationControl(this.terria,!1)]),this.svgCompassOuterRing=svgCompassOuterRing,this.svgCompassGyro=svgCompassGyro,this.svgCompassRotationMarker=svgCompassRotationMarker,this.showCompass=Cesium.defined(this.terria)&&this.enableCompass,this.heading=this.showCompass?this.terria.scene.camera.heading:0,this.isOrbiting=!1,this.orbitCursorAngle=0,this.orbitCursorOpacity=0,this.orbitLastTimestamp=0,this.orbitFrame=void 0,this.orbitIsLook=!1,this.orbitMouseMoveFunction=void 0,this.orbitMouseUpFunction=void 0,this.isRotating=!1,this.rotateInitialCursorAngle=void 0,this.rotateFrame=void 0,this.rotateIsLook=!1,this.rotateMouseMoveFunction=void 0,this.rotateMouseUpFunction=void 0,this._unsubcribeFromPostRender=void 0,Knockout.track(this,["controls","showCompass","heading","isOrbiting","orbitCursorAngle","isRotating"]);var t=this;function i(){Cesium.defined(t.terria)?(t._unsubcribeFromPostRender&&(t._unsubcribeFromPostRender(),t._unsubcribeFromPostRender=void 0),t.showCompass=t.enableCompass,t._unsubcribeFromPostRender=t.terria.scene.postRender.addEventListener((function(){t.heading=t.terria.scene.camera.heading}))):(t._unsubcribeFromPostRender&&(t._unsubcribeFromPostRender(),t._unsubcribeFromPostRender=void 0),t.showCompass=!1)}NavigationViewModel.prototype.setNavigationLocked=function(e){this.navigationLocked=e,this.controls&&this.controls.length>1&&this.controls[1].setNavigationLocked(this.navigationLocked)},this.eventHelper.add(this.terria.afterWidgetChanged,i,this),i()};NavigationViewModel.prototype.destroy=function(){this.eventHelper.removeAll()},NavigationViewModel.prototype.show=function(e){var t;this.enableZoomControls&&this.enableCompass?t='<div class="compass" title="" data-bind="visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick }"><div class="compass-outer-ring-background"></div> <div class="compass-rotation-marker" data-bind="visible: isOrbiting, style: { transform: \'rotate(-\' + orbitCursorAngle + \'rad)\', \'-webkit-transform\': \'rotate(-\' + orbitCursorAngle + \'rad)\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }"></div> <div class="compass-outer-ring" title="" data-bind="style: { transform: \'rotate(-\' + heading + \'rad)\', \'-webkit-transform\': \'rotate(-\' + heading + \'rad)\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }"></div> <div class="compass-gyro-background"></div> <div class="compass-gyro" data-bind="cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \'compass-gyro-active\': isOrbiting }"></div></div><div class="navigation-controls">\x3c!-- ko foreach: controls --\x3e<div data-bind="click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \'navigation-control-last\' : \'navigation-control\' ">   \x3c!-- ko if: $data.hasText --\x3e   <div data-bind="text: $data.text, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>   \x3c!-- /ko --\x3e  \x3c!-- ko ifnot: $data.hasText --\x3e  <div data-bind="cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>  \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e</div>':!this.enableZoomControls&&this.enableCompass?t='<div class="compass" title="" data-bind="visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick }"><div class="compass-outer-ring-background"></div> <div class="compass-rotation-marker" data-bind="visible: isOrbiting, style: { transform: \'rotate(-\' + orbitCursorAngle + \'rad)\', \'-webkit-transform\': \'rotate(-\' + orbitCursorAngle + \'rad)\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }"></div> <div class="compass-outer-ring" title="" data-bind="style: { transform: \'rotate(-\' + heading + \'rad)\', \'-webkit-transform\': \'rotate(-\' + heading + \'rad)\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }"></div> <div class="compass-gyro-background"></div> <div class="compass-gyro" data-bind="cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \'compass-gyro-active\': isOrbiting }"></div></div><div class="navigation-controls"  style="display: none;" >\x3c!-- ko foreach: controls --\x3e<div data-bind="click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \'navigation-control-last\' : \'navigation-control\' ">   \x3c!-- ko if: $data.hasText --\x3e   <div data-bind="text: $data.text, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>   \x3c!-- /ko --\x3e  \x3c!-- ko ifnot: $data.hasText --\x3e  <div data-bind="cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>  \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e</div>':this.enableZoomControls&&!this.enableCompass?t='<div class="compass"  style="display: none;" title="" data-bind="visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick }"><div class="compass-outer-ring-background"></div> <div class="compass-rotation-marker" data-bind="visible: isOrbiting, style: { transform: \'rotate(-\' + orbitCursorAngle + \'rad)\', \'-webkit-transform\': \'rotate(-\' + orbitCursorAngle + \'rad)\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }"></div> <div class="compass-outer-ring" title="" data-bind="style: { transform: \'rotate(-\' + heading + \'rad)\', \'-webkit-transform\': \'rotate(-\' + heading + \'rad)\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }"></div> <div class="compass-gyro-background"></div> <div class="compass-gyro" data-bind="cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \'compass-gyro-active\': isOrbiting }"></div></div><div class="navigation-controls"    >\x3c!-- ko foreach: controls --\x3e<div data-bind="click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \'navigation-control-last\' : \'navigation-control\' ">   \x3c!-- ko if: $data.hasText --\x3e   <div data-bind="text: $data.text, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>   \x3c!-- /ko --\x3e  \x3c!-- ko ifnot: $data.hasText --\x3e  <div data-bind="cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>  \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e</div>':this.enableZoomControls||this.enableCompass||(t='<div class="compass"  style="display: none;" title="" data-bind="visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick }"><div class="compass-outer-ring-background"></div> <div class="compass-rotation-marker" data-bind="visible: isOrbiting, style: { transform: \'rotate(-\' + orbitCursorAngle + \'rad)\', \'-webkit-transform\': \'rotate(-\' + orbitCursorAngle + \'rad)\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }"></div> <div class="compass-outer-ring" title="" data-bind="style: { transform: \'rotate(-\' + heading + \'rad)\', \'-webkit-transform\': \'rotate(-\' + heading + \'rad)\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }"></div> <div class="compass-gyro-background"></div> <div class="compass-gyro" data-bind="cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \'compass-gyro-active\': isOrbiting }"></div></div><div class="navigation-controls"   style="display: none;" >\x3c!-- ko foreach: controls --\x3e<div data-bind="click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \'navigation-control-last\' : \'navigation-control\' ">   \x3c!-- ko if: $data.hasText --\x3e   <div data-bind="text: $data.text, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>   \x3c!-- /ko --\x3e  \x3c!-- ko ifnot: $data.hasText --\x3e  <div data-bind="cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \'navigation-control-icon-active \' + $data.cssClass : $data.cssClass"></div>  \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e</div>'),loadView(t,e,this)},NavigationViewModel.prototype.add=function(e){this.controls.push(e)},NavigationViewModel.prototype.remove=function(e){this.controls.remove(e)},NavigationViewModel.prototype.isLastControl=function(e){return e===this.controls[this.controls.length-1]};var vectorScratch=new Cesium.Cartesian2;NavigationViewModel.prototype.handleMouseDown=function(e,t){if(this.terria.scene.mode===Cesium.SceneMode.MORPHING)return!0;if(e.navigationLocked)return!0;var i=t.currentTarget,n=t.currentTarget.getBoundingClientRect(),r=n.width/2,o=new Cesium.Cartesian2((n.right-n.left)/2,(n.bottom-n.top)/2),a=new Cesium.Cartesian2(t.clientX-n.left,t.clientY-n.top),s=Cesium.Cartesian2.subtract(a,o,vectorScratch),l=Cesium.Cartesian2.magnitude(s)/r;if(l<50/145)orbit(this,i,s);else{if(!(l<1))return!0;rotate(this,i,s)}};var oldTransformScratch=new Cesium.Matrix4,newTransformScratch=new Cesium.Matrix4,centerScratch=new Cesium.Cartesian3;function orbit(e,t,i){var n=e.terria.scene,r=n.screenSpaceCameraController;if(n.mode!==Cesium.SceneMode.MORPHING&&r.enableInputs){if(e.navigationLocked)return!0;switch(n.mode){case Cesium.SceneMode.COLUMBUS_VIEW:if(r.enableLook)break;if(!r.enableTranslate||!r.enableTilt)return;break;case Cesium.SceneMode.SCENE3D:if(r.enableLook)break;if(!r.enableTilt||!r.enableRotate)return;break;case Cesium.SceneMode.SCENE2D:if(!r.enableTranslate)return}document.removeEventListener("mousemove",e.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",e.orbitMouseUpFunction,!1),Cesium.defined(e.orbitTickFunction)&&e.terria.clock.onTick.removeEventListener(e.orbitTickFunction),e.orbitMouseMoveFunction=void 0,e.orbitMouseUpFunction=void 0,e.orbitTickFunction=void 0,e.isOrbiting=!0,e.orbitLastTimestamp=Cesium.getTimestamp();var o=n.camera;if(Cesium.defined(e.terria.trackedEntity))e.orbitFrame=void 0,e.orbitIsLook=!1;else{var a=Utils$2.getCameraFocus(e.terria,!0,centerScratch);Cesium.defined(a)?(e.orbitFrame=Cesium.Transforms.eastNorthUpToFixedFrame(a,n.globe.ellipsoid,newTransformScratch),e.orbitIsLook=!1):(e.orbitFrame=Cesium.Transforms.eastNorthUpToFixedFrame(o.positionWC,n.globe.ellipsoid,newTransformScratch),e.orbitIsLook=!0)}e.orbitTickFunction=function(t){var i,r=Cesium.getTimestamp(),a=(r-e.orbitLastTimestamp)*(2.5*(e.orbitCursorOpacity-.5)/1e3),s=e.orbitCursorAngle+CesiumMath.PI_OVER_TWO,l=Math.cos(s)*a,u=Math.sin(s)*a;if(e.navigationLocked)return!0;Cesium.defined(e.orbitFrame)&&(i=Cesium.Matrix4.clone(o.transform,oldTransformScratch),o.lookAtTransform(e.orbitFrame)),n.mode===Cesium.SceneMode.SCENE2D?o.move(new Cesium.Cartesian3(l,u,0),Math.max(n.canvas.clientWidth,n.canvas.clientHeight)/100*o.positionCartographic.height*a):e.orbitIsLook?(o.look(Cesium.Cartesian3.UNIT_Z,-l),o.look(o.right,-u)):(o.rotateLeft(l),o.rotateUp(u)),Cesium.defined(e.orbitFrame)&&o.lookAtTransform(i),e.orbitLastTimestamp=r},e.orbitMouseMoveFunction=function(e){var i=t.getBoundingClientRect(),n=new Cesium.Cartesian2((i.right-i.left)/2,(i.bottom-i.top)/2),r=new Cesium.Cartesian2(e.clientX-i.left,e.clientY-i.top);s(Cesium.Cartesian2.subtract(r,n,vectorScratch),i.width)},e.orbitMouseUpFunction=function(t){e.isOrbiting=!1,document.removeEventListener("mousemove",e.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",e.orbitMouseUpFunction,!1),Cesium.defined(e.orbitTickFunction)&&e.terria.clock.onTick.removeEventListener(e.orbitTickFunction),e.orbitMouseMoveFunction=void 0,e.orbitMouseUpFunction=void 0,e.orbitTickFunction=void 0},document.addEventListener("mousemove",e.orbitMouseMoveFunction,!1),document.addEventListener("mouseup",e.orbitMouseUpFunction,!1),e.terria.clock.onTick.addEventListener(e.orbitTickFunction),s(i,t.getBoundingClientRect().width)}function s(t,i){var n=Math.atan2(-t.y,t.x);e.orbitCursorAngle=CesiumMath.zeroToTwoPi(n-CesiumMath.PI_OVER_TWO);var r=Cesium.Cartesian2.magnitude(t),o=i/2,a=Math.min(r/o,1),s=.5*a*a+.5;e.orbitCursorOpacity=s}}function rotate(e,t,i){var n=e.terria.scene,r=n.camera,o=n.screenSpaceCameraController;if(n.mode!==Cesium.SceneMode.MORPHING&&n.mode!==Cesium.SceneMode.SCENE2D&&o.enableInputs){if(e.navigationLocked)return!0;if(o.enableLook||n.mode!==Cesium.SceneMode.COLUMBUS_VIEW&&(n.mode!==Cesium.SceneMode.SCENE3D||o.enableRotate)){if(document.removeEventListener("mousemove",e.rotateMouseMoveFunction,!1),document.removeEventListener("mouseup",e.rotateMouseUpFunction,!1),e.rotateMouseMoveFunction=void 0,e.rotateMouseUpFunction=void 0,e.isRotating=!0,e.rotateInitialCursorAngle=Math.atan2(-i.y,i.x),Cesium.defined(e.terria.trackedEntity))e.rotateFrame=void 0,e.rotateIsLook=!1;else{var a=Utils$2.getCameraFocus(e.terria,!0,centerScratch);Cesium.defined(a)&&(n.mode!==Cesium.SceneMode.COLUMBUS_VIEW||o.enableLook||o.enableTranslate)?(e.rotateFrame=Cesium.Transforms.eastNorthUpToFixedFrame(a,n.globe.ellipsoid,newTransformScratch),e.rotateIsLook=!1):(e.rotateFrame=Cesium.Transforms.eastNorthUpToFixedFrame(r.positionWC,n.globe.ellipsoid,newTransformScratch),e.rotateIsLook=!0)}var s;Cesium.defined(e.rotateFrame)&&(s=Cesium.Matrix4.clone(r.transform,oldTransformScratch),r.lookAtTransform(e.rotateFrame)),e.rotateInitialCameraAngle=-r.heading,Cesium.defined(e.rotateFrame)&&r.lookAtTransform(s),e.rotateMouseMoveFunction=function(i){var n,r=t.getBoundingClientRect(),o=new Cesium.Cartesian2((r.right-r.left)/2,(r.bottom-r.top)/2),a=new Cesium.Cartesian2(i.clientX-r.left,i.clientY-r.top),s=Cesium.Cartesian2.subtract(a,o,vectorScratch),l=Math.atan2(-s.y,s.x)-e.rotateInitialCursorAngle,u=CesiumMath.zeroToTwoPi(e.rotateInitialCameraAngle-l),c=e.terria.scene.camera;Cesium.defined(e.rotateFrame)&&(n=Cesium.Matrix4.clone(c.transform,oldTransformScratch),c.lookAtTransform(e.rotateFrame));var h=-c.heading;c.rotateRight(u-h),Cesium.defined(e.rotateFrame)&&c.lookAtTransform(n)},e.rotateMouseUpFunction=function(t){e.isRotating=!1,document.removeEventListener("mousemove",e.rotateMouseMoveFunction,!1),document.removeEventListener("mouseup",e.rotateMouseUpFunction,!1),e.rotateMouseMoveFunction=void 0,e.rotateMouseUpFunction=void 0},document.addEventListener("mousemove",e.rotateMouseMoveFunction,!1),document.addEventListener("mouseup",e.rotateMouseUpFunction,!1)}}}NavigationViewModel.prototype.handleDoubleClick=function(e,t){var i=e.terria.scene,n=i.camera,r=i.screenSpaceCameraController;if(i.mode===Cesium.SceneMode.MORPHING||!r.enableInputs)return!0;if(e.navigationLocked)return!0;if(i.mode!==Cesium.SceneMode.COLUMBUS_VIEW||r.enableTranslate){if(i.mode===Cesium.SceneMode.SCENE3D||i.mode===Cesium.SceneMode.COLUMBUS_VIEW){if(!r.enableLook)return;if(i.mode===Cesium.SceneMode.SCENE3D&&!r.enableRotate)return}var o=Utils$2.getCameraFocus(e.terria,!0,centerScratch);if(Cesium.defined(o)){var a=i.globe.ellipsoid.cartographicToCartesian(n.positionCartographic,new Cesium.Cartesian3),s=i.globe.ellipsoid.geodeticSurfaceNormal(o),l=new Cesium.BoundingSphere(o,0);n.flyToBoundingSphere(l,{offset:new Cesium.HeadingPitchRange(0,CesiumMath.PI_OVER_TWO-Cesium.Cartesian3.angleBetween(s,n.directionWC),Cesium.Cartesian3.distance(a,o)),duration:1.5})}else this.controls[1].resetView()}},NavigationViewModel.create=function(e){var t=new NavigationViewModel(e);return t.show(e.container),t};var CesiumEvent=Cesium.Event;Cesium.knockout;var CesiumNavigation=function(e){initialize.apply(this,arguments),this._onDestroyListeners=[]};function initialize(e,t){if(!Cesium.defined(e))throw new Cesium.DeveloperError("CesiumWidget or Viewer is required.");var i=Cesium.defined(e.cesiumWidget)?e.cesiumWidget:e,n=document.createElement("div");n.className="cesium-widget-cesiumNavigationContainer",i.container.appendChild(n),this.terria=e,this.terria.options=Cesium.defined(t)?t:{},this.terria.afterWidgetChanged=new CesiumEvent,this.terria.beforeWidgetChanged=new CesiumEvent,this.container=n,registerKnockoutBindings(),Cesium.defined(this.terria.options.enableDistanceLegend)&&!this.terria.options.enableDistanceLegend||(this.distanceLegendDiv=document.createElement("div"),n.appendChild(this.distanceLegendDiv),this.distanceLegendDiv.setAttribute("id","distanceLegendDiv"),this.distanceLegendViewModel=DistanceLegendViewModel.create({container:this.distanceLegendDiv,terria:this.terria,mapElement:n,enableDistanceLegend:!0})),Cesium.defined(this.terria.options.enableZoomControls)&&!this.terria.options.enableZoomControls||Cesium.defined(this.terria.options.enableCompass)&&!this.terria.options.enableCompass?!Cesium.defined(this.terria.options.enableZoomControls)||this.terria.options.enableZoomControls||Cesium.defined(this.terria.options.enableCompass)&&!this.terria.options.enableCompass?Cesium.defined(this.terria.options.enableZoomControls)&&!this.terria.options.enableZoomControls||!Cesium.defined(this.terria.options.enableCompass)||this.terria.options.enableCompass?Cesium.defined(this.terria.options.enableZoomControls)&&!this.terria.options.enableZoomControls&&Cesium.defined(this.terria.options.enableCompass)&&this.terria.options.enableCompass:(this.navigationDiv=document.createElement("div"),this.navigationDiv.setAttribute("id","navigationDiv"),n.appendChild(this.navigationDiv),this.navigationViewModel=NavigationViewModel.create({container:this.navigationDiv,terria:this.terria,enableZoomControls:!0,enableCompass:!1})):(this.navigationDiv=document.createElement("div"),this.navigationDiv.setAttribute("id","navigationDiv"),n.appendChild(this.navigationDiv),this.navigationViewModel=NavigationViewModel.create({container:this.navigationDiv,terria:this.terria,enableZoomControls:!1,enableCompass:!0})):(this.navigationDiv=document.createElement("div"),this.navigationDiv.setAttribute("id","navigationDiv"),n.appendChild(this.navigationDiv),this.navigationViewModel=NavigationViewModel.create({container:this.navigationDiv,terria:this.terria,enableZoomControls:!0,enableCompass:!0}))}function viewerCesiumNavigationMixin(e,t){if(!Cesium.defined(e))throw new Cesium.DeveloperError("viewer is required.");init(e,t).addOnDestroyListener(function(e){return function(){delete e.cesiumNavigation}}(e)),Object.defineProperties(e,{cesiumNavigation:{configurable:!0,get:function(){return e.cesiumWidget.cesiumNavigation}}})}CesiumNavigation.prototype.distanceLegendViewModel=void 0,CesiumNavigation.prototype.navigationViewModel=void 0,CesiumNavigation.prototype.navigationDiv=void 0,CesiumNavigation.prototype.distanceLegendDiv=void 0,CesiumNavigation.prototype.terria=void 0,CesiumNavigation.prototype.container=void 0,CesiumNavigation.prototype._onDestroyListeners=void 0,CesiumNavigation.prototype._navigationLocked=!1,CesiumNavigation.prototype.setNavigationLocked=function(e){this._navigationLocked=e,this.navigationViewModel.setNavigationLocked(this._navigationLocked)},CesiumNavigation.prototype.getNavigationLocked=function(){return this._navigationLocked},CesiumNavigation.prototype.destroy=function(){Cesium.defined(this.navigationViewModel)&&this.navigationViewModel.destroy(),Cesium.defined(this.distanceLegendViewModel)&&this.distanceLegendViewModel.destroy(),Cesium.defined(this.navigationDiv)&&this.navigationDiv.parentNode.removeChild(this.navigationDiv),delete this.navigationDiv,Cesium.defined(this.distanceLegendDiv)&&this.distanceLegendDiv.parentNode.removeChild(this.distanceLegendDiv),delete this.distanceLegendDiv,Cesium.defined(this.container)&&this.container.parentNode.removeChild(this.container),delete this.container;for(var e=0;e<this._onDestroyListeners.length;e++)this._onDestroyListeners[e]()},CesiumNavigation.prototype.addOnDestroyListener=function(e){"function"==typeof e&&this._onDestroyListeners.push(e)},viewerCesiumNavigationMixin.mixinWidget=function(e,t){return init.apply(void 0,arguments)};var init=function(e,t){var i=new CesiumNavigation(e,t),n=Cesium.defined(e.cesiumWidget)?e.cesiumWidget:e;return Object.defineProperties(n,{cesiumNavigation:{configurable:!0,get:function(){return i}}}),i.addOnDestroyListener(function(e){return function(){delete e.cesiumNavigation}}(n)),i},endCallback,canvas$2,ctx$2;class CesiumZh{constructor(){loadToolbar(),loadFullExtent(),loadVR(),loadFlyController()}}function getChineseMaps(){return{"Enter an address or landmark...":"请输入搜索地址...","View Home":"初始视图","Columbus View":"二维水平视图","2D":"二维垂直视图","3D":"三维视图","Navigation Instructions":"帮助",Imagery:"影像","Cesium ion":"推荐",Other:"其他",Terrain:"三维地形","Bing Maps Aerial":"必应航空地图","Bing Maps Aerial with Labels":"必应航空地图（带标注）","Bing Maps Roads":"必应道路地图","Sentinel-2":"哨兵卫星影像-2","Blue Marble":"蓝色弹珠","Earth at night":"地球之夜","Natural Earth&nbsp;II":"自然地球II","Mapbox Satellite":"Mapbox 卫星影像","Mapbox Streets":"Mapbox 道路","Mapbox Streets Classic":"Mapbox 道路（分类）","ESRI World Imagery":"ESRI 影像","ESRI World Street Map":"ESRI 道路","ESRI National Geographic":"ESRI 自然地理","Open­Street­Map":"Open­Street­Map矢量","Stamen Watercolor":"雄蕊彩色","Stamen Toner":"雄蕊黑白","WGS84 Ellipsoid":"WGS84 椭球","Cesium World Terrain":"Cesium 世界地形图","Bing Maps aerial imagery, provided by Cesium ion":"必应航空地图，Cesium提供","Bing Maps aerial imagery with labels, provided by Cesium ion":"必应航空地图（带标注），Cesium提供","Bing Maps standard road maps, provided by Cesium ion":"必应道路地图，Cesium推荐","Sentinel-2 cloudless by EOX IT Services GmbH (Contains modified Copernicus Sentinel data 2016 and 2017).":"哨兵卫星影像-2，由EOX IT服务有限公司提供无云话服务（包括修改2016-2017年的哥白尼定点数据）","Blue Marble Next Generation July, 2004 imagery from NASA.":"蓝色弹珠影像，美国宇航局2004年拍摄","The Earth at night, also known as The Black Marble, is a 500 meter resolution global composite imagery layer released by NASA.":"地球之夜，也被称为黑色大理石，是美国宇航局发布的一个500米分辨率的全球复合图像层。","Natural Earth II, darkened for contrast.\nhttp://www.naturalearthdata.com/":"自然地球II，变暗以形成对比\nhttp://www.naturalearthdata.com/","Mapbox satellite imagery https://www.mapbox.com/maps/":"Mapbox 卫星影像 https://www.mapbox.com/maps/","Mapbox streets imagery https://www.mapbox.com/maps/":"Mapbox 道路影像 https://www.mapbox.com/maps/","Mapbox streets basic imagery https://www.mapbox.com/maps/":"Mapbox 道路影像（分类）https://www.mapbox.com/maps/","World Imagery provides one meter or better satellite and aerial imagery in many parts of the world and lower resolution satellite imagery worldwide.  The map includes NASA Blue Marble: Next Generation 500m resolution imagery at small scales (above 1:1,000,000), i-cubed 15m eSAT imagery at medium-to-large scales (down to 1:70,000) for the world, and USGS 15m Landsat imagery for Antarctica. The map features 0.3m resolution imagery in the continental United States and 0.6m resolution imagery in parts of Western Europe from DigitalGlobe. In other parts of the world, 1 meter resolution imagery is available from GeoEye IKONOS, i-cubed Nationwide Prime, Getmapping, AeroGRID, IGN Spain, and IGP Portugal.  Additionally, imagery at different resolutions has been contributed by the GIS User Community.\nhttp://www.esri.com":"World Imagery在世界许多地方提供一米或更好的卫星和航空影像，并在全球范围内提供分辨率较低的卫星图像。 该地图包括美国宇航局蓝色大理石：小规模（1：1,000,000以上）的下一代500米分辨率图像，世界上大中型（低至1：70,000）的i-cubed 15米eSAT图像，以及USGS 15m Landsat 南极洲的图像。 该地图在美国大陆以0.3米分辨率图像为特色，在西欧部分地区以DigitalGlobe为0.6米分辨率图像。 在世界其他地方，可以从GeoEye IKONOS，i-cubed Nationwide Prime，Getmapping，AeroGRID，IGN Spain和IGP Portugal获得1米分辨率的图像。 此外，GIS用户社区也提供了不同分辨率的图像。\nhttp://www.esri.com","This worldwide street map presents highway-level data for the world. Street-level data includes the United States; much of Canada; Japan; most countries in Europe; Australia and New Zealand; India; parts of South America including Argentina, Brazil, Chile, Colombia, and Venezuela; Ghana; and parts of southern Africa including Botswana, Lesotho, Namibia, South Africa, and Swaziland.\nhttp://www.esri.com":"这张全球街道地图显示了世界各地的公路级数据。 街道数据包括美国; 加拿大大部分地区 日本; 欧洲大部分国家; 澳大利亚和新西兰; 印度; 南美洲的部分地区包括阿根廷，巴西，智利，哥伦比亚和委内瑞拉; 加纳; 和南部非洲的部分地区，包括博茨瓦纳，莱索托，纳米比亚，南非和斯威士兰。\nhttp://www.esri.com","This web map contains the National Geographic World Map service. This map service is designed to be used as a general reference map for informational and educational purposes as well as a basemap by GIS professionals and other users for creating web maps and web mapping applications.\nhttp://www.esri.com":"此Web地图包含国家地理世界地图服务。 此地图服务旨在用作信息和教育目的的一般参考地图，以及GIS专业人员和其他用户创建Web地图和Web地图应用程序的底图。\nhttp://www.esri.com","OpenStreetMap (OSM) is a collaborative project to create a free editable map of the world.\nhttp://www.openstreetmap.org":"OpenStreetMap（OSM）是一个协作项目，用于创建可自由编辑的世界地图。\nhttp://www.openstreetmap.org","Reminiscent of hand drawn maps, Stamen watercolor maps apply raster effect area washes and organic edges over a paper texture to add warm pop to any map.\nhttp://maps.stamen.com":"让人联想到手绘地图，雄蕊水彩地图在纸张纹理上应用栅格效果区域清洗和有机边缘，为任何地图添加温暖的流行。\nhttp://maps.stamen.com","A high contrast black and white map.\nhttp://maps.stamen.com":"高对比度的黑白地图。\nhttp://maps.stamen.com","WGS84 standard ellipsoid, also known as EPSG:4326":"WGS84标准椭球，又称EPSG：4326","High-resolution global terrain tileset curated from several datasources and hosted by Cesium ion":"高分辨率全球地形图块集由几个数据源组成，由Cesium ion托管",Mouse:"鼠标",Touch:"手势","Pan view":"平移视图","Left click + drag":"左键+拖拽","Zoom view":"缩放视图","Right click + drag, or":"右键+拖拽，或者","Mouse wheel scroll":"鼠标滚动滚动","Rotate view":"旋转视图","Middle click + drag, or":"中间滚动按下拖拽，或者","CTRL + Left/Right click + drag":"CTRL +左/右 单击+拖拽","One finger drag":"单指拽","Two finger pinch":"两指捏","Tilt view":"倾斜视图","Two finger drag, same direction":"双指拖动，方向相同","Two finger drag, opposite direction":"双指拖动，方向相反","Full screen":"全屏","Exit full screen":"退出全屏","Enter VR mode":"进入VR模式","Exit VR mode":"退出VR模式","Today (real-time)":"今天（实际时间）","Play Reverse":"逆时针播放","Play Forward":"顺时针播放",Pause:"暂停",cesium_description:"此应用程序使用Cesium的默认令牌访问。 在进行任何Cesium API调用之前，请使用您的帐户为Cesium.Ion.defaultAccessToken分配访问令牌。 您可以注册免费的Cesium帐户","Data attribution":"数据归属",Jan:"1月",Feb:"2月",Mar:"3月",Apr:"4月",May:"5月",Jun:"6月",Jul:"7月",Aug:"8月",Sep:"9月",Oct:"10月",Nov:"11月",Dec:"12月"}}function loadToolbar(){loadToolBarTitle(),loadBaseLayerPickerOfToolbar(),loadToolBarHelp()}function loadToolBarTitle(){var e=getChineseMaps();updateAttribute(document,e,"cesium-geocoder-input","placeholder"),updateAttributeByEvent(document,e,"cesium-sceneModePicker-button3D","title","onmouseover"),updateAttribute(document,e,"cesium-sceneModePicker-dropDown-icon","title"),updateAttribute(document,e,"cesium-home-button","title"),updateAttribute(document,e,"cesium-navigation-help-button","title")}function loadBaseLayerPickerOfToolbar(){var e=getChineseMaps(),t=document.getElementsByClassName("cesium-baseLayerPicker-dropDown");if(t.length>0){updateHtml(t=t[0],e,"cesium-baseLayerPicker-sectionTitle"),updateHtml(t,e,"cesium-baseLayerPicker-categoryTitle"),updateHtml(t,e,"cesium-baseLayerPicker-itemLabel"),updateAttribute(t,e,"cesium-baseLayerPicker-item","title");var i=document.getElementsByClassName("cesium-baseLayerPicker-selected");i.length>0&&(i[0].parentElement.onmouseover=function(t){var i=t.currentTarget.getAttribute("title").split("\n"),n="",r="";e[i[0]]?n+=e[i[0]]:n+=i[0],e[i[0]]?r+=e[i[1]]:r+=i[1],t.currentTarget.setAttribute("title",n+"\n"+r)})}}function loadToolBarHelp(){var e=getChineseMaps(),t=document.getElementsByClassName("cesium-navigation-button-left");t.length>0&&e[(t=t[0]).textContent]&&(t.innerHTML=t.children[0].outerHTML+e[t.textContent]);var i=document.getElementsByClassName("cesium-navigation-button-right");i.length>0&&e[(i=i[0]).textContent]&&(i.innerHTML=i.children[0].outerHTML+e[i.textContent]),updateHtml(document,e,"cesium-navigation-help-pan"),updateHtml(document,e,"cesium-navigation-help-details"),updateHtml(document,e,"cesium-navigation-help-zoom"),updateHtml(document,e,"cesium-navigation-help-rotate"),updateHtml(document,e,"cesium-navigation-help-tilt")}function loadFullExtent(){var e=getChineseMaps();updateAttributeByEvent(document,e,"cesium-fullscreenButton","title","onmouseover")}function loadVR(){var e=getChineseMaps();updateAttributeByEvent(document,e,"cesium-vrButton","title","onmouseover")}function loadFlyController(){var e=getChineseMaps(),t=document.getElementsByClassName("cesium-viewer-animationContainer");if(t.length>0){updateHtmlByTagName(t=t[0],e,"title");for(var i=t.getElementsByClassName("cesium-animation-svgText"),n=0;n<i.length;n++){3==(l=i[n].children[0].innerHTML.split(" ")).length?i[n].children[0].innerHTML=l[2]+"年"+e[l[0]]+l[1]+"日":2==l.length&&(i[n].children[0].innerHTML=l[0]+"标准时间",i[n].addEventListener("DOMNodeInserted",(function(e){(e=e||event).target.nodeValue=e.target.nodeValue.split(" ")[0]+"标准时间"})))}}var r=document.getElementsByClassName("cesium-credit-textContainer");if(r.length>0){var o=function(t){t=t||event,r[0].removeEventListener("DOMNodeInserted",o),r[0].children.length>0&&r[0].children[0].children.length>0&&(r[0].children[0].children[0].innerHTML=e.cesium_description)};r[0].addEventListener("DOMNodeInserted",o)}updateHtml(document,e,"cesium-credit-expand-link");var a=document.getElementsByClassName("cesium-timeline-bar");if(a.length>0){(a=a[0]).addEventListener("DOMNodeInserted",(function(t){if(3!=(t=t||event).target.nodeType&&"cesium-timeline-ticLabel"==t.target.getAttribute("class")){var i=t.target.innerHTML.split(" ");if(i.length>3){var n=i[2]+"年"+e[i[0]]+i[1]+"日 "+i[3];t.target.innerHTML=n}}}));var s=a.getElementsByClassName("cesium-timeline-ticLabel");for(n=0;n<s.length;n++){var l;if((l=s[n].innerHTML.split(" ")).length>3){var u=l[2]+"年"+e[l[0]]+l[1]+"日 "+l[3];s[n].innerHTML=u}}}}function updateHtml(e,t,i){e||(e=document);for(var n=e.getElementsByClassName(i),r=0;r<n.length;r++)t[n[r].innerHTML]&&(n[r].innerHTML=t[n[r].innerHTML])}function updateHtmlByTagName(e,t,i){e||(e=document);for(var n=e.getElementsByTagName(i),r=0;r<n.length;r++)t[n[r].innerHTML]&&(n[r].innerHTML=t[n[r].innerHTML])}function updateAttribute(e,t,i,n){e||(e=document);for(var r=e.getElementsByClassName(i),o=0;o<r.length;o++)t[r[o].getAttribute(n)]&&r[o].setAttribute(n,t[r[o].getAttribute(n)])}function updateAttributeByEvent(e,t,i,n,r){var o=e.getElementsByClassName(i);if(o.length>0)for(var a=0;a<o.length;a++)o[a][r]=function(e){var i=e.currentTarget.getAttribute(n);t[i]&&e.currentTarget.setAttribute(n,t[i])}}class MouseLocationControl{constructor(e){this.options=e||{},this.mouseLocation=null}onAdd(e){var t=this.options,i=e.viewer,n=document.createElement("div");n.className="location-bar animation-slide-bottom no-print",n.id="location_globe_jwd",n.innerHTML='<div id="location_globe_camera" ></div>\n        <div id="location_globe_height" ></div>\n        <div id="location_globe_lat" ></div>\n        <div id="location_globe_lon" ></div>\n        <div id="globe_msgbar" style="min-width: 0px;" ></div>',i._container.appendChild(n),t.style?document.getElementById("location_globe_jwd").classList.add(t.style):document.getElementById("location_globe_jwd").style="right:0;bottom:"+(i.timeline?"25px":"0")+";",new Cesium.ScreenSpaceEventHandler(i.scene.canvas).setInputAction((function(e){var n=latlng$1.getCurrentMousePosition(i.scene,e.endPosition);if(n){var r=Cesium.Cartographic.fromCartesian(n),o=Cesium.Math.toDegrees(r.longitude),a=Cesium.Math.toDegrees(r.latitude),s=r.height,l={};switch(t.crs){default:var u=t.hasOwnProperty("toFixed")?t.toFixed:6;l.x=o.toFixed(u),l.y=a.toFixed(u);break;case"degree":l.x=util$1.formatDegree(o),l.y=util$1.formatDegree(a);break;case"project":u=t.hasOwnProperty("toFixed")?t.toFixed:0;l.x=n.x.toFixed(u),l.y=n.y.toFixed(u);break;case"wgs":u=t.hasOwnProperty("toFixed")?t.toFixed:6;var c=point2wgs$1({x:o,y:a});l.x=c.x.toFixed(u),l.y=c.y.toFixed(u);break;case"wgs-degree":c=point2wgs$1({x:o,y:a});l.x=util$1.formatDegree(c.x),l.y=util$1.formatDegree(c.y)}document.getElementById("location_globe_lon").innerHTML="经度："+l.x,document.getElementById("location_globe_lat").innerHTML="纬度："+l.y,0!=s&&s>-500&&(document.getElementById("location_globe_height").innerHTML="海拔："+s.toFixed(1)+"米")}else document.getElementById("location_globe_lon").innerHTML="",document.getElementById("location_globe_lat").innerHTML="",document.getElementById("location_globe_height").innerHTML=""}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),i.scene.camera.changed.addEventListener((function(e){var t="视点高："+i.camera.positionCartographic.height.toFixed(1)+"米";document.getElementById("location_globe_camera").innerHTML=t})),this.mouseLocation=document.getElementById("location_globe_jwd")}onRemove(e){this.mouseLocation.parentNode.removeChild(this.mouseLocation),this.mouseLocation=null}}function point2wgs$1(e){if("gcj"==crs){var t=util$1.clone(e),i=pointconvert$2.gcj2wgs([t.x,t.y]);return t.x=i[0],t.y=i[1],t}return e}class mouseEvent{constructor(e){if(e){this.viewer=e;var t=new Cesium.ScreenSpaceEventHandler(e.canvas);e.handler=t,this.handlerOptions={callback:{}};var i=this;this.viewer.on=function(e,t){i.handlerOptions.callback[e]||(i.handlerOptions.callback[e]=[]),0==i.handlerOptions.callback[e].length&&i.mouseFun(e);var n="_"+guid(),r={name:n,type:e,fun:t,remove:function(){i.viewer.off(e,n)}};return i.handlerOptions.callback[e].push(r),r},this.viewer.off=function(e,t){i.handlerOptions.callback[e]&&0!=i.handlerOptions.callback[e].length&&(i.handlerOptions.callback[e]="string"==typeof t?i.handlerOptions.callback[e].filter((function(e){return e.name!=t})):i.handlerOptions.callback[e].filter((function(e){return e.fun!=t})),0==i.handlerOptions.callback[e].length&&i.viewer.handler.removeInputAction(e))}}}mouseFun(e){var t=this;t.viewer.handler.removeInputAction(e),t.viewer.handler.setInputAction((function(i){switch(e){case XLGlobe.MouseEventType.LEFT_DOWN:case XLGlobe.MouseEventType.LEFT_UP:case XLGlobe.MouseEventType.LEFT_CLICK:case XLGlobe.MouseEventType.LEFT_DOUBLE_CLICK:case XLGlobe.MouseEventType.RIGHT_DOWN:case XLGlobe.MouseEventType.RIGHT_UP:case XLGlobe.MouseEventType.RIGHT_CLICK:case XLGlobe.MouseEventType.MIDDLE_DOWN:case XLGlobe.MouseEventType.MIDDLE_UP:case XLGlobe.MouseEventType.MIDDLE_CLICK:t.leftClick(i,e);break;case XLGlobe.MouseEventType.MOUSE_MOVE:t.mouseMove(i,e);break;default:t.otherfun(i,e)}}),e)}leftClick(e,t){var i=this,n={event:e,windowPosition:e.position},r=i.viewer.scene.pick(e.position);n.feature=r;var o=i.viewer.scene.drillPick(e.position);n.features=o;var a=i.viewer.scene.pickPosition(e.position);n.surfacePosition=latlng$1.Cartesian3To(a);var s=i.viewer.camera.getPickRay(e.position),l=i.viewer.scene.globe.pick(s,i.viewer.scene);n.trePosition=latlng$1.Cartesian3To(l);var u=i.handlerOptions.callback[t];if(u.length>0)for(var c=0;c<u.length;c++)u[c].fun(n)}mouseMove(e,t){var i=this,n={event:e,windowPosition:e.endPosition},r=i.viewer.scene.pick(e.endPosition);n.feature=r;var o=i.viewer.scene.drillPick(e.endPosition);n.features=o;var a=i.viewer.scene.pickPosition(e.endPosition);n.surfacePosition=latlng$1.Cartesian3To(a);var s=i.viewer.camera.getPickRay(e.endPosition),l=i.viewer.scene.globe.pick(s,i.viewer.scene);n.trePosition=latlng$1.Cartesian3To(l);var u=i.handlerOptions.callback[t];if(u.length>0)for(var c=0;c<u.length;c++)u[c].fun(n)}otherfun(e,t){var i=e,n=this.handlerOptions.callback[t];if(n.length>0)for(var r=0;r<n.length;r++)n[r].fun(i)}}class Globe$1{constructor(e,t){var i={geocoder:!1,homeButton:!1,sceneModePicker:!1,navigationHelpButton:!1,animation:!1,infoBox:!1,timeline:!1,fullscreenButton:!1,logo:!0,baselayervis:!0,hasMouseZomm:!0,crs:"3857",navigation:!1,ZoomControls:!1,DistanceLegend:!1,defaultResetView:Cesium.Camera.DEFAULT_VIEW_RECTANGLE,CompassOuterRing:!1,mouseLocation:!1};(i=Object.assign(i,t)).baseLayerPicker||(i.baselayervis=!1,i.baseLayerPicker=!0),i.imageryProviderViewModels||(i.imageryProviderViewModels=[]),i.terrainProviderViewModels||(i.terrainProviderViewModels=[]),Cesium.Ion&&i.ionToken&&(Cesium.Ion.defaultAccessToken=i.ionToken||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1NjM5MjMxOS1lMWVkLTQyNDQtYTM4Yi0wZjA4ZDMxYTlmNDMiLCJpZCI6MTQ4MiwiaWF0IjoxNTI4Njc3NDQyfQ.vVoSexHMqQhKK5loNCv6gCA5d5_z3wE2M0l_rWnIP_w");var n={},r=new Cesium.Viewer(e,i);if(i.defaultResetView&&(Cesium.Camera.DEFAULT_VIEW_RECTANGLE=i.defaultResetView),i.navigation||i.ZoomControls||i.DistanceLegend){var o={};o.defaultResetView=i.defaultResetView?i.defaultResetView:Cesium.Camera.DEFAULT_VIEW_RECTANGLE,o.enableCompass=!!i.navigation&&i.navigation,o.enableZoomControls=!!i.ZoomControls&&i.ZoomControls,o.enableDistanceLegend=!!i.DistanceLegend&&i.DistanceLegend,o.enableCompassOuterRing=!!i.CompassOuterRing&&i.CompassOuterRing,viewerCesiumNavigationMixin(r,o)}var a=5;if(document.getElementsByClassName("compass").length>0&&"none"!=document.getElementsByClassName("compass")[0].style.display&&(document.getElementsByClassName("compass")[0].style.top=a+"px",a+=95),document.getElementsByClassName("navigation-controls").length>0&&"none"!=document.getElementsByClassName("navigation-controls")[0].style.display&&(document.getElementsByClassName("navigation-controls")[0].style.top=a+"px",a=a+document.getElementsByClassName("navigation-controls")[0].offsetHeight+5),document.getElementsByClassName("cesium-viewer-toolbar").length>0&&"none"!=document.getElementsByClassName("cesium-viewer-toolbar")[0].style.display&&(document.getElementsByClassName("cesium-viewer-toolbar")[0].style.top=a+"px",a=a+document.getElementsByClassName("cesium-viewer-toolbar")[0].offsetHeight+5),document.getElementsByClassName("cesium-viewer-fullscreenContainer").length>0&&"none"!=document.getElementsByClassName("cesium-viewer-fullscreenContainer")[0].style.display&&(document.getElementsByClassName("cesium-viewer-fullscreenContainer")[0].style.top=a+"px",a+=38),document.getElementsByClassName("cesium-viewer-vrContainer").length>0&&"none"!=document.getElementsByClassName("cesium-viewer-vrContainer")[0].style.display&&(document.getElementsByClassName("cesium-viewer-vrContainer")[0].style.top=a+"px",a+=38),i.logo||(r._cesiumWidget._creditContainer.style.display="none"),i.baselayervis||(r.baseLayerPicker._element.style.display="none"),i.imageryProvider||i.imageryProviderViewModels||(r.imageryLayers.get(0).show=!1),n.config=i,n.viewer=r,n.baseLayerList=i.imageryProviderViewModels,n.terrainLayerList=i.terrainProviderViewModels,n.layerList=[],n.tiles3dLayerList=[],n.geojsonLayerList=[],n.addBaseLayer=addBaseLayer,n.addTerrainLayer=addTerrainLayer,n.getCenter=_getCenter,n.getBaseLayers=getBaseLayer,n.changeBaseLayer=changeBaseLayer,n.getTerrainLayer=getTerrainLayer,n.changeTerrainLayer=changeTerrainLayer,n.hasTerrain=hasTerrain,n.closeTerrain=closeTerrain,n.addLayer=addLayer,n.getLayer=getLayer,n.removeLayer=removeLayer,n.centerAt=centerAt,n.flyTo=flyTo,n.animationFly=animationFly,n.getCrs=getCrs,n.point2map=point2map,n.point2wgs=point2wgs,n.addControl=addControl,n.removeControl=removeControl,n.setAnimation=setAnimation,n.viewer.centerAt=centerAt2,n.viewer.Globe={layerList:n.layerList,terrainLayerList:n.terrainLayerList,baseLayerList:n.baseLayerList,tiles3dLayerList:n.tiles3dLayerList,geojsonLayerList:n.geojsonLayerList,config:i},newui(n),i.mouseLocation){var s=new MouseLocationControl({});n.addControl(s)}return new mouseEvent(n.viewer),n}}function setAnimation(){var e=0-(new Date).getTimezoneOffset();this.viewer.animation.viewModel.timeFormatter=function(t,i){var n=Cesium.JulianDate.addMinutes(t,e,new Cesium.JulianDate),r=Cesium.JulianDate.toGregorianDate(n);return Math.round(r.millisecond),Math.abs(i._clockViewModel.multiplier)<1?Cesium.sprintf("%02d:%02d:%02d.%03d;",r.hour,r.minute,r.second):Cesium.sprintf("%02d:%02d:%02d GMT+8",r.hour,r.minute,r.second)}}function newui(e){var t=document.createElement("div");t.className="rjmap_control",document.getElementsByClassName("cesium-viewer")[0].appendChild(t),document.getElementsByClassName("cesium-credit-logoContainer")[0].style.display="none";var i=document.createElement("div");i.className="cesium-credit-logoContainer2",i.style="display: inline;",i.innerHTML='\n        <div style="display: inline;">\n            <a href="http://www.ruijiu.com/" target="_blank">\n                <img title="XLGlobe" style="width: 88px;height: 23px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABiCAYAAADqWO7dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAA4M2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMjAtMTAtMTBUMDk6Mzg6MzArMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAyMC0xMC0xMFQwOTo0NjowOCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMjAtMTAtMTBUMDk6NDY6MDgrMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ODg2ODlhMDctOTQ2My02YzRkLTk4ZDctNmY0ZGViZDhiN2MyPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDg0MjhhMjYtMGE5OS0xMWViLTg4YjQtZmY4ZTdlODdkYTE3PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6ODg2ODlhMDctOTQ2My02YzRkLTk4ZDctNmY0ZGViZDhiN2MyPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg4Njg5YTA3LTk0NjMtNmM0ZC05OGQ3LTZmNGRlYmQ4YjdjMjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAyMC0xMC0xMFQwOTozODozMCswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjk2MDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+OTYwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4zMDA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+OTg8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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">\n            </a>\n        </div>\n        ',document.getElementsByClassName("cesium-credit-logoContainer").length>0&&document.getElementsByClassName("cesium-credit-logoContainer")[0].after(i),document.getElementsByClassName("cesium-navigation-help-button").length>0&&(document.getElementsByClassName("cesium-navigation-help-button")[0].innerHTML='<svg class="cesium-svgPath-svg" width="26" height="26" viewBox="0 0 1024 1024" version="1.1" p-id="2422" width="32" height="32"><path d="M800.9 361.7c0 22.5-3.3 43.5-9.7 63.1s-13.8 35.5-21.8 47.9c-8.2 12.4-19.6 24.7-34.5 37.2-14.9 12.5-26.8 21.6-35.9 27.2-9.2 5.7-21.8 13-38.1 22.2-17.1 9.6-31.4 23.1-42.9 40.6-11.4 17.5-17.2 31.4-17.2 42 0 7.1-2.5 13.8-7.5 20.4-5 6.4-10.8 9.7-17.5 9.7h-150c-6.3 0-11.6-3.8-15.9-11.6-4.3-7.8-6.6-15.5-6.6-23.4v-28c0-34.6 13.5-67.2 40.6-97.8 27.1-30.6 56.9-53.3 89.4-67.9 24.6-11.3 42.1-22.9 52.5-35s15.7-27.9 15.7-47.5c0-17.5-9.7-32.9-29.1-46.3-19.3-13.3-41.8-20-67.2-20-27.1 0-49.6 6-67.6 18.1-14.6 10.4-37 34.5-66.9 71.9-5.4 6.7-11.8 10-19.3 10-5 0-10.3-1.7-15.7-5l-102.6-78.1c-5.4-4.2-8.7-9.3-9.7-15.7-1.1-6.3 0.1-12.1 3.4-17.5C293.5 167.5 390.3 112 517 112c33.4 0 66.9 6.4 100.7 19.3s64.2 30.2 91.3 51.9c27.1 21.7 49.2 48.3 66.3 79.7 17.1 31.2 25.6 64.3 25.6 98.8zM603.4 737v150c0 6.7-2.5 12.5-7.5 17.5s-10.8 7.5-17.5 7.5H428.3c-6.7 0-12.5-2.5-17.5-7.5s-7.5-10.8-7.5-17.5V737c0-6.7 2.5-12.5 7.5-17.5s10.8-7.5 17.5-7.5h150.1c6.7 0 12.5 2.5 17.5 7.5s7.5 10.7 7.5 17.5z" p-id="2423" fill="#ffffff"></path></svg>'),new CesiumZh,zoomStyle(e)}function zoomStyle(e){if(e.config.hasMouseZomm){var t=document.createElement("div");t.className="cesium-mousezoom",t.innerHTML='<div class="zoomimg"></div>',e.viewer._container.appendChild(t);var i=new Cesium.ScreenSpaceEventHandler(e.viewer.scene.canvas);i.setInputAction((function(e){document.getElementsByClassName("cesium-mousezoom")[0].classList.add("cesium-mousezoom-visible"),setTimeout((function(){document.getElementsByClassName("cesium-mousezoom")[0].classList.remove("cesium-mousezoom-visible")}),200)}),Cesium.ScreenSpaceEventType.WHEEL),i.setInputAction((function(t){document.getElementsByClassName("cesium-mousezoom")[0].style="top:"+(t.endPosition.y+e.viewer.container.offsetTop)+"px;left:"+(t.endPosition.x+e.viewer.container.offsetLeft)+"px;"}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}}function _getCenter(e){return getCenter$2(this.viewer,e)}function getBaseLayer(e){if(e){if("string"==typeof e){for(var t=this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels,i=[],n=0;n<t.length;n++)t[n].name==e&&i.push(t[n]);return i}return this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels[e]}return this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels}function changeBaseLayer(e){if(this.viewer.baseLayerPicker&&this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels&&this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels.length>0)if("string"==typeof e)for(var t=this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels,i=0;i<t.length;i++)t[i].name==e&&(this.viewer.baseLayerPicker.viewModel.selectedImagery=t[i]);else this.viewer.baseLayerPicker.viewModel.selectedImagery=this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels[e]}function addBaseLayer(e,t){!(t=t||{}).name&&(t.name="地图"),!t.tooltip&&(t.tooltip="无"),!t.iconUrl&&(t.iconUrl=""),t.creationFunction=function(){return e};var i=new Cesium.ProviderViewModel(t);this.baseLayerList||(this.baseLayerList=[]),this.baseLayerList.push(i),this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels=this.baseLayerList,1==this.baseLayerList.length&&(this.viewer.baseLayerPicker.viewModel.selectedImagery=this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels[0])}function addTerrainLayer(e,t){(t=t||{}).creationFunction=function(){return e};var i=new Cesium.ProviderViewModel(t);this.terrainLayerList||(this.terrainLayerList=[]),this.terrainLayerList.push(i),this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels=this.terrainLayerList,1==this.terrainLayerList.length&&(this.viewer.baseLayerPicker.viewModel.selectedTerrain=this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels[0])}function getTerrainLayer(e){if(e){if("string"==typeof e){for(var t=this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels,i=[],n=0;n<t.length;n++)t[n].name==e&&i.push(t[n]);return i}return this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels[e]}return this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels}function changeTerrainLayer(e){if(this.viewer.baseLayerPicker&&this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels&&this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels.length>0)if("string"==typeof e)for(var t=this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels,i=0;i<t.length;i++)t[i].name==e&&(this.viewer.baseLayerPicker.viewModel.selectedTerrain=t[i]);else this.viewer.baseLayerPicker.viewModel.selectedTerrain=this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels[e]}function hasTerrain(){return!!this.viewer.baseLayerPicker.viewModel.selectedTerrain}function closeTerrain(){this.viewer.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})}function addLayer(e){var t=new TileLayer({},this.viewer),i=this.viewer.imageryLayers.addImageryProvider(e);return i.config=e.config,t.layer=i,t.config=e.config,t.name=e.config.name,t._visible=e.show,this.layerList.push(t),t}function getLayer(e,t){if(this.layerList&&this.layerList.length>0){if(e){for(var i=[],n=0;n<this.layerList.length;n++){var r=null;"layerid"!=t?r=this.layerList[n].name:this.layerList[n].layer&&(r=this.layerList[n].layer.imageryProvider.layerid),r==e&&i.push(this.layerList[n])}return i}return this.layerList}}function removeLayer(e,t){if(this.layerList&&this.layerList.length>0&&e)for(var i=0;i<this.layerList.length;i++){var n=null;if("layerid"!=t?n=this.layerList[i].name:this.layerList[i].layer&&(n=this.layerList[i].layer.imageryProvider.layerid),n==e){if(this.layerList[i]._layers)for(var r=0;r<this.layerList[i]._layers.length;r++)this.viewer.imageryLayers.remove(this.layerList[i]._layers[r].layer);else this.viewer.imageryLayers.remove(this.layerList[i]);this.layerList.splice(i,1)}}}function centerAt(e,t,i,n,r,o){this.viewer.camera.setView({destination:Cesium.Cartesian3.fromDegrees(e,t,i),orientation:{pitch:Cesium.Math.toRadians(r||-90),roll:Cesium.Math.toRadians(o||0),heading:Cesium.Math.toRadians(n||0)}})}function flyTo(e,t,i,n,r,o,a){this.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e,t,i||0),orientation:{heading:Cesium.Math.toRadians(n||0),pitch:Cesium.Math.toRadians(r||-Cesium.Math.PI_OVER_FOUR),roll:Cesium.Math.toRadians(o||0)},duration:a||2})}function animationFly(e,t,i,n,r,o,a){var s=this,l=113,u=0,c=window.setInterval((function(){(l-=2)<=-177&&(l=180,u=1),1==u&&l>e-1&&l<e+1&&(s.flyTo(e,t,i,n,-80,o,a||0),setTimeout((()=>{s.flyTo(e,t,i,n,r,o)}),3200),clearInterval(c)),s.viewer.scene.camera.setView({destination:new Cesium.Cartesian3.fromDegrees(l,30,2e7)})}),10)}function getCrs(){return this.config.crs}function point2map(e,t){if(t||(t=this.config.crs),"gcj"==t){var i=util$1.clone(e),n=pointconvert$2.wgs2gcj([i.x,i.y]);return i.x=n[0],i.y=n[1],i}return e}function point2wgs(e){if(crs||(crs=this.config.crs),"gcj"==crs){var t=util$1.clone(e),i=pointconvert$2.gcj2wgs([t.x,t.y]);return t.x=i[0],t.y=i[1],t}return e}function centerAt2(e,t){var i=this;if(null==t?t={}:util$1.isNumber(t)&&(t={duration:t}),null==e&&(t.isWgs84=!0,e=configdata.extent||configdata.center),e.xmin&&e.xmax&&e.ymin&&e.ymax){var n=e.xmin,r=e.xmax,o=e.ymin,a=e.ymax;if(t.isWgs84){var s=point2map({x:n,y:o},i.Globe.config.crs);n=s.x,o=s.y;var l=point2map({x:r,y:a},i.Globe.config.crs);r=l.x,a=l.y}var u=Cesium.Rectangle.fromDegrees(n,o,r,a);i.camera.flyTo({destination:u,duration:t.duration,complete:t.complete})}else{t.isWgs84&&(e=point2map(e,i.Globe.config.crs));var c=t.minz||2500;i.camera.positionCartographic.height<c&&(c=i.camera.positionCartographic.height),null!=e.z&&0!=e.z&&(c=e.z),i.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e.x,e.y,c),orientation:{heading:Cesium.Math.toRadians(e.heading||0),pitch:Cesium.Math.toRadians(e.pitch||-90),roll:Cesium.Math.toRadians(e.roll||0)},duration:t.duration,complete:t.complete})}}function addControl(e){e.onAdd(this)}function removeControl(e){e.onRemove(this)}function createMap(e){var t=e.url;return e.url?(fetch(t).then((function(e){return e.json()})).then((function(t){var i=t.map;t.serverURL&&(i.serverURL=t.serverURL),e.serverURL&&(i.serverURL=e.serverURL),createMapByData(e,i,t)})).catch((function(t){console.log("Json文件"+e.url+"加载失败！"),XLGlobe.eDialog.msg("Json文件"+e.url+"加载失败！")})),null):(e.serverURL&&e.data&&(e.data.serverURL=e.serverURL),createMapByData(e,e.data))}function createMapByData(e,t,i){if(null!=t){var n=_map(e.id,t,e),r={};return r.config=t,n.gisdata=r,e.success&&e.success(n,r,i),n}console.log("配置信息不能为空！")}function _map(id,config,options){var Globe,viewer,configdata;configdata=config;var defoptions={geocoder:!1,homeButton:!1,sceneModePicker:!1,navigationHelpButton:!1,animation:!1,infoBox:!1,timeline:!1,fullscreenButton:!1,logo:!0,BaseLayerPicker:!0,baselayervis:!0,hasMouseZomm:!0,navigation:!1,ZoomControls:!1,DistanceLegend:!1,defaultResetView:Cesium.Camera.DEFAULT_VIEW_RECTANGLE,CompassOuterRing:!1,mouseLocation:!1,vrButton:!1,navigationInstructionsInitiallyVisible:!1,selectionIndicator:!1,shouldAnimate:!1};for(var key in configdata)"crs"!==key&&"controls"!==key&&"minzoom"!==key&&"maxzoom"!==key&&"center"!==key&&"style"!==key&&"terrain"!==key&&"basemaps"!==key&&"operationallayers"!==key&&"isanimationFly"!==key&&(defoptions[key]=configdata[key]);for(var i in null!=defoptions.defaultResetView.length&&(3==defoptions.defaultResetView.length?defoptions.defaultResetView=Cesium.Cartographic.fromDegrees(defoptions.defaultResetView[0],defoptions.defaultResetView[1],defoptions.defaultResetView[2]):4==defoptions.defaultResetView.length&&(defoptions.defaultResetView=Cesium.Rectangle.fromDegrees(defoptions.defaultResetView[0],defoptions.defaultResetView[1],defoptions.defaultResetView[2],defoptions.defaultResetView[3]))),null==options&&(options={}),defoptions)options.hasOwnProperty(i)||(options[i]=defoptions[i]);function getBasemap(basemaps){var basemapsProvider=[];window.DGLw={};for(var i=0;i<basemaps.length;i++){var cfg=basemaps[i];for(var key in cfg)if("name"==key||"tooltip"==key||"icon"==key||"creationFunction"==key)try{eval(cfg[key]),cfg[key]=eval(cfg[key])}catch(e){}if(cfg.url&&(configdata.serverURL&&(cfg.url=cfg.url.replace("$serverURL$",configdata.serverURL)),cfg.url=cfg.url.replace("$hostname$",location.hostname).replace("$host$",location.host)),cfg.proxy&&"default"==cfg.proxy&&(cfg.proxy=new Cesium.DefaultProxy("/proxy/")),cfg.creationFunction)cfg.creationFunction=eval(cfg.creationFunction);else{var cfgstr="";for(var key in cfgstr+=`window.DGLw._bmap${i}=function () {\n                       return new XLGlobe.Layer.createImageryProvider({`,cfg)if("name"!=key&&"tooltip"!=key&&"icon"!=key&&"category"!=key){"[object Object]"!=Object.prototype.toString(cfg[key])&&"[object Array]"!=Object.prototype.toString.call(cfg[key])||(cfg[key]=JSON.stringify(cfg[key]));try{eval(cfg[key])}catch(e){cfg[key]='"'+cfg[key]+'"'}cfgstr+=key+":"+cfg[key]+","}cfgstr+="});}",eval(cfgstr),cfg.creationFunction=eval("window.DGLw._bmap"+i)}basemapsProvider.push(new Cesium.ProviderViewModel({name:cfg.name||"未命名",tooltip:cfg.tooltip||"未命名",category:cfg.category||"",iconUrl:cfg.icon||'<svg xmlns="http://www.w3.org/2000/svg"><path d="M512 64C265 64 64 265.1 64 512.2 64 759.1 265 960 512 960s448-200.9 448-447.8C960 265.1 759 64 512 64z m-68.9 66.2c-38.2 35-86.2 89.7-121.1 165.9-42.1-20.5-70.4-43.4-85.4-57.3 56.2-56.5 128.8-94.5 206.5-108.6zM208.7 269.9c17.1 16.1 49.6 42.6 97.4 65.5-17.6 49.1-27.4 101.5-29.4 155.9H124.4c4.3-81.3 33.3-157.7 84.3-221.4z m-84.3 262.9h152.3c2 54.3 11.9 106.8 29.4 155.9-47.8 22.9-80.4 49.5-97.4 65.3-51-63.5-80-139.9-84.3-221.2z m112.2 252.5c14.9-13.9 43.1-36.7 85.4-57.3 34.9 76.3 82.8 130.9 121.1 165.8-77.7-14.1-150.3-52-206.5-108.5z m254.6 94.4c-34.8-28.6-90.8-84.2-130-168.3 40.7-14.8 84.4-23.5 130-25.5v193.8z m0-235.5c-51.5 2-100.5 11.5-146 28.2-15.9-44.2-24.9-91.1-26.9-139.6h172.9v111.4z m0-152.9H318.3c2-48.6 11-95.5 26.9-139.5 45.5 16.6 94.6 26 146 27.9v111.6z m0-153.2c-45.8-2.1-89.4-10.6-130-25.4 39.1-83.9 95.2-139.7 130-168.4v193.8z m408.4 153.2H747.4c-2.1-54.6-11.9-106.9-29.5-155.9 47.8-22.9 80.3-49.4 97.5-65.5 50.8 63.7 79.8 140 84.2 221.4zM787.4 238.7c-14.9 13.9-43.3 36.8-85.5 57.3-34.9-76.2-82.8-130.9-121-165.9 77.8 14.2 150.4 52.2 206.5 108.6z m-254.6-94.4c34.7 28.8 90.9 84.5 130 168.4-40.7 14.8-84.3 23.3-130 25.4V144.3z m0 235.4c51.4-1.9 100.4-11.3 146-27.9 15.9 44.3 24.9 91.1 26.9 139.5H532.8V379.7z m0 153.1h172.9c-2 48.3-11 95.3-26.9 139.6-45.5-16.7-94.5-26.2-146-28.2V532.8z m0 346.9V685.9c45.6 2 89.2 10.6 130 25.5-39.2 84.1-95.3 139.7-130 168.3z m48.1 14c38.2-34.9 86.1-89.5 121-165.8 42.3 20.7 70.6 43.6 85.5 57.3-56.2 56.6-128.8 94.5-206.5 108.5zM815.3 754c-17.1-15.8-49.6-42.3-97.5-65.3 17.6-49.1 27.4-101.4 29.5-155.9h152.2c-4.3 81.3-33.3 157.7-84.2 221.2z" fill="#000000" p-id="3871"></path></svg>',creationFunction:cfg.creationFunction}))}return window.DGLw={},basemapsProvider}function getTerrainProvider(terrain){var stkTerrainProvider=[];window.DGLw={};for(var i=0;i<terrain.length;i++){var cfg=terrain[i];for(var key in cfg)if("name"==key||"tooltip"==key||"icon"==key||"creationFunction"==key)try{eval(cfg[key]),cfg[key]=eval(cfg[key])}catch(e){}cfg.url&&(configdata.serverURL&&(cfg.url=cfg.url.replace("$serverURL$",configdata.serverURL)),cfg.url=cfg.url.replace("$hostname$",location.hostname).replace("$host$",location.host)),cfg.type_new||cfg.type||(cfg.type="layerTerrain"),cfg.proxy&&"default"==cfg.proxy&&(cfg.proxy=new Cesium.DefaultProxy("/terrain/"));var vmitem={};if(vmitem.name=cfg.name||"未命名",vmitem.tooltip=cfg.tooltip||"未命名",vmitem.iconUrl=cfg.icon||'<svg xmlns="http://www.w3.org/2000/svg"><path d="M512 64C265 64 64 265.1 64 512.2 64 759.1 265 960 512 960s448-200.9 448-447.8C960 265.1 759 64 512 64z m-68.9 66.2c-38.2 35-86.2 89.7-121.1 165.9-42.1-20.5-70.4-43.4-85.4-57.3 56.2-56.5 128.8-94.5 206.5-108.6zM208.7 269.9c17.1 16.1 49.6 42.6 97.4 65.5-17.6 49.1-27.4 101.5-29.4 155.9H124.4c4.3-81.3 33.3-157.7 84.3-221.4z m-84.3 262.9h152.3c2 54.3 11.9 106.8 29.4 155.9-47.8 22.9-80.4 49.5-97.4 65.3-51-63.5-80-139.9-84.3-221.2z m112.2 252.5c14.9-13.9 43.1-36.7 85.4-57.3 34.9 76.3 82.8 130.9 121.1 165.8-77.7-14.1-150.3-52-206.5-108.5z m254.6 94.4c-34.8-28.6-90.8-84.2-130-168.3 40.7-14.8 84.4-23.5 130-25.5v193.8z m0-235.5c-51.5 2-100.5 11.5-146 28.2-15.9-44.2-24.9-91.1-26.9-139.6h172.9v111.4z m0-152.9H318.3c2-48.6 11-95.5 26.9-139.5 45.5 16.6 94.6 26 146 27.9v111.6z m0-153.2c-45.8-2.1-89.4-10.6-130-25.4 39.1-83.9 95.2-139.7 130-168.4v193.8z m408.4 153.2H747.4c-2.1-54.6-11.9-106.9-29.5-155.9 47.8-22.9 80.3-49.4 97.5-65.5 50.8 63.7 79.8 140 84.2 221.4zM787.4 238.7c-14.9 13.9-43.3 36.8-85.5 57.3-34.9-76.2-82.8-130.9-121-165.9 77.8 14.2 150.4 52.2 206.5 108.6z m-254.6-94.4c34.7 28.8 90.9 84.5 130 168.4-40.7 14.8-84.3 23.3-130 25.4V144.3z m0 235.4c51.4-1.9 100.4-11.3 146-27.9 15.9 44.3 24.9 91.1 26.9 139.5H532.8V379.7z m0 153.1h172.9c-2 48.3-11 95.3-26.9 139.6-45.5-16.7-94.5-26.2-146-28.2V532.8z m0 346.9V685.9c45.6 2 89.2 10.6 130 25.5-39.2 84.1-95.3 139.7-130 168.3z m48.1 14c38.2-34.9 86.1-89.5 121-165.8 42.3 20.7 70.6 43.6 85.5 57.3-56.2 56.6-128.8 94.5-206.5 108.5zM815.3 754c-17.1-15.8-49.6-42.3-97.5-65.3 17.6-49.1 27.4-101.4 29.5-155.9h152.2c-4.3 81.3-33.3 157.7-84.2 221.2z" fill="#000000" p-id="3871"></path></svg>',cfg.creationFunction)vmitem.creationFunction=eval(cfg.creationFunction);else{var cfgstr="";for(var key in cfgstr+=`window.DGLw.tmap${i}=function () {\n                       return new XLGlobe.Layer.createTerrainProvider({`,cfg)if("name"!=key&&"tooltip"!=key&&"icon"!=key){try{eval(cfg[key])}catch(e){cfg[key]='"'+cfg[key]+'"'}cfgstr+=key+":"+cfg[key]+","}cfgstr+="});}",eval(cfgstr),vmitem.creationFunction=eval("window.DGLw.tmap"+i)}stkTerrainProvider.push(new Cesium.ProviderViewModel(vmitem))}return window.DGLw={},stkTerrainProvider}function addOperationallayers(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var i=e[t];XLGlobe.Layer.createLayer(i,viewer,configdata.serverURL,i.callback)}}return Cesium.Ion&&(Cesium.Ion.defaultAccessToken=configdata.ionToken||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1NjM5MjMxOS1lMWVkLTQyNDQtYTM4Yi0wZjA4ZDMxYTlmNDMiLCJpZCI6MTQ4MiwiaWF0IjoxNTI4Njc3NDQyfQ.vVoSexHMqQhKK5loNCv6gCA5d5_z3wE2M0l_rWnIP_w"),configdata.crs=configdata.crs||"3857",configdata.crs,!0===options.geocoder&&(options.geocoder=new XLGlobe.Control.GaodePOIGeocoder(options.geocoderConfig)),configdata.basemaps&&configdata.basemaps.length>0&&(options.imageryProviderViewModels=getBasemap(configdata.basemaps)),configdata.terrain&&configdata.terrain.length>0&&(options.terrainProviderViewModels=getTerrainProvider(configdata.terrain)),Globe=new XLGlobe.Globe(id,options),viewer=Globe.viewer,addOperationallayers(configdata.operationallayers),options.geocoder&&(options.geocoder.viewer=viewer),viewer.scene.screenSpaceCameraController.maximumZoomDistance=configdata.maxzoom||2e7,viewer.scene.screenSpaceCameraController.minimumZoomDistance=configdata.minzoom||1,configdata.center&&(configdata.isanimationFly?Globe.animationFly(configdata.center.x,configdata.center.y,configdata.center.z,configdata.center.heading,configdata.center.pitch,configdata.center.roll):Globe.centerAt(configdata.center.x,configdata.center.y,configdata.center.z,configdata.center.heading,configdata.center.pitch,configdata.center.roll)),Globe}function getLayerById(e,t){return t.layerList.length>0?function t(i){for(var n=null,r=0;r<i.length;r++){if(i[r]._id===e){n=i[r];break}if(i[r]._layers&&i[r]._layers.length>0){var o=t(i[r]._layers);if(null!=o){n=o;break}}}return n}(t.layerList):null}Es6Promise__default.default.polyfill();class GaodePOIGeocoder{constructor(e){var t=e||{};this.citycode=t.citycode||"",this.gaodekey=t.key||["ae29a37307840c7ae4a785ac905927e0","888a52a74c55ca47abe6c55ab3661d11","0bc2903efcb3b67ebf1452d2f664a238","0df8f6f984adc49fca5b7b1108664da2","72f75689dff38a781055e68843474751"]}getOneKey(){var e=this.gaodekey;return e[Math.floor(Math.random()*e.length+1)-1]}geocode(e,t){var i=this,n=this.getOneKey();return new Cesium.Resource({url:"http://restapi.amap.com/v3/place/text",queryParameters:{key:n,city:this.citycode,keywords:e}}).fetchJson().then((function(t){if(0!=t.status){if(0!==t.pois.length){var n=3e3;return i.viewer.camera.positionCartographic.height<n&&(n=i.viewer.camera.positionCartographic.height),t.pois.map((function(e){var t=e.location.split(",");t=pointconvert.gcj2wgs(t);var r=i.viewer.globe.point2map({x:t[0],y:t[1]});return{displayName:e.name,destination:Cesium.Cartesian3.fromDegrees(r.x,r.y,n)}}))}haoutil.msg("未查询到“"+e+"”相关数据！")}else haoutil.msg("请求失败("+t.infocode+")："+t.info)}))}}class IControl{constructor(e){var t=e||{},i=document.createElement("div");i.className="rjmap_control_item "+t.className,i.innerHTML=t.content?t.content:"",i.title=t.name?t.name:"",i.onclick=function(){t.click&&t.click(i,t._globe)},document.getElementsByClassName("rjmap_control")[0].appendChild(i);var n={};return n.el=i,n.remove=function(){n.el.parentNode.removeChild(n.el),t.remove&&t.remove()},n}}class PositionLocation$2{constructor(e){this.positionLocation=null,this.endCallback=function(e){},e&&e.endCallback&&(this.endCallback=e.endCallback)}onAdd(e){var t=this;this.positionLocation=new IControl({className:"controlbtn control_positionlocation",name:"位置定位",_globe:e,content:'<svg class="cesium-svgPath-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7673" width="26" height="26"><path d="M512.07 85.32c-235.61 0-426.6 191-426.6 426.6 0 235.61 191 426.6 426.6 426.6s426.6-191 426.6-426.6c0.01-235.6-190.99-426.6-426.6-426.6z m42.66 765.13v-39.9c0-23.56-19.1-42.66-42.66-42.66s-42.66 19.1-42.66 42.66v39.9c-154.12-19.32-276.54-141.74-295.86-295.86h39.9c23.56 0 42.66-19.1 42.66-42.66 0-23.56-19.1-42.66-42.66-42.66h-39.9c19.32-154.12 141.74-276.54 295.86-295.86v39.9c0 23.56 19.1 42.66 42.66 42.66s42.66-19.1 42.66-42.66v-39.9c154.12 19.32 276.54 141.74 295.86 295.86h-39.9c-23.56 0-42.66 19.1-42.66 42.66 0 23.56 19.1 42.66 42.66 42.66h39.9c-19.31 154.12-141.74 276.54-295.86 295.86z" fill="#ffffff" p-id="7674"></path><path d="M512.07 511.93m-42.66 0a42.66 42.66 0 1 0 85.32 0 42.66 42.66 0 1 0-85.32 0Z" fill="#ffffff" p-id="7675"></path></svg>',click:function(e,i){onclick$3(e,i,t.endCallback)},remove:remove$3})}onRemove(e){this.positionLocation.remove(),this.positionLocation.el.parentNode.removeChild(this.positionLocation.el),this.positionLocation=null}}function onclick$3(e,t,i){if(endCallback=i,document.getElementsByClassName("control_positionlocation_d").length>0){var n=document.getElementsByClassName("control_positionlocation_d")[0];n.parentNode.removeChild(n)}else{var r=document.createElement("div");r.className="control_positionlocation_d",r.innerHTML='\n<span> X：</span><input type="text" class="CP_coodrs" value="" oninput="value=value.replace(/[^\\d.]/g,\'\')" />\n<span> Y：</span><input type="text" class="CP_coodrs" value="" oninput="value=value.replace(/[^\\d.]/g,\'\')" />\n<div class="control_positionlocation_fly" title="定位">\n<svg class="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8949" width="26" height="26"><path d="M1009.19461 5.118447a32.054274 32.054274 0 0 0-35.125341 0.255922l-959.708789 639.805859a31.830341 31.830341 0 0 0-14.043738 29.942914 31.830341 31.830341 0 0 0 19.929952 26.360002l250.292052 100.161607 117.692288 205.953506a31.990293 31.990293 0 0 0 27.415681 16.123108H415.998608c11.228593 0 21.657428-5.950194 27.415681-15.547283l66.443839-110.782384 310.14589 124.026365a31.734371 31.734371 0 0 0 27.543642-1.855437c8.445437-4.734563 14.23568-13.05204 15.867185-22.617137l159.951465-959.708788A32.054274 32.054274 0 0 0 1009.19461 5.118447zM100.446359 664.662317L841.821398 170.3803 302.784962 747.389214c-2.847136-1.695486-5.374369-3.934806-8.509418-5.182427l-193.829185-77.54447z m225.627536 105.216073l-0.223932-0.319903L931.842082 120.955298 415.230841 925.895049l-89.156946-156.016659z m480.750122 177.322194l-273.229092-109.278841a63.564712 63.564712 0 0 0-19.929952-3.806845L934.401305 181.896806l-127.577288 765.303778z" fill="#ffffff" p-id="8950"></path></svg>\n</div>\n',e.after(r),document.getElementsByClassName("control_positionlocation_fly")[0].onclick=function(){var e=document.getElementsByClassName("CP_coodrs")[0].value,i=document.getElementsByClassName("CP_coodrs")[1].value;""!=e&&""!=i&&flyanimation$2(e,i,t)}}}function remove$3(){var e=document.getElementsByClassName("control_positionlocation_d")[0];e.parentNode.removeChild(e)}function createCanvas(e){ctx$2&&(ctx$2.canvas.remove(),canvas$2=null,ctx$2=null),(canvas$2=document.createElement("canvas")).style="top: 0px;left: 0px;position: absolute;pointer-events: none;",ctx$2=canvas$2.getContext("2d");var t=e.viewer.container;t.appendChild(canvas$2),canvas$2.width=t.clientWidth,canvas$2.height=t.clientHeight}function flyanimation$2(e,t,i){createCanvas(i),lineDW(e,t,i)}var rotatetime$2=0,c_x$2,c_y$2,canvas$1,ctx$1;function lineDW(e,t,i){var n=new Cesium.Cartesian2,r=Cesium.Cartesian3.fromDegrees(e,t),o=i.viewer.scene.cartesianToCanvasCoordinates(r,n);if(Cesium.defined(o)){var a=o.x,s=o.y,l=0,u=0,c=Math.abs(a/100),h=Math.abs(s/100);c<10&&(c=10),h<10&&(h=10),a<0&&(c=-c),s<0&&(h=-h);var g,d=0;!function n(){l!=a&&(l+=c),u!=s&&(u+=h),ctx$2.clearRect(0,0,canvas$2.width,canvas$2.height),ctx$2.beginPath(),ctx$2.strokeStyle="rgba(255,255,255,1.0)",ctx$2.lineWidth=3,ctx$2.moveTo(l,0),ctx$2.lineTo(l,canvas$2.height),ctx$2.moveTo(0,u),ctx$2.lineTo(canvas$2.width,u),ctx$2.closePath(),ctx$2.stroke(),Math.abs(a-l)<Math.abs(2*c)&&(l=a),Math.abs(s-u)<Math.abs(2*h)&&(u=s),g=requestAnimationFrame(n),l==a&&u==s&&(0==d?d=1:(cancelAnimationFrame(g),addEvent(e,t,i)))}()}}function addEvent(e,t,i){var n=!0;function r(){var r=new Cesium.Cartesian2,o=Cesium.Cartesian3.fromDegrees(e,t),a=i.viewer.scene.cartesianToCanvasCoordinates(o,r);Cesium.defined(a)&&(changeDW$2(a.x,a.y,n),n&&(n=!1))}i.viewer.scene.preRender.addEventListener(r),i.viewer.scene.camera.moveEnd.addEventListener((function n(){i.viewer.scene.preRender.removeEventListener(r),i.viewer.scene.camera.moveEnd.removeEventListener(n),ctx$2&&(ctx$2.canvas.remove(),canvas$2=null,ctx$2=null),endCallback([e,t])})),i.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e,t,i.getCenter().cameraZ)})}function changeDW$2(e,t,i){if(c_x$2=e,c_y$2=t,i){var n="rgba(255,255,255,1.0)",r=25*Math.PI/180,o=Math.PI/3;function a(){if(ctx$2){(rotatetime$2+=2*Math.PI/180)>Math.PI&&(rotatetime$2=0),ctx$2.clearRect(0,0,canvas$2.width,canvas$2.height),ctx$2.strokeStyle=n,ctx$2.beginPath(),ctx$2.lineWidth=2,ctx$2.arc(c_x$2,c_y$2,30,0,2*Math.PI),ctx$2.stroke();for(var e=0;e<4;e++){var t=(e+1)*Math.PI/2;ctx$2.strokeStyle=n,ctx$2.lineWidth=3,ctx$2.beginPath(),ctx$2.arc(c_x$2,c_y$2,20,r+t+rotatetime$2,r+o+t+rotatetime$2),ctx$2.stroke();var i=30*Math.PI/180;ctx$2.strokeStyle=n,ctx$2.lineWidth=3,ctx$2.beginPath(),ctx$2.arc(c_x$2,c_y$2,10,r+t+i-rotatetime$2,r+o+t+i-rotatetime$2),ctx$2.stroke()}ctx$2.strokeStyle=n,ctx$2.lineWidth=3,ctx$2.beginPath(),ctx$2.moveTo(c_x$2,0),ctx$2.lineTo(c_x$2,c_y$2-30),ctx$2.moveTo(c_x$2,c_y$2+30),ctx$2.lineTo(c_x$2,canvas$2.height),ctx$2.moveTo(0,c_y$2),ctx$2.lineTo(c_x$2-30,c_y$2),ctx$2.moveTo(c_x$2+30,c_y$2),ctx$2.lineTo(canvas$2.width,c_y$2),ctx$2.closePath(),ctx$2.stroke(),requestAnimationFrame(a)}}a()}}class PositionLocation$1{constructor(e){this.positionLocation=null}onAdd(e){this.positionLocation=new IControl({className:"controlbtn control_positionlocation",name:"位置定位",_globe:e,content:'<svg class="cesium-svgPath-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7673" width="26" height="26"><path d="M512.07 85.32c-235.61 0-426.6 191-426.6 426.6 0 235.61 191 426.6 426.6 426.6s426.6-191 426.6-426.6c0.01-235.6-190.99-426.6-426.6-426.6z m42.66 765.13v-39.9c0-23.56-19.1-42.66-42.66-42.66s-42.66 19.1-42.66 42.66v39.9c-154.12-19.32-276.54-141.74-295.86-295.86h39.9c23.56 0 42.66-19.1 42.66-42.66 0-23.56-19.1-42.66-42.66-42.66h-39.9c19.32-154.12 141.74-276.54 295.86-295.86v39.9c0 23.56 19.1 42.66 42.66 42.66s42.66-19.1 42.66-42.66v-39.9c154.12 19.32 276.54 141.74 295.86 295.86h-39.9c-23.56 0-42.66 19.1-42.66 42.66 0 23.56 19.1 42.66 42.66 42.66h39.9c-19.31 154.12-141.74 276.54-295.86 295.86z" fill="#ffffff" p-id="7674"></path><path d="M512.07 511.93m-42.66 0a42.66 42.66 0 1 0 85.32 0 42.66 42.66 0 1 0-85.32 0Z" fill="#ffffff" p-id="7675"></path></svg>',click:function(e,t){onclick$2(e,t)},remove:remove$2})}onRemove(e){this.positionLocation.remove(),this.positionLocation.el.parentNode.removeChild(this.positionLocation.el),this.positionLocation=null}}function onclick$2(e,t){if(document.getElementsByClassName("control_positionlocation_d").length>0){var i=document.getElementsByClassName("control_positionlocation_d")[0];i.parentNode.removeChild(i)}else{var n=document.createElement("div");n.className="control_positionlocation_d",n.innerHTML='\n<span> X：</span><input type="text" class="CP_coodrs" value="" oninput="value=value.replace(/[^\\d.]/g,\'\')" />\n<span> Y：</span><input type="text" class="CP_coodrs" value="" oninput="value=value.replace(/[^\\d.]/g,\'\')" />\n<div class="control_positionlocation_fly" title="定位">\n<svg class="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8949" width="26" height="26"><path d="M1009.19461 5.118447a32.054274 32.054274 0 0 0-35.125341 0.255922l-959.708789 639.805859a31.830341 31.830341 0 0 0-14.043738 29.942914 31.830341 31.830341 0 0 0 19.929952 26.360002l250.292052 100.161607 117.692288 205.953506a31.990293 31.990293 0 0 0 27.415681 16.123108H415.998608c11.228593 0 21.657428-5.950194 27.415681-15.547283l66.443839-110.782384 310.14589 124.026365a31.734371 31.734371 0 0 0 27.543642-1.855437c8.445437-4.734563 14.23568-13.05204 15.867185-22.617137l159.951465-959.708788A32.054274 32.054274 0 0 0 1009.19461 5.118447zM100.446359 664.662317L841.821398 170.3803 302.784962 747.389214c-2.847136-1.695486-5.374369-3.934806-8.509418-5.182427l-193.829185-77.54447z m225.627536 105.216073l-0.223932-0.319903L931.842082 120.955298 415.230841 925.895049l-89.156946-156.016659z m480.750122 177.322194l-273.229092-109.278841a63.564712 63.564712 0 0 0-19.929952-3.806845L934.401305 181.896806l-127.577288 765.303778z" fill="#ffffff" p-id="8950"></path></svg>\n</div>\n',e.after(n),document.getElementsByClassName("control_positionlocation_fly")[0].onclick=function(){var e=document.getElementsByClassName("CP_coodrs")[0].value,i=document.getElementsByClassName("CP_coodrs")[1].value;""!=e&&""!=i&&flyanimation$1(e,i,t)}}}function remove$2(){var e=document.getElementsByClassName("control_positionlocation_d")[0];e.parentNode.removeChild(e)}function flyanimation$1(e,t,i){canvas$1&&(canvas$1.remove(),canvas$1=null,ctx$1=null),(canvas$1=document.createElement("canvas")).style="top: 0px;left: 0px;position: absolute;pointer-events: none;",ctx$1=canvas$1.getContext("2d");var n=i.viewer.container;n.appendChild(canvas$1),canvas$1.width=n.clientWidth,canvas$1.height=n.clientHeight;var r=new Cesium.Cartesian2,o=!0;function a(){var n=Cesium.Cartesian3.fromDegrees(e,t),a=i.viewer.scene.cartesianToCanvasCoordinates(n,r);Cesium.defined(a)&&(changeDW$1(a.x,a.y,o),o&&(o=!1))}r_w=1,i.viewer.scene.preRender.addEventListener(a),i.viewer.scene.camera.moveEnd.addEventListener((function e(){if(i.viewer.scene.preRender.removeEventListener(a),i.viewer.scene.camera.moveEnd.removeEventListener(e),canvas$1&&Math.abs(c_x$1-canvas$1.width/2)<5&&Math.abs(c_y$1-canvas$1.height/2)<5&&1==r_w){r_w=.98;var t=setInterval((function(){(r_w-=.02)<=.5&&clearInterval(t)}),20)}i.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(i.getCenter().x,i.getCenter().y,i.getCenter().cameraZ-24e5)}),setTimeout((()=>{ctx$1&&(ctx$1.canvas.remove(),canvas$1=null,ctx$1=null)}),2e3)})),i.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e,t,i.getCenter().cameraZ+24e5)})}var rotatetime$1=0,c_x$1,c_y$1,r_w=1,canvas,ctx;function changeDW$1(e,t,i){if(c_x$1=e,c_y$1=t,i){var n="rgba(255,255,255,1.0)",r=25*Math.PI/180,o=Math.PI/3;function a(){if(ctx$1){(rotatetime$1+=Math.PI/90)>Math.PI&&(rotatetime$1=0),ctx$1.clearRect(0,0,canvas$1.width,canvas$1.height),ctx$1.strokeStyle=n,ctx$1.beginPath(),ctx$1.lineWidth=2,ctx$1.arc(c_x$1,c_y$1,30*r_w,0,2*Math.PI),ctx$1.stroke();for(var e=0;e<4;e++){var t=(e+1)*Math.PI/2;ctx$1.strokeStyle=n,ctx$1.lineWidth=3,ctx$1.beginPath(),ctx$1.arc(c_x$1,c_y$1,20*r_w,r+t+rotatetime$1,r+o+t+rotatetime$1),ctx$1.stroke();var i=30*Math.PI/180;ctx$1.strokeStyle=n,ctx$1.lineWidth=3,ctx$1.beginPath(),ctx$1.arc(c_x$1,c_y$1,10*r_w,r+t+i-rotatetime$1,r+o+t+i-rotatetime$1),ctx$1.stroke()}ctx$1.strokeStyle=n,ctx$1.lineWidth=3,ctx$1.beginPath(),ctx$1.moveTo(c_x$1,0),ctx$1.lineTo(c_x$1,c_y$1-30*r_w),ctx$1.moveTo(c_x$1,c_y$1+30*r_w),ctx$1.lineTo(c_x$1,canvas$1.height),ctx$1.moveTo(0,c_y$1),ctx$1.lineTo(c_x$1-30*r_w,c_y$1),ctx$1.moveTo(c_x$1+30*r_w,c_y$1),ctx$1.lineTo(canvas$1.width,c_y$1),ctx$1.closePath(),ctx$1.stroke(),requestAnimationFrame(a)}}a()}}class PositionLocation{constructor(e){this.positionLocation=null}onAdd(e){this.positionLocation=new IControl({className:"controlbtn control_positionlocation",name:"位置定位",_globe:e,content:'<svg class="cesium-svgPath-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7673" width="26" height="26"><path d="M512.07 85.32c-235.61 0-426.6 191-426.6 426.6 0 235.61 191 426.6 426.6 426.6s426.6-191 426.6-426.6c0.01-235.6-190.99-426.6-426.6-426.6z m42.66 765.13v-39.9c0-23.56-19.1-42.66-42.66-42.66s-42.66 19.1-42.66 42.66v39.9c-154.12-19.32-276.54-141.74-295.86-295.86h39.9c23.56 0 42.66-19.1 42.66-42.66 0-23.56-19.1-42.66-42.66-42.66h-39.9c19.32-154.12 141.74-276.54 295.86-295.86v39.9c0 23.56 19.1 42.66 42.66 42.66s42.66-19.1 42.66-42.66v-39.9c154.12 19.32 276.54 141.74 295.86 295.86h-39.9c-23.56 0-42.66 19.1-42.66 42.66 0 23.56 19.1 42.66 42.66 42.66h39.9c-19.31 154.12-141.74 276.54-295.86 295.86z" fill="#ffffff" p-id="7674"></path><path d="M512.07 511.93m-42.66 0a42.66 42.66 0 1 0 85.32 0 42.66 42.66 0 1 0-85.32 0Z" fill="#ffffff" p-id="7675"></path></svg>',click:function(e,t){onclick$1(e,t)},remove:remove$1})}onRemove(e){this.positionLocation.remove(),this.positionLocation.el.parentNode.removeChild(this.positionLocation.el),this.positionLocation=null}}function onclick$1(e,t){if(document.getElementsByClassName("control_positionlocation_d").length>0){var i=document.getElementsByClassName("control_positionlocation_d")[0];i.parentNode.removeChild(i)}else{var n=document.createElement("div");n.className="control_positionlocation_d",n.innerHTML='\n<span> X：</span><input type="text" class="CP_coodrs" value="" oninput="value=value.replace(/[^\\d.]/g,\'\')" />\n<span> Y：</span><input type="text" class="CP_coodrs" value="" oninput="value=value.replace(/[^\\d.]/g,\'\')" />\n<div class="control_positionlocation_fly" title="定位">\n<svg class="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8949" width="26" height="26"><path d="M1009.19461 5.118447a32.054274 32.054274 0 0 0-35.125341 0.255922l-959.708789 639.805859a31.830341 31.830341 0 0 0-14.043738 29.942914 31.830341 31.830341 0 0 0 19.929952 26.360002l250.292052 100.161607 117.692288 205.953506a31.990293 31.990293 0 0 0 27.415681 16.123108H415.998608c11.228593 0 21.657428-5.950194 27.415681-15.547283l66.443839-110.782384 310.14589 124.026365a31.734371 31.734371 0 0 0 27.543642-1.855437c8.445437-4.734563 14.23568-13.05204 15.867185-22.617137l159.951465-959.708788A32.054274 32.054274 0 0 0 1009.19461 5.118447zM100.446359 664.662317L841.821398 170.3803 302.784962 747.389214c-2.847136-1.695486-5.374369-3.934806-8.509418-5.182427l-193.829185-77.54447z m225.627536 105.216073l-0.223932-0.319903L931.842082 120.955298 415.230841 925.895049l-89.156946-156.016659z m480.750122 177.322194l-273.229092-109.278841a63.564712 63.564712 0 0 0-19.929952-3.806845L934.401305 181.896806l-127.577288 765.303778z" fill="#ffffff" p-id="8950"></path></svg>\n</div>\n',e.after(n),document.getElementsByClassName("control_positionlocation_fly")[0].onclick=function(){var e=document.getElementsByClassName("CP_coodrs")[0].value,i=document.getElementsByClassName("CP_coodrs")[1].value;""!=e&&""!=i&&flyanimation(e,i,t)}}}function remove$1(){var e=document.getElementsByClassName("control_positionlocation_d")[0];e.parentNode.removeChild(e)}function flyanimation(e,t,i){canvas&&(canvas.remove(),canvas=null,ctx=null),(canvas=document.createElement("canvas")).style="top: 0px;left: 0px;position: absolute;pointer-events: none;",ctx=canvas.getContext("2d");var n=i.viewer.container;n.appendChild(canvas),canvas.width=n.clientWidth,canvas.height=n.clientHeight;var r=new Cesium.Cartesian2,o=!0;function a(){var n=Cesium.Cartesian3.fromDegrees(e,t),a=i.viewer.scene.cartesianToCanvasCoordinates(n,r);Cesium.defined(a)&&(changeDW(a.x,a.y,o),o&&(o=!1))}i.viewer.scene.preRender.addEventListener(a),i.viewer.scene.camera.moveEnd.addEventListener((function e(){i.viewer.scene.preRender.removeEventListener(a),i.viewer.scene.camera.moveEnd.removeEventListener(e),ctx&&(ctx.canvas.remove(),canvas=null,ctx=null)})),i.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e,t,i.getCenter().cameraZ)})}var rotatetime=0,c_x,c_y,Handler;function changeDW(e,t,i){if(c_x=e,c_y=t,i){var n="rgba(255,255,255,1.0)",r=25*Math.PI/180,o=Math.PI/3;function a(){if(ctx){(rotatetime+=Math.PI/90)>Math.PI&&(rotatetime=0),ctx.clearRect(0,0,canvas.width,canvas.height),ctx.strokeStyle=n,ctx.beginPath(),ctx.lineWidth=2,ctx.arc(c_x,c_y,30,0,2*Math.PI),ctx.stroke();for(var e=0;e<4;e++){var t=(e+1)*Math.PI/2;ctx.strokeStyle=n,ctx.lineWidth=3,ctx.beginPath(),ctx.arc(c_x,c_y,20,r+t+rotatetime,r+o+t+rotatetime),ctx.stroke();var i=30*Math.PI/180;ctx.strokeStyle=n,ctx.lineWidth=3,ctx.beginPath(),ctx.arc(c_x,c_y,10,r+t+i-rotatetime,r+o+t+i-rotatetime),ctx.stroke()}ctx.strokeStyle=n,ctx.lineWidth=3,ctx.beginPath(),ctx.moveTo(c_x,0),ctx.lineTo(c_x,c_y-30),ctx.moveTo(c_x,c_y+30),ctx.lineTo(c_x,canvas.height),ctx.moveTo(0,c_y),ctx.lineTo(c_x-30,c_y),ctx.moveTo(c_x+30,c_y),ctx.lineTo(canvas.width,c_y),ctx.closePath(),ctx.stroke(),requestAnimationFrame(a)}}a()}}class ContextMenu{constructor(e){this.options=e||{},this.ContextMenu=null,this.contextmenuDom=null,this.latObj=null,this.entitiesId=null,this.menuList=e.menuList||[],this.menuList&&0!=this.menuList.length||(this.menuList=[{type:"longlat"},{type:"opendepth"},{type:"closedepth"},{type:"firstperspective"}]),this.menuList=defaultMenuList(this.menuList),e.viewer&&(this.viewer=e.viewer,this.cesiumContainer=e.viewer.container,this.ellipsoid=e.viewer.scene.globe.ellipsoid,this.onAdd())}onAdd(e){doProhibit(),loadRightClick(this)}onRemove(e){remove(this),this.ContextMenu=null}}var t=null,itemvisible={seeCoord:!1,flyAroundPoint:!1};function defaultMenuList(e){for(var i=new XLGlobe.Scene.CameraFlight(Globe.viewer),n={seeCoord:{text:"查看此处坐标",type:"seeCoord",icon:"icon-cehuifabuxianshiweizhi",callback:function(e){var i=t.viewer.scene.pickPosition(e.position),n=Cesium.Cartographic.fromCartesian(i),r=Number(Number(Cesium.Math.toDegrees(n.latitude)).toFixed(6)),o="经度："+Number(Number(Cesium.Math.toDegrees(n.longitude)).toFixed(6))+", 纬度："+r+", 高程："+Number(Number(n.height).toFixed(2))+"<br/>笛卡尔(xyz)："+Number(Number(i.x).toFixed(1))+","+Number(Number(i.y).toFixed(1))+","+Number(Number(i.z).toFixed(1));XLGlobe.eDialog.msg(o,{autoClose:5e3,offset:"t"})}},longlat:{text:"显示此处经纬度",type:"longlat",icon:"icon-htmal5icon27",callback:function(e){var i="经度:"+t.latObj.log+"，纬度:"+t.latObj.lat+"，视角高:"+t.latObj.alt+"，海拔:"+t.latObj.elec;XLGlobe.eDialog.msg(i,{autoClose:5e3,offset:"t"})}},opendepth:{text:"开启深度监测",type:"opendepth",icon:"icon-kejianliulan",visible:function(){return itemvisible.seeCoord},callback:function(e){itemvisible.seeCoord=!0,t.viewer.scene.globe.depthTestAgainstTerrain=!0}},closedepth:{text:"关闭深度监测",type:"closedepth",icon:"icon-bukejian",visible:function(){return!itemvisible.seeCoord},callback:function(e){itemvisible.seeCoord=!1,t.viewer.scene.globe.depthTestAgainstTerrain=!1}},firstperspective:{text:"初始视角",type:"firstperspective",icon:"icon-ziyuan",callback:function(e){t.viewer.camera.flyTo({destination:Cesium.Camera.DEFAULT_VIEW_RECTANGLE,duration:2})}},flyAroundPoint:{text:"环绕此处飞行",type:"flyAroundPoint",icon:"icon-bukejian",visible:function(){return itemvisible.flyAroundPoint},callback:function(e){itemvisible.flyAroundPoint=!0;var n=t.viewer.camera.pickEllipsoid(e.position,t.viewer.scene.globe.ellipsoid);if(n){var r=t.viewer.scene.globe.ellipsoid.cartesianToCartographic(n),o=Cesium.Math.toDegrees(r.longitude).toFixed(8),a=Cesium.Math.toDegrees(r.latitude).toFixed(8),s=t.viewer.camera.positionCartographic.height;i.startPointRaoDian({position:Cesium.Cartesian3.fromDegrees(o,a,s),pitch:t.viewer.camera.pitch*(180/Math.PI),angle:15,distance:20})}}},stopFlyAroundPoint:{text:"停止环绕飞行",type:"stopFlyAroundPoint",icon:"icon-bukejian",visible:function(){return!itemvisible.flyAroundPoint},callback:function(e){itemvisible.flyAroundPoint=!1,i.endPausePointRaoDian()}}},r=[],o=0;o<e.length;o++){var a={type:e[o].type};n[e[o].type]&&(a=n[e[o].type]),e[o].text&&(a.text=e[o].text),e[o].icon&&(a.icon=e[o].icon),e[o].visible&&(a.visible=e[o].visible),e[o].callback&&(a.callback=e[o].callback),r.push(a)}return r}function loadRightClick(e){t=e,(Handler=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas)).setInputAction((function(e){close()}),Cesium.ScreenSpaceEventType.LEFT_DOWN),Handler.setInputAction((function(e){close()}),Cesium.ScreenSpaceEventType.MIDDLE_DOWN),Handler.setInputAction((function(e){close()}),Cesium.ScreenSpaceEventType.RIGHT_DOWN),Handler.setInputAction((function(e){close()}),Cesium.ScreenSpaceEventType.PINCH_START),Handler.setInputAction((function(e){close()}),Cesium.ScreenSpaceEventType.WHEEL),Handler.setInputAction((function(e){var i=t.viewer.camera.pickEllipsoid(e.position,t.ellipsoid);if(i){var n=t.viewer.scene.globe.ellipsoid.cartesianToCartographic(i),r=Cesium.Math.toDegrees(n.longitude).toFixed(8),o=Cesium.Math.toDegrees(n.latitude).toFixed(8),a=(t.viewer.camera.positionCartographic.height/1e3).toFixed(2),s=t.viewer.scene.globe.getHeight(n).toFixed(4);t.latObj={log:r,lat:o,alt:a,elec:s,click:e}}var l=t.viewer.scene.pick(e.position);if(null==l)loadUl(e.position);else if(l instanceof Cesium.Cesium3DTileFeature)loadUl(e.position,l.tileset.contextmenuItems,"3dtiles");else{t.entitiesId=l.id._id;var u=t.viewer.entities.getById(t.entitiesId);if(null!=u){var c="";null!=u.billboard&&(c="billboard"),null!=u.polygon&&(c="polygon"),null!=u.polyline&&(c="polyline"),loadUl(e.position,u._contextmenuItems,c)}}}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}function close(){t.contextmenuDom&&t.contextmenuDom.parentNode&&(t.contextmenuDom.parentNode.removeChild(t.contextmenuDom),t.contextmenuDom=null)}function loadUl(e,i,n){var r,o="";if(null!=i&&null!=n)for(var a=0;a<i.length;a++)o+=`<li class="li-item" data-index="20">\n                        <a menutype="${i[a].type}" href="#" class="contextmenu_click" >${i[a].text}</a>\n                    </li>`;else for(a=0;a<t.menuList.length;a++)t.menuList[a].visible&&(null==itemvisible[t.menuList[a].type]&&(itemvisible[t.menuList[a].type]=!1),t.menuList[a].visible())||(o+=`<li class="li-item" data-index="20">\n                        <a menutype="${t.menuList[a].type}" href="#" class="contextmenu_click" xh="${a}"><i class="iconfont_RJ ${t.menuList[a].icon}"></i>${t.menuList[a].text}</a>\n                    </li>`);r=`<ul class="contextmenu-ul">${o}</ul>`;var s=document.querySelectorAll(".contextmenu");0!=s.length&&t.cesiumContainer.removeChild(s[0]);var l=document.createElement("div");l.className="contextmenu",l.style.top=e.y+"px",l.style.left=e.x+"px",l.style.position="fixed",l.innerHTML=r,e.y+38*l.children[0].children.length>t.cesiumContainer.offsetHeight&&(l.style.top=e.y-38*l.children[0].children.length+"px"),e.x+140>t.cesiumContainer.offsetWidth&&(l.style.left=e.x-140+"px"),t.contextmenuDom=l,t.cesiumContainer.append(l);var u=document.getElementsByClassName("contextmenu_click");for(a=0;a<u.length;a++)u[a].onclick=rightliClick}function rightliClick(){var e=this.attributes.menutype.value,i=document.querySelectorAll(".contextmenu");if(t.cesiumContainer.removeChild(i[0]),this.attributes.xh){var n=this.attributes.xh.value;t.menuList[parseFloat(n)].callback(t.latObj.click)}else switch(e){case"cesiumObj":var r=t.viewer.entities.getById(t.entitiesId);null!=r&&t.viewer.entities.remove(r);break;case"3dtiles":tileset.show=!1}}function doProhibit(){window.Event&&document.captureEvents(Event.MOUSEUP),document.oncontextmenu=function(){return event.cancelBubble=!0,event.returnvalue=!1,!1},document.onmousedown=function(e){if(window.Event){if(2==e.which||3==e.which)return!1}else if(2==event.button||3==event.button)return event.cancelBubble=!0,event.returnvalue=!1,!1}}function remove(e){Handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),e.contextmenuDom&&e.contextmenuDom.parentNode&&(e.contextmenuDom.parentNode.removeChild(e.contextmenuDom),e.contextmenuDom=null)}class MeasureTool{constructor(e){this.viewer=e.viewer,this.terrainProvider=e.terrainProvider,this.options=e;var t=this;if(!1!==e.show){if(e.target)this.dom=document.getElementById(e.target),this.dom.classList.add("measureTool"),e.classname&&this.dom.classList.add(e.classname);else{var i=document.createElement("div");i.className="measureTool measureTool_"+(e.classname?" "+e.classname:""),document.body.appendChild(i),this.dom=i}var n=document.createElement("div");n.className="measureItem",n.innerHTML="空间距离",n.onclick=function(){this.classList.add("selItembox1"),t.btnclick("空间距离")},this.dom.appendChild(n);var r=document.createElement("div");r.className="measureItem",r.innerHTML="地表距离",r.onclick=function(){this.classList.add("selItembox1"),t.btnclick("地表距离")},this.dom.appendChild(r);var o=document.createElement("div");o.className="measureItem",o.innerHTML="地表面积",o.onclick=function(){this.classList.add("selItembox1"),t.btnclick("地表面积")},this.dom.appendChild(o);var a=document.createElement("div");a.className="measureItem",a.innerHTML="高度差",a.onclick=function(){this.classList.add("selItembox1"),t.btnclick("高度差")},this.dom.appendChild(a);var s=document.createElement("div");s.className="measureItem",s.innerHTML="三角测量",s.onclick=function(){this.classList.add("selItembox1"),t.btnclick("三角测量")},this.dom.appendChild(s);var l=document.createElement("div");l.className="measureItem",l.innerHTML="方位角",l.onclick=function(){this.classList.add("selItembox1"),t.btnclick("方位角")},this.dom.appendChild(l);var u=document.createElement("div");u.className="measureItem",u.innerHTML="清除结果",u.onclick=function(){t.btnclick("清除结果")},this.dom.appendChild(u),document.onclick=function(e){var t=document.querySelectorAll(".selItembox1").length;if(!(""!==e.target.className&&e.target.className.indexOf("selItembox1")>=0&&1==t)&&t>0)if(t>1)for(var i=document.querySelectorAll(".selItembox1"),n=0;n<i.length;n++)i[n]!==e.target&&i[n].classList.remove("selItembox1");else document.querySelector(".selItembox1").classList.remove("selItembox1")}}return this.bMeasuring=!1,t.viewer._container.style.cursor="",this.measureIds=[],{name:"测量",measureLineSpace:function(){t.btnclick("空间距离")},groundMeasureLineSpace:function(){t.btnclick("地表距离")},measureAreaSpace:function(){t.btnclick("地表面积")},altitude:function(){t.btnclick("高度差")},Triangle:function(){t.btnclick("三角测量")},measureAngle:function(){t.btnclick("方位角")},Clear:function(){t.btnclick("清除结果")},finishMeasure:function(){t._finishMeasure()}}}btnclick(e){var t=this;switch("清除结果"!=e&&t.bMeasuring&&t.handler&&!t.handler.isDestroyed()&&(t.handler=t.handler&&t.handler.destroy()),e){case"空间距离":XLGlobe.eDialog.msg("单击鼠标左键开始，单击鼠标右键结束",{autoClose:2e3,offset:"t"}),t.bMeasuring=!0,t.viewer._container.style.cursor="crosshair",t._measureLineSpace();break;case"地表距离":XLGlobe.eDialog.msg("单击鼠标左键开始，单击鼠标右键结束",{autoClose:2e3,offset:"t"}),t.bMeasuring=!0,t.viewer._container.style.cursor="crosshair",t._groundMeasureLineSpace();break;case"地表面积":XLGlobe.eDialog.msg("单击鼠标左键开始，单击鼠标右键结束",{autoClose:2e3,offset:"t"}),t.bMeasuring=!0,t.viewer._container.style.cursor="crosshair",t._measureAreaSpace();break;case"高度差":XLGlobe.eDialog.msg("单击鼠标左键",{autoClose:2e3,offset:"t"}),t.bMeasuring=!0,t.viewer._container.style.cursor="crosshair",t._altitude();break;case"三角测量":XLGlobe.eDialog.msg("单击鼠标左键",{autoClose:2e3,offset:"t"}),t.bMeasuring=!0,t.viewer._container.style.cursor="crosshair",t._Triangle();break;case"方位角":XLGlobe.eDialog.msg("单击鼠标左键",{autoClose:2e3,offset:"t"}),t.bMeasuring=!0,t.viewer._container.style.cursor="crosshair",t._measureAngle();break;case"清除结果":for(var i=0;i<t.measureIds.length;i++)t.viewer.entities.removeById(t.measureIds[i]);t.measureIds.length=0,t.handler&&!t.handler.isDestroyed()&&(t.handler=t.handler&&t.handler.destroy())}}_finishMeasure(){var e=this;e.btnclick("清除结果"),e.bMeasuring=!1,e.viewer._container.style.cursor="",document.getElementsByClassName("measureTool")[0].parentNode.removeChild(document.getElementsByClassName("measureTool")[0])}_measureLineSpace(){var e=this,t=this.viewer;e.handler=new Cesium.ScreenSpaceEventHandler(t.scene.canvas);var i,n=[],r=null,o=0,a=null;e.handler.setInputAction((function(e){if(a=t.scene.pickPosition(e.endPosition),!Cesium.defined(a)){var i=t.camera.getPickRay(e.endPosition);a=t.scene.globe.pick(i,t.scene)}Cesium.defined(a)&&n.length>=2&&(Cesium.defined(r)?(n.pop(),n.push(a)):r=new s(n))}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.handler.setInputAction((function(r){if(a=t.scene.pickPosition(r.position),!Cesium.defined(a)){var s=t.camera.getPickRay(r.position);a=t.scene.globe.pick(s,t.scene)}if(Cesium.defined(a)){0==n.length&&n.push(a.clone()),n.push(a);var l=parseFloat(function(e){var t=0;if(e.length>2){var i=Cesium.Cartographic.fromCartesian(e[e.length-3]),n=Cesium.Cartographic.fromCartesian(e[e.length-2]),r=new Cesium.EllipsoidGeodesic;r.setEndPoints(i,n);var o=r.surfaceDistance;t+=o=Math.sqrt(Math.pow(o,2)+Math.pow(n.height-i.height,2))}return t.toFixed(2)}(n)),u=((o+=l)>1e3?(o/1e3).toFixed(3)+"千米":o.toFixed(2)+"米")+"\n(+"+(l>1e3?(l/1e3).toFixed(3)+"千米":l+"米")+")";i=t.entities.add({name:"空间直线距离",position:n[n.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.NONE},label:{text:u,font:"18px sans-serif",fillColor:Cesium.Color.CHARTREUSE,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-20),disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:Cesium.HeightReference.NONE}}),e.measureIds.push(i.id)}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),e.handler.setInputAction((function(i){e.handler.destroy(),n.pop(),e.bMeasuring=!1,t._container.style.cursor=""}),Cesium.ScreenSpaceEventType.RIGHT_CLICK);var s=function(){function i(e){this.options={name:"直线",polyline:{show:!0,positions:[],arcType:Cesium.ArcType.NONE,material:Cesium.Color.CHARTREUSE,width:2}},this.positions=e,this._init()}return i.prototype._init=function(){var i=this;this.options.polyline.positions=new Cesium.CallbackProperty((function(){return i.positions}),!1);var n=t.entities.add(this.options);e.measureIds.push(n.id)},i}()}_groundMeasureLineSpace(){var e=this,t=this.viewer;this.terrainProvider,t.scene.globe.depthTestAgainstTerrain=!0,e.handler=new Cesium.ScreenSpaceEventHandler(t.scene._imageryLayerCollection);var i,n=[],r=null,o=0,a=null;e.handler.setInputAction((function(e){if(a=t.scene.pickPosition(e.endPosition),!Cesium.defined(a)){let i=t.camera.getPickRay(e.endPosition);a=t.scene.globe.pick(i,t.scene)}let i=Cesium.Cartographic.fromCartesian(a);i.height=t.scene.sampleHeight(i),a=t.scene.globe.ellipsoid.cartographicToCartesian(i),n.length>=2&&(Cesium.defined(r)?(n.pop(),n.push(a)):r=new s(n))}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.handler.setInputAction((function(r){if(a=t.scene.pickPosition(r.position),!Cesium.defined(a)){let e=t.camera.getPickRay(r.position);a=t.scene.globe.pick(e,t.scene)}let s=Cesium.Cartographic.fromCartesian(a);s.height=t.scene.sampleHeight(s),a=t.scene.globe.ellipsoid.cartographicToCartesian(s),0==n.length&&n.push(a.clone()),n.push(a),function(n){var r=0;if(n.length>2){var a=[],s=Cesium.Cartographic.fromCartesian(n[n.length-3]),l=Cesium.Cartographic.fromCartesian(n[n.length-2]),u=new Cesium.EllipsoidGeodesic;u.setEndPoints(s,l);var c=u.surfaceDistance;a.push(s);var h=parseInt((c/100).toFixed(0));h=(h=h>200?200:h)<20?20:h;for(var g=1;g<h;g++){var d=u.interpolateUsingSurfaceDistance(c/h*g,new Cesium.Cartographic);d.height=t.scene.sampleHeight(d),a.push(d)}a.push(l);for(var p=0;p<a.length-1;p++){u.setEndPoints(a[p],a[p+1]);var m=u.surfaceDistance;r=Math.sqrt(Math.pow(m,2)+Math.pow(a[p+1].height-a[p].height,2))+r}var f=parseFloat(r.toFixed(2)),C=((o+=f)>1e3?(o/1e3).toFixed(3)+"千米":o.toFixed(2)+"米")+"\n(+"+(f>1e3?(f/1e3).toFixed(3)+"千米":f+"米")+")";i=t.entities.add({name:"空间直线距离",position:n[n.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2},label:{text:C,font:"18px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,disableDepthTestDistance:Number.POSITIVE_INFINITY,pixelOffset:new Cesium.Cartesian2(20,-20)}}),e.measureIds.push(i.id)}}(n)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),e.handler.setInputAction((function(i){e.handler.destroy(),n.pop(),e.bMeasuring=!1,t._container.style.cursor=""}),Cesium.ScreenSpaceEventType.RIGHT_CLICK);var s=function(){function i(e){this.options={name:"直线",polyline:{show:!0,positions:[],material:Cesium.Color.GOLD,width:2,clampToGround:!0}},this.positions=e,this._init()}return i.prototype._init=function(){var i=this;this.options.polyline.positions=new Cesium.CallbackProperty((function(){return i.positions}),!1);var n=t.entities.add(this.options);e.measureIds.push(n.id)},i}()}_measureAreaSpace(){var e=this,t=this.viewer;e.handler=new Cesium.ScreenSpaceEventHandler(t.scene._imageryLayerCollection);var i,n=[],r=[],o=null,a=null;e.handler.setInputAction((function(e){if(a=t.scene.pickPosition(e.endPosition),!Cesium.defined(a)){let i=t.camera.getPickRay(e.endPosition);a=t.scene.globe.pick(i,t.scene)}n.length>=2&&(Cesium.defined(o)?(n.pop(),n.push(a)):o=new h(n))}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.handler.setInputAction((function(o){if(a=t.scene.pickPosition(o.position),!Cesium.defined(a)){let e=t.camera.getPickRay(o.position);a=t.scene.globe.pick(e,t.scene)}0==n.length&&n.push(a.clone()),n.push(a);var s=Cesium.Cartographic.fromCartesian(n[n.length-1]),l=Cesium.Math.toDegrees(s.longitude),u=Cesium.Math.toDegrees(s.latitude),c=s.height;r.push({lon:l,lat:u,hei:c}),i=t.entities.add({name:"多边形面积",position:n[n.length-1],point:{pixelSize:3,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}),e.measureIds.push(i.id)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),e.handler.setInputAction((function(i){e.handler.destroy(),n.pop();var o=function(e){for(var t=0,i=0;i<e.length-2;i++){var r=(i+1)%e.length,o=(i+2)%e.length,a=u(e[i],e[r],e[o]);t+=g(n[i],n[r])*g(n[r],n[o])*Math.abs(Math.sin(a))}return t/1e6}(r),a=o=o<.001?(1e6*o).toFixed(4)+"平方米":o.toFixed(4)+"平方公里",s=t.entities.add({name:"多边形面积",position:n[n.length-1],label:{text:a,font:"18px sans-serif",fillColor:Cesium.Color.CYAN,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-40),disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}});e.measureIds.push(s.id),e.bMeasuring=!1,t._container.style.cursor=""}),Cesium.ScreenSpaceEventType.RIGHT_CLICK);var s=Math.PI/180,l=180/Math.PI;function u(e,t,i){var n=c(t,e)-c(t,i);return n<0&&(n+=360),n}function c(e,t){var i=e.lat*s,n=e.lon*s,r=t.lat*s,o=t.lon*s,a=-Math.atan2(Math.sin(n-o)*Math.cos(r),Math.cos(i)*Math.sin(r)-Math.sin(i)*Math.cos(r)*Math.cos(n-o));return a<0&&(a+=2*Math.PI),a*=l}var h=function(){function i(e){this.options={name:"多边形",polygon:{hierarchy:[],material:Cesium.Color.DARKTURQUOISE.withAlpha(.4),outlineColor:Cesium.Color.CYAN.withAlpha(.8)}},this.hierarchy={positions:e},this._init()}return i.prototype._init=function(){var i=this;this.options.polygon.hierarchy=new Cesium.CallbackProperty((function(){return i.hierarchy}),!1);var n=t.entities.add(this.options);e.measureIds.push(n.id)},i}();function g(e,t){var i=Cesium.Cartographic.fromCartesian(e),n=Cesium.Cartographic.fromCartesian(t),r=new Cesium.EllipsoidGeodesic;r.setEndPoints(i,n);var o=r.surfaceDistance;return o=Math.sqrt(Math.pow(o,2)+Math.pow(n.height-i.height,2))}}_altitude(){var e,t,i,n,r=this,o=this.viewer,a=[],s=0;function l(){if(Cesium.defined(e)){e.polyline.positions=a[5]>a[2]?new Cesium.Cartesian3.fromDegreesArrayHeights([a[0],a[1],a[5],a[0],a[1],a[2]]):new Cesium.Cartesian3.fromDegreesArrayHeights([a[3],a[4],a[2],a[3],a[4],a[5]]),t.polyline.positions=a[5]>a[2]?new Cesium.Cartesian3.fromDegreesArrayHeights([a[0],a[1],a[5],a[3],a[4],a[5]]):new Cesium.Cartesian3.fromDegreesArrayHeights([a[3],a[4],a[2],a[0],a[1],a[2]]);var n=Math.abs(a[2]-a[5]).toFixed(2);return i.position=a[5]>a[2]?Cesium.Cartesian3.fromDegrees(a[0],a[1],(a[2]+a[5])/2):Cesium.Cartesian3.fromDegrees(a[3],a[4],(a[2]+a[5])/2),void(i.label.text="高度差:"+n+"米")}e=o.entities.add({name:"triangleLine",polyline:{positions:a[5]>a[2]?new Cesium.Cartesian3.fromDegreesArrayHeights([a[0],a[1],a[5],a[0],a[1],a[2]]):new Cesium.Cartesian3.fromDegreesArrayHeights([a[3],a[4],a[2],a[3],a[4],a[5]]),arcType:Cesium.ArcType.NONE,width:2,material:new Cesium.PolylineOutlineMaterialProperty({color:Cesium.Color.CHARTREUSE}),depthFailMaterial:new Cesium.PolylineOutlineMaterialProperty({color:Cesium.Color.RED})}}),r.measureIds.push(e.id),t=o.entities.add({name:"triangleLine",polyline:{positions:a[5]>a[2]?new Cesium.Cartesian3.fromDegreesArrayHeights([a[0],a[1],a[5],a[3],a[4],a[5]]):new Cesium.Cartesian3.fromDegreesArrayHeights([a[3],a[4],a[2],a[0],a[1],a[2]]),arcType:Cesium.ArcType.NONE,width:2,material:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.CHARTREUSE}),depthFailMaterial:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.RED})}}),r.measureIds.push(t.id),Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(a[0],a[1]),Cesium.Cartesian3.fromDegrees(a[3],a[4])).toFixed(2);n=Math.abs(a[2]-a[5]).toFixed(2);i=o.entities.add({name:"lineZ",position:a[5]>a[2]?Cesium.Cartesian3.fromDegrees(a[0],a[1],(a[2]+a[5])/2):Cesium.Cartesian3.fromDegrees(a[3],a[4],(a[2]+a[5])/2),label:{text:"高度差:"+n+"米",translucencyByDistance:new Cesium.NearFarScalar(150,2,15e4,0),font:"45px 楷体",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,scale:.5,pixelOffset:new Cesium.Cartesian2(0,-10),backgroundColor:new Cesium.Color.fromCssColorString("rgba(0, 0, 0, 0.7)"),backgroundPadding:new Cesium.Cartesian2(10,10),verticalOrigin:Cesium.VerticalOrigin.BOTTOM}}),r.measureIds.push(i.id)}r.handler=new Cesium.ScreenSpaceEventHandler(o.scene.canvas),r.handler.setInputAction((function(e){var t=o.scene.pickPosition(e.endPosition);if(!Cesium.defined(t)){var i=o.camera.getPickRay(e.endPosition);t=o.scene.globe.pick(i,o.scene)}if(1===s){var n=Cesium.Cartographic.fromCartesian(t),r=Cesium.Math.toDegrees(n.longitude),u=Cesium.Math.toDegrees(n.latitude),c=n.height;a.length=3,a.push(r,u,c),l()}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),r.handler.setInputAction((function(e){var t=o.scene.pickPosition(e.position);if(!Cesium.defined(t)){var i=o.camera.getPickRay(e.position);t=o.scene.globe.pick(i,o.scene)}var u=Cesium.Cartographic.fromCartesian(t),c=Cesium.Math.toDegrees(u.longitude),h=Cesium.Math.toDegrees(u.latitude),g=u.height;n=o.entities.add({name:"多边形面积",position:t,point:{pixelSize:3,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}),r.measureIds.push(n.id),1===++s?a.push(c,h,g):(a.length=3,a.push(c,h,g),r.handler.destroy(),r.bMeasuring=!1,o._container.style.cursor="",l())}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.handler.setInputAction((function(e){r.handler.destroy(),r.bMeasuring=!1,o._container.style.cursor=""}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}_Triangle(){var e,t,i,n,r,o=this,a=this.viewer,s=[],l=0;function u(){if(Cesium.defined(e)){e.polyline.positions=s[5]>s[2]?new Cesium.Cartesian3.fromDegreesArrayHeights([s[0],s[1],s[2],s[0],s[1],s[5],s[3],s[4],s[5],s[0],s[1],s[2]]):new Cesium.Cartesian3.fromDegreesArrayHeights([s[0],s[1],s[2],s[3],s[4],s[5],s[3],s[4],s[2],s[0],s[1],s[2]]);var r=Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(s[0],s[1]),Cesium.Cartesian3.fromDegrees(s[3],s[4])).toFixed(2),l=Math.abs(s[2]-s[5]).toFixed(2),u=Math.sqrt(Math.pow(r,2)+Math.pow(l,2)).toFixed(2);return t.position=Cesium.Cartesian3.fromDegrees((s[0]+s[3])/2,(s[1]+s[4])/2,Math.max(s[2],s[5])),n.position=s[5]>s[2]?Cesium.Cartesian3.fromDegrees(s[0],s[1],(s[2]+s[5])/2):Cesium.Cartesian3.fromDegrees(s[3],s[4],(s[2]+s[5])/2),i.position=Cesium.Cartesian3.fromDegrees((s[0]+s[3])/2,(s[1]+s[4])/2,(s[2]+s[5])/2),t.label.text="水平距离:"+r+"米",n.label.text="高度差:"+l+"米",void(i.label.text="空间距离:"+u+"米")}e=a.entities.add({name:"triangleLine",polyline:{positions:s[5]>s[2]?new Cesium.Cartesian3.fromDegreesArrayHeights([s[0],s[1],s[2],s[0],s[1],s[5],s[3],s[4],s[5],s[0],s[1],s[2]]):new Cesium.Cartesian3.fromDegreesArrayHeights([s[0],s[1],s[2],s[3],s[4],s[5],s[3],s[4],s[2],s[0],s[1],s[2]]),arcType:Cesium.ArcType.NONE,width:2,material:new Cesium.PolylineOutlineMaterialProperty({color:Cesium.Color.YELLOW}),depthFailMaterial:new Cesium.PolylineOutlineMaterialProperty({color:Cesium.Color.RED})}}),o.measureIds.push(e.id);r=Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(s[0],s[1]),Cesium.Cartesian3.fromDegrees(s[3],s[4])).toFixed(2),l=Math.abs(s[2]-s[5]).toFixed(2),u=Math.sqrt(Math.pow(r,2)+Math.pow(l,2)).toFixed(2);t=a.entities.add({name:"lineX",position:Cesium.Cartesian3.fromDegrees((s[0]+s[3])/2,(s[1]+s[4])/2,Math.max(s[2],s[5])),label:{text:"水平距离:"+r+"米",translucencyByDistance:new Cesium.NearFarScalar(150,2,15e4,0),font:"45px 楷体",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,scale:.5,pixelOffset:new Cesium.Cartesian2(0,-10),backgroundColor:new Cesium.Color.fromCssColorString("rgba(0, 0, 0, 0.7)"),backgroundPadding:new Cesium.Cartesian2(10,10),verticalOrigin:Cesium.VerticalOrigin.BOTTOM}}),o.measureIds.push(t.id),n=a.entities.add({name:"lineZ",position:s[5]>s[2]?Cesium.Cartesian3.fromDegrees(s[0],s[1],(s[2]+s[5])/2):Cesium.Cartesian3.fromDegrees(s[3],s[4],(s[2]+s[5])/2),label:{text:"高度差:"+l+"米",translucencyByDistance:new Cesium.NearFarScalar(150,2,15e4,0),font:"45px 楷体",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,scale:.5,pixelOffset:new Cesium.Cartesian2(0,-10),backgroundColor:new Cesium.Color.fromCssColorString("rgba(0, 0, 0, 0.7)"),backgroundPadding:new Cesium.Cartesian2(10,10),verticalOrigin:Cesium.VerticalOrigin.BOTTOM}}),o.measureIds.push(n.id),i=a.entities.add({name:"lineY",position:Cesium.Cartesian3.fromDegrees((s[0]+s[3])/2,(s[1]+s[4])/2,(s[2]+s[5])/2),label:{text:"空间距离:"+u+"米",translucencyByDistance:new Cesium.NearFarScalar(150,2,15e4,0),font:"45px 楷体",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,scale:.5,pixelOffset:new Cesium.Cartesian2(0,-10),backgroundColor:new Cesium.Color.fromCssColorString("rgba(0, 0, 0, 0.7)"),backgroundPadding:new Cesium.Cartesian2(10,10),verticalOrigin:Cesium.VerticalOrigin.BOTTOM}}),o.measureIds.push(i.id)}o.handler=new Cesium.ScreenSpaceEventHandler(a.scene.canvas),o.handler.setInputAction((function(e){var t=a.scene.pickPosition(e.endPosition);if(!Cesium.defined(t)){var i=a.camera.getPickRay(e.endPosition);t=a.scene.globe.pick(i,a.scene)}if(1===l){var n=Cesium.Cartographic.fromCartesian(t),r=Cesium.Math.toDegrees(n.longitude),o=Cesium.Math.toDegrees(n.latitude),c=n.height;s.length=3,s.push(r,o,c),u()}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.handler.setInputAction((function(e){var t=a.scene.pickPosition(e.position);if(!Cesium.defined(t)){var i=a.camera.getPickRay(e.position);t=a.scene.globe.pick(i,a.scene)}var n=Cesium.Cartographic.fromCartesian(t),c=Cesium.Math.toDegrees(n.longitude),h=Cesium.Math.toDegrees(n.latitude),g=n.height;r=a.entities.add({name:"多边形面积",position:t,point:{pixelSize:3,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}),o.measureIds.push(r.id),1===++l?s.push(c,h,g):(s.length=3,s.push(c,h,g),o.handler.destroy(),o.bMeasuring=!1,a._container.style.cursor="",u())}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.handler.setInputAction((function(e){o.handler.destroy(),o.bMeasuring=!1,a._container.style.cursor=""}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}_measureAngle(){var e,t,i,n,r=this,o=this.viewer,a=[],s=0;function l(){var n=Cesium.Cartographic.fromCartesian(a[0]),s=Cesium.Math.toDegrees(n.longitude),l=Cesium.Math.toDegrees(n.latitude),u=Cesium.Cartographic.fromCartesian(a[1]),c=Cesium.Math.toDegrees(u.longitude),h=Cesium.Math.toDegrees(u.latitude),g=Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(s,l),Cesium.Cartesian3.fromDegrees(c,h)),d=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(s,l)),p=Cesium.Cartographic.fromCartesian(Cesium.Matrix4.multiplyByPoint(d,Cesium.Cartesian3.fromElements(0,g,0),new Cesium.Cartesian3)),m=Cesium.Math.toDegrees(p.longitude),f=Cesium.Math.toDegrees(p.latitude),C=function(e,t,i,n){var r=Math.atan2(Math.abs(e-i),Math.abs(t-n));i>=e?n>=t||(r=Math.PI-r):r=n>=t?2*Math.PI-r:Math.PI+r;return r=180*r/Math.PI,parseInt(100*r)/100}(s,l,c,h),y=g.toFixed(2)+"米";if(g>1e3&&(y=(g/1e3).toFixed(3)+"千米"),Cesium.defined(e))return e.polyline.positions=new Cesium.Cartesian3.fromDegreesArray([s,l,m,f]),t.polyline.positions=new Cesium.Cartesian3.fromDegreesArray([s,l,c,h]),i.label.text="角度:"+C+"°\n距离:"+y,void(i.position=a[1]);e=o.entities.add({name:"Angle1",polyline:{positions:new Cesium.Cartesian3.fromDegreesArray([s,l,m,f]),width:3,material:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.RED}),clampToGround:!0}}),r.measureIds.push(e.id),t=o.entities.add({name:"Angle2",polyline:{positions:new Cesium.Cartesian3.fromDegreesArray([s,l,c,h]),width:10,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.YELLOW),clampToGround:!0}}),r.measureIds.push(t.id),i=o.entities.add({name:"AngleT",position:a[1],label:{text:"角度:"+C+"°\n距离:"+y,translucencyByDistance:new Cesium.NearFarScalar(150,2,15e4,0),font:"45px 楷体",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:4,scale:.5,pixelOffset:new Cesium.Cartesian2(0,-40),disableDepthTestDistance:Number.POSITIVE_INFINITY,backgroundColor:new Cesium.Color.fromCssColorString("rgba(0, 0, 0, 1)"),backgroundPadding:new Cesium.Cartesian2(10,10),verticalOrigin:Cesium.VerticalOrigin.BASELINE}}),r.measureIds.push(i.id)}r.handler=new Cesium.ScreenSpaceEventHandler(o.scene.canvas),r.handler.setInputAction((function(e){var t=o.scene.pickPosition(e.endPosition);if(!Cesium.defined(t)){var i=o.camera.getPickRay(e.endPosition);t=o.scene.globe.pick(i,o.scene)}1===s&&(a.length=1,a.push(t),l())}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),r.handler.setInputAction((function(e){var t=o.scene.pickPosition(e.position);if(!Cesium.defined(t)){var i=o.camera.getPickRay(e.position);t=o.scene.globe.pick(i,o.scene)}1===++s?(a.push(t),n=o.entities.add({name:"方位角",position:t,point:{pixelSize:3,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}),r.measureIds.push(n.id)):(a.length=1,a.push(t),r.handler.destroy(),r.bMeasuring=!1,o._container.style.cursor="",l())}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.handler.setInputAction((function(e){r.handler.destroy(),r.bMeasuring=!1,o._container.style.cursor=""}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}}class OverviewMap{constructor(e){this.options={maxOpacity:.9,parentElement:document.body,id:"eyemap2d",width:"200px",height:"150px",showStyle:{color:"#ff7800",weight:1,fill:!0,stroke:!0,opacity:1},hideStyle:{fill:!1,opacity:0}},this.options=Object.assign(this.options,e),this.viewer=this.options.viewer,this.map=null,this.init()}init(){this.mapEle=window.document.createElement("div"),this.mapEle.setAttribute("id",this.options.id),this.mapEle.style.height=this.options.height,this.mapEle.style.width=this.options.width,this.mapEle.className="eyemap2d",this.options.parentElement.appendChild(this.mapEle),this.map=L.map(this.options.id,{center:[31,117],zoom:13,zoomControl:!1,attributionControl:!1}),this.options.tileUrl&&L.tileLayer(this.options.tileUrl,{}).addTo(this.map),this.viewer.scene.postRender.addEventListener(this.sceneRenderHandler,this)}sceneRenderHandler(e){var t=getExtent(this.viewer),i=L.latLng(t.ymin,t.xmin),n=L.latLng(t.ymax,t.xmax),r=L.latLngBounds(i,n);if(this.rectangle?this.rectangle.setBounds(r):this.rectangle=L.rectangle(r,this.options.showStyle).addTo(this.map),-180==t.xmin&&180==t.xmax&&90==t.ymax&&-90==t.ymin){var o=getCenter$1(this.viewer);this.map.setView([o.y,o.x],0),this.rectangle.setStyle(this.hideStyle)}else{var a=r.pad(.5);this.map.fitBounds(a),this.rectangle.setStyle(this.options.showStyle)}}hide(){this.mapEle&&(this.mapEle.style.display="none")}show(){this.map&&this.mapEle&&(this.mapEle.style.display="block")}setStyle(e){e&&(this.options.showStyle=e)}destroy(){this.mapEle&&this.options.parentElement.removeChild(this.mapEle),this.viewer.scene.postRender.removeEventListener(this.sceneRenderHandler,this)}}function getExtent(e){var t=getMinMax(e.camera.computeViewRectangle());if(t.xmax<t.xmin){var i=t.xmax;t.xmax=t.xmin,t.xmin=i}if(t.ymax<t.ymin){i=t.ymax;t.ymax=t.ymin,t.ymin=i}return t}function getMinMax(e){var t=Number(Cesium.Math.toDegrees(e.west)).toFixed(6),i=Number(Cesium.Math.toDegrees(e.east)).toFixed(6),n=Number(Cesium.Math.toDegrees(e.north)).toFixed(6);return{xmin:t,xmax:i,ymin:Number(Cesium.Math.toDegrees(e.south)).toFixed(6),ymax:n}}function getCenter$1(e){var t=e.scene,i=getPos(t);if(!i){var n=t.globe,r=t.camera.positionCartographic.clone(),o=n.getHeight(r);r.height=o||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}var a=toCartographic(i),s=Cesium.Cartesian3.distance(i,e.scene.camera.positionWC);return a.cameraZ=s,a}function getPos(e){var t=e.canvas,i=new Cesium.Cartesian2(t.clientWidth/2,t.clientHeight/2),n=e.camera.getPickRay(i);return e.globe.pick(n,e)||e.camera.pickEllipsoid(i)}function toCartographic(e){var t=Cesium.Cartographic.fromCartesian(e),i={};return i.y=Number(Cesium.Math.toDegrees(t.latitude)).toFixed(6),i.x=Number(Cesium.Math.toDegrees(t.longitude)).toFixed(6),i.z=Number(t.height).toFixed(2),i}class PrintScreen{constructor(e){this.PrintScreen=null}onAdd(e){this.PrintScreen=new IControl({className:"controlbtn control_printscreen",name:"导出图片",_globe:e,content:'<svg class="cesium-svgPath-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7673" width="26" height="26">\n            <path d="M978.488889 617.2444439999999c-11.377778 39.822222-51.2 68.266667-96.711111 68.266667h-39.822222v11.377778 22.755555 56.888889c-5.688889 45.511111-45.511111 79.644444-96.711112 79.644445H369.777778c-39.822222 0-91.022222 5.688889-119.466667-22.755556-34.133333-28.444444-34.133333-73.955556-34.133333-113.777778V685.511111h-39.822222c-45.511111 0-108.088889 0-130.844445-56.888889-5.688889-17.066667-5.688889-34.133333-5.688889-51.2v-335.644444c0-51.2 45.511111-91.022222 96.711111-91.022222h73.955556c0-51.2 5.688889-119.466667 73.955555-136.533334H716.8c51.2 0 91.022222 34.133333 96.711111 85.333334v51.2h73.955556c56.888889 0 96.711111 39.822222 96.711111 91.022222V571.733333c-5.688889 11.377778-5.688889 28.444444-5.688889 45.511111zM284.444444 713.955556v51.2c5.688889 11.377778 17.066667 17.066667 39.822223 17.066666h420.977777c11.377778 0 11.377778-5.688889 17.066667-5.688889 5.688889-5.688889 5.688889-28.444444 5.688889-45.511111V679.822222H284.444444v11.377778c5.688889 11.377778 0 17.066667 0 22.755556z m455.111112-426.666667V99.55555600000002c0-5.688889-5.688889-11.377778-5.688889-11.377778-11.377778-11.377778-51.2-11.377778-73.955556-11.377778H307.2c-5.688889 0-22.755556 0-22.755556 34.133333v182.044445c0 34.133333 17.066667 34.133333 22.755556 34.133333h398.222222c22.755556 0 28.444444-5.688889 34.133334-17.066667v-22.755555z m164.977777-45.511111c0-11.377778-5.688889-11.377778-5.688889-17.066667-11.377778-11.377778-51.2-11.377778-79.644444-11.377778h-11.377778v56.888889c0 17.066667 0 39.822222-5.688889 56.888889-11.377778 39.822222-45.511111 68.266667-91.022222 68.266667H347.022222c-39.822222 0-85.333333 0-119.466666-34.133334-22.755556-22.755556-22.755556-56.888889-22.755556-85.333333V213.33333300000004H142.222222c-5.688889 0-22.755556 0-22.755555 34.133334V583.1111109999999c0 11.377778 5.688889 17.066667 5.688889 17.066667 5.688889 11.377778 28.444444 11.377778 45.511111 11.377778h711.111111c5.688889 0 11.377778 0 17.066666-5.688889 11.377778-5.688889 5.688889-28.444444 5.688889-45.511111v-318.577778zM859.022222 509.155556c-5.688889 39.822222-39.822222 68.266667-85.333333 73.955555-45.511111 0-85.333333-39.822222-85.333333-85.333333s39.822222-85.333333 85.333333-85.333334 73.955556 34.133333 85.333333 68.266667V497.777778v11.377778z m-108.088889-11.377778c0 28.444444 39.822222 28.444444 45.511111 0 0-28.444444-39.822222-28.444444-45.511111 0z" fill="#ffffff" p-id="7675"></path>\n            </svg>',click:function(e,t){onclick()}})}}var saveFile=function(e,t){var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.href=e,i.download=t;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)};function onclick(e,t){var i=new Image;Globe.viewer.render(),i=Globe.viewer.scene.canvas.toDataURL("image/png"),saveFile(i,"XLGlobe-download")}Cesium.Camera.DEFAULT_VIEW_RECTANGLE=new Cesium.Rectangle.fromDegrees(80,55,135,20),Cesium.Camera.DEFAULT_VIEW_FACTOR=0;var Control={IControl:IControl,GaodePOIGeocoder:GaodePOIGeocoder,PositionLocation:PositionLocation$2,PositionLocation1:PositionLocation$1,PositionLocation2:PositionLocation,MouseLocationControl:MouseLocationControl,ContextMenu:ContextMenu,MeasureTool:MeasureTool,OverviewMap:OverviewMap,PrintScreen:PrintScreen};function createTerrainProvider(e){var t=null;switch(e.type_new||e.type){case"tiandituTerrain":t=new TiandituTerrainProvider(e);break;case"layerTerrain":t=new layerTerrainProvider(e);break;case"ArcGISTerrain":t=new ArcGISTiledElevationTerrainProvider(e);break;case"EllipsoidTerrain":t=new EllipsoidTerrainProvider(e);break;case"GoogleEarthTerrain":t=new GoogleEarthEnterpriseTerrainProvider(e);break;case"VRTheWorldTerrain":t=new VRTheWorldTerrainProvider(e);break;default:console.log("config配置图层未处理:"+e)}return t}class TiandituTerrainProvider{constructor(e){if(!Cesium.GeoTerrainProvider)return console.log("缺少天地图扩展插件cesiumTdt.js"),void alert("加载天地图三维地形失败！");var t=e||{};t.token=t.token||"6a043ce7d3a0791392dd921a6d6f5f29";for(var i=["0","1","2","3","4","5","6","7"],n=new Array,r=0;r<i.length;r++){var o="https://t{s}.tianditu.gov.cn/".replace("{s}",i[r])+"mapservice/swdx?tk="+t.token;n.push(t.proxy?new Cesium.Resource({url:o,proxy:t.proxy}):o)}return new Cesium.GeoTerrainProvider({urls:n})}}class layerTerrainProvider{constructor(e){var t=e||{};return new Cesium.CesiumTerrainProvider(t)}}class ArcGISTiledElevationTerrainProvider{constructor(e){var t=e||{};return new Cesium.ArcGISTiledElevationTerrainProvider(t)}}class EllipsoidTerrainProvider{constructor(e){var t=e||{};return new Cesium.EllipsoidTerrainProvider(t)}}class GoogleEarthEnterpriseTerrainProvider{constructor(e){var t=e||{};return new Cesium.GoogleEarthEnterpriseTerrainProvider(t)}}class VRTheWorldTerrainProvider{constructor(e){var t=e||{};return new Cesium.VRTheWorldTerrainProvider(t)}}var layerTerrainProvider$1=Object.freeze({__proto__:null,createTerrainProvider:createTerrainProvider,TiandituTerrainProvider:TiandituTerrainProvider,layerTerrainProvider:layerTerrainProvider,ArcGISTiledElevationTerrainProvider:ArcGISTiledElevationTerrainProvider,EllipsoidTerrainProvider:EllipsoidTerrainProvider,GoogleEarthEnterpriseTerrainProvider:GoogleEarthEnterpriseTerrainProvider,VRTheWorldTerrainProvider:VRTheWorldTerrainProvider}),GroupLayer=BaseLayer.extend({create:function(){if(this._layers=this.config._layers,this._layers&&this._layers.length>0)for(var e=0;e<this._layers.length;e++)this.hasOpacity=this._layers[e].hasOpacity,this.hasZIndex=this._layers[e].hasZIndex},setVisible:function(e){this._visible=e;for(var t=0;t<this._layers.length;t++)this._layers[t].setVisible(e)},add:function(){this._visible=!0;for(var e=0;e<this._layers.length;e++)this._layers[e].setVisible(!0)},addLayer:function(e){var t=XLGlobe.Layer.createLayer(e,this.viewer);if(null!=t){if(this.viewer&&this.viewer.Globe&&this.viewer.Globe.layerList&&this.viewer.Globe.layerList.length>0)for(var i=0;i<this.viewer.Globe.layerList.length;i++)this.viewer.Globe.layerList[i]==t&&this.viewer.Globe.layerList.splice(i,1);this._layers&&this._layers.length>=0&&this._layers.push(t)}},remove:function(){this._visible=!1;for(var e=0;e<this._layers.length;e++)this._layers[e].setVisible(!1)},centerAt:function(e){for(var t=0;t<this._layers.length;t++)this._layers[t].centerAt(e)},setOpacity:function(e){for(var t=this._layers,i=0;i<t.length;i++)t[i].setOpacity(e)}}),TerrainLayer=BaseLayer.extend({terrain:null,getLayer:function(){return this.terrain},add:function(){this.terrain||(this.terrain=getTerrainProvider(this.config)),this.viewer.terrainProvider=this.terrain},remove:function(){this.viewer.terrainProvider=createTerrainProvider({type:"EllipsoidTerrain"})}});function getTerrainProvider(e){return e.hasOwnProperty("requestWaterMask")||(e.requestWaterMask=!0),e.hasOwnProperty("requestVertexNormals")||(e.requestVertexNormals=!0),"terrain"!=e.type||""!=e.url&&null!=e.url&&"cesium"!=e.url?"ellipsoid"==e.url||"null"==e.url?_ellipsoid:createTerrainProvider(e):new Cesium.CesiumTerrainProvider({url:Cesium.IonResource.fromAssetId(1)})}class load3DTiles{constructor(e,t){return this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this;e.config.hideGlobe&&(e.viewer.scene.skyBox.show=!1,e.viewer.scene.backgroundColor=Cesium.Color.BLACK,e.viewer.scene.sun.show=!1,e.viewer.scene.moon.show=!1,e.viewer.scene.globe.show=!1,e.viewer.scene.skyAtmosphere.show=!1);var t={url:e.config.url};t=Object.assign(t,this.config);var i=new Cesium.Cesium3DTileset(t);i.style=new Cesium.Cesium3DTileStyle(e.config.style);var n=e.viewer.scene.primitives.add(i);return n.readyPromise.then((function(t){var i=e.config.height,n=t.boundingSphere,r=Cesium.Cartographic.fromCartesian(n.center),o=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,0),a=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,i),s=Cesium.Cartesian3.subtract(a,o,new Cesium.Cartesian3);t.modelMatrix=Cesium.Matrix4.fromTranslation(s)})),e.config.finishLoad&&i.readyPromise.then(e.config.finishLoad),e.config.isZoomTo&&e.viewer.zoomTo(n),i}}var Tiles3dLayer=BaseLayer.extend({layer:null,getLayer:function(){return this.layer},add:function(){null!=this.layer&&this.remove(),this.addEx(),this.config.styleOptions&&(this.config.style=this.config.styleOptions);var e=new load3DTiles(this.viewer,this.config);null!=e&&(this.layer=e,this.layer.config=this.config,1!=this._opacity&&this.setOpacity(this._opacity))},addEx:function(){},remove:function(){null!=this.layer&&(this.removeEx(),this.layer.destroy(),this.layer=null)},removeEx:function(){},centerAt:function(e){null!=this.layer&&(this.config.extent||this.config.center?this.viewer.centerAt(this.config.extent||this.config.center,{duration:e,isWgs84:!0}):e&&""!=e?this.viewer.flyTo(this.layer,{duration:e}):this.viewer.zoomTo(this.layer))},hasOpacity:!0,_opacity:1,setOpacity:function(e){this._opacity=e,null!=this.layer&&(this.layer.style=new Cesium.Cesium3DTileStyle({color:"color() *vec4(1,1,1,"+e+")"}))},hasZIndex:!0,setZIndex:function(e){this.layer}});class loadGltf{constructor(e,t){return this.viewer=e,this.config=Object.assign({},t),this.loadData(e)}loadData(e){var t,i=this.config,n={};if(i.position&&(i.position=Cesium.Cartesian3.fromDegrees(i.position.x,i.position.y,i.position.z)),i.center&&(i.position||(i.position=Cesium.Cartesian3.fromDegrees(i.center.x,i.center.y,i.center.z)),!i.orientation)){var r=Cesium.Math.toRadians(i.center.heading),o=Cesium.Math.toRadians(i.center.pitch),a=Cesium.Math.toRadians(i.center.roll),s=new Cesium.HeadingPitchRoll(r,o,a);i.orientation=Cesium.Transforms.headingPitchRollQuaternion(i.position,s)}if(i.position&&i.orientation){r=Cesium.Math.toRadians(i.orientation.heading),o=Cesium.Math.toRadians(i.orientation.pitch),a=Cesium.Math.toRadians(i.orientation.roll),s=new Cesium.HeadingPitchRoll(r,o,a);i.orientation=Cesium.Transforms.headingPitchRollQuaternion(i.position,s)}return n.uri=i.url,i.silhouette&&(n.silhouetteSize=i.silhouette.size),n.color="undefined",n.silhouetteColor="undefined",n=Object.assign(n,i),void 0===i.color?n.color=void 0:n.color=Cesium.Color.fromAlpha(Cesium.Color[i.color.color.toUpperCase()],parseFloat(i.color.colorAlpha)),void 0===i.silhouetteColor?n.silhouetteColor=void 0:n.silhouetteColor=Cesium.Color.fromAlpha(Cesium.Color[i.silhouetteColor.color.toUpperCase()],parseFloat(i.silhouetteColor.color.colorAlpha)),t=e.entities.add({id:i.id,name:i.name,position:i.position,orientation:i.orientation,model:n}),i.isZoomTo&&e.zoomTo(t),t}}var GltfLayer=BaseLayer.extend({layer:null,getLayer:function(){return this.layer},add:function(){null!=this.layer&&this.remove(),this.addEx();var e=new loadGltf(this.viewer,this.config);null!=e&&(this.layer=e,this.layer.config=this.config,1!=this._opacity&&this.setOpacity(this._opacity))},addEx:function(){},remove:function(){null!=this.layer&&(this.removeEx(),this.viewer.entities.remove(this.layer),this.layer=null)},removeEx:function(){},centerAt:function(e){null!=this.layer&&(this.config.extent||this.config.center?this.viewer.centerAt(this.config.extent||this.config.center,{duration:e,isWgs84:!0}):e&&""!=e?this.viewer.flyTo(this.layer,{duration:e}):this.viewer.zoomTo(this.layer))},hasOpacity:!0,_opacity:1,setOpacity:function(e){this._opacity=e,null!=this.layer&&(this.layer.model.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(e))},hasZIndex:!0,setZIndex:function(e){this.layer}});let getCurrentMousePosition$3=function(e,t,i,n){var r=t.pick(i);if(t.pickPositionSupported&&Cesium.defined(r)){var o=r.id;if(null==n||n&&o!==n){var a=e.scene.pickPosition(i);if(Cesium.defined(a)){var s=Cesium.Cartographic.fromCartesian(a).height;if(s>=0)return a;if(!Cesium.defined(r.id)&&s>=-500)return a}}}},getPopupForConfig=function(e,t){var i=e.popupNameField?t[e.popupNameField]:e.name;return e.popup?getPopup(e.popup,t,i):!!e.columns&&getPopup(e.columns,t,i)},getPopup=function(cfg,attr,title){if(!attr)return!1;if(title=title||"",Array.isArray(cfg)){for(var countsok=0,inhtml='<div class="globe-popup-titile">'+title+'</div><div class="globe-popup-content" >',i=0;i<cfg.length;i++){var thisfield=cfg[i],col=thisfield.field;if("object"==typeof attr[col]&&attr[col].hasOwnProperty("getValue")&&(attr[col]=attr[col].getValue()),"function"!=typeof attr[col])if("details"!=thisfield.type){var showval=$.trim(attr[col]);if(null!=showval&&""!=showval&&"Null"!=showval&&"Unknown"!=showval&&"0"!=showval&&0!=showval.length){if(thisfield.format)try{showval=eval(thisfield.format+"("+showval+")")}catch(e){console.log("getPopupByConfig error:"+thisfield.format)}thisfield.unit&&(showval+=thisfield.unit),inhtml+="<div><label>"+thisfield.name+"</label>"+showval+"</div>",countsok++}}else{var showval=$.trim(attr[col||"OBJECTID"]);if(null==showval||""==showval||"Null"==showval||"Unknown"==showval)continue;inhtml+='<div style="text-align: center;padding: 10px 0;"><button type="button" onclick="'+thisfield.calback+"('"+showval+'\');" " class="btn btn-info  btn-sm">'+(thisfield.name||"查看详情")+"</button></div>"}}return inhtml+="</div>",0!=countsok&&inhtml}if("object"!=typeof cfg){if("all"==cfg){var countsok=0,inhtml='<div class="globe-popup-titile">'+title+'</div><div class="globe-popup-content" >';for(var col in attr)if("Shape"!=col&&"FID"!=col&&"OBJECTID"!=col&&"_definitionChanged"!=col&&"_propertyNames"!=col&&("_"==col.substr(0,1)&&(col=col.substring(1)),"object"==typeof attr[col]&&attr[col].hasOwnProperty("getValue")&&(attr[col]=attr[col].getValue()),"function"!=typeof attr[col])){var showval=$.trim(attr[col]);null!=showval&&""!=showval&&"Null"!=showval&&"Unknown"!=showval&&"0"!=showval&&0!=showval.length&&(inhtml+="<div><label>"+col+"</label>"+showval+"</div>",countsok++)}return inhtml+="</div>",0!=countsok&&inhtml}return template(cfg,attr)}switch(cfg.type){case"iframe":var _url=template(cfg.url,attr),inhtml='<iframe id="ifarm" src="'+_url+'"  style="width:'+(cfg.width||"300")+"px;height:"+(cfg.height||"300")+'px;overflow:hidden;margin:0;" scrolling="no" frameborder="0" ></iframe>';return inhtml;case"javascript":return eval(cfg.calback+"("+JSON.stringify(attr)+")")}return!1},template=function(e,t){if(null!=e&&null!=t)return e.replace(/\{ *([\w_\-]+) *\}/g,(function(e,i){var n=t[i];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))};class LoadGeojson$1{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this;Cesium.GeoJsonDataSource.load(this.config.url,{clampToGround:this.config.clampToGround}).then((function(t){if(e.dataSource=t,e.config.prop){for(const t in e.config.prop)if(e.config.prop.hasOwnProperty(t)){const i=e.config.prop[t];e.dataSource[t]=i}}else e.dataSource.a="hello";e.showResult()}))}showResult(){var e=this;this.viewer.dataSources.add(this.dataSource),this.config.flyTo&&this.centerAt(),this.config.opacity&&this.setOpacity(this.config.opacity),this.config.themeConfig&&this.thematicMap();for(var t=this.dataSource.entities.values,i=0;i<t.length;i++){var n=t[i];if(this.config.tooltip&&(n.tooltip={html:function(t){var i=t.properties;return getPopupForConfig({popup:e.config.tooltip},i)},anchor:this.config.tooltipAnchor||[0,-15]}),this.config.styleOptions)if(n.polygon)Object.assign(n.polygon,this.config.styleOptions),this.config.styleOptions.outline?this.config.styleOptions.outlineWidth?(n.polyline={positions:n.polygon.hierarchy._value.positions,width:this.config.styleOptions.outlineWidth,material:Cesium.Color.YELLOW},this.config.styleOptions.outlineColor&&(n.polyline.material=new Cesium.Color.fromCssColorString(this.config.styleOptions.outlineColor).withAlpha(Number(this.config.styleOptions.outlineOpacity||1))),n.polygon.outline=!1):n.polygon.outline=!0:n.polygon.outline=!1,this.config.styleOptions.outlineColor&&(n.polygon.outlineColor=new Cesium.Color.fromCssColorString(this.config.styleOptions.outlineColor).withAlpha(Number(this.config.styleOptions.outlineOpacity||1))),this.config.styleOptions.color&&(n.polygon.material=new Cesium.Color.fromCssColorString(this.config.styleOptions.color).withAlpha(Number(this.config.styleOptions.opacity||1))),this.config.styleOptions.outlineWidth&&(n.polygon.outlineWidth=this.config.styleOptions.outlineWidth);else if(n.billboard){var r=n.properties;n.billboard.heightReference=Cesium.HeightReference.RELATIVE_TO_GROUND,this.billboardControlattribute2Entity({style:this.config.styleOptions},n.billboard),this.config.styleOptions.label&&this.config.styleOptions.label.field&&(this.config.styleOptions.label.heightReference=Cesium.HeightReference.RELATIVE_TO_GROUND,n.label=this.labelControlaAttribute2Entity({style:this.config.styleOptions.label}),n.label.text=r["_"+this.config.styleOptions.label.field]._value)}else n.polyline&&this.polylineControlAttribute2Entity({style:this.config.styleOptions},n.polyline)}}polylineControlAttribute2Entity(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={followSurface:!0,positions:new _DynamicProperty([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;case"lineType":case"color":case"opacity":case"outline":case"outlineWidth":case"outlineColor":case"outlineOpacity":}}var r=new Cesium.Color.fromCssColorString(e.style.color||"#FFFF00").withAlpha(Number(e.style.opacity||1));switch(e.style.lineType){default:case"solid":e.style.outline?t.material=new Cesium.PolylineOutlineMaterialProperty({color:r,outlineWidth:Number(e.style.outlineWidth||1),outlineColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=r;break;case"dash":e.style.outline?t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||e.style.outlineWidth||16,color:r,gapColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||16,color:r});break;case"glow":t.material=new Cesium.PolylineGlowMaterialProperty({glowPower:e.style.glowPower||.1,color:r});break;case"arrow":t.material=new Cesium.PolylineArrowMaterialProperty(r)}return t}labelControlaAttribute2Entity(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={scale:1,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"font_style":case"font_weight":case"font_size":case"font_family":case"text":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":case"background_opacity":break;case"color":t.fillColor=new Cesium.Color.fromCssColorString(n||"#ffffff").withAlpha(Number(e.style.opacity||1));break;case"border":t.style=n?Cesium.LabelStyle.FILL_AND_OUTLINE:Cesium.LabelStyle.FILL;break;case"border_color":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.opacity||1));break;case"border_width":t.outlineWidth=n;break;case"background":t.showBackground=n;break;case"background_color":t.backgroundColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.background_opacity||e.style.opacity||.5));break;case"pixelOffset":t.pixelOffset=new Cesium.Cartesian2(e.style.pixelOffset[0],e.style.pixelOffset[1]);break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}t.text=(e.style.text||"文字").replace(new RegExp("<br />","gm"),"\n");var r=(e.style.font_style||"normal")+" small-caps "+(e.style.font_weight||"normal")+" "+(e.style.font_size||"25")+"px "+(e.style.font_family||"楷体");return t.font=r,t}billboardControlattribute2Entity(e,t){for(var i in(e=e||{}).style=e.style||{},e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"opacity":t.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(n||1));break;case"rotation":t.rotation=Cesium.Math.toRadians(n);break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}return t}centerAt(){if(this.config.center){var e={destination:Cesium.Cartesian3.fromDegrees(this.config.center.x,this.config.center.y,this.config.center.z),orientation:{heading:this.config.center.heading,pitch:this.config.center.pitch,roll:this.config.center.roll}};this.config.duration&&(e.duration=this.config.duration),this.viewer.scene.camera.flyTo(e)}else this.viewer.flyTo(this.dataSource.entities.values,{duration:this.config.duration})}setOpacity(e){for(var t=e,i=this.dataSource.entities.values,n=0;n<i.length;n++){var r=i[n];r.polygon&&r.polygon.material&&r.polygon.material.color&&(this._updatEntityAlpha(r.polygon.material.color,t),r.polygon.outlineColor&&this._updatEntityAlpha(r.polygon.outlineColor,t)),r.polyline&&r.polyline.material&&r.polyline.material.color&&this._updatEntityAlpha(r.polyline.material.color,t),r.billboard&&(r.billboard.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(t)),r.model&&(r.model.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(t)),r.label&&(r.label.fillColor&&this._updatEntityAlpha(r.label.fillColor,t),r.label.outlineColor&&this._updatEntityAlpha(r.label.outlineColor,t),r.label.backgroundColor&&this._updatEntityAlpha(r.label.backgroundColor,t))}}_updatEntityAlpha(e,t){var i=e.getValue().withAlpha(t);e.setValue(i)}thematicMap(){for(var e=this,t=this.dataSource.entities.values,i=this.config.themeConfig,n=i.filed,r=0;r<t.length;r++){var o=t[r];if(o.polygon&&(i.height&&(o.polygon.extrudedHeight=Number(o._properties[n]._value)*i.height),i.colorArr&&i.filedValueArr)){var a=Number(o._properties[n]._value);i.filedValueArr.forEach(((t,n)=>{(a>t[0]||a==t[0])&&a<t[1]&&(o.polygon.material=new Cesium.Color(i.colorArr[n][0]/255,i.colorArr[n][1]/255,i.colorArr[n][2]/255,e.config.opacity))}))}}}}var GeojsonLayer=BaseLayer.extend({layer:null,getLayer:function(){return this.layer},add:function(){null!=this.layer&&this.remove(),this.addEx(),this.config.alpha&&(this.config.opacity=this.config.alpha);var e=new LoadGeojson$1(this.viewer,this.config);null!=e&&(this.layer=e,this.layer.config=this.config)},addEx:function(){},remove:function(){null!=this.layer&&(this.removeEx(),this.layer.dataSource.entities.removeAll(),this.layer=null)},removeEx:function(){},centerAt:function(e){null!=this.layer&&(this.config.extent||this.config.center?this.viewer.centerAt(this.config.extent||this.config.center,{duration:e,isWgs84:!0}):e&&""!=e?this.viewer.flyTo(this.layer.dataSource,{duration:e}):this.viewer.zoomTo(this.layer.dataSource))},hasOpacity:!0,_opacity:1,setOpacity:function(e){this._opacity=e,null!=this.layer&&this.layer.setOpacity(e)},hasZIndex:!0,setZIndex:function(e){this.layer}});class LoadPolylineVolume$1{constructor(e,t){this.viewer=e,t.styleOptions&&t.styleOptions.color&&(t.material=new Cesium.Color.fromCssColorString(t.styleOptions.color).withAlpha(Number(t.styleOptions.opacity||1))),t.styleOptions&&t.styleOptions.radius&&(t.radius=t.styleOptions.radius),t.styleOptions&&t.styleOptions.thickness&&(t.thickness=t.styleOptions.thickness),this.optconfig=Object.assign({material:Cesium.Color.RED,radius:1,thickness:5,step:30},t);this.loadData()}loadData(){var e=this;Cesium.GeoJsonDataSource.load(this.optconfig.url,{}).then((function(t){e.viewer.dataSources.add(t),e.dataSource=t;for(var i=e.dataSource.entities.values,n=0;n<i.length;n++){var r=i[n];r.polylineVolume={positions:r.polyline.positions.getValue(),shape:e._getCorridorShape(e.optconfig.radius),material:e.optconfig.material},r.polyline=void 0}e.optconfig.flyTo&&e.centerAt()}))}_getCorridorShape(e){for(var t=e/this.optconfig.thickness,i=this.optconfig.step,n=[],r=0;r<=360;r++){r=r+i-1;var o=Cesium.Math.toRadians(r);n.push(new Cesium.Cartesian2(e*Math.cos(o),e*Math.sin(o)))}for(r=360;r>=0;r--){r=r-i+1;o=Cesium.Math.toRadians(r);n.push(new Cesium.Cartesian2((e-t)*Math.cos(o),(e-t)*Math.sin(o)))}return n}centerAt(){if(this.optconfig.center){var e={destination:Cesium.Cartesian3.fromDegrees(this.optconfig.center.x,this.optconfig.center.y,this.optconfig.center.z),orientation:{heading:this.optconfig.center.heading,pitch:this.optconfig.center.pitch,roll:this.optconfig.center.roll}};this.optconfig.duration&&(e.duration=this.optconfig.duration),this.viewer.scene.camera.flyTo(e)}else this.viewer.flyTo(this.dataSource.entities.values,{duration:this.optconfig.duration})}setOpacity(e){for(var t=e,i=this.dataSource.entities.values,n=0;n<i.length;n++){var r=i[n];r.polylineVolume&&r.polylineVolume.material&&r.polylineVolume.material.color&&this._updatEntityAlpha(r.polylineVolume.material.color,t)}}_updatEntityAlpha(e,t){var i=e.getValue().withAlpha(t);e.setValue(i)}}var PolylineVolumeLayer=BaseLayer.extend({layer:null,getLayer:function(){return this.layer},add:function(){null!=this.layer&&this.remove(),this.addEx();var e=new LoadPolylineVolume$1(this.viewer,this.config);null!=e&&(this.layer=e,this.layer.config=this.config,1!=this._opacity&&this.setOpacity(this._opacity))},addEx:function(){},remove:function(){null!=this.layer&&(this.removeEx(),this.layer.dataSource.entities.removeAll(),this.layer=null)},removeEx:function(){},centerAt:function(e){null!=this.layer&&(this.config.extent||this.config.center?this.viewer.centerAt(this.config.extent||this.config.center,{duration:e,isWgs84:!0}):e&&""!=e?this.viewer.flyTo(this.layer.dataSource,{duration:e}):this.viewer.zoomTo(this.layer.dataSource))},hasOpacity:!0,_opacity:1,setOpacity:function(e){this._opacity=e,null!=this.layer&&this.layer.setOpacity(e)},hasZIndex:!0,setZIndex:function(e){this.layer}});function createLayer(e,t,i,n){var r;switch(e.url&&(i&&(e.url=e.url.replace("$serverURL$",i)),e.url=e.url.replace("$hostname$",location.hostname).replace("$host$",location.host)),e.type){case"group":if(e.layers&&e.layers.length>0){for(var o=[],a=0;a<e.layers.length;a++){var s=createLayer(e.layers[a],t,i,n);if(null!=s&&(o.push(s),t&&t.Globe&&t.Globe.layerList&&t.Globe.layerList.length>0))for(var l=0;l<t.Globe.layerList.length;l++)t.Globe.layerList[l]==s&&t.Globe.layerList.splice(l,1)}e._layers=o,r=new GroupLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.layerList.push(r)}else e._layers=[],r=new GroupLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.layerList.push(r);break;case"single":case"image":case"xyz":case"tile":case"wms":case"tms":case"wmts":case"arcgis":case"arcgis_tile":case"arcgis_dynamic":case"arcgis_cache":case"tianditu":case"www_gaode":case"baidu":case"www_google":case"www_osm":case"www_bing":case"mapbox":case"mapboxstyle":case"custom_grid":case"custom_tilecoord":r=new TileLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.layerList.push(r);break;case"www_poi":r=new _POILayer(e,t);break;case"custom_featuregrid":r=new _CustomFeatureGridLayer(e,t);break;case"custom_graticule":r=new _GraticuleLayer(e,t);break;case"3dtiles":r=new Tiles3dLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.tiles3dLayerList.push(r);break;case"gltf":r=new GltfLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.tiles3dLayerList.push(r);break;case"arcgis_feature":r=new _ArcFeatureGridLayer(e,t);break;case"arcgis_feature2":r=new _ArcFeatureLayer(e,t);break;case"geojson":r=new GeojsonLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.geojsonLayerList.push(r);break;case"geojson_linevolume":r=new PolylineVolumeLayer(e,t),t&&t.Globe&&null!=r&&t.Globe.geojsonLayerList.push(r);break;case"kml":r=new _KmlLayer(e,t);break;case"czml":r=new _CzmlLayer(e,t);break;case"terrain":case"tiandituTerrain":case"layerTerrain":case"ArcGISTerrain":case"EllipsoidTerrain":case"GoogleEarthTerrain":case"VRTheWorldTerrain":r=new TerrainLayer(e,t)}if(e.id&&(r._id=e.id),n){var u=n(e,t,r);u&&(r=u)}return null==r&&"group"!=e.type&&console.log("配置中的图层未处理："+JSON.stringify(e)),r}var Layer={};for(var item in layerImageryProvider)Layer[item]=layerImageryProvider[item];for(var item in layerTerrainProvider$1)Layer[item]=layerTerrainProvider$1[item];Layer.createLayer=createLayer;var latlng={};function pickCenterPoint(e){var t=e.canvas,i=new Cesium.Cartesian2(t.clientWidth/2,t.clientHeight/2),n=e.camera.getPickRay(i);return e.globe.pick(n,e)||e.camera.pickEllipsoid(i)}latlng.getCurrentMousePosition=function(e,t,i){var n=e.pick(t);if(e.pickPositionSupported&&Cesium.defined(n)){var r=n.id;if(null==i||i&&r!==i){var o=e.pickPosition(t);if(Cesium.defined(o)){var a=Cesium.Cartographic.fromCartesian(o).height;if(a>=0)return o;if(!Cesium.defined(n.id)&&a>=-500)return o}}}if(e.mode===Cesium.SceneMode.SCENE3D){var s=e.camera.getPickRay(t);o=e.globe.pick(s,e)}else o=e.camera.pickEllipsoid(t,e.globe.ellipsoid);return o},latlng.getCenter=function(e){var t=e.scene,i=pickCenterPoint(t);if(!i){var n=t.globe,r=t.camera.positionCartographic.clone(),o=n.getHeight(r);r.height=o||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}var a=latlng.formatPositon(i),s=Cesium.Cartesian3.distance(i,e.scene.camera.positionWC);return a.cameraZ=s,a},latlng.getExtent=function(e){var t={xmin:70,xmax:140,ymin:0,ymax:55},i=e.scene,n=i.globe.ellipsoid,r=i.canvas,o=e.camera.pickEllipsoid(new Cesium.Cartesian2(0,0),n);if(o){var a=n.cartesianToCartographic(o);t.xmin=Cesium.Math.toDegrees(a.longitude),t.ymax=Cesium.Math.toDegrees(a.latitude)}else{for(var s,l=r.width/2,u=r.height/2,c=0;c<=u;c+=10){var h=c<=l?c:l;if(s=e.camera.pickEllipsoid(new Cesium.Cartesian2(h,c),n))break}if(s){a=n.cartesianToCartographic(s);t.xmin=Cesium.Math.toDegrees(a.longitude),t.ymax=Cesium.Math.toDegrees(a.latitude)}}var g=e.camera.pickEllipsoid(new Cesium.Cartesian2(r.width,r.height),n);if(g){var d=n.cartesianToCartographic(g);t.xmax=Cesium.Math.toDegrees(d.longitude),t.ymin=Cesium.Math.toDegrees(d.latitude)}else{var p;for(l=r.width/2,u=r.height/2,c=r.height;c>=u;c-=10){h=c>=l?c:l;if(p=e.camera.pickEllipsoid(new Cesium.Cartesian2(h,c),n))break}if(p){d=n.cartesianToCartographic(p);t.xmax=Cesium.Math.toDegrees(d.longitude),t.ymin=Cesium.Math.toDegrees(d.latitude)}}if(t.xmax<t.xmin){var m=t.xmax;t.xmax=t.xmin,t.xmin=m}if(t.ymax<t.ymin){m=t.ymax;t.ymax=t.ymin,t.ymin=m}return t},latlng.getViewBounds=function(e){var t=e.camera.computeViewRectangle(),i=t.west/Math.PI*180,n=t.north/Math.PI*180,r=t.east/Math.PI*180;return{southwest:{lng:i,lat:t.south/Math.PI*180},northeast:{lng:r,lat:n}}},latlng.getCameraView=function(e){var t=e.camera,i=t.positionCartographic,n={};return n.y=Number(Cesium.Math.toDegrees(i.latitude).toFixed(6)),n.x=Number(Cesium.Math.toDegrees(i.longitude).toFixed(6)),n.z=Number(i.height.toFixed(1)),n.heading=Number(Cesium.Math.toDegrees(t.heading||-90).toFixed(1)),n.pitch=Number(Cesium.Math.toDegrees(t.pitch||0).toFixed(1)),n.roll=Number(Cesium.Math.toDegrees(t.roll||0).toFixed(1)),n},latlng.formatPositon=function(e){var t=Cesium.Cartographic.fromCartesian(e),i={};return i.y=Number(Cesium.Math.toDegrees(t.latitude).toFixed(6)),i.x=Number(Cesium.Math.toDegrees(t.longitude).toFixed(6)),i.z=Number(t.height.toFixed(1)),i},latlng.Cartesian3To=function(e,t){if(e){var i;if(t)i=t.scene.globe.ellipsoid.cartesianToCartographic(e);else i=Cesium.Cartographic.fromCartesian(e);return{cartesian3:e,cartographic:i,latlng:{lat:Cesium.Math.toDegrees(i.latitude),lng:Cesium.Math.toDegrees(i.longitude),height:i.height}}}},latlng.windingPoint={isStart:!1,viewer:null,start:function(e,t){t||(t=getCenter(e)),this.viewer=e,this.position=Cesium.Cartesian3.fromDegrees(t.x,t.y,t.z),this.distance=t.distance||Cesium.Cartesian3.distance(this.position,e.camera.positionWC),this.angle=360/(t.time||60),this.time=e.clock.currentTime.clone(),this.heading=e.camera.heading,this.pitch=e.camera.pitch,this.viewer.clock.onTick.addEventListener(this.clock_onTickHandler,this),this.isStart=!0},clock_onTickHandler:function(e){var t=Cesium.JulianDate.secondsDifference(this.viewer.clock.currentTime,this.time),i=Cesium.Math.toRadians(t*this.angle)+this.heading;this.viewer.scene.camera.setView({destination:this.position,orientation:{heading:i,pitch:this.pitch}}),this.viewer.scene.camera.moveBackward(this.distance)},stop:function(){this.isStart&&(this.viewer&&this.viewer.clock.onTick.removeEventListener(this.clock_onTickHandler,this),this.isStart=!1)}},latlng.aroundPoint={isStart:!1,viewer:null,start:function(e,t){t||(t=getCenter(e)),this.viewer=e,this.position=Cesium.Cartesian3.fromDegrees(t.x,t.y,t.z),this.angle=360/(t.time||60),this.time=e.clock.currentTime.clone(),this.heading=e.camera.heading,this.pitch=e.camera.pitch,this.viewer.clock.onTick.addEventListener(this.clock_onTickHandler,this),this.isStart=!0},clock_onTickHandler:function(e){var t=Cesium.JulianDate.secondsDifference(this.viewer.clock.currentTime,this.time),i=Cesium.Math.toRadians(t*this.angle)+this.heading;viewer.scene.camera.setView({orientation:{heading:i,pitch:this.pitch}})},stop:function(){this.isStart&&(this.viewer&&this.viewer.clock.onTick.removeEventListener(this.clock_onTickHandler,this),this.isStart=!1)}};let getCurrentMousePosition$2=function(e,t,i,n){var r=t.pick(i);if(t.pickPositionSupported&&Cesium.defined(r)){var o=r.id;if(null==n||n&&o!==n){var a=e.scene.pickPosition(i);if(Cesium.defined(a)){var s=Cesium.Cartographic.fromCartesian(a).height;if(s>=0)return a;if(!Cesium.defined(r.id)&&s>=-500)return a}}}};class tooltip$1{constructor(e){this.viewer=e,this.init()}init(){var e=this.viewer,t=this;$("#"+e._container.id).append('<div id="tooltip-view" class="cesium-popup" style="display:none;">     <div class="cesium-popup-content-wrapper  cesium-popup-background">         <div id="tooltip-content" class="cesium-popup-content cesium-popup-color"></div>     </div>     <div class="cesium-popup-tip-container"><div class="cesium-popup-tip  cesium-popup-background"></div></div></div> '),this.handler=new Cesium.ScreenSpaceEventHandler(e.scene.canvas),this.handler.setInputAction((function(i){$(".cesium-viewer").css("cursor","");var n=i.endPosition,r=e.scene.pick(n);if(r&&Cesium.defined(r.id)){var o=r.id;if((o.popup||o.cursorCSS)&&$(".cesium-viewer").css("cursor",o.cursorCSS||"pointer"),!o.tooltip)return void t.close();if(o.billboard||o.label||o.point){if(t.lastEntity==o)return;t.lastEntity=o}var a=getCurrentMousePosition$2(e,e.scene,n);t.show(o,a,n)}else if(r&&Cesium.defined(r.primitive)){var s=r.primitive;if((s.popup||s.cursorCSS)&&$(".cesium-viewer").css("cursor",s.cursorCSS||"pointer"),!s.tooltip)return void t.close();a=getCurrentMousePosition$2(e,e.scene,n);t.show(s,a,n)}else t.close()}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}show(e,t,i){if(null!=e&&null!=e.tooltip)if(null==i&&(i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene,t)),null!=i){var n,r=$("#tooltip-view");if("function"==typeof(n="object"==typeof e.tooltip?e.tooltip.html:e.tooltip)&&(n=n(e)),n){$("#tooltip-content").html(n),r.show();var o=i.x-r.width()/2,a=i.y-r.height(),s=e.tooltip;s&&"object"==typeof s&&s.anchor?(o+=s.anchor[0],a+=s.anchor[1]):a-=10,r.css("transform","translate3d("+o+"px,"+a+"px, 0)")}}else this.close()}close(){$("#tooltip-content").empty(),$("#tooltip-view").hide(),this.lastEntity=null}destroy(){this.close(),this.handler.destroy()}}var util={isNumber:function(e){return"number"==typeof e&&e.constructor==Number},isString:function(e){return"string"==typeof e&&e.constructor==String},extend:function(e){for(var t=0;t<Object.getOwnPropertyNames(arguments).length;t++){var i=Object.getOwnPropertyNames(arguments)[t];if("caller"!=i&&"callee"!=i&&"length"!=i&&"arguments"!=i){var n=arguments[i];if(n)for(var r=0;r<Object.getOwnPropertyNames(n).length;r++){var o=Object.getOwnPropertyNames(n)[r];"caller"!=i&&"callee"!=i&&"length"!=i&&"arguments"!=i&&(e[o]=n[o])}}}return e},getRequest:function(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var i=e.substr(1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=decodeURI(i[n].split("=")[1]);return t},getRequestByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?decodeURI(i[2]):null},clone:function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=clone(e[i]);return t}if("object"==typeof e){t={};for(var r in e)"_layer"!=r&&"_layers"!=r&&"_parent"!=r&&e.hasOwnProperty(r)&&(t[r]=clone(e[r]));return t}return e},isPCBroswer:function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),i="iphone"==e.match(/iphone/i),n="midp"==e.match(/midp/i),r="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),o="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),s="windows ce"==e.match(/windows ce/i),l="windows mobile"==e.match(/windows mobile/i);return!(t||i||n||r||o||a||s||l)},webglreport:function(){var e=getExplorerInfo();if("IE"==e.type&&e.version<11)return!1;try{var t,i=document.createElement("canvas");if("undefined"!=typeof WebGL2RenderingContext&&(t=i.getContext("webgl2")||i.getContext("experimental-webgl2")||void 0),null==t&&(t=i.getContext("webgl")||i.getContext("experimental-webgl")||void 0),null==t)return!1}catch(e){return!1}return!0},terrainPolyline:function(e){var t=e.viewer,i=e.positions;if(null!=i&&0!=i.length){for(var n=Cesium.PolylinePipeline.generateArc({positions:i,granularity:e.granularity||1e-5}),r=[],o=t.scene.globe.ellipsoid,a=0;a<n.length;a+=3){var s=Cesium.Cartesian3.unpack(n,a);r.push(o.cartesianToCartographic(s))}var l=Cesium.Cartographic.fromCartesian(i[0]).height;Cesium.when(Cesium.sampleTerrainMostDetailed(t.terrainProvider,r),(function(n){for(var r=!1,a=e.offset||2,s=0;s<n.length;++s)null==n[s].height?(r=!0,n[s].height=l):n[s].height=a+n[s].height*t.scene._terrainExaggeration;var u=o.cartographicArrayToCartesianArray(n);e.calback?e.calback(u,r):i.setValue&&i.setValue(u)}))}else e.calback&&e.calback(i)}},_ellipsoid$1=new Cesium.EllipsoidTerrainProvider({ellipsoid:Cesium.Ellipsoid.WGS84});function getExplorerInfo(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("msie")>=0?{type:"IE",version:Number(e.match(/msie ([\d]+)/)[1])}:e.indexOf("firefox")>=0?{type:"Firefox",version:Number(e.match(/firefox\/([\d]+)/)[1])}:e.indexOf("chrome")>=0?{type:"Chrome",version:Number(e.match(/chrome\/([\d]+)/)[1])}:e.indexOf("opera")>=0?{type:"Opera",version:Number(e.match(/opera.([\d]+)/)[1])}:e.indexOf("Safari")>=0?{type:"Safari",version:Number(e.match(/version\/([\d]+)/)[1])}:{type:e,version:-1}}function floatObj(){function e(e){var t,i={times:1,num:0};if(t=e,Math.floor(t)===t)return i.num=e,i;var n=e+"",r=n.indexOf("."),o=n.substr(r+1).length,a=Math.pow(10,o),s=parseInt(e*a+.5,10);return i.times=a,i.num=s,i}function t(t,i,n){var r=e(t),o=e(i),a=r.num,s=o.num,l=r.times,u=o.times,c=l>u?l:u;switch(n){case"add":return(l===u?a+s:l>u?a+s*(l/u):a*(u/l)+s)/c;case"subtract":return(l===u?a-s:l>u?a-s*(l/u):a*(u/l)-s)/c;case"multiply":return a*s/(l*u);case"divide":return a/s*(u/l)}}return{add:function(e,i){return t(e,i,"add")},subtract:function(e,i){return t(e,i,"subtract")},multiply:function(e,i){return t(e,i,"multiply")},divide:function(e,i){return t(e,i,"divide")}}}util.getEllipsoidTerrain=function(){return _ellipsoid$1},util.getTerrainProvider=function(e){return e.hasOwnProperty("requestWaterMask")||(e.requestWaterMask=!0),e.hasOwnProperty("requestVertexNormals")||(e.requestVertexNormals=!0),""==e.url||null==e.url||"cesium"==e.url?new Cesium.CesiumTerrainProvider({url:Cesium.IonResource.fromAssetId(1)}):"ellipsoid"==e.url||"null"==e.url?_ellipsoid$1:new Cesium.CesiumTerrainProvider(e)},util.createModel=function(e,t){e=t.globe.point2map(e);var i=Cesium.Cartesian3.fromDegrees(e.x,e.y,e.z||0),n=Cesium.Math.toRadians(e.heading||0),r=Cesium.Math.toRadians(e.pitch||0),o=Cesium.Math.toRadians(e.roll||0),a=new Cesium.HeadingPitchRoll(n,r,o),s=Cesium.Transforms.headingPitchRollQuaternion(i,a);return t.entities.add({name:e.name||"",position:i,orientation:s,model:e,tooltip:e.tooltip,popup:e.popup})},util.formatDegree=function(e){e=Math.abs(e);var t=Math.floor(e);return t+"° "+Math.floor(60*(e-t))+"'  "+Math.round(3600*(e-t)%60)+'"'},util.floatObj=floatObj(),util.randomPointsWithinPolygon=function(e,t,i){for(var n=1e9,r=-1e9,o=1e9,a=-1e9,s=0;s<e.length;s++)n=Math.min(n,e[s].x),r=Math.max(r,e[s].x),o=Math.min(o,e[s].y),a=Math.max(a,e[s].y);var l=[];i&&"geojson"==i&&(l={type:"FeatureCollection",features:[]});for(var u=0;u<t;u++){var c=util.randomPointsWithinBbox(n,r,o,a,1)[0];if(util.isDotInPolygon(c,e))if("geojson"==i){var h={type:"Feature",properties:{value:parseInt(1e7*Math.random())},geometry:{type:"Point",coordinates:[c.x,c.y]}};l.features.push(h)}else l.push(c);else u--}return l},util.randomPointsWithinBbox=function(e,t,i,n,r,o){if(o&&"geojson"==o){for(var a={type:"FeatureCollection",features:[]},s=0;s<r;s++){var l={type:"Feature",properties:{value:parseInt(1e7*Math.random())},geometry:{type:"Point",coordinates:[Math.random()*(t-e)+e,Math.random()*(n-i)+i]}};a.features.push(l)}return a}for(a=[],s=0;s<r;s++){l={x:Math.random()*(t-e)+e,y:Math.random()*(n-i)+i};a.push(l)}return a},util.isDotInPolygon=function(e,t,i=!0){var n,r,o=!1;e.x||(e.x=e[0],e.y=e[1]);for(var a=0,s=t.length-1;a<t.length;s=a++){if(n=t[a],r=t[s],n=n.x?{x:n.x,y:n.y}:{x:n[0],y:n[1]},r=r.x?{x:r.x,y:r.y}:{x:r[0],y:r[1]},i&&util.onSegment(n,r,e))return!0;n.y>e.y!=r.y>e.y&&e.x<(e.y-n.y)*(n.x-r.x)/(n.y-r.y)+n.x&&(o=!o)}return o},util.onSegment=function(e,t,i){return(i.x-e.x)*(t.y-e.y)==(t.x-e.x)*(i.y-e.y)&&Math.min(e.x,t.x)<=i.x&&i.x<=Math.max(e.x,t.x)&&Math.min(e.y,t.y)<=i.y&&i.y<=Math.max(e.y,t.y)},util.getJSON=function(e,t){const i=new XMLHttpRequest;i.responseType="json",i.open("get",e,!0),i.onload=function(){if(!(i.status>=200&&i.status<300))throw new Error(i.statusText);t(i.response)},i.send()};var DynamicProperty$1=function(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new Cesium.Event,this._constant=!1,this.setValue(e)};Object.defineProperties(DynamicProperty$1.prototype,{isConstant:{get:function(){return this._constant},set:function(e){this._constant!==e&&(this._constant=e,this._definitionChanged.raiseEvent(this))}},definitionChanged:{get:function(){return this._definitionChanged}}}),DynamicProperty$1.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value},DynamicProperty$1.prototype.setValue=function(e){var t=this._value;if(t!==e){var i=Cesium.defined(e),n=i&&"function"==typeof e.clone,r=i&&"function"==typeof e.equals;this._hasClone=n,this._hasEquals=r,(!r||!e.equals(t))&&(this._value=n?e.clone():e,this._definitionChanged.raiseEvent(this))}},DynamicProperty$1.prototype.equals=function(e){return this===e||e instanceof DynamicProperty$1&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))},DynamicProperty$1.prototype.valueOf=function(e){return this._value},DynamicProperty$1.prototype.toString=function(e){return String(this._value)};var drawutils$1={createDragger:function(e,t){var i;if(t.dragger)i=t.dragger;else{var n=Cesium.defaultValue(t.position,Cesium.Cartesian3.ZERO);if(t.dragIcon)i=e.entities.add({position:n,billboard:{scale:1,image:t.dragIcon,heightReference:t.clampToGround?Cesium.HeightReference.CLAMP_TO_GROUND:Cesium.HeightReference.NONE}});else{var r="2"===t.drawPointType?"#FFB243":"#3388FF";i=e.entities.add({position:n,point:{scale:1,color:new Cesium.Color.fromCssColorString(r).withAlpha(.7),pixelSize:10,outlineColor:new Cesium.Color.fromCssColorString("#ffffff"),outlineWidth:2,scaleByDistance:new Cesium.NearFarScalar(1e3,1,1e6,.4),heightReference:t.clampToGround?Cesium.HeightReference.CLAMP_TO_GROUND:Cesium.HeightReference.NONE}}),t.PdisableDepthTestDistance&&(i.point.disableDepthTestDistance=Number.POSITIVE_INFINITY)}}return i._isDragger=!0,i.onDrag=Cesium.defaultValue(t.onDrag,null),i.horizontal=Cesium.defaultValue(t.horizontal,!0),i.vertical=Cesium.defaultValue(t.vertical,!1),i.verticalCtrl=Cesium.defaultValue(t.vertical,!1),i},getCoordinates:function(e){for(var t=[],i=0;i<e.length;i++){var n=Cesium.Cartographic.fromCartesian(e[i]),r=Number(Cesium.Math.toDegrees(n.longitude).toFixed(6)),o=Number(Cesium.Math.toDegrees(n.latitude).toFixed(6)),a=Number(n.height.toFixed(1));t.push([r,o,a])}return t},getMaxHeightForPositions:function(e,t){null==t&&(t=0);var i=t;if(null==e||0==e.length)return i;e[0];for(var n=0;n<e.length;n++){var r=Cesium.Cartographic.fromCartesian(e[n]);r.height>i&&(i=r.height)}return i},getPositionsWithHeight:function(e,t){if(e instanceof Array){for(var i=[],n=0;n<e.length;n++){var r=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e[n]),o={lon:Cesium.Math.toDegrees(r.longitude),lat:Cesium.Math.toDegrees(r.latitude),hgt:Math.ceil(Number(r.height)+Number(t))},a=[o.lon,o.lat,o.hgt];i=i.concat(a)}return Cesium.Cartesian3.fromDegreesArrayHeights(i)}r=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e);var s=Cesium.Math.toDegrees(r.longitude),l=Cesium.Math.toDegrees(r.latitude);return Cesium.Cartesian3.fromDegrees(s,l,Number(r.height)+Number(t))},getZHeightPosition:function(e,t){var i=Cesium.Cartographic.fromCartesian(e),n=Number(Cesium.Math.toDegrees(i.longitude)),r=Number(Cesium.Math.toDegrees(i.latitude)),o=Number(i.height.toFixed(2)),a=Cesium.Cartographic.fromCartesian(t),s=Number(Cesium.Math.toDegrees(a.longitude)),l=Number(Cesium.Math.toDegrees(a.latitude)),u=Number(a.height.toFixed(2));return o>u?Cesium.Cartesian3.fromDegrees(s,l,o):Cesium.Cartesian3.fromDegrees(n,r,u)},getHDistance:function(e,t){var i=this.getZHeightPosition(e,t),n=Cesium.Cartographic.fromCartesian(t),r=Cesium.Cartographic.fromCartesian(i),o=Cesium.Cartesian3.distance(e,i);return Math.abs(Number(r.height)-Number(n.height))<.01&&(o=Cesium.Cartesian3.distance(t,i)),o},getMidPosition:function(e,t){var i=Cesium.Cartographic.fromCartesian(e),n=Number(Cesium.Math.toDegrees(i.longitude)),r=Number(Cesium.Math.toDegrees(i.latitude)),o=Number(i.height.toFixed(2)),a=Cesium.Cartographic.fromCartesian(t),s=(n+Number(Cesium.Math.toDegrees(a.longitude)))/2,l=(r+Number(Cesium.Math.toDegrees(a.latitude)))/2,u=(o+Number(a.height.toFixed(2)))/2;return Cesium.Cartesian3.fromDegrees(s,l,u)},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getPositionsFromJson:function(e){if(!e)return null;switch(e.type){case"Point":var t=e.coordinates;return 1==t.length&&this.isArray(t[0])&&(t=t[0]),this.lonLatToCartesian(t);case"MultiPoint":case"LineString":return this.lonLatsToCartesians(e.coordinates);case"MultiLineString":case"Polygon":case"zhijiantou":case"qianjijiantou":case"gongjijiantou":return this.lonLatsToCartesians(e.coordinates[0]);case"MultiPolygon":return this.lonLatsToCartesians(e.coordinates[0][0]);default:throw new Error("Invalid GeoJSON object.")}},lonLatToCartesian:function(e){return Cesium.Cartesian3.fromDegrees(Number(e[0]),Number(e[1]),Number(e[2]||0))},lonLatsToCartesians:function(e){for(var t=[],i=0;i<e.length;i++){var n=[Number(e[i][0]),Number(e[i][1]),Number(e[i][2]||0)];t=t.concat(n)}return Cesium.Cartesian3.fromDegreesArrayHeights(t)},normalizeJsonData:function(e){var t,i={};if(i.type="FeatureCollection",i.features=[],(t="string"==typeof e?JSON.parse(e):e)instanceof Array){for(var n=0;n<t.length;n++){var r={type:"Feature"};r.properties=t[n].properties||t[n].PROPERTIES,r.geometry=t[n].geometry||t[n].GEOMETRY,i.features.push(r)}return JSON.stringify(i)}if(e.features&&e.features instanceof Array)return e},normalizeBusinessData:function(e){var t={};try{t=JSON.parse(e)}catch(e){return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!")}for(var i=t.features,n=[],r=0;r<i.length;r++){var o=i[r],a={dataID:o.properties.attr.id,dataType:o.properties.attr.type,properties:o.properties,geometry:o.geometry};n.push(a)}return JSON.stringify(n)}},_drawutils$$=drawutils$1,PointEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],_drawutils$$.createDragger(this.dataSource,{dragger:t,onDrag:function(e,i){var n=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(i,t.position._value,n),t.position._value=i,t.changeEditing()}})};PointEditor$1.prototype.updateDraggers=function(){},PointEditor$1.prototype.destroy=function(){this.draggers=[]};var _DynamicProperty$q=DynamicProperty$1,_drawutils$_=drawutils$1,_Editor$h=PointEditor$1,BillboardControl$1={typename:"billboard",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({billboard:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={scale:1,rotation:0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,scaleByDistance:null,distanceDisplayCondition:null}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"opacity":t.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(n||1));break;case"rotation":t.rotation=Cesium.Math.toRadians(n)||0;break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}return t},getEditor:function(e,t,i){return new _Editor$h(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$q(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$_.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_DynamicProperty$p=DynamicProperty$1,_drawutils$Z=drawutils$1,_Editor$g=PointEditor$1,LabelControl$1={typename:"label",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({label:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={scale:1,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"font_style":case"font_weight":case"font_size":case"font_family":case"text":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":case"background_opacity":break;case"color":t.fillColor=new Cesium.Color.fromCssColorString(n||"#ffffff").withAlpha(Number(e.style.opacity||1));break;case"border":t.style=n?Cesium.LabelStyle.FILL_AND_OUTLINE:Cesium.LabelStyle.FILL;break;case"border_color":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.opacity||1));break;case"border_width":t.outlineWidth=n;break;case"background":t.showBackground=n;break;case"background_color":t.backgroundColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.background_opacity||e.style.opacity||.5));break;case"pixelOffset":t.pixelOffset=new Cesium.Cartesian2(e.style.pixelOffset[0],e.style.pixelOffset[1]);break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}t.text=(e.style.text||"文字").replace(new RegExp("<br />","gm"),"\n");var r=(e.style.font_style||"normal")+" small-caps "+(e.style.font_weight||"normal")+" "+(e.style.font_size||"25")+"px "+(e.style.font_family||"楷体");return t.font=r,t},getEditor:function(e,t,i){return new _Editor$g(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$p(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$Z.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$Y=drawutils$1,EllipseEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.options=i,this.draggers=[],this.heightDraggers=[],this.initDraggers()};EllipseEditor$1.prototype.initDraggers=function(){var e=this,t=_drawutils$Y.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:this.entity.position._value,clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=new Cesium.Cartesian3;if(Cesium.Cartesian3.subtract(i,e.entity.position._value,n),!e.entity.attribute.style.clampToGround){var r=Cesium.Cartographic.fromCartesian(i);e.entity.ellipse.height=new Cesium.ConstantProperty(r.height),e.entity.attribute.style.height=Number(r.height.toFixed(2))}e.entity.position._value=i;var o=new Cesium.Cartesian3;Cesium.Cartesian3.add(t.majorDragger.position._value,n,o),t.majorDragger.position=new Cesium.ConstantProperty(o),Cesium.Cartesian3.add(t.minorDragger.position._value,n,o),t.minorDragger.position=new Cesium.ConstantProperty(o),null!=e.entity.attribute.style.extrudedHeight&&e.updateHeightDraggers(),e.entity.changeEditing()}});this.draggers.push(t);var i=Cesium.EllipseGeometryLibrary.computeEllipsePositions({center:this.entity.position._value,semiMinorAxis:this.entity.ellipse.semiMinorAxis._value,semiMajorAxis:this.entity.ellipse.semiMajorAxis._value,rotation:Cesium.Math.toRadians(Number(this.entity.attribute.style.rotation||0)),granularity:2},!0,!1),n=new Cesium.Cartesian3(i.positions[0],i.positions[1],i.positions[2]),r=_drawutils$Y.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:n,clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartesian3.distance(e.entity.position._value,i),r=Number(n.toFixed(2));e.entity.ellipse.semiMajorAxis=new Cesium.ConstantProperty(r),e.entity.attribute.style.radius?(e.entity.attribute.style.radius=r,e.entity.ellipse.semiMinorAxis=new Cesium.ConstantProperty(r)):e.entity.attribute.style.semiMajorAxis=r,null!=e.entity.attribute.style.extrudedHeight&&e.updateHeightDraggers(),e.entity.changeEditing()}});t.majorDragger=r,this.draggers.push(r);var o=new Cesium.Cartesian3(i.positions[3],i.positions[4],i.positions[5]),a=_drawutils$Y.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:o,clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartesian3.distance(e.entity.position._value,i),r=Number(n.toFixed(2));e.entity.ellipse.semiMinorAxis=new Cesium.ConstantProperty(r),e.entity.attribute.style.radius?(e.entity.attribute.style.radius=r,e.entity.ellipse.semiMajorAxis=new Cesium.ConstantProperty(r)):e.entity.attribute.style.semiMinorAxis=r,null!=e.entity.attribute.style.extrudedHeight&&e.updateHeightDraggers(),e.entity.changeEditing()}});t.minorDragger=a,this.draggers.push(a),null!=this.entity.attribute.style.extrudedHeight&&this.initHeightDraggers()},EllipseEditor$1.prototype.initHeightDraggers=function(){var e=this,t=Number(this.entity.attribute.style.extrudedHeight)-Number(this.entity.attribute.style.height),i=_drawutils$Y.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:_drawutils$Y.getPositionsWithHeight(this.entity.position._value,t),clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(i,n){var r=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(n,e.entity.position._value,r);var o=Cesium.Cartographic.fromCartesian(n),a=Number(o.height.toFixed(2));e.entity.position._value=n,e.entity.ellipse.extrudedHeight=new Cesium.ConstantProperty(Number(a)+Number(t)),e.entity.ellipse.height=new Cesium.ConstantProperty(o.height),e.entity.attribute.style.extrudedHeight=Number(a)+Number(t),e.entity.attribute.style.height=a,e.updateDraggers(),e.entity.changeEditing()}});this.heightDraggers.push(i);var n=Cesium.EllipseGeometryLibrary.computeEllipsePositions({center:this.entity.position._value,semiMinorAxis:this.entity.ellipse.semiMinorAxis._value,semiMajorAxis:this.entity.ellipse.semiMajorAxis._value,rotation:Cesium.Math.toRadians(Number(this.entity.attribute.style.rotation||0)),granularity:2},!0,!1),r=new Cesium.Cartesian3(n.positions[0],n.positions[1],n.positions[2]),o=_drawutils$Y.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:_drawutils$Y.getPositionsWithHeight(r,t),clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartographic.fromCartesian(i);e.entity.ellipse.extrudedHeight=new Cesium.ConstantProperty(n.height),e.entity.attribute.style.extrudedHeight=Number(n.height.toFixed(2)),e.updateHeightDraggers(),e.entity.changeEditing()},vertical:!0,horizontal:!1});this.heightDraggers.push(o);var a=new Cesium.Cartesian3(n.positions[3],n.positions[4],n.positions[5]),s=_drawutils$Y.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:_drawutils$Y.getPositionsWithHeight(a,t),clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartographic.fromCartesian(i);e.entity.ellipse.extrudedHeight=new Cesium.ConstantProperty(n.height),e.entity.attribute.style.extrudedHeight=Number(n.height.toFixed(2)),e.updateHeightDraggers(),e.entity.changeEditing()},vertical:!0,horizontal:!1});this.heightDraggers.push(s)},EllipseEditor$1.prototype.updateDraggers=function(){this.destroy(),this.initDraggers()},EllipseEditor$1.prototype.updateHeightDraggers=function(){for(var e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[],this.initHeightDraggers()},EllipseEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);if(this.draggers=[],null!=this.entity.attribute.style.extrudedHeight){for(e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]}};var _DynamicProperty$o=DynamicProperty$1,_drawutils$X=drawutils$1,_Editor$f=EllipseEditor$1,EllipseControl$1={typename:"ellipse",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({ellipse:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0}),e.style.clampToGround&&(e.style.hasOwnProperty("height")&&delete e.style.height,e.style.hasOwnProperty("extrudedHeight")&&delete e.style.extrudedHeight),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"rotation":t.rotation=Cesium.Math.toRadians(n);break;case"radius":t.semiMinorAxis=Number(n),t.semiMajorAxis=Number(n)}}return t},getEditor:function(e,t,i){return new _Editor$f(e,t,i)},setPositions:function(e,t){e.position=new _DynamicProperty$o(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$X.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$W=drawutils$1,PolylineEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=t.polyline.positions._value,r=[],o=[],a=0;a<n.length;a++)if(r.push(n[a]),o.push("1"),a<n.length-1){var s=Cesium.Cartesian3.midpoint(n[a],n[a+1],new Cesium.Cartesian3);r.push(s),o.push("2")}for(a=0;a<r.length;a++){var l=r[a],u=_drawutils$W.createDragger(this.dataSource,{dragIcon:i.dragIcon,clampToGround:this.entity._attribute.style.clampToGround,PdisableDepthTestDistance:this.entity._attribute.style.PdisableDepthTestDistance,position:l,drawPointType:o[a],onDrag:function(e,i){r[e.index]=i;var n=[];"2"===o[e.index]?n.push(e.index):e.index>0&&e.index<r.length-1&&(n.push(e.index-1),n.push(e.index+1));for(var a=[],s=0;s<o.length;s++)("1"===o[s]||"2"===o[s]&&n.indexOf(s)>=0)&&a.push(r[s]);t.polyline.positions=a,t.changeEditing()}});u.index=a,this.draggers.push(u)}};PolylineEditor$1.prototype.updateDraggers=function(){for(var e=this.entity.polyline.positions.getValue(),t=0;t<this.draggers.length;t++){var i=e[t];this.draggers[t].position=i}},PolylineEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$n=DynamicProperty$1,_drawutils$V=drawutils$1,_Editor$e=PolylineEditor$1,PolylineControl$1={typename:"polyline",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polyline:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={followSurface:!0,positions:new _DynamicProperty$n([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;case"lineType":case"color":case"opacity":case"outline":case"outlineWidth":case"outlineColor":case"outlineOpacity":}}var r=new Cesium.Color.fromCssColorString(e.style.color||"#FFFF00").withAlpha(Number(e.style.opacity||1));switch(e.style.lineType){default:case"solid":e.style.outline?t.material=new Cesium.PolylineOutlineMaterialProperty({color:r,outlineWidth:Number(e.style.outlineWidth||1),outlineColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=r;break;case"dash":e.style.outline?t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||e.style.outlineWidth||16,color:r,gapColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||16,color:r});break;case"glow":t.material=new Cesium.PolylineGlowMaterialProperty({glowPower:e.style.glowPower||.1,color:r});break;case"arrow":t.material=new Cesium.PolylineArrowMaterialProperty(r)}return t},getEditor:function(e,t,i){return new _Editor$e(e,t,i)},setPositions:function(e,t){e.polyline.positions.setValue(t)},getPositions:function(e){return e.polyline.positions._value},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$V.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"LineString",coordinates:t}}}},_drawutils$U=drawutils$1,zhijiantouExtrudedEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=t.polygon.hierarchy._value;for(r=3;r<o.length;r+=4){var a=o[r];if(null!=t.polygon.height){var s=Cesium.Cartographic.fromCartesian(a);s.height+=t.polygon.height._value,a=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height)}var l=_drawutils$U.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){var r;e.positions[e.index]=i;var o=Cesium.Cartographic.fromCartesian(i),a=[Cesium.Math.toDegrees(o.longitude),Cesium.Math.toDegrees(o.latitude),o.height];if(3==e.index){var s=Cesium.Cartographic.fromCartesian(e.positions[7]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(l,a)}else{s=Cesium.Cartographic.fromCartesian(e.positions[3]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(a,l)}t.polygon.hierarchy.setValue(r),n.updateDraggers(),t.changeEditing()}});l.index=r,l.positions=o,this.draggers.push(l)}if(t.polygon.extrudedHeight)for(r=3;r<o.length;r+=4){var u=o[r],c=Cesium.Cartographic.fromCartesian(u);c.height=t.polygon.extrudedHeight._value;var h=Cesium.Cartesian3.fromRadians(c.longitude,c.latitude,c.height);l=_drawutils$U.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:h,onDrag:function(e,i){for(var r=n.entity.polygon.hierarchy._value,o=r[0],a=3;a<r.length;a+=4){var s=Cesium.Cartographic.fromCartesian(o),l=Cesium.Cartographic.fromCartesian(r[a]);Number(l.height)>Number(s.height)&&(o=r[a])}var u=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(u.height));var c=Number(u.height)-Number(Cesium.Cartographic.fromCartesian(o).height);t.attribute.style.extrudedHeight=Number(c.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});l.index=r,this.heightDraggers.push(l)}};zhijiantouExtrudedEditor$1.prototype.updateDraggers=function(){var e=this.entity.polygon.hierarchy._value,t=this.entity.polygon.extrudedHeight._value,i=0;null!=this.entity.polygon.height&&(i=this.entity.polygon.height._value);for(var n=[e[3],e[7]],r=0;r<this.heightDraggers.length;r++){var o=n[r],a=this.heightDraggers[r],s=Cesium.Cartographic.fromCartesian(o);s.height=t;var l=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height);a.position=l;var u=this.draggers[r],c=Cesium.Cartographic.fromCartesian(o);c.height+=i,l=Cesium.Cartesian3.fromRadians(c.longitude,c.latitude,c.height),u.position=l}},zhijiantouExtrudedEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$T=drawutils$1,zhijiantouEditor$1=function(e,t,i){var n=this;this.dataSource=e,this.entity=t,this.draggers=[];for(var r=t.polygon.hierarchy._value,o=3;o<r.length;o+=4){var a=r[o],s=_drawutils$T.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){var r;e.positions[e.index]=i;var o=Cesium.Cartographic.fromCartesian(i),a=[Cesium.Math.toDegrees(o.longitude),Cesium.Math.toDegrees(o.latitude),o.height];if(3==e.index){var s=Cesium.Cartographic.fromCartesian(e.positions[7]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(l,a)}else{s=Cesium.Cartographic.fromCartesian(e.positions[3]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(a,l)}t.polygon.hierarchy.setValue(r),n.updateDraggers(),t.changeEditing()}});s.index=o,s.positions=r,this.draggers.push(s)}};zhijiantouEditor$1.prototype.updateDraggers=function(){var e=this.entity.polygon.hierarchy._value;this.draggers[0].position=e[3],this.draggers[1].position=e[7]},zhijiantouEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$m=DynamicProperty$1,_drawutils$S=drawutils$1,_Editor1$9=zhijiantouExtrudedEditor$1,_Editor2$9=zhijiantouEditor$1,zhijiantouControl$1={typename:"zhijiantou",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){if(console.log("什么鬼"),(e=e||{}).style=e.style||{},null==t){t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:[{x:838969.7608726949,y:-482155.5435189371,z:6283169.900670157},{x:838969.769522942,y:-482155.5461352871,z:6283169.899323423},{x:838969.76835682,y:-482155.5455395757,z:6283169.899523497},{x:838969.7723827895,y:-482155.5471197159,z:6283169.898869078},{x:838969.7716160297,y:-482155.5477297623,z:6283169.898924275},{x:838969.7712502722,y:-482155.5472960521,z:6283169.899005845},{x:838969.7662860398,y:-482155.5471567013,z:6283169.899674887},{x:838969.763579368,y:-482155.5453378196,z:6283169.900172522}]}}for(var i in e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||e.style.color||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$S.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$9(e,t,i):new _Editor2$9(e,t,i)},twopointTo8point:function(e){var t=Cesium.Cartographic.fromCartesian(e[0]),i=[Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude),t.height],n=Cesium.Cartographic.fromCartesian(e[1]),r=[Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height];return plotUtil.algorithm.fineArrow(r,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$m(t),e.attribute.style.extrudedHeight){var i=_drawutils$S.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy;return t.positions&&this.isArray(t.positions)?t.positions:t},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e)._value;return _drawutils$S.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e),i=[];return i.push(t[3]),i.push(t[7]),{type:"Feature",properties:e.attribute,geometry:{type:"zhijiantou",coordinates:[i]}}}},_drawutils$R=drawutils$1,qianjiExtrudedEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];for(var n=this,r=0,o=[],a=JSON.parse(t.attribute.kzpoint),s=0;s<a.length;s++)o.push(Cesium.Cartesian3.fromDegrees(a[s][0],a[s][1],a[s][2]));for(r=0;r<o.length;r++){var l=o[r];if(null!=t.polygon.height){var u=Cesium.Cartographic.fromCartesian(l);u.height+=t.polygon.height._value,l=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height)}var c=_drawutils$R.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:l,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];e.positions[e.index]=i,a[e.index]=o;var s=plotUtil.algorithm.doubleArrow(a);t.polygon.hierarchy.setValue(s.polygonalPoint),t.attribute.kzpoint=JSON.stringify(s.controlPoint),n.updateDraggers(),t.changeEditing()}});c.index=r,c.positions=o,this.draggers.push(c)}if(t.polygon.extrudedHeight)for(r=0;r<o.length;r++){var h=o[r],g=Cesium.Cartographic.fromCartesian(h);g.height=t.polygon.extrudedHeight._value;var d=Cesium.Cartesian3.fromRadians(g.longitude,g.latitude,g.height);c=_drawutils$R.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:d,onDrag:function(e,i){for(var r=o,a=r[0],s=0;s<r.length;s++){var l=Cesium.Cartographic.fromCartesian(a),u=Cesium.Cartographic.fromCartesian(r[s]);Number(u.height)>Number(l.height)&&(a=r[s])}var c=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(c.height));var h=Number(c.height)-Number(Cesium.Cartographic.fromCartesian(a).height);t.attribute.style.extrudedHeight=Number(h.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});c.index=r,this.heightDraggers.push(c)}};qianjiExtrudedEditor$1.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++)e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=this.entity.polygon.extrudedHeight._value,r=0;null!=this.entity.polygon.height&&(r=this.entity.polygon.height._value);for(var o=0;o<this.heightDraggers.length;o++){var a=e[o],s=this.heightDraggers[o],l=Cesium.Cartographic.fromCartesian(a);l.height=n;var u=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height);s.position=u;var c=this.draggers[o],h=Cesium.Cartographic.fromCartesian(a);h.height+=r,u=Cesium.Cartesian3.fromRadians(h.longitude,h.latitude,h.height),c.position=u}},qianjiExtrudedEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$Q=drawutils$1,qianjijiantouEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=[],r=JSON.parse(t.attribute.kzpoint),o=0;o<r.length;o++)n.push(Cesium.Cartesian3.fromDegrees(r[o][0],r[o][1],r[o][2]));for(var a=0;a<n.length;a++){var s=n[a],l=_drawutils$Q.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:s,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){var n=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height];e.positions[e.index]=i,r[e.index]=o;var a=plotUtil.algorithm.doubleArrow(r);t.polygon.hierarchy.setValue(a.polygonalPoint),t.attribute.kzpoint=JSON.stringify(a.controlPoint),t.changeEditing()}});l.index=a,l.positions=n,this.draggers.push(l)}};qianjijiantouEditor$1.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++){e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=e[i];this.draggers[i].position=n}},qianjijiantouEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$l=DynamicProperty$1,_drawutils$P=drawutils$1,_Editor1$8=qianjiExtrudedEditor$1,_Editor2$8=qianjijiantouEditor$1,qianjijiantouControl$1={typename:"qianjijiantou",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:new _DynamicProperty$l([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||e.style.color||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$P.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$8(e,t,i):new _Editor2$8(e,t,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$l(t),e.attribute.style.extrudedHeight){var i=_drawutils$P.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy;return t.positions&&this.isArray(t.positions)?t.positions:t},qianjipoints:function(e,t){for(var i=[],n=0;n<t.length;n++){var r=Cesium.Cartographic.fromCartesian(t[n]),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];i.push(o)}var a=plotUtil.algorithm.doubleArrow(i);return e.attribute.kzpoint=JSON.stringify(a.controlPoint),a.polygonalPoint},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e)._value;return _drawutils$P.getCoordinates(t)},toGeoJSON:function(e){var t=JSON.parse(e.attribute.kzpoint);return{type:"Feature",properties:e.attribute,geometry:{type:"qianjijiantou",coordinates:[t]}}}},_drawutils$O=drawutils$1,gongjiExtrudedEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];for(var n=this,r=0,o=[],a=JSON.parse(t.attribute.kzpoint),s=0;s<a.length;s++)o.push(Cesium.Cartesian3.fromDegrees(a[s][0],a[s][1],a[s][2]));for(r=0;r<o.length;r++){var l=o[r];if(null!=t.polygon.height){var u=Cesium.Cartographic.fromCartesian(l);u.height+=t.polygon.height._value,l=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height)}var c=_drawutils$O.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:l,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];e.positions[e.index]=i,a[e.index]=o;var s=plotUtil.algorithm.tailedAttackArrow(a);t.polygon.hierarchy.setValue(s.polygonalPoint),t.attribute.kzpoint=JSON.stringify(s.controlPoint),n.updateDraggers(),t.changeEditing()}});c.index=r,c.positions=o,this.draggers.push(c)}if(t.polygon.extrudedHeight)for(r=0;r<o.length;r++){var h=o[r],g=Cesium.Cartographic.fromCartesian(h);g.height=t.polygon.extrudedHeight._value;var d=Cesium.Cartesian3.fromRadians(g.longitude,g.latitude,g.height);c=_drawutils$O.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:d,onDrag:function(e,i){for(var r=o,a=r[0],s=0;s<r.length;s++){var l=Cesium.Cartographic.fromCartesian(a),u=Cesium.Cartographic.fromCartesian(r[s]);Number(u.height)>Number(l.height)&&(a=r[s])}var c=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(c.height));var h=Number(c.height)-Number(Cesium.Cartographic.fromCartesian(a).height);t.attribute.style.extrudedHeight=Number(h.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});c.index=r,this.heightDraggers.push(c)}};gongjiExtrudedEditor$1.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++)e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=this.entity.polygon.extrudedHeight._value,r=0;null!=this.entity.polygon.height&&(r=this.entity.polygon.height._value);for(var o=0;o<this.heightDraggers.length;o++){var a=e[o],s=this.heightDraggers[o],l=Cesium.Cartographic.fromCartesian(a);l.height=n;var u=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height);s.position=u;var c=this.draggers[o],h=Cesium.Cartographic.fromCartesian(a);h.height+=r,u=Cesium.Cartesian3.fromRadians(h.longitude,h.latitude,h.height),c.position=u}},gongjiExtrudedEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$N=drawutils$1,gongjijiantouEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=[],r=JSON.parse(t.attribute.kzpoint),o=0;o<r.length;o++)n.push(Cesium.Cartesian3.fromDegrees(r[o][0],r[o][1],r[o][2]));for(var a=0;a<n.length;a++){var s=n[a],l=_drawutils$N.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:s,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){var n=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height];e.positions[e.index]=i,r[e.index]=o;var a=plotUtil.algorithm.tailedAttackArrow(r);t.polygon.hierarchy.setValue(a.polygonalPoint),t.attribute.kzpoint=JSON.stringify(a.controlPoint),t.changeEditing()}});l.index=a,l.positions=n,this.draggers.push(l)}};gongjijiantouEditor$1.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++){e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=e[i];this.draggers[i].position=n}},gongjijiantouEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$k=DynamicProperty$1,_drawutils$M=drawutils$1,_Editor1$7=gongjiExtrudedEditor$1,_Editor2$7=gongjijiantouEditor$1,gongjijiantouControl$1={typename:"gongjijiantou",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:new _DynamicProperty$k([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||e.style.color||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$M.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$7(e,t,i):new _Editor2$7(e,t,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$k(t),e.attribute.style.extrudedHeight){var i=_drawutils$M.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy;return t.positions&&this.isArray(t.positions)?t.positions:t},gongjipoints:function(e,t){for(var i=[],n=0;n<t.length;n++){var r=Cesium.Cartographic.fromCartesian(t[n]),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];i.push(o)}var a=plotUtil.algorithm.tailedAttackArrow(i);return e.attribute.kzpoint=JSON.stringify(a.controlPoint),a.polygonalPoint},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$M.getCoordinates(t)},toGeoJSON:function(e){var t=JSON.parse(e.attribute.kzpoint);return{type:"Feature",properties:e.attribute,geometry:{type:"gongjijiantou",coordinates:[t]}}}},_drawutils$L=drawutils$1,PolylineVolumeEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=t.polylineVolume.positions.getValue(),r=0;r<n.length;r++){var o=n[r],a=_drawutils$L.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:o,onDrag:function(e,i){n[e.index]=i,t.polylineVolume.positions=n,t.changeEditing()}});a.index=r,this.draggers.push(a)}};PolylineVolumeEditor$1.prototype.updateDraggers=function(){for(var e=this.entity.polylineVolume.positions.getValue(),t=0;t<this.draggers.length;t++){var i=e[t];this.draggers[t].position=i}},PolylineVolumeEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$j=DynamicProperty$1,_drawutils$K=drawutils$1,_Editor$d=PolylineVolumeEditor$1,PolylineVolumeControl$1={typename:"polylineVolume",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polylineVolume:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={positions:new _DynamicProperty$j([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":case"radius":case"shape":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1))}}switch(e.style.radius=e.style.radius||10,e.style.shape){default:case"pipeline":t.shape=this._getCorridorShape1(e.style.radius);break;case"circle":t.shape=this._getCorridorShape2(e.style.radius);break;case"star":t.shape=this._getCorridorShape3(e.style.radius)}return t},_getCorridorShape1:function(e){for(var t=e/3,i=[],n=0;n<=360;n++){var r=Cesium.Math.toRadians(n);i.push(new Cesium.Cartesian2(e*Math.cos(r),e*Math.sin(r)))}for(n=360;n>=0;n--){r=Cesium.Math.toRadians(n);i.push(new Cesium.Cartesian2((e-t)*Math.cos(r),(e-t)*Math.sin(r)))}return i},_getCorridorShape2:function(e){for(var t=[],i=0;i<=360;i++){var n=Cesium.Math.toRadians(i);t.push(new Cesium.Cartesian2(e*Math.cos(n),e*Math.sin(n)))}return t},_getCorridorShape3:function(e,t){t=t||6;for(var i=Math.PI/t,n=2*t,r=new Array(n),o=0;o<n;o++){var a=o%2==0?e:e/3;r[o]=new Cesium.Cartesian2(Math.cos(o*i)*a,Math.sin(o*i)*a)}return r},getEditor:function(e,t,i){return new _Editor$d(e,t,i)},setPositions:function(e,t){e.polylineVolume.positions.setValue(t)},getPositions:function(e){return e.polylineVolume.positions.getValue()},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$K.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"LineString",coordinates:t}}}},_drawutils$J=drawutils$1,PolygonExtrudedEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=t.polygon.hierarchy._value;for(r=0;r<o.length;r++){var a=o[r];if(null!=t.polygon.height){var s=Cesium.Cartographic.fromCartesian(a);s.height+=t.polygon.height._value,a=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height)}var l=_drawutils$J.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){e.positions[e.index]=i;for(var r=t.polygon.hierarchy._value,o=r[0],a=1;a<r.length;a++){var s=Cesium.Cartographic.fromCartesian(o),l=Cesium.Cartographic.fromCartesian(r[a]);Number(l.height)>Number(s.height)&&(o=r[a])}var u=Number(t.polygon.extrudedHeight)-Number(Cesium.Cartographic.fromCartesian(o).height);t.attribute.style.extrudedHeight=Number(u.toFixed(2)),n.updateDraggers(),t.changeEditing()}});l.index=r,l.positions=o,this.draggers.push(l)}if(t.polygon.extrudedHeight)for(r=0;r<o.length;r++){var u=o[r],c=Cesium.Cartographic.fromCartesian(u);c.height=t.polygon.extrudedHeight._value;var h=Cesium.Cartesian3.fromRadians(c.longitude,c.latitude,c.height);l=_drawutils$J.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:h,onDrag:function(e,i){for(var r=n.entity.polygon.hierarchy._value,o=r[0],a=1;a<r.length;a++){var s=Cesium.Cartographic.fromCartesian(o),l=Cesium.Cartographic.fromCartesian(r[a]);Number(l.height)>Number(s.height)&&(o=r[a])}var u=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(u.height));var c=Number(u.height)-Number(Cesium.Cartographic.fromCartesian(o).height);t.attribute.style.extrudedHeight=Number(c.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});l.index=r,this.heightDraggers.push(l)}};PolygonExtrudedEditor$1.prototype.updateDraggers=function(){var e=this.entity.polygon.hierarchy._value,t=this.entity.polygon.extrudedHeight._value,i=0;null!=this.entity.polygon.height&&(i=this.entity.polygon.height._value);for(var n=0;n<this.heightDraggers.length;n++){var r=e[n],o=this.heightDraggers[n],a=Cesium.Cartographic.fromCartesian(r);a.height=t;var s=Cesium.Cartesian3.fromRadians(a.longitude,a.latitude,a.height);o.position=s;var l=this.draggers[n],u=Cesium.Cartographic.fromCartesian(r);u.height+=i,s=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height),l.position=s}},PolygonExtrudedEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$I=drawutils$1,PolygonEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=t.polygon.hierarchy._value,r=0;r<n.length;r++){var o=n[r],a=_drawutils$I.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:o,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){e.positions[e.index]=i,t.changeEditing()}});a.index=r,a.positions=n,this.draggers.push(a)}};PolygonEditor$1.prototype.updateDraggers=function(){for(var e=this.entity.polygon.hierarchy._value,t=0;t<this.draggers.length;t++){var i=e[t];this.draggers[t].position=i}},PolygonEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$i=DynamicProperty$1,_drawutils$H=drawutils$1,_Editor1$6=PolygonExtrudedEditor$1,_Editor2$6=PolygonEditor$1,PolygonControl$1={typename:"polygon",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:Cesium.Cartesian3.fromDegreesArray([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$H.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$6(e,t,i):new _Editor2$6(e,t,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$i(t),e.attribute.style.extrudedHeight){var i=_drawutils$H.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy._value;return t.positions&&this.isArray(t.positions)?t.positions:t},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$H.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);if(t.length>0){var i=t[0],n=t[t.length-1];i[0]==n[0]&&i[1]==n[1]&&i[2]==n[2]||t.push(i)}return{type:"Feature",properties:e.attribute,geometry:{type:"Polygon",coordinates:[t]}}}},_drawutils$G=drawutils$1,EllipsoidEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.options=i,this.draggers=[],this.initDraggers()};EllipsoidEditor$1.prototype.initDraggers=function(){var e=this,t=this.entity.position._value,i=Number(this.entity.attribute.style.heightRadii)||0,n=Cesium.Cartographic.fromCartesian(t);n.height+=i;var r=Cesium.Cartesian3.fromRadians(n.longitude,n.latitude,n.height),o=_drawutils$G.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:r,onDrag:function(t,i){var n=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(i,e.entity.position._value,n);var r=Cesium.Cartographic.fromCartesian(i),o=Number(e.entity.attribute.style.heightRadii)||0;r.height-=o;var a=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,r.height);e.entity.position._value=a,e.entity.changeEditing()}});this.draggers.push(o)},EllipsoidEditor$1.prototype.updateDraggers=function(){this.destroy(),this.initDraggers()},EllipsoidEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$h=DynamicProperty$1,_drawutils$F=drawutils$1,_Editor$c=EllipsoidEditor$1,EllipsoidControl$1={typename:"ellipsoid",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({ellipsoid:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":case"widthRadii":case"heightRadii":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extentRadii":var r=e.style.extentRadii||100,o=e.style.widthRadii||100,a=e.style.heightRadii||100;t.radii=new Cesium.Cartesian3(r,o,a)}}return t},getEditor:function(e,t,i){return new _Editor$c(e,t,i)},setPositions:function(e,t){e.position=new _DynamicProperty$h(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$F.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_DynamicProperty$g=DynamicProperty$1,_drawutils$E=drawutils$1,_Editor$b=PointEditor$1,PointControl$1={typename:"point",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({point:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={animate:!1}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":if(e.style.animate){let i=1,n=!0;t.color=new Cesium.CallbackProperty((function(){return n?(i-=.15,i<=0&&(n=!1)):(i+=.15,i>=1&&(n=!0)),new Cesium.Color.fromCssColorString(e.style.color||"#FFFF00").withAlpha(i)}),!1)}else t.color=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}return e.style.outline||(t.outlineWidth=0),t},getEditor:function(e,t,i){return new _Editor$b(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$g(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$E.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$D=drawutils$1,RectangleExtrudedEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=this.getDraggersPositions();for(r=0;r<o.length;r++){var a=o[r];if(null!=t.rectangle.height)(l=Cesium.Cartographic.fromCartesian(a)).height+=t.rectangle.height._value,a=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height);var s=_drawutils$D.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,clampToGround:t.attribute.style.clampToGround,onDrag:function(e,i){var r;e.positions[e.index]=i,r=0==e.index?Cesium.Rectangle.fromCartesianArray([i,e.positions[1]]):Cesium.Rectangle.fromCartesianArray([i,e.positions[0]]),t.rectangle.coordinates.setValue(r),n.updateDraggers(),t.changeEditing()}});s.index=r,s.positions=o,this.draggers.push(s)}if(t.rectangle.extrudedHeight)for(r=0;r<o.length;r++){var l,u=o[r];(l=Cesium.Cartographic.fromCartesian(u)).height+=t.rectangle.extrudedHeight._value;a=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height),s=_drawutils$D.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i);t.rectangle.extrudedHeight=new Cesium.ConstantProperty(r.height);var o=Number(r.height)-Number(t.rectangle.height);t.attribute.style.extrudedHeight=Number(o.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});s.index=r,this.heightDraggers.push(s)}};RectangleExtrudedEditor$1.prototype.updateDraggers=function(){var e=this.getDraggersPositions(),t=this.entity.rectangle.extrudedHeight._value,i=0;null!=this.entity.rectangle.height&&(i=this.entity.rectangle.height._value);for(var n=0;n<this.heightDraggers.length;n++){var r=e[n],o=this.heightDraggers[n],a=Cesium.Cartographic.fromCartesian(r);a.height+=t;var s=Cesium.Cartesian3.fromRadians(a.longitude,a.latitude,a.height);o.position=s;var l=this.draggers[n],u=Cesium.Cartographic.fromCartesian(r);u.height+=i,s=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height),l.position=s}},RectangleExtrudedEditor$1.prototype.getDraggersPositions=function(){var e=this.entity.rectangle.coordinates._value,t=Cesium.Rectangle.northwest(e),i=Cesium.Rectangle.southeast(e);return Cesium.Cartesian3.fromRadiansArray([t.longitude,t.latitude,i.longitude,i.latitude])},RectangleExtrudedEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$C=drawutils$1,RectangleEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=this.getDraggersPositions(),r=0;r<n.length;r++){var o=n[r];if(null!=t.rectangle.height){var a=Cesium.Cartographic.fromCartesian(o);a.height+=t.rectangle.height._value,o=Cesium.Cartesian3.fromRadians(a.longitude,a.latitude,a.height)}var s=_drawutils$C.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:o,clampToGround:t.attribute.style.clampToGround,onDrag:function(e,i){var n;e.positions[e.index]=i,n=0==e.index?Cesium.Rectangle.fromCartesianArray([i,e.positions[1]]):Cesium.Rectangle.fromCartesianArray([i,e.positions[0]]),t.rectangle.coordinates.setValue(n),that.updateDraggers(),t.changeEditing()}});s.index=r,s.positions=n,this.draggers.push(s)}};RectangleEditor$1.prototype.updateDraggers=function(){var e=this.getDraggersPositions(),t=0;null!=this.entity.rectangle.height&&(t=this.entity.rectangle.height._value);for(var i=0;i<this.draggers.length;i++){var n=e[i];if(!this.entity.attribute.style.clampToGround){var r=this.draggers[i],o=Cesium.Cartographic.fromCartesian(n);o.height+=t,r.position=Cesium.Cartesian3.fromRadians(o.longitude,o.latitude,o.height)}}},RectangleEditor$1.prototype.getDraggersPositions=function(){var e=this.entity.rectangle.coordinates._value,t=Cesium.Rectangle.northwest(e),i=Cesium.Rectangle.southeast(e);return Cesium.Cartesian3.fromRadiansArray([t.longitude,t.latitude,i.longitude,i.latitude])},RectangleEditor$1.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _drawutils$B=drawutils$1,_Editor1$5=RectangleExtrudedEditor$1,_Editor2$5=RectangleEditor$1,RectangleControl$1={typename:"rectangle",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({rectangle:i,attribute:t})},attribute2Entity:function(e,t){((e=e||{}).style=e.style||{},t)||(t={fill:!0,closeTop:!0,closeBottom:!0,coordinates:Cesium.Rectangle.fromDegrees(78.654473,34.878143,78.654673,34.878316)});for(var i in e.style.clampToGround&&(e.style.hasOwnProperty("height")&&delete e.style.height,e.style.hasOwnProperty("extrudedHeight")&&delete e.style.extrudedHeight),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"height":t.height=Number(n),e.style.extrudedHeight&&(t.extrudedHeight=Number(e.style.extrudedHeight)+Number(n));break;case"extrudedHeight":t.extrudedHeight=Number(t.height)+Number(n);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"image":t.material=new Cesium.ImageMaterialProperty({image:e.style.image,color:new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(e.style.opacity||1))});break;case"rotation":t.rotation=Cesium.Math.toRadians(n),e.style.stRotation||(t.stRotation=Cesium.Math.toRadians(n));break;case"stRotation":t.stRotation=Cesium.Math.toRadians(n)}}return null==t.material&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.rectangle.extrudedHeight?new _Editor1$5(e,t,i):new _Editor2$5(e,t,i)},setPositions:function(e,t){t instanceof Array&&(t=Cesium.Rectangle.fromCartesianArray(t)),e.rectangle.coordinates.setValue(t)},getPositions:function(e){return e.rectangle.coordinates},getCoordinates:function(e){var t=this.getDiagonalPositions(e);return _drawutils$B.getCoordinates(t)},getDiagonalPositions:function(e){var t=e.rectangle.coordinates._value,i=Cesium.Rectangle.northwest(t),n=Cesium.Rectangle.southeast(t);return Cesium.Cartesian3.fromRadiansArray([i.longitude,i.latitude,n.longitude,n.latitude])},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"MultiPoint",coordinates:t}}}},_DynamicProperty$f=DynamicProperty$1,_drawutils$A=drawutils$1,_Editor$a=PointEditor$1,ModelControl$1={typename:"model",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({model:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"silhouette":case"silhouetteColor":case"silhouetteAlpha":case"silhouetteSize":case"fill":case"color":case"opacity":break;case"modelUrl":t.uri=n}}return e.style.silhouette?(t.silhouetteColor=new Cesium.Color.fromCssColorString(e.style.silhouetteColor||"#FFFFFF").withAlpha(Number(e.style.silhouetteAlpha||1)),t.silhouetteSize=Number(e.style.silhouetteSize||1)):t.silhouetteSize=0,e.style.fill?t.color=new Cesium.Color.fromCssColorString(e.style.color||"#FFFFFF").withAlpha(Number(e.style.opacity||1)):t.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(e.style.opacity||1)),t},attribute2Model:function(e,t){var i=Cesium.Math.toRadians(Number(t.attribute.style.heading||0)),n=Cesium.Math.toRadians(Number(t.attribute.style.pitch||0)),r=Cesium.Math.toRadians(Number(t.attribute.style.roll||0)),o=new Cesium.HeadingPitchRoll(i,n,r);t.orientation&&(t.orientation=Cesium.Transforms.headingPitchRollQuaternion(t.position._value,o))},getEditor:function(e,t,i){return new _Editor$a(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$f(t);var i=Cesium.Math.toRadians(Number(e.attribute.style.heading||0)),n=Cesium.Math.toRadians(Number(e.attribute.style.pitch||0)),r=Cesium.Math.toRadians(Number(e.attribute.style.roll||0)),o=new Cesium.HeadingPitchRoll(i,n,r);e.orientation=Cesium.Transforms.headingPitchRollQuaternion(e.position._value,o)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$A.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$z=drawutils$1,WallEditor$1=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=t.wall.positions._value;for(r=0;r<o.length;r++){var a=o[r],s=_drawutils$z.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){e.positions[e.index]=i,n.updateDraggers(),t.changeEditing()}});s.index=r,s.positions=o,this.draggers.push(s)}if(t.wall.maximumHeights)for(r=0;r<o.length;r++){var l=o[r],u=Cesium.Cartographic.fromCartesian(l.clone());u.height=t.wall.maximumHeights._value[r];a=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height),s=_drawutils$z.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i),o=n.entity.wall.minimumHeights._value,a=Number(r.height)-Number(o[e.index]);t.attribute.style.extrudedHeight=a.toFixed(2),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});s.index=r,this.heightDraggers.push(s)}};WallEditor$1.prototype.updateDraggers=function(){for(var e=this.entity.wall.positions._value,t=this.entity.wall.minimumHeights._value,i=this.entity.wall.maximumHeights._value,n=0;n<this.heightDraggers.length;n++){var r=e[n].clone(),o=this.heightDraggers[n],a=Cesium.Cartographic.fromCartesian(r);t[n]=a.height,i[n]=Number(a.height)+Number(this.entity.attribute.style.extrudedHeight),o.position=_drawutils$z.getPositionsWithHeight(r,this.entity.attribute.style.extrudedHeight),this.draggers[n].position=r}},WallEditor$1.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _DynamicProperty$e=DynamicProperty$1,_drawutils$y=drawutils$1,_Editor$9=WallEditor$1,WallControl$1={typename:"wall",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({wall:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},t||(t={fill:!0,minimumHeights:[],maximumHeights:[],positions:new _DynamicProperty$e([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1))}}return null==t.material&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return new _Editor$9(e,t,i)},setPositions:function(e,t){if(e.wall.positions=new _DynamicProperty$e(t),e.wall.maximumHeights&&e.wall.minimumHeights)for(var i=0;i<t.length;i++){var n=Cesium.Cartographic.fromCartesian(t[i]);e.wall.minimumHeights._value[i]=Number(n.height),e.wall.maximumHeights._value[i]=Number(n.height)+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){return e.wall.positions._value},setMaximumHeights:function(e,t){e.wall.maximumHeights=new _DynamicProperty$e(t)},getMaximumHeights:function(e){return e.wall.maximumHeights._value},setMinimumHeights:function(e,t){e.wall.minimumHeights=new _DynamicProperty$e(t)},getMinimumHeights:function(e){return e.wall.minimumHeights._value},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$y.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"LineString",coordinates:t}}}},_latlng$1=latlng$1,_drawutils$x=drawutils$1,EventControl$1=function(e){this.viewer=e};EventControl$1.prototype.setCursor=function(e){let t="";"crosshair"==e&&(t="crosshair"),document.getElementById(this.viewer._container.id).style.cursor=t},EventControl$1.prototype.createDrawPointHandler=function(e){this.setCursor("crosshair");var t=this;e.inProgress=!0;var i=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return i.setInputAction((function(n){var r=_latlng$1.getCurrentMousePosition(t.viewer.scene,n.position,e);r&&(t.setCursor(),e.updatePositions(r),e.inProgress=!1,e.stopDrawing(),e.startEditing(),i.destroy(),t.drawHandler=null)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),this.drawHandler=i,i},EventControl$1.prototype.createDrawPolylineHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return n.lastPointTemporary=!1,n.setInputAction((function(r){var o=_latlng$1.getCurrentMousePosition(i.viewer.scene,r.position,e);o&&(n.lastPointTemporary&&t.pop(),e.attribute&&e.attribute.addHeight&&(o=_drawutils$x.getPositionsWithHeight(o,e.attribute.addHeight)),t.push(o),n.lastPointTemporary=!1,e.attribute&&e.attribute.minMaxPoints&&(t.length==e.attribute.minMaxPoints.min&&t.length==e.attribute.minMaxPoints.max||e.attribute.minMaxPoints.isSuper&&4==t.length)&&(e.inProgress=!1,n.destroy(),i.drawHandler=null,e.stopDrawing(),e.startEditing(),i.setCursor()),e.changeDrawing())}),Cesium.ScreenSpaceEventType.LEFT_CLICK),n.setInputAction((function(r){if(r.endPosition){var o=_latlng$1.getCurrentMousePosition(i.viewer.scene,r.endPosition,e);o&&(n.lastPointTemporary&&t.pop(),t.push(o),n.lastPointTemporary=!0,e.moveDrawing())}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),n.setInputAction((function(r){e.inProgress=!1,n.destroy(),i.drawHandler=null,t.pop(),e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=n,n},EventControl$1.prototype.createDrawPolygonHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return n.lastPointTemporary=!1,n.setInputAction((function(r){var o=_latlng$1.getCurrentMousePosition(i.viewer.scene,r.position,e);if(o){if(n.lastPointTemporary&&t.pop(),t.push(o),e.polygon.hierarchy=t,e.attribute.style.extrudedHeight){var a=_drawutils$x.getMaxHeightForPositions(t);e.polygon.extrudedHeight=a+Number(e.attribute.style.extrudedHeight)}n.lastPointTemporary=!1,e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),n.setInputAction((function(r){if(r.endPosition){var o=_latlng$1.getCurrentMousePosition(i.viewer.scene,r.endPosition,e);if(o){if(n.lastPointTemporary&&t.pop(),t.push(o),e.polygon.hierarchy=t,e.attribute.style.extrudedHeight){var a=_drawutils$x.getMaxHeightForPositions(t);e.polygon.extrudedHeight=a+Number(e.attribute.style.extrudedHeight)}n.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),n.setInputAction((function(r){e.inProgress=!1,n.destroy(),i.drawHandler=null,t.pop(),e.polygon.hierarchy=t,e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=n,n},EventControl$1.prototype.createzhijiantouPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=[],r=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return r.lastPointTemporary=!1,r.setInputAction((function(o){var a=_latlng$1.getCurrentMousePosition(i.viewer.scene,o.position,e);if(a){r.lastPointTemporary&&n.pop();var s=Cesium.Cartographic.fromCartesian(a),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];if(n.push(l),1==n.length&&!e.attribute.style.clampToGround){var u=Number(Cesium.Cartographic.fromCartesian(a).height.toFixed(2));e.polygon.height=u,e.attribute.style.height=u,e.attribute.style.extrudedHeight&&(e.polygon.extrudedHeight=u+Number(e.attribute.style.extrudedHeight))}2==n.length&&t.setValue(plotUtil.algorithm.fineArrow(n[0],n[1])),r.lastPointTemporary=!1,e.changeDrawing(),2==n.length&&(e.inProgress=!1,r.destroy(),i.drawHandler=null,e.stopDrawing(),e.startEditing(),i.setCursor())}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.setInputAction((function(o){if(o.endPosition){var a=_latlng$1.getCurrentMousePosition(i.viewer.scene,o.endPosition,e);if(a){r.lastPointTemporary&&n.pop();var s=Cesium.Cartographic.fromCartesian(a),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];n.push(l),2==n.length&&t.setValue(plotUtil.algorithm.fineArrow(n[0],n[1])),r.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),this.drawHandler=r,r},EventControl$1.prototype.createqianjijiantouPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this,n=[],r=[];e.inProgress=!0;var o=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return o.lastPointTemporary=!1,o.setInputAction((function(a){var s=_latlng$1.getCurrentMousePosition(i.viewer.scene,a.position,e);if(s){o.lastPointTemporary&&(n.pop(),r.pop());var l=Cesium.Cartographic.fromCartesian(s),u=[Cesium.Math.toDegrees(l.longitude),Cesium.Math.toDegrees(l.latitude),l.height];if(e.attribute.style.extrudedHeight){var c=_drawutils$x.getMaxHeightForPositions(r);e.polygon.extrudedHeight=c+Number(e.attribute.style.extrudedHeight)}if(n.length<3&&(n.push(u),r.push(s)),n.length>=2){var h=plotUtil.algorithm.doubleArrow(n);t.setValue(h.polygonalPoint);var g=JSON.stringify(h.controlPoint);e.attribute.kzpoint=g}o.lastPointTemporary=!1,e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction((function(a){if(a.endPosition){var s=_latlng$1.getCurrentMousePosition(i.viewer.scene,a.endPosition,e),l=Cesium.Cartographic.fromCartesian(s),u=[Cesium.Math.toDegrees(l.longitude),Cesium.Math.toDegrees(l.latitude),l.height];if(s){if(o.lastPointTemporary&&(n.pop(),r.pop()),e.attribute.style.extrudedHeight){var c=_drawutils$x.getMaxHeightForPositions(r);e.polygon.extrudedHeight=c+Number(e.attribute.style.extrudedHeight)}if(s.y+=1+Math.random(),3==n.length&&(n.pop(),n.push(u),r.pop(),r.push(s)),n.length<=2&&(n.push(u),r.push(s)),n.length>=2){var h=plotUtil.algorithm.doubleArrow(n),g=h?h.polygonalPoint:null;t.setValue(g)}o.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction((function(t){e.inProgress=!1,o.destroy(),i.drawHandler=null,n.pop(),r.pop(),e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=o,o},EventControl$1.prototype.creategongjijiantouPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this,n=[],r=[];e.inProgress=!0;var o=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return o.lastPointTemporary=!1,o.setInputAction((function(o){var a=_latlng$1.getCurrentMousePosition(i.viewer.scene,o.position,e);if(a){var s=Cesium.Cartographic.fromCartesian(a),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];if(e.attribute.style.extrudedHeight){var u=_drawutils$x.getMaxHeightForPositions(r);e.polygon.extrudedHeight=u+Number(e.attribute.style.extrudedHeight)}if(n.length<3&&n.push(l),n.length>=2){n.push(l);var c=plotUtil.algorithm.tailedAttackArrow(n);t.setValue(c.polygonalPoint);var h=JSON.stringify(c.controlPoint);e.attribute.kzpoint=h}r.push(a),e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction((function(a){if(a.endPosition){var s=_latlng$1.getCurrentMousePosition(i.viewer.scene,a.endPosition,e),l=Cesium.Cartographic.fromCartesian(s),u=[Cesium.Math.toDegrees(l.longitude),Cesium.Math.toDegrees(l.latitude),l.height];if(s){if(r.pop(),r.push(s),e.attribute.style.extrudedHeight){var c=_drawutils$x.getMaxHeightForPositions(r);e.polygon.extrudedHeight=c+Number(e.attribute.style.extrudedHeight)}if(n.length>=3&&(n.pop(),n.push(u)),2==n.length&&n.push(u),n.length>2){var h=plotUtil.algorithm.tailedAttackArrow(n),g=h?h.polygonalPoint:null;t.setValue(g)}o.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction((function(t){e.inProgress=!1,o.destroy(),i.drawHandler=null,n.pop(),r.pop(),e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=o,o},EventControl$1.prototype.createTwoPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=[],r=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return r.lastPointTemporary=!1,r.setInputAction((function(o){var a=_latlng$1.getCurrentMousePosition(i.viewer.scene,o.position,e);if(a){if(r.lastPointTemporary&&n.pop(),n.push(a),1==n.length&&!e.attribute.style.clampToGround){var s=Number(Cesium.Cartographic.fromCartesian(a).height.toFixed(2));e.rectangle.height=s,e.attribute.style.height=s,e.attribute.style.extrudedHeight&&(e.rectangle.extrudedHeight=s+Number(e.attribute.style.extrudedHeight))}if(2==n.length){var l=Cesium.Rectangle.fromCartesianArray(n);t.setValue(l)}r.lastPointTemporary=!1,e.changeDrawing(),2==n.length&&(e.inProgress=!1,r.destroy(),i.drawHandler=null,e.stopDrawing(),e.startEditing(),i.setCursor())}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.setInputAction((function(o){if(o.endPosition){var a=_latlng$1.getCurrentMousePosition(i.viewer.scene,o.endPosition,e);if(a){if(r.lastPointTemporary&&n.pop(),n.push(a),2==n.length){var s=Cesium.Rectangle.fromCartesianArray(n);t.setValue(s)}r.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),this.drawHandler=r,r},EventControl$1.prototype.createDrawWallHandler=function(e,t,i,n){this.setCursor("crosshair");var r=this;e.inProgress=!0;var o=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return o.lastPointTemporary=!1,o.setInputAction((function(a){var s=_latlng$1.getCurrentMousePosition(r.viewer.scene,a.position,e);if(s){o.lastPointTemporary&&(t.pop(),i.pop(),n.pop()),t.push(s);var l=Cesium.Cartographic.fromCartesian(s),u=Number(l.height.toFixed(2)),c=Number(u)+Number(e.attribute.style.extrudedHeight);i.push(u),n.push(c),o.lastPointTemporary=!1,e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction((function(a){if(a.endPosition){var s=_latlng$1.getCurrentMousePosition(r.viewer.scene,a.endPosition,e);if(s){o.lastPointTemporary&&(t.pop(),i.pop(),n.pop()),t.push(s);var l=Cesium.Cartographic.fromCartesian(s),u=Number(l.height.toFixed(2)),c=Number(u)+Number(e.attribute.style.extrudedHeight);i.push(u),n.push(c),o.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction((function(a){e.inProgress=!1,o.destroy(),r.drawHandler=null,t.pop(),i.pop(),n.pop(),e.stopDrawing(),e.startEditing(),r.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=o,o},EventControl$1.prototype.destroyDrawHandler=function(){this.setCursor(),this.drawHandler&&(this.setCursor(),this.drawHandler.destroy(),this.drawHandler=null)},EventControl$1.prototype.createEditSelectHandler=function(e){var t=this,i=new Cesium.ScreenSpaceEventHandler(this.viewer.canvas);i.setInputAction((function(i){var n=t.viewer.scene.pick(i.position),r=null;if(Cesium.defined(n)){var o=Cesium.defaultValue(n.id,n.primitive.id);if(o instanceof Cesium.Entity)Cesium.defaultValue(o.inProgress,!1)||(r=o)}e(r)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),this.selectHandler=i},EventControl$1.prototype.createEditDraggerHandler=function(){var e=new Cesium.ScreenSpaceEventHandler(this.viewer.canvas);e.dragger=null;var t=this;e.setInputAction((function(i){var n=t.viewer.scene.pick(i.position);if(Cesium.defined(n)){var r=n.id;r&&Cesium.defaultValue(r._isDragger,!1)&&(r.billboard&&(r.billboard.scale_src=r.billboard.scale._value,r.billboard.scale._value=1.2*r.billboard.scale_src),e.dragger=r,t.viewer.scene.screenSpaceCameraController.enableRotate=!1,t.viewer.scene.screenSpaceCameraController.enableTilt=!1,t.viewer.scene.screenSpaceCameraController.enableTranslate=!1)}}),Cesium.ScreenSpaceEventType.LEFT_DOWN),e.setInputAction((function(i){var n=t.viewer.scene.pick(i.position);if(Cesium.defined(n)){var r=n.id;r&&Cesium.defaultValue(r._isDragger,!1)&&(r.billboard&&(r.billboard.scale_src=r.billboard.scale._value,r.billboard.scale._value=1.2*r.billboard.scale_src),e.dragger=r,t.viewer.scene.screenSpaceCameraController.enableRotate=!1,t.viewer.scene.screenSpaceCameraController.enableTilt=!1,t.viewer.scene.screenSpaceCameraController.enableTranslate=!1)}}),Cesium.ScreenSpaceEventType.LEFT_DOWN,Cesium.KeyboardEventModifier.CTRL),e.setInputAction((function(n){if(e.dragger){if(e.dragger.horizontal){var r;if(e.dragger.model){var o=t.viewer.scene,a=o.pick(n.endPosition);if(Cesium.defined(a)&&a.id==e.dragger){var s=o.camera.getPickRay(n.endPosition);r=o.globe.pick(s,o)}}null==r&&(r=_latlng$1.getCurrentMousePosition(t.viewer.scene,n.endPosition)),r&&(e.dragger.position=r,e.dragger.onDrag&&e.dragger.onDrag(e.dragger,r))}if(e.dragger.vertical){var l=n.endPosition.y-n.startPosition.y,u=e.dragger.position._value,c=new Cesium.EllipsoidTangentPlane(u);i.center=u,i.radius=1;var h=t.viewer.scene.frameState.camera.getPixelSize(i,t.viewer.scene.frameState.context.drawingBufferWidth,t.viewer.scene.frameState.context.drawingBufferHeight),g=new Cesium.Cartesian3;Cesium.Cartesian3.multiplyByScalar(c.zAxis,-l*h,g);var d=Cesium.Cartesian3.clone(u);Cesium.Cartesian3.add(u,g,d),e.dragger.position=d,e.dragger.onDrag&&e.dragger.onDrag(e.dragger,d)}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE);var i=new Cesium.BoundingSphere;e.setInputAction((function(n){if(e.dragger&&e.dragger.verticalCtrl){var r=n.endPosition.y-n.startPosition.y,o=e.dragger.position._value,a=new Cesium.EllipsoidTangentPlane(o);i.center=o,i.radius=1;var s=t.viewer.scene.frameState.camera.getPixelSize(i,t.viewer.scene.frameState.context.drawingBufferWidth,t.viewer.scene.frameState.context.drawingBufferHeight),l=new Cesium.Cartesian3;Cesium.Cartesian3.multiplyByScalar(a.zAxis,-r*s,l);var u=Cesium.Cartesian3.clone(o);Cesium.Cartesian3.add(o,l,u),e.dragger.position=u,e.dragger.onDrag&&e.dragger.onDrag(e.dragger,u)}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE,Cesium.KeyboardEventModifier.CTRL),e.setInputAction((function(){e.dragger&&(e.dragger.billboard&&(e.dragger.billboard.scale._value=e.dragger.billboard.scale_src),e.dragger=null,t.viewer.scene.screenSpaceCameraController.enableRotate=!0,t.viewer.scene.screenSpaceCameraController.enableTilt=!0,t.viewer.scene.screenSpaceCameraController.enableTranslate=!0)}),Cesium.ScreenSpaceEventType.LEFT_UP),e.setInputAction((function(){e.dragger&&(e.dragger.billboard&&(e.dragger.billboard.scale._value=e.dragger.billboard.scale_src),e.dragger=null,t.viewer.scene.screenSpaceCameraController.enableRotate=!0,t.viewer.scene.screenSpaceCameraController.enableTilt=!0,t.viewer.scene.screenSpaceCameraController.enableTranslate=!0)}),Cesium.ScreenSpaceEventType.LEFT_UP,Cesium.KeyboardEventModifier.CTRL),this.draggerHandler=e},EventControl$1.prototype.destroyEditHandler=function(){this.selectHandler&&(this.selectHandler.destroy(),this.selectHandler=null),this.draggerHandler&&(this.draggerHandler.destroy(),this.draggerHandler=null)};var _BillboardControl$2=BillboardControl$1,_LabelControl$2=LabelControl$1,_EllipseControl$2=EllipseControl$1,_PolylineControl$2=PolylineControl$1,_zhijiantouControl$2=zhijiantouControl$1,_qianjijiantouControl$2=qianjijiantouControl$1,_gongjijiantouControl$2=gongjijiantouControl$1,_PolylineVolumeControl$2=PolylineVolumeControl$1,_PolygonControl$2=PolygonControl$1,_EllipsoidControl$2=EllipsoidControl$1,_PointControl$2=PointControl$1,_RectangleControl$2=RectangleControl$1,_ModelControl$2=ModelControl$1,_WallControl$2=WallControl$1,_EventControl$1=EventControl$1,_util$1=util$1,_drawutils$w=drawutils$1,draw$1=function(t){var i={billboard:_BillboardControl$2,label:_LabelControl$2,ellipse:_EllipseControl$2,polyline:_PolylineControl$2,zhijiantou:_zhijiantouControl$2,qianjijiantou:_qianjijiantouControl$2,gongjijiantou:_gongjijiantouControl$2,polylineVolume:_PolylineVolumeControl$2,polygon:_PolygonControl$2,ellipsoid:_EllipsoidControl$2,wall:_WallControl$2,point:_PointControl$2,rectangle:_RectangleControl$2,model:_ModelControl$2},n=t.viewer;n.scene;var r=t.dragIcon,o=new Cesium.CustomDataSource;n.dataSources.add(o);var a,s=null,l=[],u=new _EventControl$1(n);function c(e){null!=a&&a==e||(a=e,e?(u.createEditSelectHandler((function(e){s&&s.inProgress||(e!==s?(s&&s.stopEditing&&(s.stopEditing(),s=null),(s=e)&&s.startEditing&&s.startEditing()):t.onStopEditing&&"function"==typeof t.onStopEditing&&t.onStopEditing(e))})),u.createEditDraggerHandler()):(h(),u.destroyEditHandler()))}function h(e){return u.destroyDrawHandler(),s&&s.inProgress&&(s.stopDrawing(e),o.entities.remove(s),y(l,s)),s&&s.stopEditing&&(s.stopEditing(e),s=null),this}function g(e){e.startDrawing=function(){document.getElementsByClassName("cesium-viewer")[0].style.cursor="crosshair";t.onStartDrawing&&"function"==typeof t.onStartDrawing&&t.onStartDrawing(this)},e.changeDrawing=function(){t.onChangeDrawing&&"function"==typeof t.onChangeDrawing&&t.onChangeDrawing(this)},e.moveDrawing=function(){t.onMoveDrawing&&"function"==typeof t.onMoveDrawing&&t.onMoveDrawing(this)},e.stopDrawing=function(){document.getElementsByClassName("cesium-viewer")[0].style.cursor="";t.onStopDrawing&&"function"==typeof t.onStopDrawing&&t.onStopDrawing(this)},e.startEditing=function(){if(a){var e=this;if(s=e,null==e.editor){var n=e.attribute.type;e.editor=i[n].getEditor(o,e,{dragIcon:r})}t.onStartEditing&&"function"==typeof t.onStartEditing&&t.onStartEditing(e)}},e.stopEditing=function(e){var i=this;i.editor&&(i.editor.destroy(),i.editor=null),!e&&t.onStopEditing&&"function"==typeof t.onStopEditing&&t.onStopEditing(i)},e.changeEditing=function(){t.onChangeEditing&&"function"==typeof t.onChangeEditing&&t.onChangeEditing(this)},e.updatePositions=function(e){var t=this,n=t.attribute.type;if("ellipse"==n&&!t.attribute.style.clampToGround){var r=Cesium.Cartographic.fromCartesian(e).height;if(t.attribute.style.height=Number(r.toFixed(2)),t.ellipse.height?t.ellipse.height._value=t.attribute.style.height:t.ellipse.height=t.attribute.style.height,t.attribute.style.extrudedHeight){var o=Number(r)+Number(t.attribute.style.extrudedHeight);t.ellipse.extrudedHeight._value=Number(o.toFixed(2)),t.attribute.style.extrudedHeight=Number(o.toFixed(2))}}i[n].setPositions(s,e)}}function d(){h(),o.entities.removeAll(),l=[]}c(t.hasEdit);var p={label:{edittype:"label",name:"文字",style:{text:"文字",color:"#ffffff",opacity:1,font_family:"楷体",font_size:30,border:!0,border_color:"#000000",border_width:3,background:!1,background_color:"#000000",background_opacity:.5,font_weight:"normal",font_style:"normal",scaleByDistance:!1,scaleByDistance_far:1e6,scaleByDistance_farValue:.1,scaleByDistance_near:1e3,scaleByDistance_nearValue:1,distanceDisplayCondition:!1,distanceDisplayCondition_far:1e4,distanceDisplayCondition_near:0},attr:{id:"",name:"",remark:""}},point:{edittype:"point",name:"像素点",style:{pixelSize:10,color:"#3388ff",opacity:1,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,outlineWidth:2,scaleByDistance:!1,scaleByDistance_far:1e6,scaleByDistance_farValue:.1,scaleByDistance_near:1e3,scaleByDistance_nearValue:1,distanceDisplayCondition:!1,distanceDisplayCondition_far:1e4,distanceDisplayCondition_near:0},attr:{id:"",name:"",remark:""}},imagepoint:{edittype:"imagepoint",name:"图标点标记",style:{image:"",opacity:1,scale:1,rotation:0,scaleByDistance:!1,scaleByDistance_far:1e6,scaleByDistance_farValue:.1,scaleByDistance_near:1e3,scaleByDistance_nearValue:1,distanceDisplayCondition:!1,distanceDisplayCondition_far:1e4,distanceDisplayCondition_near:0},attr:{id:"",name:"",remark:""}},model:{edittype:"model",name:"模型",style:{modelUrl:"",scale:1,heading:0,pitch:0,roll:0,fill:!1,color:"#3388ff",opacity:1,silhouette:!1,silhouetteColor:"#ffffff",silhouetteSize:2,silhouetteAlpha:.8},attr:{id:"",name:"",remark:""}},polyline:{edittype:"polyline",name:"线",position:{minCount:2},style:{lineType:"solid",color:"#3388ff",width:4,clampToGround:!1,outline:!1,outlineColor:"#ffffff",outlineWidth:2,opacity:1},attr:{id:"",name:"",remark:""}},polylineVolume:{edittype:"polylineVolume",name:"管道线",position:{height:!0,minCount:2},style:{color:"#00FF00",radius:10,shape:"pipeline",outline:!1,outlineColor:"#ffffff",opacity:1},attr:{id:"",name:"",remark:""}},polygon:{edittype:"polygon",name:"面",position:{height:!0,minCount:3},style:{color:"#3388ff",opacity:.6,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,clampToGround:!1},attr:{id:"",name:"",remark:""}},polygon_clampToGround:{edittype:"polygon_clampToGround",name:"贴地面",position:{height:!1,minCount:3},style:{color:"#ffff00",opacity:.6,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,clampToGround:!0},attr:{id:"",name:"",remark:""}},extrudedPolygon:{edittype:"extrudedPolygon",name:"拉伸面",position:{height:!0,minCount:3},style:{color:"#00FF00",opacity:.6,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,extrudedHeight:100,perPositionHeight:!0},attr:{id:"",name:"",remark:""}},rectangle:{edittype:"rectangle",name:"矩形",position:{height:!1,minCount:2,maxCount:2},style:{height:0,color:"#3388ff",rotation:0,opacity:.6,clampToGround:!1},attr:{id:"",name:"",remark:""}},rectangle_clampToGround:{edittype:"rectangle_clampToGround",name:"贴地矩形",position:{height:!1,minCount:2,maxCount:2},style:{color:"#ffff00",rotation:0,opacity:.6,clampToGround:!0},attr:{id:"",name:"",remark:""}},rectangleImg:{edittype:"rectangleImg",name:"贴地图片",position:{height:!1,minCount:2,maxCount:2},style:{image:"",rotation:0,opacity:1,clampToGround:!0},attr:{id:"",name:"",remark:""}},extrudedRectangle:{edittype:"extrudedRectangle",name:"拉伸矩形",position:{height:!1,minCount:2,maxCount:2},style:{color:"#00FF00",outline:!0,outlineColor:"#ffffff",rotation:0,opacity:.6,extrudedHeight:40,height:0},attr:{id:"",name:"",remark:""}},ellipse:{edittype:"ellipse",name:"椭圆",position:{height:!1},style:{semiMinorAxis:500,semiMajorAxis:500,height:0,opacity:.6,fill:!0,color:"#3388ff",outline:!0,outlineColor:"#ffffff",rotation:0,clampToGround:!1},attr:{id:"",name:"",remark:""}},ellipse_clampToGround:{edittype:"ellipse_clampToGround",name:"椭圆",position:{height:!1},style:{semiMinorAxis:500,semiMajorAxis:500,opacity:.6,fill:!0,color:"#ffff00",outline:!0,outlineColor:"#ffffff",rotation:0,clampToGround:!0},attr:{id:"",name:"",remark:""}},extrudedEllipse:{edittype:"extrudedEllipse",name:"圆柱体",position:{height:!1},style:{semiMinorAxis:100,semiMajorAxis:100,opacity:.6,fill:!0,color:"#00FF00",outline:!0,outlineColor:"#ffffff",extrudedHeight:100,height:0,rotation:0},attr:{id:"",name:"",remark:""}},ellipsoid:{edittype:"ellipsoid",name:"球体",style:{extentRadii:100,widthRadii:100,heightRadii:100,color:"#00FF00",outline:!0,outlineColor:"#ffffff",fill:!0,opacity:.6},attr:{id:"",name:"",remark:""}},wall:{edittype:"wall",name:"墙体",position:{height:!0,minCount:2},style:{color:"#00FF00",outline:!0,outlineColor:"#ffffff",opacity:.6,extrudedHeight:40},attr:{id:"",name:"",remark:""}}};function m(e){if(!e.properties||!e.properties.type)return e;var t=e.properties.edittype||e.properties.type,i=p[t];if(!i)return e;var n=C(e);if(e.properties.style){var r={};for(var o in e.properties.style){if(null!=(s=e.properties.style[o])&&""!=s)i.style[o]!=s&&(r[o]=s)}n.properties.style=r}if(e.properties.attr){var a={};for(var o in e.properties.attr){var s;if(null!=(s=e.properties.attr[o])&&""!=s)i.attr[o]!=s&&(a[o]=s)}n.properties.attr=a}return n}function f(e){var t=p[e.edittype||e.type];if(t){for(var i in e.style=e.style||{},t.style){null==e.style[i]&&(e.style[i]=t.style[i])}for(var i in e.attr=e.attr||{},t.attr){null==e.attr[i]&&(e.attr[i]=t.attr[i])}}return e}function C(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=C(e[i]);return t}if("object"==typeof e){t={};for(var r in e)"_layer"!=r&&"_layers"!=r&&"_parent"!=r&&e.hasOwnProperty(r)&&(t[r]=C(e[r]));return t}return e}function y(e,t){for(var i=0;i<e.length;i++)if(e[i]==t){e.splice(i,1);break}}return{startDraw:function(e){if(h(),null==e||null==e.type)throw"请传入需要绘制的类型参数";var t=e.type;if(null==i[t])throw"传入的["+t+"]类型参数有误";e.style=e.style||{},e.attr=e.attr||{},e=f(e);var n=i[t].startDraw(o,e);switch(t){case"label":case"point":case"billboard":case"model":case"ellipse":case"ellipsoid":u.createDrawPointHandler(n);break;case"polyline":case"polylineVolume":u.createDrawPolylineHandler(n,i[t].getPositions(n));break;case"polygon":u.createDrawPolygonHandler(n,i[t].getPositions(n));break;case"zhijiantou":u.createzhijiantouPointsModelHandler(n,i[t].getPositions(n));break;case"qianjijiantou":u.createqianjijiantouPointsModelHandler(n,i[t].getPositions(n));break;case"gongjijiantou":u.creategongjijiantouPointsModelHandler(n,i[t].getPositions(n));break;case"rectangle":case"extrudedRectangle":case"measureHeight":u.createTwoPointsModelHandler(n,i[t].getPositions(n));break;case"wall":var r=i[t].getPositions(n),a=i[t].getMinimumHeights(n),c=i[t].getMaximumHeights(n);u.createDrawWallHandler(n,r,a,c)}return g(n),l.push(n),n.startDrawing(),s=n,n},stopDraw:h,updateAttribute:function(e,n){if(null!=n&&(s=n),null!=s&&null!=e){e.style=e.style||{},e.attr=e.attr||{};var r=s.attribute.type;return"zhijiantou"==r||"qianjijiantou"==r||"gongjijiantou"==r?i[r].attribute2Entity(e,s.polygon):i[r].attribute2Entity(e,s[r]),"model"==r&&i[r].attribute2Model(e,s),s.attribute=e,"ellipse"!=r&&"polygon"!=r&&"wall"!=r&&"rectangle"!=r&&"zhijiantou"!=r&&"qianjijiantou"!=r&&"gongjijiantou"!=r||s.editor.updateDraggers(n),t.tooltip&&(s.attribute.attr&&s.attribute.attr.name?s.tooltip=s.attribute.attr.name:s.tooltip=null),s}},updateGeometry:function(e,t){if(null==t&&(t=s),null!=t&&null!=e){if("zhijiantou"==(n=t.attribute.type)?i[n].setPositions(t,i[n].twopointTo8point(e)):"qianjijiantou"==n?i[n].setPositions(t,i[n].qianjipoints(t,e)):"gongjijiantou"==n?i[n].setPositions(t,i[n].gongjipoints(t,e)):i[n].setPositions(t,e),t.editor&&t.editor.destroy){t.editor.destroy();var n=t.attribute.type;t.editor=i[n].getEditor(o,t,{dragIcon:r})}return t}},toGeoJSON:function(e){if(null==e){if(0==l.length)return null;for(var t=[],n=0;n<l.length;n++){var r=(e=l[n]).attribute.type;o=m(o=i[r].toGeoJSON(e)),t.push(o)}return o={type:"FeatureCollection",features:t}}var o;return r=e.attribute.type,o=m(o=i[r].toGeoJSON(e))},jsonToEntity:function(e,r,a){var s=e;try{_util$1.isString(e)&&(s=JSON.parse(e))}catch(e){return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!")}r&&d();for(var u=[],c=s.features,h=0;h<c.length;h++){var p=c[h];if(!p.properties||!p.properties.type)switch(p.properties=p.properties||{},p.geometry.type){case"MultiPolygon":case"Polygon":p.properties.type="polygon";break;case"MultiLineString":case"LineString":p.properties.type="polyline";break;case"MultiPoint":case"Point":p.properties.type="point"}var m=p.properties.type;if(null==i[m])throw"数据无法识别或者数据的["+m+"]类型参数有误";p.properties.style=p.properties.style||{},p.properties=f(p.properties);var C=i[m].startDraw(o,p.properties),y=_drawutils$w.getPositionsFromJson(p.geometry);"zhijiantou"==m?i[m].setPositions(C,i[m].twopointTo8point(y)):"qianjijiantou"==m?i[m].setPositions(C,i[m].qianjipoints(C,y)):"gongjijiantou"==m?i[m].setPositions(C,i[m].gongjipoints(C,y)):i[m].setPositions(C,y),g(C),t.tooltip&&(C.attribute.attr&&C.attribute.attr.name?C.tooltip=C.attribute.attr.name:C.tooltip=null),l.push(C),u.push(C)}return a&&n.flyTo(u),u},markersInfoToEntity:function(t,n,r){var a=t;try{_util$1.isString(t)&&(a=JSON.parse(t))}catch(e){return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!")}if(a instanceof Array){r&&d();for(var s=0;s<a.length;s++){var u=a[s];if(!u.x||!u.y)return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!");var c={id:u.id||u.ID||"",name:u.name||u.NAME||"",remark:u.remark||u.REMA||""},h={type:n.type||"billboard",attr:c,style:n.style},p=Cesium.Cartesian3.fromDegrees(u.x,u.y,u.z||0),m=i[h.type].startDraw(o,h);i[h.type].setPositions(m,p),g(m),l.push(m)}return l}haoutil.alert("请确认json文件格式正确!!!")},deleteEntity:function(e){null!=e&&(e.stopEditing(!0),y(l,e),o.entities.remove(e))},deleteCurrentEntity:function(){s&&(s.stopEditing(!0),y(l,s),o.entities.remove(s),s=null)},deleteAll:d,setVisible:function(e){$j(l).each((function(t,i){e?o.entities.contains(i)||o.entities.add(i):o.entities.contains(i)&&o.entities.remove(i)}))},hasDraw:function(){return l.length>0},hasEdit:c,getEntitys:function(){return l},getDataSource:function(){return o},getEntityById:function(e){for(var t=0;t<l.length;t++){var i=l[t];if(e==i.attribute.attr.id)return i}return null},getCurrentEntity:function(){return s},getCoordinates:function(e){var t=e.attribute.type;return i[t].getCoordinates(e)},getPositions:function(e){var t=e.attribute.type;return i[t].getPositions(e)},setPositions:function(e,t){var n=e.attribute.type;t=i[n].setPositions(e,t)}}},pointconvert$1=function(){var e=52.35987755982988,t=3.141592653589793,i=6378245,n=.006693421622965943,r=function(e){var t=52.35987755982988,i=Number(e[0])-.0065,n=Number(e[1])-.006,r=Math.sqrt(i*i+n*n)-2e-5*Math.sin(n*t),o=Math.atan2(n,i)-3e-6*Math.cos(i*t),a=r*Math.cos(o),s=r*Math.sin(o);return[a=Number(a.toFixed(6)),s=Number(s.toFixed(6))]},o=function(t){var i=Number(t[0]),n=Number(t[1]),r=Math.sqrt(i*i+n*n)+2e-5*Math.sin(n*e),o=Math.atan2(n,i)+3e-6*Math.cos(i*e),a=r*Math.cos(o)+.0065,s=r*Math.sin(o)+.006;return[a=Number(a.toFixed(6)),s=Number(s.toFixed(6))]},a=function(e){var r=Number(e[0]),o=Number(e[1]);if(c(r,o))return[r,o];var a=l(r-105,o-35),s=u(r-105,o-35),h=o/180*t,g=Math.sin(h);g=1-n*g*g;var d=Math.sqrt(g),p=o+(a=180*a/(i*(1-n)/(g*d)*t)),m=r+(s=180*s/(i/d*Math.cos(h)*t));return[m=Number(m.toFixed(6)),p=Number(p.toFixed(6))]},s=function(e){var r=Number(e[0]),o=Number(e[1]);if(c(r,o))return[r,o];var a=l(r-105,o-35),s=u(r-105,o-35),h=o/180*t,g=Math.sin(h);g=1-n*g*g;var d=Math.sqrt(g);a=180*a/(i*(1-n)/(g*d)*t),s=180*s/(i/d*Math.cos(h)*t),mglat=o+a,mglng=r+s;var p=2*r-mglng,m=2*o-mglat;return[p=Number(p.toFixed(6)),m=Number(m.toFixed(6))]},l=function(e,i){var n=2*e-100+3*i+.2*i*i+.1*e*i+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*t)+20*Math.sin(2*e*t))/3,n+=2*(20*Math.sin(i*t)+40*Math.sin(i/3*t))/3,n+=2*(160*Math.sin(i/12*t)+320*Math.sin(i*t/30))/3},u=function(e,i){var n=300+e+2*i+.1*e*e+.1*e*i+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*t)+20*Math.sin(2*e*t))/3,n+=2*(20*Math.sin(e*t)+40*Math.sin(e/3*t))/3,n+=2*(150*Math.sin(e/12*t)+300*Math.sin(e/30*t))/3},c=function(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1};return{jwd2mct:function(e){var i=Number(e[0]),n=Number(e[1]),r=20037508.34*i/180,o=Math.log(Math.tan((90+n)*t/360))/(t/180);return o=20037508.34*o/180,[r=Number(r.toFixed(2)),o=Number(o.toFixed(2))]},mct2jwd:function(e){var i=Number(e[0])/20037508.34*180,n=Number(e[1])/20037508.34*180;return n=180/t*(2*Math.atan(Math.exp(n*t/180))-t/2),[i=Number(i.toFixed(6)),n=Number(n.toFixed(6))]},bd2gcj:r,gcj2bd:o,bd2wgs:function(e){return s(r(e))},wgs2bd:function(e){return o(a(e))},wgs2gcj:a,gcj2wgs:s}};class Popup$2{constructor(e){this.options=e,this.viewer=e.viewer,this.className=e.className,this.html=e.html||null,this.id=0,this.ctnList={}}add(e){var t=this,i=e.geometry,n="popup_"+(e.id||(65536*(1+Math.random())|0).toString(16)+t.id++),r=document.createElement("div");r.className="bx-popup-ctn"+(this.className?" "+this.className:" bx-popup-ctn1"),r.id=n,document.getElementById(t.viewer.container.id).appendChild(r);var o=e.content;return r.innerHTML=t.createHtml(o.header,o.content,e.isclose),t.ctnList[n]=[i,r],t.render(),t.eventListener||(t.eventListener=function(e){t.render()},t.viewer.clock.onTick.addEventListener(t.eventListener)),!1===e.isclose||r.getElementsByClassName("bx-popup-close")&&r.getElementsByClassName("bx-popup-close").length>0&&(r.getElementsByClassName("bx-popup-close")[0].onclick=function(){t.close(r)}),n}render(){var e=this;for(var t in e.ctnList){var i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(e.viewer.scene,e.ctnList[t][0]);i&&i.x&&i.y&&(Math.abs(i.x)>2*window.innerWidth||Math.abs(i.y)>2*window.innerHeight?e.ctnList[t][1].style.display="none":(e.options.offset?(i.x+=e.options.offset.left?e.options.offset.left:0,i.y+=e.options.offset.top?e.options.offset.top:0):(i.x+=e.viewer.container.offsetLeft,i.y+=e.viewer.container.offsetTop),e.ctnList[t][1].style.display="",e.ctnList[t][1].style.left=i.x+"px",e.ctnList[t][1].style.top=i.y+"px"))}}createHtml(e,t,i){return this.html?this.html(e,t):`\n            ${!1===i?"":'<div class="bx-popup-close"><i class="iconfont_RJ icon-guanbi"></i></div>'}\n            <div class="divpoint-wrap">\n            <div class="divpoint-border">\n            <div class="divpoint-center">\n            <div class="bx-popup-header-ctn">\n            ${e}\n            </div>\n            <div class="bx-popup-content-ctn" >\n            <div class="bx-popup-content" >\n            ${t}\n            </div>\n            </div>\n            </div>\n            </div>\n            </div>\n            <div class="directional"></div>\n            `}close(e){e.remove(),delete this.ctnList[e.id],0==Object.keys(this.ctnList).length&&(this.viewer.clock.onTick.removeEventListener(this.eventListener),this.eventListener=null)}closeAll(e){for(var t in this.ctnList)this.ctnList[t][1].remove();this.ctnList={},this.viewer.clock.onTick.removeEventListener(this.eventListener),this.eventListener=null}}class Tooltip$1{constructor(e){this.options={color:"rgb(32, 160, 255)",stroke:"rgb(56, 218, 255)",opacity:.6,textcolor:"white",strokewidth:3,lineheight:25,fontSize:"14px",x:15,y:50,defaultHeight:200,width:200},this.options=Object.assign(this.options,e),this.tooltipEntitylist={},this.viewer=e.viewer,this.dataSource=new Cesium.CustomDataSource("tooltipname"),this.viewer.dataSources.add(this.dataSource)}add(e){var t=this,i=e.header,n=e.content.split("<br/>"),r=t.options.x,o=t.options.y,a=t.options.defaultHeight,s=e.width||t.options.width;a=n.length*t.options.lineheight+10,i&&""!=i&&(a+=27);for(var l="",u=0;u<n.length;u++)l+='<tspan x="'+r+'" y="'+o+'">'+n[u]+"</tspan>",o+=t.options.lineheight;var c=`data:image/svg+xml,\n                <svg width="${s+10}" height="${a+30}" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                    \n    <path d=" M${s+5} 15 Q${s+5} 5 ${s+5-10} 5 L15 5 Q5 5 5 15 L5 ${a-10+5} Q5 ${a+5} 15 ${a+5} L${s/2-10+5} ${a+5} ${s/2+5} ${a+20+5} ${s/2+10+5} ${a+5} ${s-10+5} ${a+5} Q${s+5} ${a+5} ${s+5} ${a-10+5} Z"\n     fill="${t.options.color}" stroke="${t.options.stroke}" style="${t.options.strokewidth}:3;opacity:${t.options.opacity};stroke-opacity:0.8"></path>\n    <path d=" M${s+5} 15 Q${s+5} 5 ${s+5-10} 5 L15 5 Q5 5 5 15 L5 30 ${s+5} 30 Z" \n    fill="${t.options.color}" style="opacity:0.5;"></path>\n<text x="15" y="22" fill="${t.options.textcolor}" style="font-size:${t.options.fontSize}; font-weight: 600;">${i}</text>\n         <text fill="${t.options.textcolor}" style="font-size: ${t.options.fontSize};">\n            ${l}\n      </text>\n\n    </svg>\n    `,h={position:e.position,billboard:{image:c,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM}},g=t.dataSource.entities.add(h),d=e.id||Cesium.createGuid(),p={id:d,entity:g,clear:function(){t.cleartooltip(d)}};t.tooltipEntitylist[d]=p}cleartooltip(e){var t=this;e?(t.dataSource.entities.remove(t.tooltipEntitylist[e].entity),delete t.tooltipEntitylist[e]):(t.dataSource.entities.removeAll(),t.tooltipEntitylist={})}}function cjquery$1(e){var t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,i=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(t.test(e)){var n=t.exec(e);return document.getElementById(n[2])}if(i.test(e)){for(var r=i.exec(e),o=document.getElementsByTagName("*"),a=[],s=0,l=o.length;s<l;s++)o[s].className.match(new RegExp("(\\s|^)"+r[2]+"(\\s|$)"))&&a.push(o[s]);return a}}var $j$2=function(Obj){return Obj.slideDown=function(){if(this.style.display="block",this.clientHeight<this.scrollHeight){this.style.height=10+this.clientHeight+"px";var e=this;setTimeout((function(){e.slideDown()}),10)}else this.style.height=this.scrollHeight+"px"},Obj.slideUp=function(){if(this.clientHeight>0){this.style.height=this.clientHeight-10+"px";var e=this;setTimeout((function(){e.slideUp()}),10)}else this.style.height=0,this.style.display="none"},Obj.attr=function(){return 1==arguments.length?eval("this."+arguments[0]):2==arguments.length?(eval("this."+arguments[0]+"="+arguments[1]),this):void 0},Obj.val=function(){return 0==arguments.length?this.value:1==arguments.length?(this.value=arguments[0],this):void 0},Obj.html=function(){return 0==arguments.length?this.innerHTML:1==arguments.length?(this.innerHTML=arguments[0],this):void 0},Obj.css=function(){return 1==arguments.length?eval("this.style."+arguments[0]):2==arguments.length?(eval("this.style."+arguments[0]+"='"+arguments[1]+"'"),this):void 0},Obj.append=function(e){return this.innerHTML+=e,this},Obj.prepend=function(e){return this.innerHTML=arguments[0]+this.innerHTML,this},Obj.after=function(e){return this.outerHTML+=arguments[0],this},Obj.before=function(e){return this.outerHTML=arguments[0]+this.outerHTML,this},Obj.empty=function(){return this.innerHTML="",this},Obj.replaceWith=function(e){return this.outerHTML=arguments[0],this},Obj.hasClass=function(e){return!!this.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},Obj.addClass=function(e){return this.hasClass(e)||(this.className+=" "+e),this},Obj.removeClass=function(e){return this.hasClass(e)&&(this.className=this.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ")),this},Obj.siblings=function(){for(var e=this.parentNode.children,t=[],i=0,n=e.length;i<n;i++)e[i]!=this&&t.push(e[i]);return t},Obj.userChildren=function(){for(var e=this.childNodes,t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t},Obj.each=function(e){var t=this,i=function(){switch(t.constructor){case Object:return"Object";case Array:return"Array";case NodeList:return"NodeList";default:return"null"}}();if("Array"===i||"NodeList"===i)[].every.call(t,(function(t,i){return!1!==e.call(t,i,t)}));else if("Object"===i)for(var n in t)if(!1===e.call(t[n],n,t[n]))break},object};window.$j=$j$2;var win$1=window,doc$1=win$1.document,docElem$1=doc$1.documentElement,easyDialog$1=function(){var e=doc$1.body,t=!-[1],i=t&&/msie 6/.test(navigator.userAgent.toLowerCase()),n=1,r="cache"+(+new Date+"").slice(-8),o={},a=function(){};a.prototype={getOptions:function(e){var t,i={},n={container:null,overlay:!0,drag:!0,fixed:!0,follow:null,followX:0,followY:0,autoClose:0,lock:!1,callback:null,offset:null,shadeClose:!1,area:"500px"};for(t in n)i[t]=void 0!==e[t]?e[t]:n[t];return a.data("options",i),i},setBodyBg:function(){"fixed"!==e.currentStyle.backgroundAttachment&&(e.style.backgroundImage="url(about:blank)",e.style.backgroundAttachment="fixed")},appendIframe:function(e){e.innerHTML='<iframe style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;border:0 none;filter:alpha(opacity=0)"></iframe>'},setFollow:function(e,t,i,n){t="string"==typeof t?doc$1.getElementById(t):t;var r=e.style;r.position="absolute",r.left=a.getOffset(t,"left")+i+"px",r.top=a.getOffset(t,"top")+n+"px"},setPosition:function(e,t,n){var r=e.style;r.position=i?"absolute":t?"fixed":"absolute",r.top="auto",r.right="auto",r.bottom="auto",r.left="auto",n?"object"==typeof n?(r.top=n[0],r.left=n[1]):"t"===n?(r.top="10px",r.left="50%"):"r"===n?(r.top="50%",r.right="10px"):"b"===n?(r.bottom="10px",r.left="50%"):"l"===n&&(r.top="50%",r.left="10px"):t?(i?r.setExpression("top",'fuckIE6=document.documentElement.scrollTop+document.documentElement.clientHeight/2+"px"'):r.top="50%",r.left="50%"):(i&&r.removeExpression("top"),r.top=docElem$1.clientHeight/2+a.getScroll("top")+"px",r.left=docElem$1.clientWidth/2+a.getScroll("left")+"px")},createOverlay:function(){var t=doc$1.createElement("div"),n=t.style;return n.cssText="margin:0;padding:0;border:none;width:100%;height:100%;background:#333;opacity:0.6;filter:alpha(opacity=60);z-index:9999;position:fixed;top:0;left:0;",i&&(e.style.height="100%",n.position="absolute",n.setExpression("top",'fuckIE6=document.documentElement.scrollTop+"px"')),t.id="overlay",t},createDialogBox:function(){var e=doc$1.createElement("div");return e.style.cssText="margin:0;padding:0;border:none;z-index:10000;",e.id="easyDialogBox",e},createDialogWrap:function(e,t){t=t?" "+t:"";var i=e.header?'<h4 class="easyDialog_title" id="easyDialogTitle"><a href="javascript:void(0)" title="关闭窗口" class="close_btn" id="closeBtn">&times;</a>'+e.header+"</h4>":"",n="function"==typeof e.yesFn?'<button class="btn_highlight" id="easyDialogYesBtn">'+("string"==typeof e.yesText?e.yesText:"确定")+"</button>":"",r="function"==typeof e.noFn||!0===e.noFn?'<button class="btn_normal" id="easyDialogNoBtn">'+("string"==typeof e.noText?e.noText:"取消")+"</button>":"",o=""===n&&""===r?"":'<div class="easyDialog_footer">'+r+n+"</div>",a=['<div class="easyDialog_content">',i,'<div class="eDialog_cen">','<div class="easyDialog_text">'+(e.icon?'<i class="icon icon-dialog-'+e.icon+'"></i>':"")+('<span class="easyDialog_details">'+e.content+"</span>")+"</div>",o,"</div>","</div>"].join(""),s=doc$1.getElementById("easyDialogWrapper");return s||((s=doc$1.createElement("div")).id="easyDialogWrapper",s.className="easyDialog_wrapper"+t),s.innerHTML=a.replace(/<[\/]*script[\s\S]*?>/gi,""),s}},a.data=function(e,t,i){if("string"==typeof e)return void 0!==t&&(o[e]=t),o[e];if("object"==typeof e){var a=e===win$1?0:9===e.nodeType?1:e[r]?e[r]:e[r]=++n,s=o[a]?o[a]:o[a]={};return void 0!==i&&(s[t]=i),s[t]}},a.removeData=function(e,t){if("string"==typeof e)delete o[e];else if("object"==typeof e){var i=e===win$1?0:9===e.nodeType?1:e[r];if(void 0===i)return;var n=function(){if(delete o[i],!(i<=1))try{delete e[r]}catch(t){e.removeAttribute(r)}};t?(delete o[i][t],function(e){var t;for(t in e)return!1;return!0}(o[i])&&n()):n()}},a.event={bind:function(e,t,i){var n=a.data(e,"e"+t)||a.data(e,"e"+t,[]);if(n.push(i),1===n.length){var r=this.eventHandler(e);a.data(e,t+"Handler",r),e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)}},unbind:function(e,t,i){var n=a.data(e,"e"+t);if(n){if(i)for(var r=n.length-1,o=n[r];r>=0;r--)o===i&&n.splice(r,1);else n=void 0;if(!n||!n.length){var s=a.data(e,t+"Handler");e.addEventListener?e.removeEventListener(t,s,!1):e.attachEvent&&e.detachEvent("on"+t,s),a.removeData(e,t+"Handler"),a.removeData(e,"e"+t)}}},eventHandler:function(e){return function(t){for(var i,n=(t=a.event.fixEvent(t||win$1.event)).type,r=a.data(e,"e"+n),o=0;i=r[o++];)!1===i.call(e,t)&&(t.preventDefault(),t.stopPropagation())}},fixEvent:function(e){if(e.target)return e;var t,i={};for(t in i.target=e.srcElement||document,i.preventDefault=function(){e.returnValue=!1},i.stopPropagation=function(){e.cancelBubble=!0},e)i[t]=e[t];return i}},a.capitalize=function(e){var t=e.charAt(0);return t.toUpperCase()+e.replace(t,"")},a.getScroll=function(t){var i=this.capitalize(t);return docElem$1["scroll"+i]||e["scroll"+i]},a.getOffset=function(t,i){var n=this.capitalize(i),r=docElem$1["client"+n]||e["client"+n]||0,o=this.getScroll(i),a=t.getBoundingClientRect();return Math.round(a[i])+o-r},a.drag=function(e,n){var r="getSelection"in win$1?function(){win$1.getSelection().removeAllRanges()}:function(){try{doc$1.selection.empty()}catch(e){}},o=this,s=o.event,l=!1,u=t?e:doc$1,c="fixed"===n.style.position,h=a.data("options").fixed;s.bind(e,"mousedown",(function(r){l=!0;var p=o.getScroll("top"),m=o.getScroll("left"),f=c?0:m,C=c?0:p;a.data("dragData",{x:r.clientX-o.getOffset(n,"left")+(c?m:0),y:r.clientY-o.getOffset(n,"top")+(c?p:0),el:f,et:C,er:f+docElem$1.clientWidth-n.offsetWidth,eb:C+docElem$1.clientHeight-n.offsetHeight}),t&&(i&&h&&n.style.removeExpression("top"),e.setCapture()),s.bind(u,"mousemove",g),s.bind(u,"mouseup",d),t&&s.bind(e,"losecapture",d),r.stopPropagation(),r.preventDefault()}));var g=function(e){if(l){r();var t=a.data("dragData"),i=e.clientX-t.x,o=e.clientY-t.y,s=t.et,u=t.er,c=t.eb,h=t.el,g=n.style;g.marginLeft=g.marginTop="0px",g.left=(i<=h?h:i>=u?u:i)+"px",g.top=(o<=s?s:o>=c?c:o)+"px",e.stopPropagation()}},d=function(r){if(l=!1,t&&s.unbind(e,"losecapture",d),s.unbind(u,"mousemove",g),s.unbind(u,"mouseup",d),t&&(e.releaseCapture(),i&&h)){var a=parseInt(n.style.top)-o.getScroll("top");n.style.setExpression("top","fuckIE6=document.documentElement.scrollTop+"+a+'+"px"')}r.stopPropagation()}};var s,l=function(e){27===e.keyCode&&c.close()},u=function(){s&&(clearTimeout(s),s=void 0)},c={open:function(){var t,n,r,o,c=new a,h=c.getOptions(arguments[0]||{}),g=a.event,d=docElem$1.clientWidth,p=docElem$1.clientHeight,m=this;if(u(),h.overlay&&((t=doc$1.getElementById("overlay"))||(t=c.createOverlay(),e.appendChild(t),i&&c.appendIframe(t)),t.style.display="block"),i&&c.setBodyBg(),(n=doc$1.getElementById("easyDialogBox"))||(n=c.createDialogBox(),e.appendChild(n)),h.area&&("object"==typeof h.area?(n.style.width=h.area[0],n.style.height=h.area[1]):(n.style.width=h.area,n.style.height="auto")),h.follow){var f=function(){c.setFollow(n,h.follow,h.followX,h.followY)};f(),g.bind(win$1,"resize",f),a.data("follow",f),t&&(t.style.display="none"),h.fixed=!1}else c.setPosition(n,h.fixed,h.offset);n.style.display="block",r="string"==typeof h.container?doc$1.getElementById(h.container):c.createDialogWrap(h.container,h.className),(o=n.getElementsByTagName("*")[0])?o&&r!==o&&(o.style.display="none",e.appendChild(o),n.appendChild(r)):n.appendChild(r),r.style.display="block";var C=r.offsetWidth,y=r.offsetHeight,v=C>d,A=y>p;r.style.marginTop=r.style.marginRight=r.style.marginBottom=r.style.marginLeft="0px",h.follow?n.style.marginLeft=n.style.marginTop="0px":h.offset&&"object"!=typeof h.offset?("l"!=h.offset&&"r"!=h.offset?n.style.marginLeft="-"+(v?d/2:C/2)+"px":n.style.marginLeft="0px","t"!=h.offset&&"b"!=h.offset?n.style.marginTop="-"+(A?p/2:y/2)+"px":n.style.marginTop="0px"):(n.style.marginLeft="-"+(v?d/2:C/2)+"px",n.style.marginTop="-"+(A?p/2:y/2)+"px"),i&&!h.overlay&&(n.style.width=C+"px",n.style.height=y+"px");var I=doc$1.getElementById("closeBtn"),w=doc$1.getElementById("easyDialogTitle"),b=doc$1.getElementById("easyDialogYesBtn"),E=doc$1.getElementById("easyDialogNoBtn");if(b&&g.bind(b,"click",(function(e){!1!==h.container.yesFn.call(m,e)&&m.close()})),E){var x=function(e){!0!==h.container.noFn&&!1===h.container.noFn.call(m,e)||m.close()};g.bind(E,"click",x),I&&g.bind(I,"click",x)}else I&&g.bind(I,"click",m.close);if(h.lock||g.bind(doc$1,"keyup",l),h.overlay&&h.shadeClose&&g.bind(t,"click",m.close),h.autoClose&&"number"==typeof h.autoClose&&(s=setTimeout(m.close,h.autoClose,!1)),h.drag&&w&&!v&&!A&&(w.style.cursor="move",a.drag(w,n)),!h.follow&&!h.fixed){var _=function(){c.setPosition(n,!1,h.offset)};v||A||g.bind(win$1,"resize",_),a.data("resize",_)}a.data("dialogElements",{overlay:t,dialogBox:n,closeBtn:I,dialogTitle:w,dialogYesBtn:b,dialogNoBtn:E})},close:function(){var e=a.data("options"),t=a.data("dialogElements"),n=a.event;u(),e.overlay&&t.overlay&&(t.overlay.style.display="none"),t.dialogBox.style.display="none",i&&t.dialogBox.style.removeExpression("top"),t.closeBtn&&n.unbind(t.closeBtn,"click"),t.overlay&&n.unbind(t.overlay,"click"),t.dialogTitle&&n.unbind(t.dialogTitle,"mousedown"),t.dialogYesBtn&&n.unbind(t.dialogYesBtn,"click"),t.dialogNoBtn&&n.unbind(t.dialogNoBtn,"click"),e.follow||e.fixed||(n.unbind(win$1,"resize",a.data("resize")),a.removeData("resize")),e.follow&&(n.unbind(win$1,"resize",a.data("follow")),a.removeData("follow")),e.lock||n.unbind(doc$1,"keyup",l),"function"==typeof e.callback&&e.callback.call(c),a.removeData("options"),a.removeData("dialogElements");var r=document.getElementsByName("eload");r&&r.length>0&&r.parentNode.removeChild(r)},load:function(){var t=document.createElement("div");return t.className="eload",t.innerHTML='<div class="load-container load1"><div class="loader">加载中</div></div>',e.appendChild(t),{name:"加载中",remove:function(){t.parentNode.removeChild(t)}}},msg:function(){var e={};arguments[1]&&"object"==typeof arguments[1]&&(e=arguments[1]),e.overlay||(e.overlay=!1),win$1.XLGlobe.eDialog.open({container:{icon:e.icon?e.icon:"",content:arguments[0]},offset:e.offset?e.offset:null,overlay:e.overlay,area:e.area,autoClose:e.autoClose?e.autoClose:2e3})}};return c},loaded$1=function(){win$1.XLGlobe||(win$1.XLGlobe={}),win$1.XLGlobe.eDialog=easyDialog$1()},doScrollCheck$1=function(){if(!doc$1.body){try{docElem$1.doScroll("left")}catch(e){return void setTimeout(doScrollCheck$1,1)}loaded$1()}};if(doc$1.body)loaded$1();else if(doc$1.addEventListener){var d1$1=function(){doc$1.removeEventListener("DOMContentLoaded",d1$1,!1),loaded$1()};doc$1.addEventListener("DOMContentLoaded",d1$1,!1),win$1.addEventListener("load",loaded$1,!1)}else if(doc$1.attachEvent){var d2$1=function(){"complete"===doc$1.readyState&&(doc$1.detachEvent("onreadystatechange",d2$1),loaded$1())};doc$1.attachEvent("onreadystatechange",d2$1),win$1.attachEvent("onload",loaded$1);var toplevel$1=!1;try{toplevel$1=null==win$1.frameElement}catch(e){}docElem$1.doScroll&&toplevel$1&&doScrollCheck$1()}var notice$1={},dragBox$1=function(e,t){function i(e,t){return parseInt(window.getComputedStyle(e)[t])}var n,r,o=!1,a=i(t,"left"),s=i(t,"top");e.addEventListener("mousedown",(function(e){o=!0,n=e.clientX,r=e.clientY}),!1),document.addEventListener("mousemove",(function(e){if(!0===o){var i=e.clientX,l=e.clientY,u=i-n,c=l-r;t.style.left=a+u+"px",t.style.top=s+c+"px"}})),e.addEventListener("mouseup",(function(e){o=!1,a=i(t,"left"),s=i(t,"top")}),!1)},Utils$1={latlng:latlng,tooltip:tooltip$1,Popup:Popup$2,Tooltip:Tooltip$1,util:util,draw:draw$1,pointconvert:pointconvert$1,cjquery:cjquery$1};Utils$1.notice=notice$1,Utils$1.DragBox=dragBox$1;class LoadGeojson{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this;Cesium.GeoJsonDataSource.load(this.config.url,{clampToGround:this.config.clampToGround}).then((function(t){if(e.dataSource=t,e.config.prop){for(const t in e.config.prop)if(e.config.prop.hasOwnProperty(t)){const i=e.config.prop[t];e.dataSource[t]=i}}else e.dataSource.a="hello";e.showResult()}))}showResult(){var e=this;this.viewer.dataSources.add(this.dataSource),this.config.flyTo&&this.centerAt(),this.config.opacity&&this.setOpacity(this.config.opacity),this.config.themeConfig&&this.thematicMap();for(var t=this.dataSource.entities.values,i=0;i<t.length;i++){var n=t[i];if(this.config.tooltip&&(n.tooltip={html:function(t){var i=t.properties;return getPopupForConfig({popup:e.config.tooltip},i)},anchor:this.config.tooltipAnchor||[0,-15]}),this.config.styleOptions)if(n.polygon)Object.assign(n.polygon,this.config.styleOptions),this.config.styleOptions.outline?this.config.styleOptions.outlineWidth?(n.polyline={positions:n.polygon.hierarchy._value.positions,width:this.config.styleOptions.outlineWidth,material:Cesium.Color.YELLOW},this.config.styleOptions.outlineColor&&(n.polyline.material=new Cesium.Color.fromCssColorString(this.config.styleOptions.outlineColor).withAlpha(Number(this.config.styleOptions.outlineOpacity||1))),n.polygon.outline=!1):n.polygon.outline=!0:n.polygon.outline=!1,this.config.styleOptions.outlineColor&&(n.polygon.outlineColor=new Cesium.Color.fromCssColorString(this.config.styleOptions.outlineColor).withAlpha(Number(this.config.styleOptions.outlineOpacity||1))),this.config.styleOptions.color&&(n.polygon.material=new Cesium.Color.fromCssColorString(this.config.styleOptions.color).withAlpha(Number(this.config.styleOptions.opacity||1))),this.config.styleOptions.outlineWidth&&(n.polygon.outlineWidth=this.config.styleOptions.outlineWidth);else if(n.billboard){var r=n.properties;n.billboard.heightReference=Cesium.HeightReference.RELATIVE_TO_GROUND,this.billboardControlattribute2Entity({style:this.config.styleOptions},n.billboard),this.config.styleOptions.label&&this.config.styleOptions.label.field&&(this.config.styleOptions.label.heightReference=Cesium.HeightReference.RELATIVE_TO_GROUND,n.label=this.labelControlaAttribute2Entity({style:this.config.styleOptions.label}),n.label.text=r["_"+this.config.styleOptions.label.field]._value)}else n.polyline&&this.polylineControlAttribute2Entity({style:this.config.styleOptions},n.polyline)}}polylineControlAttribute2Entity(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={followSurface:!0,positions:new _DynamicProperty([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;case"lineType":case"color":case"opacity":case"outline":case"outlineWidth":case"outlineColor":case"outlineOpacity":}}var r=new Cesium.Color.fromCssColorString(e.style.color||"#FFFF00").withAlpha(Number(e.style.opacity||1));switch(e.style.lineType){default:case"solid":e.style.outline?t.material=new Cesium.PolylineOutlineMaterialProperty({color:r,outlineWidth:Number(e.style.outlineWidth||1),outlineColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=r;break;case"dash":e.style.outline?t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||e.style.outlineWidth||16,color:r,gapColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||16,color:r});break;case"glow":t.material=new Cesium.PolylineGlowMaterialProperty({glowPower:e.style.glowPower||.1,color:r});break;case"arrow":t.material=new Cesium.PolylineArrowMaterialProperty(r)}return t}labelControlaAttribute2Entity(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={scale:1,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"font_style":case"font_weight":case"font_size":case"font_family":case"text":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":case"background_opacity":break;case"color":t.fillColor=new Cesium.Color.fromCssColorString(n||"#ffffff").withAlpha(Number(e.style.opacity||1));break;case"border":t.style=n?Cesium.LabelStyle.FILL_AND_OUTLINE:Cesium.LabelStyle.FILL;break;case"border_color":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.opacity||1));break;case"border_width":t.outlineWidth=n;break;case"background":t.showBackground=n;break;case"background_color":t.backgroundColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.background_opacity||e.style.opacity||.5));break;case"pixelOffset":t.pixelOffset=new Cesium.Cartesian2(e.style.pixelOffset[0],e.style.pixelOffset[1]);break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}t.text=(e.style.text||"文字").replace(new RegExp("<br />","gm"),"\n");var r=(e.style.font_style||"normal")+" small-caps "+(e.style.font_weight||"normal")+" "+(e.style.font_size||"25")+"px "+(e.style.font_family||"楷体");return t.font=r,t}billboardControlattribute2Entity(e,t){for(var i in(e=e||{}).style=e.style||{},e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"opacity":t.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(n||1));break;case"rotation":t.rotation=Cesium.Math.toRadians(n);break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}return t}centerAt(){if(this.config.center){var e={destination:Cesium.Cartesian3.fromDegrees(this.config.center.x,this.config.center.y,this.config.center.z),orientation:{heading:this.config.center.heading,pitch:this.config.center.pitch,roll:this.config.center.roll}};this.config.duration&&(e.duration=this.config.duration),this.viewer.scene.camera.flyTo(e)}else this.viewer.flyTo(this.dataSource.entities.values,{duration:this.config.duration})}setOpacity(e){for(var t=e,i=this.dataSource.entities.values,n=0;n<i.length;n++){var r=i[n];r.polygon&&r.polygon.material&&r.polygon.material.color&&(this._updatEntityAlpha(r.polygon.material.color,t),r.polygon.outlineColor&&this._updatEntityAlpha(r.polygon.outlineColor,t)),r.polyline&&r.polyline.material&&r.polyline.material.color&&this._updatEntityAlpha(r.polyline.material.color,t),r.billboard&&(r.billboard.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(t)),r.model&&(r.model.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(t)),r.label&&(r.label.fillColor&&this._updatEntityAlpha(r.label.fillColor,t),r.label.outlineColor&&this._updatEntityAlpha(r.label.outlineColor,t),r.label.backgroundColor&&this._updatEntityAlpha(r.label.backgroundColor,t))}}_updatEntityAlpha(e,t){var i=e.getValue().withAlpha(t);e.setValue(i)}thematicMap(){for(var e=this,t=this.dataSource.entities.values,i=this.config.themeConfig,n=i.filed,r=0;r<t.length;r++){var o=t[r];if(o.polygon&&(i.height&&(o.polygon.extrudedHeight=Number(o._properties[n]._value)*i.height),i.colorArr&&i.filedValueArr)){var a=Number(o._properties[n]._value);i.filedValueArr.forEach(((t,n)=>{(a>t[0]||a==t[0])&&a<t[1]&&(o.polygon.material=new Cesium.Color(i.colorArr[n][0]/255,i.colorArr[n][1]/255,i.colorArr[n][2]/255,e.config.opacity))}))}}}}class LoadPolylineVolume{constructor(e,t){this.viewer=e,t.styleOptions&&t.styleOptions.color&&(t.material=new Cesium.Color.fromCssColorString(t.styleOptions.color).withAlpha(Number(t.styleOptions.opacity||1))),t.styleOptions&&t.styleOptions.radius&&(t.radius=t.styleOptions.radius),t.styleOptions&&t.styleOptions.thickness&&(t.thickness=t.styleOptions.thickness),this.optconfig=Object.assign({material:Cesium.Color.RED,radius:1,thickness:5,step:30},t);this.loadData()}loadData(){var e=this;Cesium.GeoJsonDataSource.load(this.optconfig.url,{}).then((function(t){e.viewer.dataSources.add(t),e.dataSource=t;for(var i=e.dataSource.entities.values,n=0;n<i.length;n++){var r=i[n];r.polylineVolume={positions:r.polyline.positions.getValue(),shape:e._getCorridorShape(e.optconfig.radius),material:e.optconfig.material},r.polyline=void 0}e.optconfig.flyTo&&e.centerAt()}))}_getCorridorShape(e){for(var t=e/this.optconfig.thickness,i=this.optconfig.step,n=[],r=0;r<=360;r++){r=r+i-1;var o=Cesium.Math.toRadians(r);n.push(new Cesium.Cartesian2(e*Math.cos(o),e*Math.sin(o)))}for(r=360;r>=0;r--){r=r-i+1;o=Cesium.Math.toRadians(r);n.push(new Cesium.Cartesian2((e-t)*Math.cos(o),(e-t)*Math.sin(o)))}return n}centerAt(){if(this.optconfig.center){var e={destination:Cesium.Cartesian3.fromDegrees(this.optconfig.center.x,this.optconfig.center.y,this.optconfig.center.z),orientation:{heading:this.optconfig.center.heading,pitch:this.optconfig.center.pitch,roll:this.optconfig.center.roll}};this.optconfig.duration&&(e.duration=this.optconfig.duration),this.viewer.scene.camera.flyTo(e)}else this.viewer.flyTo(this.dataSource.entities.values,{duration:this.optconfig.duration})}setOpacity(e){for(var t=e,i=this.dataSource.entities.values,n=0;n<i.length;n++){var r=i[n];r.polylineVolume&&r.polylineVolume.material&&r.polylineVolume.material.color&&this._updatEntityAlpha(r.polylineVolume.material.color,t)}}_updatEntityAlpha(e,t){var i=e.getValue().withAlpha(t);e.setValue(i)}}class LoadKml extends LoadGeojson{constructor(e,t){super(e,t)}loadData(){var e=this;Cesium.KmlDataSource.load(this.config.url,{camera:e.viewer.scene.camera,canvas:e.viewer.scene.canvas}).then((function(t){if(e.viewer.dataSources.add(t),e.config.flyTo&&e.config.center){var i={destination:Cesium.Cartesian3.fromDegrees(e.config.center.x,e.config.center.y,e.config.center.z),orientation:{heading:e.config.center.heading,pitch:e.config.center.pitch,roll:e.config.center.roll}};e.config.duration&&(i.duration=e.config.duration),e.viewer.scene.camera.flyTo(i)}}))}}class LoadCzml extends LoadGeojson{constructor(e,t){super(e,t)}loadData(){var e=this;Cesium.CzmlDataSource.load(this.config.url).then((function(t){if(e.viewer.dataSources.add(t),e.config.flyTo&&e.config.center){var i={destination:Cesium.Cartesian3.fromDegrees(e.config.center.x,e.config.center.y,e.config.center.z),orientation:{heading:e.config.center.heading,pitch:e.config.center.pitch,roll:e.config.center.roll}};e.config.duration&&(i.duration=e.config.duration),e.viewer.scene.camera.flyTo(i)}}))}}class Entity{constructor(e){return this.id=e.id,this.name=e.name,this.availability=e.availability,this.show=e.show,this.description=e.description,this.position=e.position,this.orientation=e.orientation,this.viewFrom=e.viewFrom,this.parent=e.parent,this.billboard=e.billboard,this.box=e.box,this.corridor=e.corridor,this.cylinder=e.cylinder,this.ellipse=e.ellipse,this.ellipsoid=e.ellipsoid,this.label=e.label,this.model=e.model,this.path=e.path,this.plane=e.plane,this.point=e.point,this.polygon=e.polygon,this.polyline=e.polyline,this.properties=e.properties,this.polylineVolume=e.polylineVolume,this.rectangle=e.rectangle,this.wall=e.wall,new Cesium.Entity({id:this.id,name:this.name,availability:this.availability,show:this.show,description:this.description,position:this.position,orientation:this.orientation,viewFrom:this.viewFrom,parent:this.parent,billboard:this.billboard,box:this.box,corridor:this.corridor,cylinder:this.cylinder,ellipse:this.ellipse,ellipsoid:this.ellipsoid,label:this.label,model:this.model,path:this.path,plane:this.plane,point:this.point,polygon:this.polygon,polyline:this.polyline,properties:this.properties,polylineVolume:this.polylineVolume,rectangle:this.rectangle,wall:this.wall})}}let EllipsoidFadeMaterialProperty=function(e,t){this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,this.color=e,this.duration=t,this._time=(new Date).getTime()};Object.defineProperties(EllipsoidFadeMaterialProperty.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")}),EllipsoidFadeMaterialProperty.prototype.getType=function(e){return"EllipsoidFade"},EllipsoidFadeMaterialProperty.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),t.time=((new Date).getTime()-this._time)%this.duration/this.duration,t},EllipsoidFadeMaterialProperty.prototype.equals=function(e){return this===e||e instanceof EllipsoidFadeMaterialProperty&&Property.equals(this._color,e._color)},Cesium.Material.EllipsoidFadeType="EllipsoidFade",Cesium.Material.EllipsoidFadeSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n{\nczm_material material = czm_getDefaultMaterial(materialInput);\nmaterial.diffuse = 1.5 * color.rgb;\nvec2 st = materialInput.st;\nfloat dis = distance(st, vec2(0.5, 0.5));\nfloat per = fract(time);\nif(dis > per * 0.5){\nmaterial.alpha = 0.0;\ndiscard;\n}else {\nmaterial.alpha = color.a  * dis / per / 1.0;\n}\nreturn material;\n}",Cesium.Material._materialCache.addMaterial(Cesium.Material.EllipsoidFadeType,{fabric:{type:Cesium.Material.EllipsoidFadeType,uniforms:{color:new Cesium.Color(1,0,0,1),time:1},source:Cesium.Material.EllipsoidFadeSource},translucent:function(e){return!0}});var PolylineTrailLinkType="PolylineTrailLink",PolylineTrailLinkImage="",PolylineTrailLinkSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n                                {\n                                    czm_material material = czm_getDefaultMaterial(materialInput);\n                                    vec2 st = materialInput.st;\n                                    vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\n                                    material.alpha = colorImage.a * color.a;\n                                    material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n                                    return material;\n                                }";let PolylineTrailLinkMaterialProperty=function(e,t,i){this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,this.color=e,this.duration=t,this._time=(new Date).getTime(),PolylineTrailLinkImage=i};Object.defineProperties(PolylineTrailLinkMaterialProperty.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")}),PolylineTrailLinkMaterialProperty.prototype.getType=function(e){return"PolylineTrailLink"},PolylineTrailLinkMaterialProperty.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),t.image=PolylineTrailLinkImage,t.time=((new Date).getTime()-this._time)%this.duration/this.duration,t},PolylineTrailLinkMaterialProperty.prototype.equals=function(e){return this===e||e instanceof PolylineTrailLinkMaterialProperty&&Cesium.Property.equals(this._color,e._color)},Cesium.Material._materialCache.addMaterial(PolylineTrailLinkType,{fabric:{type:PolylineTrailLinkType,uniforms:{color:new Cesium.Color(1,0,0,.5),image:PolylineTrailLinkImage,time:0},source:PolylineTrailLinkSource},translucent:function(e){return!0}});let RadarPrimitiveMaterialProperty=function(e){this.opts={color:Cesium.Color.RED,duration:2e3,time:(new Date).getTime(),repeat:30,offset:0,thickness:.3},this.opts=Object.assign(this.opts,e),this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,this.color=this.opts.color,this.duration=this.opts.duration,this._time=this.opts.time};Object.defineProperties(RadarPrimitiveMaterialProperty.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")}),RadarPrimitiveMaterialProperty.prototype.getType=function(e){return"radarPrimitive"},RadarPrimitiveMaterialProperty.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),t.time=((new Date).getTime()-this._time)%this.duration/this.duration/10,t.repeat=this.opts.repeat,t.offset=this.opts.offset,t.thickness=this.opts.thickness,t},RadarPrimitiveMaterialProperty.prototype.equals=function(e){return this===e||e instanceof RadarPrimitiveMaterialProperty&&Property.equals(this._color,e._color)},Cesium.RadarPrimitiveMaterialProperty=RadarPrimitiveMaterialProperty,Cesium.Material.radarPrimitiveType="radarPrimitive",Cesium.Material.radarPrimitiveSource="uniform vec4 color;\n                uniform float repeat;\n                uniform float offset;\n                uniform float thickness;\n                czm_material czm_getMaterial(czm_materialInput materialInput){\n                    czm_material material = czm_getDefaultMaterial(materialInput);\n                    float sp = 1.0/repeat;\n                    vec2 st = materialInput.st;\n                    float dis = distance(st, vec2(0.5));\n                    float m = mod(dis + offset-time, sp);\n                    float a = step(sp*(1.0-thickness), m); \n                    material.diffuse = color.rgb;\n                    material.alpha = a * color.a;\n                    return material;\n                }",Cesium.Material._materialCache.addMaterial(Cesium.Material.radarPrimitiveType,{fabric:{type:Cesium.Material.radarPrimitiveType,uniforms:{color:new Cesium.Color(1,0,0,.5),time:0,repeat:30,offset:0,thickness:.3},source:Cesium.Material.radarPrimitiveSource},translucent:function(e){return!0}});let primitiveTriangles=null,DrawSector=function(e,t,i,n,r){let o=[];e.scene.globe.ellipsoid,r>180&&(r=180);for(let e=0;e<r;e++)if(e>=90){let r=-i/111201*Math.cos(e*Math.PI/180),a=i*Math.sin(e*Math.PI/180),s=r*Math.cos(n*Math.PI/180),l=r*Math.sin(n*Math.PI/180),u=-i/111201*Math.cos((e+1)*Math.PI/180),c=i*Math.sin((e+1)*Math.PI/180),h=u*Math.cos(n*Math.PI/180),g=u*Math.sin(n*Math.PI/180);o.push(Cesium.Cartesian3.fromDegrees(t.x,t.y,0)),o.push(Cesium.Cartesian3.fromDegrees(t.x-s,t.y-l,a)),o.push(Cesium.Cartesian3.fromDegrees(t.x-h,t.y-g,c))}else{let r=i/111201*Math.cos(e*Math.PI/180),a=i*Math.sin(e*Math.PI/180),s=r*Math.cos(n*Math.PI/180),l=r*Math.sin(n*Math.PI/180),u=i/111201*Math.cos((e+1)*Math.PI/180),c=i*Math.sin((e+1)*Math.PI/180),h=u*Math.cos(n*Math.PI/180),g=u*Math.sin(n*Math.PI/180);o.push(Cesium.Cartesian3.fromDegrees(t.x,t.y,0)),o.push(Cesium.Cartesian3.fromDegrees(t.x+s,t.y+l,a)),o.push(Cesium.Cartesian3.fromDegrees(t.x+h,t.y+g,c))}primitiveTriangles?primitiveTriangles.updateCartesianPositionColor(o,[0,1,1,.5,0,0,1,.5,0,1,1,.5]):primitiveTriangles=new PrimitiveTriangles({viewer:e,Cartesians:o,Colors:[0,1,1,.5,0,0,1,.5,0,1,1,.5]})};class ShpVector{constructor(e,t){this.layer=null,Cesium.when.all([Cesium.Resource.fetchBlob(t.url.shp),Cesium.Resource.fetchBlob(t.url.dbf),Cesium.Resource.fetchBlob(t.url.prj)],(function(i){i[0].name=t.name.shp,i[1].name=t.name.dbf,i[2].name=t.name.prj;var n=new Cesium.VectorTileImageryProvider({source:i,credit:"credit",defaultStyle:t.style,minimumLevel:t.minimumLevel,maximumLevel:t.maximumLevel});n.readyPromise.then((function(){this.layer=e.imageryLayers.addImageryProvider(n),t.isFlyTo&&e.flyTo(this.layer)}))}))}}class LoadWMS{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.viewer.scene.globe.imageryLayers;if(e.config.isUnique&&t.removeAll(),t.addImageryProvider(new Cesium.WebMapServiceImageryProvider({url:e.config.url,layers:e.config.layers,parameters:{transparent:e.config.transparent,format:e.config.format,srs:e.config.srs},version:"1.1.0"})),e.config.flyTo&&e.config.center){var i={destination:Cesium.Cartesian3.fromDegrees(e.config.center.x,e.config.center.y,e.config.center.z),orientation:{heading:e.config.center.heading,pitch:e.config.center.pitch,roll:e.config.center.roll}};e.config.duration&&(i.duration=e.config.duration),e.viewer.scene.camera.flyTo(i)}}}class LoadWMTS{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.viewer.scene.globe.imageryLayers;e.config.isUnique&&t.removeAll();var i=[];for(let t=0;t<e.config.maximumLevel;t++)i[t]=e.config.srs+":"+t;if(t.addImageryProvider(new Cesium.WebMapTileServiceImageryProvider({url:e.config.url,layer:e.config.layers,style:"",format:e.config.format,tileMatrixSetID:e.config.srs,tileMatrixLabels:i,maximumLevel:e.config.maximumLevel,show:!1,tilingScheme:new Cesium.GeographicTilingScheme})),e.config.flyTo&&e.config.center){var n={destination:Cesium.Cartesian3.fromDegrees(e.config.center.x,e.config.center.y,e.config.center.z),orientation:{heading:e.config.center.heading,pitch:e.config.center.pitch,roll:e.config.center.roll}};e.config.duration&&(n.duration=e.config.duration),e.viewer.scene.camera.flyTo(n)}}}class LoadWFS{constructor(e,t){this.viewer=e,this.config=t,this.attribute={},this.loadData()}loadData(){var e=this,t=e.viewer.scene.globe.imageryLayers;e.config.isUnique&&t.removeAll();var i={geoserverUrl:e.config.url,layerName:encodeURIComponent(e.config.layers)};$.ajax({url:i.geoserverUrl+i.layerName.split("%3A")[0]+"/ows?service=WFS&version=1.0.0&request=GetFeature&typeName="+i.layerName+"&maxFeatures=50&outputFormat=application%2Fjson",cache:!1,async:!0,success:function(t){Cesium.GeoJsonDataSource.load(t).then((function(t){e.viewer.dataSources.add(t),e.config.flyTo&&e.viewer.flyTo(t)}))},error:function(e){console.log("加载WFS服务失败")}})}queryWFS(e){var t=this,i=null,n=t.config.url+t.config.layers.split(":")[0],r='<Filter xmlns="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml">';r+="<Intersects>",r+="<PropertyName>the_geom</PropertyName>",r+="<gml:Point>",r+="<gml:coordinates>"+e+"</gml:coordinates>",r+="</gml:Point>",r+="</Intersects>",r+="</Filter>";var o={service:"WFS",version:"1.0.0",request:"GetFeature",typeName:t.config.layers,outputFormat:"application/json",filter:r};return $.ajax({url:n+"/ows"+function(e,t,i){var n=[];for(var r in e)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+n.join("&")}(o,n),async:!1,type:"GET",dataType:"json",success(e){i=e},error(e){console.log("查询失败")}}),i}}class customPrimitive{constructor(e,t){this.viewer=e,this.config=t;var i=void 0,n=t.imgUrl;Cesium.Resource.createIfNeeded(n).fetchImage().then((function(t){var n;console.log("image loaded!");var r=e.scene.context;n=Cesium.defined(t.internalFormat)?new Cesium.Texture({context:r,pixelFormat:t.internalFormat,width:t.naturalWidth,height:t.naturalHeight,source:{arrayBufferView:t.bufferView}}):new Cesium.Texture({context:r,source:t}),i=n}));var r={position:0,normal:1,textureCoordinates:2};function o(e){var i=new Cesium.Geometry({attributes:{position:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t.positions}),normal:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t.normals}),textureCoordinates:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:t.sts})},indices:t.indices,primitiveType:Cesium.PrimitiveType.TRIANGLES,boundingSphere:Cesium.BoundingSphere.fromVertices(positions)});return Cesium.VertexArray.fromGeometry({context:e,geometry:i,attributeLocations:r,bufferUsage:Cesium.BufferUsage.STATIC_DRAW})}this.show=!0,this._command=void 0,this._createCommand=function(e){var n=Cesium.Appearance.getDefaultRenderState(!1,!0,void 0),a=Cesium.RenderState.fromCache(n),s=new Cesium.ShaderSource({sources:["\n    // vtxf 使用double类型的position进行计算\n    // attribute vec3 position3DHigh;\n    // attribute vec3 position3DLow;\n    attribute vec3 position;\n    attribute vec3 normal;\n    attribute vec2 st;\n    attribute float batchId;\n    varying vec3 v_positionEC;\n    varying vec3 v_normalEC;\n    varying vec2 v_st;\n    void main()\n    {\n        // vtxf 使用double类型的position进行计算\n        // vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n        // v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n        // v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n        // v_st = st;\n        // gl_Position = czm_modelViewProjectionRelativeToEye * p;\n        v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n        v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n        v_st = st;\n        gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n    }\n    "]}),l=new Cesium.ShaderSource({sources:["\n    varying vec3 v_positionEC;\n    varying vec3 v_normalEC;\n    varying vec2 v_st;\n    uniform sampler2D myImage;\n    void main()\n    {\n        vec3 positionToEyeEC = -v_positionEC;\n        vec3 normalEC = normalize(v_normalEC);\n    #ifdef FACE_FORWARD\n        normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n    #endif\n        czm_materialInput materialInput;\n        materialInput.normalEC = normalEC;\n        materialInput.positionToEyeEC = positionToEyeEC;\n        materialInput.st = v_st;\n        //czm_material material = czm_getMaterial(materialInput);\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        material.diffuse = texture2D(myImage, materialInput.st).rgb;\n    #ifdef FLAT\n        gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n    #else\n        gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n    #endif\n    }\n    "]}),u={myImage:function(){return Cesium.defined(i)?i:e.defaultTexture}},c=Cesium.ShaderProgram.fromCache({context:e,vertexShaderSource:s,fragmentShaderSource:l,attributeLocations:r});return new Cesium.DrawCommand({vertexArray:o(e),primitiveType:Cesium.PrimitiveType.TRIANGLES,renderState:a,shaderProgram:c,uniformMap:u,owner:this,pass:Cesium.Pass.OPAQUE,modelMatrix:t.modelMatrix})}}update(e){this.show&&(Cesium.defined(this._command)||(this._command=this._createCommand(e.context)),Cesium.defined(this._command)&&e.commandList.push(this._command))}isDestroyed(){return!1}destroy(){return Cesium.defined(this._command)&&(this._command.shaderProgram=this._command.shaderProgram&&this._command.shaderProgram.destroy()),destroyObject(this)}}class LoadCorridor{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=this.viewer.entities.add({name:e.config.name,corridor:{positions:Cesium.Cartesian3.fromDegreesArray(e.config.positions),height:e.config.height,extrudedHeight:e.config.extrudedHeight,width:e.config.width,cornerType:e.config.cornerType,material:e.config.material,outline:e.config.outline,outlineColor:e.config.outlineColor}});return e.config.zoomTo&&e.viewer.zoomTo(t),t}}class LoadGif{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=document.getElementById(e.config.id),i=new Cesium.Cartesian2;e.viewer.scene.preRender.addEventListener((function(){var n=Cesium.Cartesian3.fromDegrees(e.config.position[0],e.config.position[1]),r=e.viewer.scene.cartesianToCanvasCoordinates(n,i);Cesium.defined(r)&&(t.style.top=r.y+"px",t.style.left=r.x+"px")}))}}class divPoint{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=function(){var e=!1;function t(){}return t.initTool=function(t){if(!e){var i=document.createElement("DIV");i.className="tooltipdiv";var n=document.createElement("DIV");n.className="tooltipdiv-inner",i.appendChild(n),this._div=i,this._title=n,t.appendChild(i),e=!0}},t.setVisible=function(t){e&&(this._div.style.display=t?"block":"none")},t.showAt=function(t,i){e&&t&&i&&(this.setVisible(!0),this._title.innerHTML=i,this._div.style.left=t.x+10+"px",this._div.style.top=t.y-this._div.clientHeight/2+"px")},t.showMove=function(t){e&&Cesium.defined(t)&&(this._div.style.left=t.x+10+"px",this._div.style.top=t.y-this._div.clientHeight/2+"px")},t}(),t=this,i=t.viewer.scene.globe.ellipsoid;e.initTool(t.viewer.cesiumWidget.container),t.viewer.camera.pickEllipsoid(t.config.screenPosition,i)?e.showAt(t.config.screenPosition,t.config.html):e.setVisible(!1)}}class barChart{constructor(e){this._name=e,this._changed=new Cesium.Event,this._error=new Cesium.Event,this._isLoading=!1,this._loading=new Cesium.Event,this._entityCollection=new Cesium.EntityCollection,this._seriesNames=[],this._seriesToDisplay=void 0,this._heightScale=1e7,this._entityCluster=new Cesium.EntityCluster}get name(){return this._name}get entities(){return this._entityCollection}get isLoading(){return this._isLoading}get changedEvent(){return this._changed}get errorEvent(){return this._error}get loadingEvent(){return this._loading}get seriesNames(){return this._seriesNames}get seriesToDisplay(){return this._changed._seriesToDisplay}set seriesToDisplay(e){this._seriesToDisplay=e;var t=this._entityCollection,i=t.values;t.suspendEvents();for(var n=0;n<i.length;n++){var r=i[n];r.show=e===r.seriesName}t.resumeEvents()}get heightScale(){return this._heightScale}set heightScale(e){if(e<=0)throw new Cesium.DeveloperError("value must be greater than 0");this._heightScale=e}get show(){return this._entityCollection}set show(e){this._entityCollection=e}get clustering(){return this._entityCluster}set clustering(e){if(!Cesium.defined(e))throw new Cesium.DeveloperError("value must be defined.");this._entityCluster=e}load(e){if(!Cesium.defined(e))throw new Cesium.DeveloperError("data is required.");this.setLoading(!0),this._seriesNames.length=0,this._seriesToDisplay=void 0;var t=this.heightScale,i=this._entityCollection;i.suspendEvents(),i.removeAll();for(var n=0;n<e.length;n++){var r=e[n],o=r[0],a=r[1];this._seriesNames.push(o);var s=0===n;s&&(this._seriesToDisplay=o);for(var l=0;l<a.length;l+=3){var u=a[l],c=a[l+1],h=a[l+2];if(0!==h){var g=Cesium.Color.fromHsl(.6-.5*h,1,.5),d=Cesium.Cartesian3.fromDegrees(c,u,0),p=Cesium.Cartesian3.fromDegrees(c,u,h*t),m=new Cesium.PolylineGraphics;m.material=new Cesium.ColorMaterialProperty(g),m.width=new Cesium.ConstantProperty(2),m.arcType=new Cesium.ConstantProperty(Cesium.ArcType.NONE),m.positions=new Cesium.ConstantProperty([d,p]);var f=new Cesium.Entity({id:o+" index "+l.toString(),show:s,polyline:m,seriesName:o});i.add(f)}}}i.resumeEvents(),this._changed.raiseEvent(this),this.setLoading(!1)}setLoading(e){this._isLoading!==e&&(this._isLoading=e,this._loading.raiseEvent(this,e))}loadUrl(e){if(!Cesium.defined(e))throw new Cesium.DeveloperError("url is required.");var t=Cesium.getFilenameFromUri(e);this._name!==t&&(this._name=t,this._changed.raiseEvent(this));var i=this;return Cesium.Resource.fetchJson(e).then((function(t){return i.load(t,e)})).otherwise((function(e){return this.setLoading(!1),i._error.raiseEvent(i,e),Cesium.when.reject(e)}))}seriesToDisplay(e){this._seriesToDisplay=e;var t=this._entityCollection,i=t.values;t.suspendEvents();for(var n=0;n<i.length;n++){var r=i[n];r.show=value===r.seriesName}t.resumeEvents()}}class haloLine{constructor(e,t){this.viewer=e,this._url=t,this.loadData()}loadData(){var e=this,t=null;Cesium.GeoJsonDataSource.load(e._url,{clampToGround:!0}).then((function(i){e.viewer.dataSources.add(i),t=i.entities.values;for(var n=0;n<t.length;n++){var r=t[n];n<100?(r.polyline.material=new Cesium.PolylineGlowMaterialProperty({glowPower:.06,color:Cesium.Color.ORANGERED.withAlpha(.9)}),r.polyline.width=50):(r.polyline.material=new Cesium.PolylineGlowMaterialProperty({glowPower:.1,color:Cesium.Color.ORANGERED.withAlpha(.9)}),r.polyline.width=10)}})).otherwise((function(e){window.alert(e)}))}}class activeLine{constructor(e,t){this.viewer=e,this.config=t,this.Entity=null,this.loadData()}loadData(){var e,t=this,i=t.config.height,n=t.config.line,r=t.config.point,o=new Cesium.Color.fromCssColorString(n.attribute.style.color||"#20e4f3").withAlpha(Number(n.attribute.style.opacity||.8)),a=new Cesium.Color.fromCssColorString(n.attribute.style.outlineColor||"#4169e1").withAlpha(Number(n.attribute.style.opacity||.8));e=t.viewer.entities.add({attribute:n.attribute||{},polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(n.geometry.coordinates),width:n.attribute.style.width||1,material:new Cesium.PolylineOutlineMaterialProperty({color:o,outlineWidth:n.attribute.style.outlineWidth||.1,outlineColor:a}),depthFailMaterial:new Cesium.PolylineOutlineMaterialProperty({color:o,outlineWidth:n.attribute.style.outlineWidth||.1,outlineColor:a})}}),t.viewer.zoomTo(e),t.Entity=e;for(var s={start:0,end:50},l=85,u=s.end-s.start,c=function(e){if(!Cesium.defined(e))throw new Cesium.DeveloperError("time is required.");var t=Cesium.JulianDate.toDate(e).getTime()/l%u+s.start,i=i||10;return!!(t&&this.nameID>t-i&&this.nameID<t)},h=[],g=0;g<r.length;++g){var d=r[g].geometry.coordinates[0],p=r[g].geometry.coordinates[1];h[g]=t.viewer.entities.add({attribute:r.attribute||{},position:Cesium.Cartesian3.fromDegrees(d,p,i),nameID:r[g].time,billboard:t.config.billboard}),h[g].isAvailable=c}}customGetEntity(){return this.Entity}}class shinePoint{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this;Cesium.Resource.fetchJson({url:e.config.url}).then((function(t){for(var i={start:0,end:10},n=6,r=i.end-i.start,o=function(e){if(!Cesium.defined(e))throw new Cesium.DeveloperError("time is required.");var t=Cesium.JulianDate.toDate(e).getTime()/n%r+i.start,o=o||10;return!!(t&&this.nameID>t-o&&this.nameID<t)},a=new Cesium.Color(200/255,200/255,0,.8),s=0;s<t[0].length;s+=2)e.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(t[0][s].geoCoord[0],t[0][s].geoCoord[1],0),point:{show:!0,color:a,pixelSize:.7}});var l=new Cesium.Color(1,250/255,0,.9),u=new Cesium.Color(1,250/255,0,1);for(s=0;s<t[1].length;s+=1){e.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(t[1][s].geoCoord[0],t[1][s].geoCoord[1],0),point:{show:!0,color:l,pixelSize:.7}}),e.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(t[1][s].geoCoord[0],t[1][s].geoCoord[1],1),nameID:10*Math.random(),point:{show:!0,color:u,pixelSize:1.618}}).isAvailable=o}var c=new Cesium.Color(1,250/255,250/255,.8);for(s=0;s<t[2].length;s+=2)e.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(t[2][s].geoCoord[0],t[2][s].geoCoord[1],0),point:{show:!0,color:c,pixelSize:.7}});e.config.zoomTo&&e.viewer.zoomTo(viewer.entities)}))}}class rampWall{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.viewer.entities.add({name:"墙",wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e.config.coordinates),material:function(e){null==e&&(e={0:"blue",.1:"cyan",.37:"lime",.54:"yellow",1:"red"});var t=document.createElement("canvas");t.width=1,t.height=100;var i=t.getContext("2d"),n=i.createLinearGradient(0,0,0,100);for(var r in e)n.addColorStop(1-Number(r),e[r]);return i.fillStyle=n,i.fillRect(0,0,1,100),t}(e.config.colorRamp)}});e.config.zoomTo&&e.viewer.zoomTo(t)}}class OSMBuilding{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.config.colorHash;e.viewer.dataSources.add(Cesium.GeoJsonDataSource.load(e.config.url)).then((function(i){for(var n=i.entities.values,r=0;r<n.length;r++){var o=n[r];o.name;var a,s=o.properties||{},l=parseInt(s[e.config.attributeFloor]||1),u=!0,c=3;for(var h in t)if(l<=parseInt(h)){a=t[h];break}e.config.shine?o.polygon.material=new Cesium.ColorMaterialProperty(new Cesium.CallbackProperty((function(){return u?(c-=.05)<=0&&(u=!1):(c+=.05)>=1&&(u=!0),a.withAlpha(c)}),!1)):o.polygon.material=a,o.polygon.outline=!1,o.polygon.extrudedHeight=5*l,o.isDTH=!0}e.config.zoomTo&&e.viewer.flyTo(n)}))}}class globeBuilding{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=Cesium.createOsmBuildings();e.viewer.scene.primitives.add(t),e.viewer.scene.camera.setView({destination:e.config.destination,orientation:e.config.orientation}),t.style=e.config.style}}var earthRadius=6371008.8,factors={centimeters:100*earthRadius,centimetres:100*earthRadius,degrees:360/(2*Math.PI),feet:3.28084*earthRadius,inches:39.37*earthRadius,kilometers:earthRadius/1e3,kilometres:earthRadius/1e3,meters:earthRadius,metres:earthRadius,miles:earthRadius/1609.344,millimeters:1e3*earthRadius,millimetres:1e3*earthRadius,nauticalmiles:earthRadius/1852,radians:1,yards:1.0936*earthRadius},areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function feature(e,t,i={}){const n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=t||{},n.geometry=e,n}function geometry$1(e,t,i={}){switch(e){case"Point":return point(t).geometry;case"LineString":return lineString(t).geometry;case"Polygon":return polygon(t).geometry;case"MultiPoint":return multiPoint(t).geometry;case"MultiLineString":return multiLineString(t).geometry;case"MultiPolygon":return multiPolygon(t).geometry;default:throw new Error(e+" is invalid")}}function point(e,t,i={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(e[0])||!isNumber(e[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:e},t,i)}function points(e,t,i={}){return featureCollection(e.map((e=>point(e,t))),i)}function polygon(e,t,i={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:e},t,i)}function polygons(e,t,i={}){return featureCollection(e.map((e=>polygon(e,t))),i)}function lineString(e,t,i={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:e},t,i)}function lineStrings(e,t,i={}){return featureCollection(e.map((e=>lineString(e,t))),i)}function featureCollection(e,t={}){const i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=e,i}function multiLineString(e,t,i={}){return feature({type:"MultiLineString",coordinates:e},t,i)}function multiPoint(e,t,i={}){return feature({type:"MultiPoint",coordinates:e},t,i)}function multiPolygon(e,t,i={}){return feature({type:"MultiPolygon",coordinates:e},t,i)}function geometryCollection(e,t,i={}){return feature({type:"GeometryCollection",geometries:e},t,i)}function round(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const i=Math.pow(10,t||0);return Math.round(e*i)/i}function radiansToLength(e,t="kilometers"){const i=factors[t];if(!i)throw new Error(t+" units is invalid");return e*i}function lengthToRadians(e,t="kilometers"){const i=factors[t];if(!i)throw new Error(t+" units is invalid");return e/i}function lengthToDegrees(e,t){return radiansToDegrees(lengthToRadians(e,t))}function bearingToAzimuth(e){let t=e%360;return t<0&&(t+=360),t}function azimuthToBearing(e){return(e%=360)>180?e-360:e<-180?e+360:e}function radiansToDegrees(e){return 180*(e%(2*Math.PI))/Math.PI}function degreesToRadians(e){return e%360*Math.PI/180}function convertLength(e,t="kilometers",i="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(e,t),i)}function convertArea(e,t="meters",i="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=areaFactors[t];if(!n)throw new Error("invalid original units");const r=areaFactors[i];if(!r)throw new Error("invalid final units");return e/n*r}function isNumber(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function isObject$1(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function validateBBox(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!isNumber(e))throw new Error("bbox must only contain numbers")}))}function validateId(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}var index$5=Object.freeze({__proto__:null,areaFactors:areaFactors,azimuthToBearing:azimuthToBearing,bearingToAzimuth:bearingToAzimuth,convertArea:convertArea,convertLength:convertLength,degreesToRadians:degreesToRadians,earthRadius:earthRadius,factors:factors,feature:feature,featureCollection:featureCollection,geometry:geometry$1,geometryCollection:geometryCollection,isNumber:isNumber,isObject:isObject$1,lengthToDegrees:lengthToDegrees,lengthToRadians:lengthToRadians,lineString:lineString,lineStrings:lineStrings,multiLineString:multiLineString,multiPoint:multiPoint,multiPolygon:multiPolygon,point:point,points:points,polygon:polygon,polygons:polygons,radiansToDegrees:radiansToDegrees,radiansToLength:radiansToLength,round:round,validateBBox:validateBBox,validateId:validateId});function getCoord(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function getCoords(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function containsNumber(e){if(e.length>1&&isNumber(e[0])&&isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return containsNumber(e[0]);throw new Error("coordinates must only contain numbers")}function geojsonType(e,t,i){if(!t||!i)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+i+": must be a "+t+", given "+e.type)}function featureOf(e,t,i){if(!e)throw new Error("No feature passed");if(!i)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+i+": must be a "+t+", given "+e.geometry.type)}function collectionOf(e,t,i){if(!e)throw new Error("No featureCollection passed");if(!i)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+i+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+i+": must be a "+t+", given "+n.geometry.type)}}function getGeom(e){return"Feature"===e.type?e.geometry:e}function getType$1(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}var index$4=Object.freeze({__proto__:null,collectionOf:collectionOf,containsNumber:containsNumber,featureOf:featureOf,geojsonType:geojsonType,getCoord:getCoord,getCoords:getCoords,getGeom:getGeom,getType:getType$1});function bearing(e,t,i={}){if(!0===i.final)return calculateFinalBearing(e,t);const n=getCoord(e),r=getCoord(t),o=degreesToRadians(n[0]),a=degreesToRadians(r[0]),s=degreesToRadians(n[1]),l=degreesToRadians(r[1]),u=Math.sin(a-o)*Math.cos(l),c=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-o);return radiansToDegrees(Math.atan2(u,c))}function calculateFinalBearing(e,t){let i=bearing(t,e);return i=(i+180)%360,i}function destination(e,t,i,n={}){const r=getCoord(e),o=degreesToRadians(r[0]),a=degreesToRadians(r[1]),s=degreesToRadians(i),l=lengthToRadians(t,n.units),u=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(s));return point([radiansToDegrees(o+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(u))),radiansToDegrees(u)],n.properties)}function distance$1(e,t,i={}){var n=getCoord(e),r=getCoord(t),o=degreesToRadians(r[1]-n[1]),a=degreesToRadians(r[0]-n[0]),s=degreesToRadians(n[1]),l=degreesToRadians(r[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(l);return radiansToLength(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),i.units)}function along(e,t,i={}){const n=getGeom(e).coordinates;let r=0;for(let e=0;e<n.length&&!(t>=r&&e===n.length-1);e++){if(r>=t){const o=t-r;if(o){const t=bearing(n[e],n[e-1])-180;return destination(n[e],o,t,i)}return point(n[e])}r+=distance$1(n[e],n[e+1],i)}return point(n[n.length-1])}function rhumbBearing(e,t,i={}){let n;n=i.final?calculateRhumbBearing(getCoord(t),getCoord(e)):calculateRhumbBearing(getCoord(e),getCoord(t));return n>180?-(360-n):n}function calculateRhumbBearing(e,t){const i=degreesToRadians(e[1]),n=degreesToRadians(t[1]);let r=degreesToRadians(t[0]-e[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const o=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(i/2+Math.PI/4));return(radiansToDegrees(Math.atan2(r,o))+360)%360}function angle$1(e,t,i,n={}){if(!isObject$1(n))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!i)throw new Error("endPoint is required");const r=e,o=t,a=i,s=bearingToAzimuth(!0!==n.mercator?bearing(o,r):rhumbBearing(o,r));let l=bearingToAzimuth(!0!==n.mercator?bearing(o,a):rhumbBearing(o,a));l<s&&(l+=360);const u=l-s;return!0===n.explementary?360-u:u}function coordEach(e,t,i){if(null!==e)for(var n,r,o,a,s,l,u,c,h=0,g=0,d=e.type,p="FeatureCollection"===d,m="Feature"===d,f=p?e.features.length:1,C=0;C<f;C++){s=(c=!!(u=p?e.features[C].geometry:m?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<s;y++){var v=0,A=0;if(null!==(a=c?u.geometries[y]:u)){l=a.coordinates;var I=a.type;switch(h=!i||"Polygon"!==I&&"MultiPolygon"!==I?0:1,I){case null:break;case"Point":if(!1===t(l,g,C,v,A))return!1;g++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],g,C,v,A))return!1;g++,"MultiPoint"===I&&v++}"LineString"===I&&v++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(r=0;r<l[n].length-h;r++){if(!1===t(l[n][r],g,C,v,A))return!1;g++}"MultiLineString"===I&&v++,"Polygon"===I&&A++}"Polygon"===I&&v++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(A=0,r=0;r<l[n].length;r++){for(o=0;o<l[n][r].length-h;o++){if(!1===t(l[n][r][o],g,C,v,A))return!1;g++}A++}v++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===coordEach(a.geometries[n],t,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function coordReduce(e,t,i,n){var r=i;return coordEach(e,(function(e,n,o,a,s){r=0===n&&void 0===i?e:t(r,e,n,o,a,s)}),n),r}function propEach(e,t){var i;switch(e.type){case"FeatureCollection":for(i=0;i<e.features.length&&!1!==t(e.features[i].properties,i);i++);break;case"Feature":t(e.properties,0)}}function propReduce(e,t,i){var n=i;return propEach(e,(function(e,r){n=0===r&&void 0===i?e:t(n,e,r)})),n}function featureEach(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var i=0;i<e.features.length&&!1!==t(e.features[i],i);i++);}function featureReduce(e,t,i){var n=i;return featureEach(e,(function(e,r){n=0===r&&void 0===i?e:t(n,e,r)})),n}function coordAll(e){var t=[];return coordEach(e,(function(e){t.push(e)})),t}function geomEach(e,t){var i,n,r,o,a,s,l,u,c,h,g=0,d="FeatureCollection"===e.type,p="Feature"===e.type,m=d?e.features.length:1;for(i=0;i<m;i++){for(s=d?e.features[i].geometry:p?e.geometry:e,u=d?e.features[i].properties:p?e.properties:{},c=d?e.features[i].bbox:p?e.bbox:void 0,h=d?e.features[i].id:p?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=l?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,g,u,c,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===t(o.geometries[n],g,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,g,u,c,h))return!1;g++}}function geomReduce(e,t,i){var n=i;return geomEach(e,(function(e,r,o,a,s){n=0===r&&void 0===i?e:t(n,e,r,o,a,s)})),n}function flattenEach(e,t){geomEach(e,(function(e,i,n,r,o){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(feature(e,n,{bbox:r,id:o}),i,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l];if(!1===t(feature({type:a,coordinates:u},n),i,l))return!1}}))}function flattenReduce(e,t,i){var n=i;return flattenEach(e,(function(e,r,o){n=0===r&&0===o&&void 0===i?e:t(n,e,r,o)})),n}function segmentEach(e,t){flattenEach(e,(function(e,i,n){var r=0;if(e.geometry){var o=e.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,l=0,u=0;return!1!==coordEach(e,(function(o,c,h,g,d){if(void 0===a||i>s||g>l||d>u)return a=o,s=i,l=g,u=d,void(r=0);var p=lineString([a,o],e.properties);if(!1===t(p,i,n,d,r))return!1;r++,a=o}))&&void 0}}}))}function segmentReduce(e,t,i){var n=i,r=!1;return segmentEach(e,(function(e,o,a,s,l){n=!1===r&&void 0===i?e:t(n,e,o,a,s,l),r=!0})),n}function lineEach(e,t){if(!e)throw new Error("geojson is required");flattenEach(e,(function(e,i,n){if(null!==e.geometry){var r=e.geometry.type,o=e.geometry.coordinates;switch(r){case"LineString":if(!1===t(e,i,n,0,0))return!1;break;case"Polygon":for(var a=0;a<o.length;a++)if(!1===t(lineString(o[a],e.properties),i,n,a))return!1}}}))}function lineReduce(e,t,i){var n=i;return lineEach(e,(function(e,r,o,a){n=0===r&&void 0===i?e:t(n,e,r,o,a)})),n}function findSegment(e,t){if(!isObject$1(t=t||{}))throw new Error("options is invalid");var i,n=t.featureIndex||0,r=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,i=e.features[n].geometry;break;case"Feature":s=s||e.properties,i=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=e;break;default:throw new Error("geojson is invalid")}if(null===i)return null;var l=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),lineString([l[a],l[a+1]],s,t);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a-1),lineString([l[o][a],l[o][a+1]],s,t);case"MultiLineString":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a-1),lineString([l[r][a],l[r][a+1]],s,t);case"MultiPolygon":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o),a<0&&(a=l[r][o].length-a-1),lineString([l[r][o][a],l[r][o][a+1]],s,t)}throw new Error("geojson is invalid")}function findPoint(e,t){if(!isObject$1(t=t||{}))throw new Error("options is invalid");var i,n=t.featureIndex||0,r=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,i=e.features[n].geometry;break;case"Feature":s=s||e.properties,i=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=e;break;default:throw new Error("geojson is invalid")}if(null===i)return null;var l=i.coordinates;switch(i.type){case"Point":return point(l,s,t);case"MultiPoint":return r<0&&(r=l.length+r),point(l[r],s,t);case"LineString":return a<0&&(a=l.length+a),point(l[a],s,t);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),point(l[o][a],s,t);case"MultiLineString":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a),point(l[r][a],s,t);case"MultiPolygon":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o),a<0&&(a=l[r][o].length-a),point(l[r][o][a],s,t)}throw new Error("geojson is invalid")}var index$3=Object.freeze({__proto__:null,coordAll:coordAll,coordEach:coordEach,coordReduce:coordReduce,featureEach:featureEach,featureReduce:featureReduce,findPoint:findPoint,findSegment:findSegment,flattenEach:flattenEach,flattenReduce:flattenReduce,geomEach:geomEach,geomReduce:geomReduce,lineEach:lineEach,lineReduce:lineReduce,propEach:propEach,propReduce:propReduce,segmentEach:segmentEach,segmentReduce:segmentReduce});function area(e){return geomReduce(e,((e,t)=>e+calculateArea$1(t)),0)}function calculateArea$1(e){let t,i=0;switch(e.type){case"Polygon":return polygonArea(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)i+=polygonArea(e.coordinates[t]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function polygonArea(e){let t=0;if(e&&e.length>0){t+=Math.abs(ringArea(e[0]));for(let i=1;i<e.length;i++)t-=Math.abs(ringArea(e[i]))}return t}var FACTOR=earthRadius*earthRadius/2,PI_OVER_180=Math.PI/180;function ringArea(e){const t=e.length-1;if(t<=2)return 0;let i=0,n=0;for(;n<t;){const r=e[n],o=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=r[0]*PI_OVER_180,l=o[1]*PI_OVER_180;i+=(a[0]*PI_OVER_180-s)*Math.sin(l),n++}return i*FACTOR}function bbox$1(e,t={}){if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const i=[1/0,1/0,-1/0,-1/0];return coordEach(e,(e=>{i[0]>e[0]&&(i[0]=e[0]),i[1]>e[1]&&(i[1]=e[1]),i[2]<e[0]&&(i[2]=e[0]),i[3]<e[1]&&(i[3]=e[1])})),i}function lineclip(e,t,i){var n,r,o,a=e.length,s=bitCode(e[0],t),l=[];let u,c;for(i||(i=[]),n=1;n<a;n++){for(u=e[n-1],c=e[n],r=o=bitCode(c,t);;){if(!(s|r)){l.push(u),r!==o?(l.push(c),n<a-1&&(i.push(l),l=[])):n===a-1&&l.push(c);break}if(s&r)break;s?(u=intersect$2(u,c,s,t),s=bitCode(u,t)):(c=intersect$2(u,c,r,t),r=bitCode(c,t))}s=o}return l.length&&i.push(l),i}function polygonclip(e,t){var i,n,r,o,a,s,l;for(n=1;n<=8;n*=2){for(i=[],o=!(bitCode(r=e[e.length-1],t)&n),a=0;a<e.length;a++)(l=!(bitCode(s=e[a],t)&n))!==o&&i.push(intersect$2(r,s,n,t)),l&&i.push(s),r=s,o=l;if(!(e=i).length)break}return i}function intersect$2(e,t,i,n){return 8&i?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:4&i?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:2&i?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:1&i?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function bitCode(e,t){var i=0;return e[0]<t[0]?i|=1:e[0]>t[2]&&(i|=2),e[1]<t[1]?i|=4:e[1]>t[3]&&(i|=8),i}function bboxClip(e,t){const i=getGeom(e),n=i.type,r="Feature"===e.type?e.properties:{};let o=i.coordinates;switch(n){case"LineString":case"MultiLineString":{const e=[];return"LineString"===n&&(o=[o]),o.forEach((i=>{lineclip(i,t,e)})),1===e.length?lineString(e[0],r):multiLineString(e,r)}case"Polygon":return polygon(clipPolygon$1(o,t),r);case"MultiPolygon":return multiPolygon(o.map((e=>clipPolygon$1(e,t))),r);default:throw new Error("geometry "+n+" not supported")}}function clipPolygon$1(e,t){const i=[];for(const n of e){const e=polygonclip(n,t);e.length>0&&(e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push(e[0]),e.length>=4&&i.push(e))}return i}function bboxPolygon(e,t={}){const i=Number(e[0]),n=Number(e[1]),r=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const a=[i,n];return polygon([[a,[r,n],[r,o],[i,o],a]],t.properties,{bbox:e,id:t.id})}var Spline=class{constructor(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(let e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(let e=0;e<this.length-1;e++){const t=this.points[e],i=this.points[e+1];this.centers.push({x:(t.x+i.x)/2,y:(t.y+i.y)/2,z:(t.z+i.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(let e=0;e<this.centers.length-1;e++){const t=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,n=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+t),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+n)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+t),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+n)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}cacheSteps(e){const t=[];let i=this.pos(0);t.push(0);for(let n=0;n<this.duration;n+=10){const r=this.pos(n);Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)+(r.z-i.z)*(r.z-i.z))>e&&(t.push(n),i=r)}return t}vector(e){const t=this.pos(e+10),i=this.pos(e-10);return{angle:180*Math.atan2(t.y-i.y,t.x-i.x)/3.14,speed:Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)+(i.z-t.z)*(i.z-t.z))}}pos(e){let t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);const i=t/this.duration;if(i>=1)return this.points[this.length-1];const n=Math.floor((this.points.length-1)*i);return bezier((this.length-1)*i-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])}};function bezier(e,t,i,n,r){const o=B$1(e);return{x:r.x*o[0]+n.x*o[1]+i.x*o[2]+t.x*o[3],y:r.y*o[0]+n.y*o[1]+i.y*o[2]+t.y*o[3],z:r.z*o[0]+n.z*o[1]+i.z*o[2]+t.z*o[3]}}function B$1(e){const t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}function bezierSpline(e,t={}){const i=t.resolution||1e4,n=t.sharpness||.85,r=[],o=getGeom(e).coordinates.map((e=>({x:e[0],y:e[1]}))),a=new Spline({duration:i,points:o,sharpness:n}),s=e=>{var t=a.pos(e);Math.floor(e/100)%2==0&&r.push([t.x,t.y])};for(var l=0;l<a.duration;l+=10)s(l);return s(a.duration),lineString(r,t.properties)}function booleanClockwise(e){const t=getCoords(e);let i,n,r=0,o=1;for(;o<t.length;)i=n||t[0],n=t[o],r+=(n[0]-i[0])*(n[1]+i[1]),o++;return r>0}function booleanConcave(e){const t=getGeom(e).coordinates;if(t[0].length<=4)return!1;let i=!1;const n=t[0].length-1;for(let e=0;e<n;e++){const r=t[0][(e+2)%n][0]-t[0][(e+1)%n][0],o=t[0][(e+2)%n][1]-t[0][(e+1)%n][1],a=t[0][e][0]-t[0][(e+1)%n][0],s=r*(t[0][e][1]-t[0][(e+1)%n][1])-o*a;if(0===e)i=s>0;else if(i!==s>0)return!0}return!1}const epsilon$2=11102230246251565e-32,splitter=134217729,resulterrbound=(3+8*epsilon$2)*epsilon$2;function sum$1(e,t,i,n,r){let o,a,s,l,u=t[0],c=n[0],h=0,g=0;c>u==c>-u?(o=u,u=t[++h]):(o=c,c=n[++g]);let d=0;if(h<e&&g<i)for(c>u==c>-u?(a=u+o,s=o-(a-u),u=t[++h]):(a=c+o,s=o-(a-c),c=n[++g]),o=a,0!==s&&(r[d++]=s);h<e&&g<i;)c>u==c>-u?(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=t[++h]):(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=n[++g]),o=a,0!==s&&(r[d++]=s);for(;h<e;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=t[++h],o=a,0!==s&&(r[d++]=s);for(;g<i;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=n[++g],o=a,0!==s&&(r[d++]=s);return 0===o&&0!==d||(r[d++]=o),d}function estimate(e,t){let i=t[0];for(let n=1;n<e;n++)i+=t[n];return i}function vec(e){return new Float64Array(e)}const ccwerrboundA=(3+16*epsilon$2)*epsilon$2,ccwerrboundB=(2+12*epsilon$2)*epsilon$2,ccwerrboundC=(9+64*epsilon$2)*epsilon$2*epsilon$2,B=vec(4),C1=vec(8),C2=vec(12),D=vec(16),u=vec(4);function orient2dadapt(e,t,i,n,r,o,a){let s,l,c,h,g,d,p,m,f,C,y,v,A,I,w,b,E,x;const _=e-r,k=i-r,P=t-o,M=n-o;I=_*M,d=splitter*_,p=d-(d-_),m=_-p,d=splitter*M,f=d-(d-M),C=M-f,w=m*C-(I-p*f-m*f-p*C),b=P*k,d=splitter*P,p=d-(d-P),m=P-p,d=splitter*k,f=d-(d-k),C=k-f,E=m*C-(b-p*f-m*f-p*C),y=w-E,g=w-y,B[0]=w-(y+g)+(g-E),v=I+y,g=v-I,A=I-(v-g)+(y-g),y=A-b,g=A-y,B[1]=A-(y+g)+(g-b),x=v+y,g=x-v,B[2]=v-(x-g)+(y-g),B[3]=x;let S=estimate(4,B),T=ccwerrboundB*a;if(S>=T||-S>=T)return S;if(g=e-_,s=e-(_+g)+(g-r),g=i-k,c=i-(k+g)+(g-r),g=t-P,l=t-(P+g)+(g-o),g=n-M,h=n-(M+g)+(g-o),0===s&&0===l&&0===c&&0===h)return S;if(T=ccwerrboundC*a+resulterrbound*Math.abs(S),S+=_*h+M*s-(P*c+k*l),S>=T||-S>=T)return S;I=s*M,d=splitter*s,p=d-(d-s),m=s-p,d=splitter*M,f=d-(d-M),C=M-f,w=m*C-(I-p*f-m*f-p*C),b=l*k,d=splitter*l,p=d-(d-l),m=l-p,d=splitter*k,f=d-(d-k),C=k-f,E=m*C-(b-p*f-m*f-p*C),y=w-E,g=w-y,u[0]=w-(y+g)+(g-E),v=I+y,g=v-I,A=I-(v-g)+(y-g),y=A-b,g=A-y,u[1]=A-(y+g)+(g-b),x=v+y,g=x-v,u[2]=v-(x-g)+(y-g),u[3]=x;const R=sum$1(4,B,4,u,C1);I=_*h,d=splitter*_,p=d-(d-_),m=_-p,d=splitter*h,f=d-(d-h),C=h-f,w=m*C-(I-p*f-m*f-p*C),b=P*c,d=splitter*P,p=d-(d-P),m=P-p,d=splitter*c,f=d-(d-c),C=c-f,E=m*C-(b-p*f-m*f-p*C),y=w-E,g=w-y,u[0]=w-(y+g)+(g-E),v=I+y,g=v-I,A=I-(v-g)+(y-g),y=A-b,g=A-y,u[1]=A-(y+g)+(g-b),x=v+y,g=x-v,u[2]=v-(x-g)+(y-g),u[3]=x;const L=sum$1(R,C1,4,u,C2);I=s*h,d=splitter*s,p=d-(d-s),m=s-p,d=splitter*h,f=d-(d-h),C=h-f,w=m*C-(I-p*f-m*f-p*C),b=l*c,d=splitter*l,p=d-(d-l),m=l-p,d=splitter*c,f=d-(d-c),C=c-f,E=m*C-(b-p*f-m*f-p*C),y=w-E,g=w-y,u[0]=w-(y+g)+(g-E),v=I+y,g=v-I,A=I-(v-g)+(y-g),y=A-b,g=A-y,u[1]=A-(y+g)+(g-b),x=v+y,g=x-v,u[2]=v-(x-g)+(y-g),u[3]=x;const N=sum$1(L,C2,4,u,D);return D[N-1]}function orient2d(e,t,i,n,r,o){const a=(t-o)*(i-r),s=(e-r)*(n-o),l=a-s,u=Math.abs(a+s);return Math.abs(l)>=ccwerrboundA*u?l:-orient2dadapt(e,t,i,n,r,o,u)}function pointInPolygon$1(e,t){var i,n,r,o,a,s,l,u,c,h=0,g=e[0],d=e[1],p=t.length;for(i=0;i<p;i++){n=0;var m=t[i],f=m.length-1;if((u=m[0])[0]!==m[f][0]&&u[1]!==m[f][1])throw new Error("First and last coordinates in a ring must be the same");for(o=u[0]-g,a=u[1]-d;n<f;n++){if(s=(c=m[n+1])[0]-g,l=c[1]-d,0===a&&0===l){if(s<=0&&o>=0||o<=0&&s>=0)return 0}else if(l>=0&&a<=0||l<=0&&a>=0){if(0===(r=orient2d(o,s,a,l,0,0)))return 0;(r>0&&l>0&&a<=0||r<0&&l<=0&&a>0)&&h++}u=c,a=l,o=s}}return h%2!=0}function booleanPointInPolygon(e,t,i={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const n=getCoord(e),r=getGeom(t),o=r.type,a=t.bbox;let s=r.coordinates;if(a&&!1===inBBox$1(n,a))return!1;"Polygon"===o&&(s=[s]);let l=!1;for(var u=0;u<s.length;++u){const e=pointInPolygon$1(n,s[u]);if(0===e)return!i.ignoreBoundary;e&&(l=!0)}return l}function inBBox$1(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function booleanPointOnLine(e,t,i={}){const n=getCoord(e),r=getCoords(t);for(let e=0;e<r.length-1;e++){let t=!1;if(i.ignoreEndVertices&&(0===e&&(t="start"),e===r.length-2&&(t="end"),0===e&&e+1===r.length-1&&(t="both")),isPointOnLineSegment$3(r[e],r[e+1],n,t,void 0===i.epsilon?null:i.epsilon))return!0}return!1}function isPointOnLineSegment$3(e,t,i,n,r){const o=i[0],a=i[1],s=e[0],l=e[1],u=t[0],c=t[1],h=u-s,g=c-l,d=(i[0]-s)*g-(i[1]-l)*h;if(null!==r){if(Math.abs(d)>r)return!1}else if(0!==d)return!1;return Math.abs(h)===Math.abs(g)&&0===Math.abs(h)?!n&&(i[0]===e[0]&&i[1]===e[1]):n?"start"===n?Math.abs(h)>=Math.abs(g)?h>0?s<o&&o<=u:u<=o&&o<s:g>0?l<a&&a<=c:c<=a&&a<l:"end"===n?Math.abs(h)>=Math.abs(g)?h>0?s<=o&&o<u:u<o&&o<=s:g>0?l<=a&&a<c:c<a&&a<=l:"both"===n&&(Math.abs(h)>=Math.abs(g)?h>0?s<o&&o<u:u<o&&o<s:g>0?l<a&&a<c:c<a&&a<l):Math.abs(h)>=Math.abs(g)?h>0?s<=o&&o<=u:u<=o&&o<=s:g>0?l<=a&&a<=c:c<=a&&a<=l}function booleanContains(e,t){const i=getGeom(e),n=getGeom(t),r=i.type,o=n.type,a=i.coordinates,s=n.coordinates;switch(r){case"Point":if("Point"===o)return compareCoords$3(a,s);throw new Error("feature2 "+o+" geometry not supported");case"MultiPoint":switch(o){case"Point":return isPointInMultiPoint$1(i,n);case"MultiPoint":return isMultiPointInMultiPoint$1(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return booleanPointOnLine(n,i,{ignoreEndVertices:!0});case"LineString":return isLineOnLine$2(i,n);case"MultiPoint":return isMultiPointOnLine$1(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return booleanPointInPolygon(n,i,{ignoreBoundary:!0});case"LineString":return isLineInPoly$2(i,n);case"Polygon":return isPolyInPoly$2(i,n);case"MultiPoint":return isMultiPointInPoly$1(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPolygon":if("Polygon"===o)return isPolygonInMultiPolygon(i,n);throw new Error("feature2 "+o+" geometry not supported");default:throw new Error("feature1 "+r+" geometry not supported")}}function isPolygonInMultiPolygon(e,t){return e.coordinates.some((e=>isPolyInPoly$2({type:"Polygon",coordinates:e},t)))}function isPointInMultiPoint$1(e,t){let i,n=!1;for(i=0;i<e.coordinates.length;i++)if(compareCoords$3(e.coordinates[i],t.coordinates)){n=!0;break}return n}function isMultiPointInMultiPoint$1(e,t){for(const i of t.coordinates){let t=!1;for(const n of e.coordinates)if(compareCoords$3(i,n)){t=!0;break}if(!t)return!1}return!0}function isMultiPointOnLine$1(e,t){let i=!1;for(const n of t.coordinates)if(booleanPointOnLine(n,e,{ignoreEndVertices:!0})&&(i=!0),!booleanPointOnLine(n,e))return!1;return!!i}function isMultiPointInPoly$1(e,t){for(const i of t.coordinates)if(!booleanPointInPolygon(i,e,{ignoreBoundary:!0}))return!1;return!0}function isLineOnLine$2(e,t){let i=!1;for(const n of t.coordinates)if(booleanPointOnLine({type:"Point",coordinates:n},e,{ignoreEndVertices:!0})&&(i=!0),!booleanPointOnLine({type:"Point",coordinates:n},e,{ignoreEndVertices:!1}))return!1;return i}function isLineInPoly$2(e,t){let i=!1,n=0;if(!doBBoxOverlap$1(bbox$1(e),bbox$1(t)))return!1;for(;n<t.coordinates.length-1;n++){if(booleanPointInPolygon({type:"Point",coordinates:getMidpoint$1(t.coordinates[n],t.coordinates[n+1])},e,{ignoreBoundary:!0})){i=!0;break}}return i}function isPolyInPoly$2(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!doBBoxOverlap$1(bbox$1(e),bbox$1(t)))return!1;const i=getGeom(t).coordinates;for(const t of i)for(const i of t)if(!booleanPointInPolygon(i,e))return!1;return!0}function doBBoxOverlap$1(e,t){return!(e[0]>t[0])&&(!(e[2]<t[2])&&(!(e[1]>t[1])&&!(e[3]<t[3])))}function compareCoords$3(e,t){return e[0]===t[0]&&e[1]===t[1]}function getMidpoint$1(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}class TinyQueue$1{constructor(e=[],t=defaultCompare$2){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,n=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(i(n,o)>=0)break;t[e]=o,e=r}t[e]=n}_down(e){const{data:t,compare:i}=this,n=this.length>>1,r=t[e];for(;e<n;){let n=1+(e<<1),o=t[n];const a=n+1;if(a<this.length&&i(t[a],o)<0&&(n=a,o=t[a]),i(o,r)>=0)break;t[e]=o,e=n}t[e]=r}}function defaultCompare$2(e,t){return e<t?-1:e>t?1:0}function checkWhichEventIsLeft(e,t){return e.p.x>t.p.x?1:e.p.x<t.p.x?-1:e.p.y!==t.p.y?e.p.y>t.p.y?1:-1:1}function checkWhichSegmentHasRightEndpointFirst(e,t){return e.rightSweepEvent.p.x>t.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<t.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==t.rightSweepEvent.p.y?e.rightSweepEvent.p.y<t.rightSweepEvent.p.y?1:-1:1}class Event$1{constructor(e,t,i,n){this.p={x:e[0],y:e[1]},this.featureId=t,this.ringId=i,this.eventId=n,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}function fillEventQueue(e,t){if("FeatureCollection"===e.type){const i=e.features;for(let e=0;e<i.length;e++)processFeature(i[e],t)}else processFeature(e,t)}let featureId=0,ringId=0,eventId=0;function processFeature(e,t){const i="Feature"===e.type?e.geometry:e;let n=i.coordinates;"Polygon"!==i.type&&"MultiLineString"!==i.type||(n=[n]),"LineString"===i.type&&(n=[[n]]);for(let e=0;e<n.length;e++)for(let i=0;i<n[e].length;i++){let r=n[e][i][0],o=null;ringId+=1;for(let a=0;a<n[e][i].length-1;a++){o=n[e][i][a+1];const s=new Event$1(r,featureId,ringId,eventId),l=new Event$1(o,featureId,ringId,eventId+1);s.otherEvent=l,l.otherEvent=s,checkWhichEventIsLeft(s,l)>0?(l.isLeftEndpoint=!0,s.isLeftEndpoint=!1):(s.isLeftEndpoint=!0,l.isLeftEndpoint=!1),t.push(s),t.push(l),r=o,eventId+=1}}featureId+=1}class Segment$1{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function testSegmentIntersect(e,t){if(null===e||null===t)return!1;if(e.leftSweepEvent.ringId===t.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.rightSweepEvent)||e.leftSweepEvent.isSamePoint(t.leftSweepEvent)||e.leftSweepEvent.isSamePoint(t.rightSweepEvent)))return!1;const i=e.leftSweepEvent.p.x,n=e.leftSweepEvent.p.y,r=e.rightSweepEvent.p.x,o=e.rightSweepEvent.p.y,a=t.leftSweepEvent.p.x,s=t.leftSweepEvent.p.y,l=t.rightSweepEvent.p.x,u=t.rightSweepEvent.p.y,c=(u-s)*(r-i)-(l-a)*(o-n),h=(l-a)*(n-s)-(u-s)*(i-a),g=(r-i)*(n-s)-(o-n)*(i-a);if(0===c)return!1;const d=h/c,p=g/c;if(d>=0&&d<=1&&p>=0&&p<=1){return[i+d*(r-i),n+d*(o-n)]}return!1}function runCheck(e,t){t=t||!1;const i=[],n=new TinyQueue$1([],checkWhichSegmentHasRightEndpointFirst);for(;e.length;){const r=e.pop();if(r.isLeftEndpoint){const e=new Segment$1(r);for(let o=0;o<n.data.length;o++){const a=n.data[o];if(t&&a.leftSweepEvent.featureId===r.featureId)continue;const s=testSegmentIntersect(e,a);!1!==s&&i.push(s)}n.push(e)}else!1===r.isLeftEndpoint&&n.pop()}return i}function sweeplineIntersections$1(e,t){const i=new TinyQueue$1([],checkWhichEventIsLeft);return fillEventQueue(e,i),runCheck(i,t)}var sweeplineIntersections=sweeplineIntersections$1;function lineIntersect(e,t,i={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:r=!0}=i;let o=[];"FeatureCollection"===e.type?o=o.concat(e.features):"Feature"===e.type?o.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||o.push(feature(e)),"FeatureCollection"===t.type?o=o.concat(t.features):"Feature"===t.type?o.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||o.push(feature(t));const a=sweeplineIntersections(featureCollection(o),r);let s=[];if(n){const e={};a.forEach((t=>{const i=t.join(",");e[i]||(e[i]=!0,s.push(t))}))}else s=a;return featureCollection(s.map((e=>point(e))))}function polygonToLine(e,t={}){const i=getGeom(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),i.type){case"Polygon":return singlePolygonToLine(i,t);case"MultiPolygon":return multiPolygonToLine(i,t);default:throw new Error("invalid poly")}}function singlePolygonToLine(e,t={}){return coordsToLine(getGeom(e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function multiPolygonToLine(e,t={}){const i=getGeom(e).coordinates,n=t.properties?t.properties:"Feature"===e.type?e.properties:{},r=[];return i.forEach((e=>{r.push(coordsToLine(e,n))})),featureCollection(r)}function coordsToLine(e,t){return e.length>1?multiLineString(e,t):lineString(e[0],t)}function booleanCrosses(e,t){var i=getGeom(e),n=getGeom(t),r=i.type,o=n.type;switch(r){case"MultiPoint":switch(o){case"LineString":return doMultiPointAndLineStringCross(i,n);case"Polygon":return doesMultiPointCrossPoly(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return doMultiPointAndLineStringCross(n,i);case"LineString":return doLineStringsCross(i,n);case"Polygon":return doLineStringAndPolygonCross(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return doesMultiPointCrossPoly(n,i);case"LineString":return doLineStringAndPolygonCross(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function doMultiPointAndLineStringCross(e,t){for(var i=!1,n=!1,r=e.coordinates.length,o=0;o<r&&!i&&!n;){for(var a=0;a<t.coordinates.length-1;a++){var s=!0;0!==a&&a!==t.coordinates.length-2||(s=!1),isPointOnLineSegment$2(t.coordinates[a],t.coordinates[a+1],e.coordinates[o],s)?i=!0:n=!0}o++}return i&&n}function doLineStringsCross(e,t){if(lineIntersect(e,t).features.length>0)for(var i=0;i<e.coordinates.length-1;i++)for(var n=0;n<t.coordinates.length-1;n++){var r=!0;if(0!==n&&n!==t.coordinates.length-2||(r=!1),isPointOnLineSegment$2(e.coordinates[i],e.coordinates[i+1],t.coordinates[n],r))return!0}return!1}function doLineStringAndPolygonCross(e,t){return lineIntersect(e,polygonToLine(t)).features.length>0}function doesMultiPointCrossPoly(e,t){var i=!1,n=!1,r=e.coordinates.length;for(let o=0;o<r&&(!i||!n);o++)booleanPointInPolygon(point(e.coordinates[o]),t)?i=!0:n=!0;return n&&i}function isPointOnLineSegment$2(e,t,i,n){var r=i[0]-e[0],o=i[1]-e[1],a=t[0]-e[0],s=t[1]-e[1];return 0===r*s-o*a&&(n?Math.abs(a)>=Math.abs(s)?a>0?e[0]<=i[0]&&i[0]<=t[0]:t[0]<=i[0]&&i[0]<=e[0]:s>0?e[1]<=i[1]&&i[1]<=t[1]:t[1]<=i[1]&&i[1]<=e[1]:Math.abs(a)>=Math.abs(s)?a>0?e[0]<i[0]&&i[0]<t[0]:t[0]<i[0]&&i[0]<e[0]:s>0?e[1]<i[1]&&i[1]<t[1]:t[1]<i[1]&&i[1]<e[1])}function booleanDisjoint(e,t,{ignoreSelfIntersections:i=!0}={ignoreSelfIntersections:!0}){let n=!0;return flattenEach(e,(e=>{flattenEach(t,(t=>{if(!1===n)return!1;n=disjoint(e.geometry,t.geometry,i)}))})),n}function disjoint(e,t,i){switch(e.type){case"Point":switch(t.type){case"Point":return!compareCoords$2(e.coordinates,t.coordinates);case"LineString":return!isPointOnLine(t,e);case"Polygon":return!booleanPointInPolygon(e,t)}break;case"LineString":switch(t.type){case"Point":return!isPointOnLine(e,t);case"LineString":return!isLineOnLine$1(e,t,i);case"Polygon":return!isLineInPoly$1(t,e,i)}break;case"Polygon":switch(t.type){case"Point":return!booleanPointInPolygon(t,e);case"LineString":return!isLineInPoly$1(e,t,i);case"Polygon":return!isPolyInPoly$1(t,e,i)}}return!1}function isPointOnLine(e,t){for(let i=0;i<e.coordinates.length-1;i++)if(isPointOnLineSegment$1(e.coordinates[i],e.coordinates[i+1],t.coordinates))return!0;return!1}function isLineOnLine$1(e,t,i){return lineIntersect(e,t,{ignoreSelfIntersections:i}).features.length>0}function isLineInPoly$1(e,t,i){for(const i of t.coordinates)if(booleanPointInPolygon(i,e))return!0;return lineIntersect(t,polygonToLine(e),{ignoreSelfIntersections:i}).features.length>0}function isPolyInPoly$1(e,t,i){for(const i of e.coordinates[0])if(booleanPointInPolygon(i,t))return!0;for(const i of t.coordinates[0])if(booleanPointInPolygon(i,e))return!0;return lineIntersect(polygonToLine(e),polygonToLine(t),{ignoreSelfIntersections:i}).features.length>0}function isPointOnLineSegment$1(e,t,i){const n=i[0]-e[0],r=i[1]-e[1],o=t[0]-e[0],a=t[1]-e[1];return 0===n*a-r*o&&(Math.abs(o)>=Math.abs(a)?o>0?e[0]<=i[0]&&i[0]<=t[0]:t[0]<=i[0]&&i[0]<=e[0]:a>0?e[1]<=i[1]&&i[1]<=t[1]:t[1]<=i[1]&&i[1]<=e[1])}function compareCoords$2(e,t){return e[0]===t[0]&&e[1]===t[1]}var __defProp$5=Object.defineProperty,__name=(e,t)=>__defProp$5(e,"name",{value:t,configurable:!0}),_GeojsonEquality=class{constructor(e){var t,i,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(i=null==e?void 0:e.direction)&&i,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!sameLength(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const i=explode$1(e),n=explode$1(t);return i.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,i)=>Math.abs(e-t[i])<this.precision))}compareLine(e,t,i=0,n=!1){if(!sameLength(e,t))return!1;const r=e;let o=t;if(n&&!this.compareCoord(r[0],o[0])){const e=this.fixStartIndex(o,r);if(!e)return!1;o=e}const a=this.compareCoord(r[i],o[i]);return this.direction||a?this.comparePath(r,o):!!this.compareCoord(r[i],o[o.length-(1+i)])&&this.comparePath(r.slice().reverse(),o)}fixStartIndex(e,t){let i,n=-1;for(let i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){n=i;break}return n>=0&&(i=[].concat(e.slice(n,e.length),e.slice(1,n+1))),i}comparePath(e,t){return e.every(((e,i)=>this.compareCoord(e,t[i])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const i=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return i.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return sameLength(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,i)=>this.compare(e,t.geometries[i])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||equal$1(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return sameLength(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,i)=>this.compare(e,t.features[i])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};__name(_GeojsonEquality,"GeojsonEquality");var GeojsonEquality=_GeojsonEquality;function sameLength(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function explode$1(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}function geojsonEquality(e,t,i){return new GeojsonEquality(i).compare(e,t)}function equal$1(e,t){if(null===e&&null===t)return!0;if(null===e||null===t)return!1;const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r of i){const i=e[r],n=t[r],o=isObject(i)&&isObject(n);if(o&&!equal$1(i,n)||!o&&i!==n)return!1}return!0}__name(sameLength,"sameLength"),__name(explode$1,"explode"),__name(geojsonEquality,"geojsonEquality"),__name(equal$1,"equal");var isObject=__name((e=>null!=e&&"object"==typeof e),"isObject");function cleanCoords(e,t={}){var i="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var n=getType$1(e),r=[];switch(n){case"LineString":r=cleanLine(e,n);break;case"MultiLineString":case"Polygon":getCoords(e).forEach((function(e){r.push(cleanLine(e,n))}));break;case"MultiPolygon":getCoords(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(cleanLine(e,n))})),r.push(t)}));break;case"Point":return e;case"MultiPoint":var o={};getCoords(e).forEach((function(e){var t=e.join("-");Object.prototype.hasOwnProperty.call(o,t)||(r.push(e),o[t]=!0)}));break;default:throw new Error(n+" geometry not supported")}return e.coordinates?!0===i?(e.coordinates=r,e):{type:n,coordinates:r}:!0===i?(e.geometry.coordinates=r,e):feature({type:n,coordinates:r},e.properties,{bbox:e.bbox,id:e.id})}function cleanLine(e,t){var i=getCoords(e);if(2===i.length&&!equals(i[0],i[1]))return i;var n=[],r=i.length-1,o=n.length;n.push(i[0]);for(var a=1;a<r;a++){var s=n[n.length-1];i[a][0]===s[0]&&i[a][1]===s[1]||(n.push(i[a]),(o=n.length)>2&&isPointOnLineSegment(n[o-3],n[o-1],n[o-2])&&n.splice(n.length-2,1))}if(n.push(i[i.length-1]),o=n.length,("Polygon"===t||"MultiPolygon"===t)&&equals(i[0],i[i.length-1])&&o<4)throw new Error("invalid polygon");return"LineString"===t&&o<3||isPointOnLineSegment(n[o-3],n[o-1],n[o-2])&&n.splice(n.length-2,1),n}function equals(e,t){return e[0]===t[0]&&e[1]===t[1]}function isPointOnLineSegment(e,t,i){var n=i[0],r=i[1],o=e[0],a=e[1],s=t[0],l=t[1],u=s-o,c=l-a;return 0===(n-o)*c-(r-a)*u&&(Math.abs(u)>=Math.abs(c)?u>0?o<=n&&n<=s:s<=n&&n<=o:c>0?a<=r&&r<=l:l<=r&&r<=a)}function booleanEqual(e,t,i={}){let n=i.precision;if(n=null==n||isNaN(n)?6:n,"number"!=typeof n||!(n>=0))throw new Error("precision must be a positive number");return getGeom(e).type===getGeom(t).type&&geojsonEquality(cleanCoords(e),cleanCoords(t),{precision:n})}function booleanIntersects(e,t,{ignoreSelfIntersections:i=!0}={}){let n=!1;return flattenEach(e,(e=>{flattenEach(t,(t=>{if(!0===n)return!0;n=!booleanDisjoint(e.geometry,t.geometry,{ignoreSelfIntersections:i})}))})),n}function quickselect(e,t,i,n,r){quickselectStep(e,t,i||0,n||e.length-1,r||defaultCompare$1)}function quickselectStep(e,t,i,n,r){for(;n>i;){if(n-i>600){var o=n-i+1,a=t-i+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);quickselectStep(e,t,Math.max(i,Math.floor(t-a*l/o+u)),Math.min(n,Math.floor(t+(o-a)*l/o+u)),r)}var c=e[t],h=i,g=n;for(swap(e,i,t),r(e[n],c)>0&&swap(e,i,n);h<g;){for(swap(e,h,g),h++,g--;r(e[h],c)<0;)h++;for(;r(e[g],c)>0;)g--}0===r(e[i],c)?swap(e,i,g):swap(e,++g,n),g<=t&&(i=g+1),t<=g&&(n=g-1)}}function swap(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function defaultCompare$1(e,t){return e<t?-1:e>t?1:0}class RBush{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!intersects(e,t))return i;const n=this.toBBox,r=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],s=t.leaf?n(a):a;intersects(e,s)&&(t.leaf?i.push(a):contains(e,s)?this._all(a,i):r.push(a))}t=r.pop()}return i}collides(e){let t=this.data;if(!intersects(e,t))return!1;const i=[];for(;t;){for(let n=0;n<t.children.length;n++){const r=t.children[n],o=t.leaf?this.toBBox(r):r;if(intersects(e,o)){if(t.leaf||contains(e,o))return!0;i.push(r)}}t=i.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=createNode([]),this}remove(e,t){if(!e)return this;let i=this.data;const n=this.toBBox(e),r=[],o=[];let a,s,l;for(;i||r.length;){if(i||(i=r.pop(),s=r[r.length-1],a=o.pop(),l=!0),i.leaf){const n=findItem(e,i.children,t);if(-1!==n)return i.children.splice(n,1),r.push(i),this._condense(r),this}l||i.leaf||!contains(i,n)?s?(a++,i=s.children[a],l=!1):i=null:(r.push(i),o.push(a),a=0,s=i,i=i.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,n){const r=i-t+1;let o,a=this._maxEntries;if(r<=a)return o=createNode(e.slice(t,i+1)),calcBBox(o,this.toBBox),o;n||(n=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,n-1))),o=createNode([]),o.leaf=!1,o.height=n;const s=Math.ceil(r/a),l=s*Math.ceil(Math.sqrt(a));multiSelect(e,t,i,l,this.compareMinX);for(let r=t;r<=i;r+=l){const t=Math.min(r+l-1,i);multiSelect(e,r,t,s,this.compareMinY);for(let i=r;i<=t;i+=s){const r=Math.min(i+s-1,t);o.children.push(this._build(e,i,r,n-1))}}return calcBBox(o,this.toBBox),o}_chooseSubtree(e,t,i,n){for(;n.push(t),!t.leaf&&n.length-1!==i;){let i,n=1/0,r=1/0;for(let o=0;o<t.children.length;o++){const a=t.children[o],s=bboxArea(a),l=enlargedArea(e,a)-s;l<r?(r=l,n=s<n?s:n,i=a):l===r&&s<n&&(n=s,i=a)}t=i||t.children[0]}return t}_insert(e,t,i){const n=i?e:this.toBBox(e),r=[],o=this._chooseSubtree(n,this.data,t,r);for(o.children.push(e),extend(o,n);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(n,r,t)}_split(e,t){const i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);const o=this._chooseSplitIndex(i,r,n),a=createNode(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,calcBBox(i,this.toBBox),calcBBox(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=createNode([e,t]),this.data.height=e.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let n,r=1/0,o=1/0;for(let a=t;a<=i-t;a++){const t=distBBox(e,0,a,this.toBBox),s=distBBox(e,a,i,this.toBBox),l=intersectionArea(t,s),u=bboxArea(t)+bboxArea(s);l<r?(r=l,n=a,o=u<o?u:o):l===r&&u<o&&(o=u,n=a)}return n||i-t}_chooseSplitAxis(e,t,i){const n=e.leaf?this.compareMinX:compareNodeMinX,r=e.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)}_allDistMargin(e,t,i,n){e.children.sort(n);const r=this.toBBox,o=distBBox(e,0,t,r),a=distBBox(e,i-t,i,r);let s=bboxMargin(o)+bboxMargin(a);for(let n=t;n<i-t;n++){const t=e.children[n];extend(o,e.leaf?r(t):t),s+=bboxMargin(o)}for(let n=i-t-1;n>=t;n--){const t=e.children[n];extend(a,e.leaf?r(t):t),s+=bboxMargin(a)}return s}_adjustParentBBoxes(e,t,i){for(let n=i;n>=0;n--)extend(t[n],e)}_condense(e){for(let t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children,t.splice(t.indexOf(e[i]),1)):this.clear():calcBBox(e[i],this.toBBox)}}function findItem(e,t,i){if(!i)return t.indexOf(e);for(let n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function calcBBox(e,t){distBBox(e,0,e.children.length,t,e)}function distBBox(e,t,i,n,r){r||(r=createNode(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<i;o++){const t=e.children[o];extend(r,e.leaf?n(t):t)}return r}function extend(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function compareNodeMinX(e,t){return e.minX-t.minX}function compareNodeMinY(e,t){return e.minY-t.minY}function bboxArea(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function bboxMargin(e){return e.maxX-e.minX+(e.maxY-e.minY)}function enlargedArea(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function intersectionArea(e,t){const i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,o-n)}function contains(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function intersects(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function createNode(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(e,t,i,n,r){const o=[t,i];for(;o.length;){if((i=o.pop())-(t=o.pop())<=n)continue;const a=t+Math.ceil((i-t)/n/2)*n;quickselect(e,a,t,i,r),o.push(t,a,a,i)}}var rbush$2=Object.freeze({__proto__:null,default:RBush});function geojsonRbush(e){var t=new RBush(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:bbox$1(e),RBush.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:bbox$1(e),t.push(e)})):featureEach(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:bbox$1(e),t.push(e)})),RBush.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:bbox$1(e),RBush.prototype.remove.call(this,e,t)},t.clear=function(){return RBush.prototype.clear.call(this)},t.search=function(e){return featureCollection(RBush.prototype.search.call(this,this.toBBox(e)))},t.collides=function(e){return RBush.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return featureCollection(RBush.prototype.all.call(this))},t.toJSON=function(){return RBush.prototype.toJSON.call(this)},t.fromJSON=function(e){return RBush.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=bbox$1(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=bbox$1(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}function lineSegment(e){if(!e)throw new Error("geojson is required");const t=[];return flattenEach(e,(e=>{lineSegmentFeature(e,t)})),featureCollection(t)}function lineSegmentFeature(e,t){let i=[];const n=e.geometry;if(null!==n){switch(n.type){case"Polygon":i=getCoords(n);break;case"LineString":i=[getCoords(n)]}i.forEach((i=>{createSegments(i,e.properties).forEach((e=>{e.id=t.length,t.push(e)}))}))}}function createSegments(e,t){const i=[];return e.reduce(((e,n)=>{const r=lineString([e,n],t);return r.bbox=bbox(e,n),i.push(r),n})),i}function bbox(e,t){const i=e[0],n=e[1],r=t[0],o=t[1];return[i<r?i:r,n<o?n:o,i>r?i:r,n>o?n:o]}var __defProp$4=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$4=Object.getOwnPropertySymbols,__hasOwnProp$4=Object.prototype.hasOwnProperty,__propIsEnum$4=Object.prototype.propertyIsEnumerable,__defNormalProp$4=(e,t,i)=>t in e?__defProp$4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues$4=(e,t)=>{for(var i in t||(t={}))__hasOwnProp$4.call(t,i)&&__defNormalProp$4(e,i,t[i]);if(__getOwnPropSymbols$4)for(var i of __getOwnPropSymbols$4(t))__propIsEnum$4.call(t,i)&&__defNormalProp$4(e,i,t[i]);return e},__spreadProps$1=(e,t)=>__defProps$1(e,__getOwnPropDescs$1(t)),fastDeepEqual,hasRequiredFastDeepEqual;function nearestPointOnLine(e,t,i={}){if(!e||!t)throw new Error("lines and pt are required arguments");const n=getCoord(t);let r=point([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),o=0;return flattenEach(e,(function(e,a,s){const l=getCoords(e);for(let e=0;e<l.length-1;e++){const a=point(l[e]);a.properties.dist=distance$1(t,a,i);const u=getCoord(a),c=point(l[e+1]);c.properties.dist=distance$1(t,c,i);const h=getCoord(c),g=distance$1(a,c,i);let d,p,m;u[0]===n[0]&&u[1]===n[1]?[d,,p]=[u,void 0,!1]:h[0]===n[0]&&h[1]===n[1]?[d,,p]=[h,void 0,!0]:[d,,p]=nearestPointOnSegment(a.geometry.coordinates,c.geometry.coordinates,getCoord(t)),d&&(m=point(d,{dist:distance$1(t,d,i),multiFeatureIndex:s,location:o+distance$1(a,d,i)})),m&&m.properties.dist<r.properties.dist&&(r=__spreadProps$1(__spreadValues$4({},m),{properties:__spreadProps$1(__spreadValues$4({},m.properties),{index:p?e+1:e})})),o+=g}})),r}function dot$1(e,t){const[i,n,r]=e,[o,a,s]=t;return i*o+n*a+r*s}function cross(e,t){const[i,n,r]=e,[o,a,s]=t;return[n*s-r*a,r*o-i*s,i*a-n*o]}function magnitude(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function angle(e,t){const i=dot$1(e,t)/(magnitude(e)*magnitude(t));return Math.acos(Math.min(Math.max(i,-1),1))}function lngLatToVector(e){const t=degreesToRadians(e[1]),i=degreesToRadians(e[0]);return[Math.cos(t)*Math.cos(i),Math.cos(t)*Math.sin(i),Math.sin(t)]}function vectorToLngLat(e){const[t,i,n]=e,r=radiansToDegrees(Math.asin(n));return[radiansToDegrees(Math.atan2(i,t)),r]}function nearestPointOnSegment(e,t,i){const n=lngLatToVector(e),r=lngLatToVector(t),o=lngLatToVector(i),[a,s,l]=o,[u,c,h]=cross(n,r),g=c*l-h*s,d=h*a-u*l,p=u*s-c*a,m=p*c-d*h,f=g*h-p*u,C=d*u-g*c,y=1/Math.sqrt(Math.pow(m,2)+Math.pow(f,2)+Math.pow(C,2)),v=[m*y,f*y,C*y],A=[-1*m*y,-1*f*y,-1*C*y],I=angle(n,r),w=angle(n,v),b=angle(r,v),E=angle(n,A),x=angle(r,A);let _;return _=w<E&&w<x||b<E&&b<x?v:A,angle(n,_)>I||angle(r,_)>I?distance$1(vectorToLngLat(_),vectorToLngLat(n))<=distance$1(vectorToLngLat(_),vectorToLngLat(r))?[vectorToLngLat(n),!0,!1]:[vectorToLngLat(r),!1,!0]:[vectorToLngLat(_),!1,!1]}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var i=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),i}function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var n,r,o;if(Array.isArray(t)){if((n=t.length)!=i.length)return!1;for(r=n;0!==r--;)if(!e(t[r],i[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(i,o[r]))return!1;for(r=n;0!==r--;){var a=o[r];if(!e(t[a],i[a]))return!1}return!0}return t!=t&&i!=i}),fastDeepEqual}var fastDeepEqualExports=requireFastDeepEqual(),equal=getDefaultExportFromCjs(fastDeepEqualExports);function lineOverlap(e,t,i={}){if(!isObject$1(i=i||{}))throw new Error("options is invalid");var n=i.tolerance||0,r=[],o=geojsonRbush();const a=lineSegment(e);var s;o.load(a);let l=[];return segmentEach(t,(function(e){var t=!1;e&&(featureEach(o.search(e),(function(i){if(!1===t){var r=getCoords(e).sort(),o=getCoords(i).sort();if(equal(r,o))t=!0,s=s?concatSegment(s,e)||s:e;else if(0===n?booleanPointOnLine(r[0],i)&&booleanPointOnLine(r[1],i):nearestPointOnLine(i,r[0]).properties.dist<=n&&nearestPointOnLine(i,r[1]).properties.dist<=n)t=!0,s=s?concatSegment(s,e)||s:e;else if(0===n?booleanPointOnLine(o[0],e)&&booleanPointOnLine(o[1],e):nearestPointOnLine(e,o[0]).properties.dist<=n&&nearestPointOnLine(e,o[1]).properties.dist<=n)if(s){const e=concatSegment(s,i);e?s=e:l.push(i)}else s=i}})),!1===t&&s&&(r.push(s),l.length&&(r=r.concat(l),l=[]),s=void 0))})),s&&r.push(s),featureCollection(r)}function concatSegment(e,t){var i=getCoords(t),n=getCoords(e),r=n[0],o=n[n.length-1],a=e.geometry.coordinates;if(equal(i[0],r))a.unshift(i[1]);else if(equal(i[0],o))a.push(i[1]);else if(equal(i[1],r))a.unshift(i[0]);else{if(!equal(i[1],o))return;a.push(i[0])}return e}function booleanOverlap(e,t){const i=getGeom(e),n=getGeom(t),r=i.type,o=n.type;if("MultiPoint"===r&&"MultiPoint"!==o||("LineString"===r||"MultiLineString"===r)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===r||"MultiPolygon"===r)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===r)throw new Error("Point geometry not supported");if(geojsonEquality(e,t,{precision:6}))return!1;let a=0;switch(r){case"MultiPoint":for(var s=0;s<i.coordinates.length;s++)for(var l=0;l<n.coordinates.length;l++){var u=i.coordinates[s],c=n.coordinates[l];if(u[0]===c[0]&&u[1]===c[1])return!0}return!1;case"LineString":case"MultiLineString":segmentEach(e,(e=>{segmentEach(t,(t=>{lineOverlap(e,t).features.length&&a++}))}));break;case"Polygon":case"MultiPolygon":segmentEach(e,(e=>{segmentEach(t,(t=>{lineIntersect(e,t).features.length&&a++}))}))}return a>0}function booleanParallel(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==getType(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==getType(t,"line2"))throw new Error("line2 must be a LineString");for(var i=lineSegment(cleanCoords(e)).features,n=lineSegment(cleanCoords(t)).features,r=0;r<i.length;r++){var o=i[r].geometry.coordinates;if(!n[r])break;if(!isParallel$1(o,n[r].geometry.coordinates))return!1}return!0}function isParallel$1(e,t){var i=bearingToAzimuth(rhumbBearing(e[0],e[1])),n=bearingToAzimuth(rhumbBearing(t[0],t[1]));return i===n||(n-i)%180==0}function getType(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}function booleanTouches(e,t){var i=getGeom(e),n=getGeom(t),r=i.type,o=n.type;switch(r){case"Point":switch(o){case"LineString":return isPointOnLineEnd(i,n);case"MultiLineString":for(var a=!1,s=0;s<n.coordinates.length;s++)isPointOnLineEnd(i,{type:"LineString",coordinates:n.coordinates[s]})&&(a=!0);return a;case"Polygon":for(var l=0;l<n.coordinates.length;l++)if(booleanPointOnLine(i,{type:"LineString",coordinates:n.coordinates[l]}))return!0;return!1;case"MultiPolygon":for(l=0;l<n.coordinates.length;l++)for(s=0;s<n.coordinates[l].length;s++)if(booleanPointOnLine(i,{type:"LineString",coordinates:n.coordinates[l][s]}))return!0;return!1;default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"LineString":for(a=!1,l=0;l<i.coordinates.length;l++)if(a||isPointOnLineEnd({type:"Point",coordinates:i.coordinates[l]},n)&&(a=!0),booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},n,{ignoreEndVertices:!0}))return!1;return a;case"MultiLineString":for(a=!1,l=0;l<i.coordinates.length;l++)for(s=0;s<n.coordinates.length;s++)if(a||isPointOnLineEnd({type:"Point",coordinates:i.coordinates[l]},{type:"LineString",coordinates:n.coordinates[s]})&&(a=!0),booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},{type:"LineString",coordinates:n.coordinates[s]},{ignoreEndVertices:!0}))return!1;return a;case"Polygon":for(a=!1,l=0;l<i.coordinates.length;l++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},{type:"LineString",coordinates:n.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[l]},n,{ignoreBoundary:!0}))return!1;return a;case"MultiPolygon":for(a=!1,l=0;l<i.coordinates.length;l++)for(s=0;s<n.coordinates.length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},{type:"LineString",coordinates:n.coordinates[s][0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[l]},{type:"Polygon",coordinates:n.coordinates[s]},{ignoreBoundary:!0}))return!1;return a;default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return isPointOnLineEnd(n,i);case"MultiPoint":for(a=!1,l=0;l<n.coordinates.length;l++)if(a||isPointOnLineEnd({type:"Point",coordinates:n.coordinates[l]},i)&&(a=!0),booleanPointOnLine({type:"Point",coordinates:n.coordinates[l]},i,{ignoreEndVertices:!0}))return!1;return a;case"LineString":var u=!1;if(isPointOnLineEnd({type:"Point",coordinates:i.coordinates[0]},n)&&(u=!0),isPointOnLineEnd({type:"Point",coordinates:i.coordinates[i.coordinates.length-1]},n)&&(u=!0),!1===u)return!1;for(l=0;l<i.coordinates.length;l++)if(booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},n,{ignoreEndVertices:!0}))return!1;return u;case"MultiLineString":for(u=!1,l=0;l<n.coordinates.length;l++){isPointOnLineEnd({type:"Point",coordinates:i.coordinates[0]},{type:"LineString",coordinates:n.coordinates[l]})&&(u=!0),isPointOnLineEnd({type:"Point",coordinates:i.coordinates[i.coordinates.length-1]},{type:"LineString",coordinates:n.coordinates[l]})&&(u=!0);for(s=0;s<i.coordinates[l].length;s++)if(booleanPointOnLine({type:"Point",coordinates:i.coordinates[s]},{type:"LineString",coordinates:n.coordinates[l]},{ignoreEndVertices:!0}))return!1}return u;case"Polygon":for(a=!1,l=0;l<i.coordinates.length;l++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},{type:"LineString",coordinates:n.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[l]},n,{ignoreBoundary:!0}))return!1;return a;case"MultiPolygon":for(a=!1,l=0;l<i.coordinates.length;l++){for(s=0;s<n.coordinates.length;s++)a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[l]},{type:"LineString",coordinates:n.coordinates[s][0]})&&(a=!0);if(booleanPointInPolygon({type:"Point",coordinates:i.coordinates[l]},n,{ignoreBoundary:!0}))return!1}return a;default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiLineString":switch(o){case"Point":for(l=0;l<i.coordinates.length;l++)if(isPointOnLineEnd(n,{type:"LineString",coordinates:i.coordinates[l]}))return!0;return!1;case"MultiPoint":for(a=!1,l=0;l<i.coordinates.length;l++)for(s=0;s<n.coordinates.length;s++)if(a||isPointOnLineEnd({type:"Point",coordinates:n.coordinates[s]},{type:"LineString",coordinates:i.coordinates[s]})&&(a=!0),booleanPointOnLine({type:"Point",coordinates:n.coordinates[s]},{type:"LineString",coordinates:i.coordinates[s]},{ignoreEndVertices:!0}))return!1;return a;case"LineString":for(u=!1,l=0;l<i.coordinates.length;l++){isPointOnLineEnd({type:"Point",coordinates:i.coordinates[l][0]},n)&&(u=!0),isPointOnLineEnd({type:"Point",coordinates:i.coordinates[l][i.coordinates[l].length-1]},n)&&(u=!0);for(s=0;s<n.coordinates.length;s++)if(booleanPointOnLine({type:"Point",coordinates:n.coordinates[s]},{type:"LineString",coordinates:i.coordinates[l]},{ignoreEndVertices:!0}))return!1}return u;case"MultiLineString":for(u=!1,l=0;l<i.coordinates.length;l++)for(s=0;s<n.coordinates.length;s++){isPointOnLineEnd({type:"Point",coordinates:i.coordinates[l][0]},{type:"LineString",coordinates:n.coordinates[s]})&&(u=!0),isPointOnLineEnd({type:"Point",coordinates:i.coordinates[l][i.coordinates[l].length-1]},{type:"LineString",coordinates:n.coordinates[s]})&&(u=!0);for(var c=0;c<i.coordinates[l].length;c++)if(booleanPointOnLine({type:"Point",coordinates:i.coordinates[l][c]},{type:"LineString",coordinates:n.coordinates[s]},{ignoreEndVertices:!0}))return!1}return u;case"Polygon":for(a=!1,l=0;l<i.coordinates.length;l++)for(s=0;s<i.coordinates.length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[l][s]},{type:"LineString",coordinates:n.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[l][s]},n,{ignoreBoundary:!0}))return!1;return a;case"MultiPolygon":for(a=!1,l=0;l<n.coordinates[0].length;l++)for(s=0;s<i.coordinates.length;s++)for(c=0;c<i.coordinates[s].length;c++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[s][c]},{type:"LineString",coordinates:n.coordinates[0][l]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[s][c]},{type:"Polygon",coordinates:[n.coordinates[0][l]]},{ignoreBoundary:!0}))return!1;return a;default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":for(l=0;l<i.coordinates.length;l++)if(booleanPointOnLine(n,{type:"LineString",coordinates:i.coordinates[l]}))return!0;return!1;case"MultiPoint":for(a=!1,l=0;l<n.coordinates.length;l++)if(a||booleanPointOnLine({type:"Point",coordinates:n.coordinates[l]},{type:"LineString",coordinates:i.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:n.coordinates[l]},i,{ignoreBoundary:!0}))return!1;return a;case"LineString":for(a=!1,l=0;l<n.coordinates.length;l++)if(a||booleanPointOnLine({type:"Point",coordinates:n.coordinates[l]},{type:"LineString",coordinates:i.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:n.coordinates[l]},i,{ignoreBoundary:!0}))return!1;return a;case"MultiLineString":for(a=!1,l=0;l<n.coordinates.length;l++)for(s=0;s<n.coordinates[l].length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:n.coordinates[l][s]},{type:"LineString",coordinates:i.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:n.coordinates[l][s]},i,{ignoreBoundary:!0}))return!1;return a;case"Polygon":for(a=!1,l=0;l<i.coordinates[0].length;l++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[0][l]},{type:"LineString",coordinates:n.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[0][l]},n,{ignoreBoundary:!0}))return!1;return a;case"MultiPolygon":for(a=!1,l=0;l<n.coordinates[0].length;l++)for(s=0;s<i.coordinates[0].length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[0][s]},{type:"LineString",coordinates:n.coordinates[0][l]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[0][s]},{type:"Polygon",coordinates:n.coordinates[0][l]},{ignoreBoundary:!0}))return!1;return a;default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPolygon":switch(o){case"Point":for(l=0;l<i.coordinates[0].length;l++)if(booleanPointOnLine(n,{type:"LineString",coordinates:i.coordinates[0][l]}))return!0;return!1;case"MultiPoint":for(a=!1,l=0;l<i.coordinates[0].length;l++)for(s=0;s<n.coordinates.length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:n.coordinates[s]},{type:"LineString",coordinates:i.coordinates[0][l]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:n.coordinates[s]},{type:"Polygon",coordinates:i.coordinates[0][l]},{ignoreBoundary:!0}))return!1;return a;case"LineString":for(a=!1,l=0;l<i.coordinates[0].length;l++)for(s=0;s<n.coordinates.length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:n.coordinates[s]},{type:"LineString",coordinates:i.coordinates[0][l]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:n.coordinates[s]},{type:"Polygon",coordinates:i.coordinates[0][l]},{ignoreBoundary:!0}))return!1;return a;case"MultiLineString":for(a=!1,l=0;l<i.coordinates.length;l++)for(s=0;s<n.coordinates.length;s++)for(c=0;c<n.coordinates[s].length;c++)if(a||booleanPointOnLine({type:"Point",coordinates:n.coordinates[s][c]},{type:"LineString",coordinates:i.coordinates[l][0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:n.coordinates[s][c]},{type:"Polygon",coordinates:[i.coordinates[l][0]]},{ignoreBoundary:!0}))return!1;return a;case"Polygon":for(a=!1,l=0;l<i.coordinates[0].length;l++)for(s=0;s<i.coordinates[0][l].length;s++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[0][l][s]},{type:"LineString",coordinates:n.coordinates[0]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[0][l][s]},n,{ignoreBoundary:!0}))return!1;return a;case"MultiPolygon":for(a=!1,l=0;l<i.coordinates[0].length;l++)for(s=0;s<n.coordinates[0].length;s++)for(c=0;c<i.coordinates[0].length;c++)if(a||booleanPointOnLine({type:"Point",coordinates:i.coordinates[0][l][c]},{type:"LineString",coordinates:n.coordinates[0][s]})&&(a=!0),booleanPointInPolygon({type:"Point",coordinates:i.coordinates[0][l][c]},{type:"Polygon",coordinates:n.coordinates[0][s]},{ignoreBoundary:!0}))return!1;return a;default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function isPointOnLineEnd(e,t){return!!compareCoords$1(t.coordinates[0],e.coordinates)||!!compareCoords$1(t.coordinates[t.coordinates.length-1],e.coordinates)}function compareCoords$1(e,t){return e[0]===t[0]&&e[1]===t[1]}function booleanValid(e){if(!e.type)return!1;const t=getGeom(e),i=t.type,n=t.coordinates;switch(i){case"Point":return n.length>1;case"MultiPoint":for(var r=0;r<n.length;r++)if(n[r].length<2)return!1;return!0;case"LineString":if(n.length<2)return!1;for(r=0;r<n.length;r++)if(n[r].length<2)return!1;return!0;case"MultiLineString":if(n.length<2)return!1;for(r=0;r<n.length;r++)if(n[r].length<2)return!1;return!0;case"Polygon":for(r=0;r<t.coordinates.length;r++){if(n[r].length<4)return!1;if(!checkRingsClose(n[r]))return!1;if(checkRingsForSpikesPunctures(n[r]))return!1;if(r>0&&lineIntersect(polygon([n[0]]),polygon([n[r]])).features.length>1)return!1}return!0;case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)for(var o=t.coordinates[r],a=0;a<o.length;a++){if(o[a].length<4)return!1;if(!checkRingsClose(o[a]))return!1;if(checkRingsForSpikesPunctures(o[a]))return!1;if(0===a&&!checkPolygonAgainstOthers(o,t.coordinates,r))return!1;if(a>0&&lineIntersect(polygon([o[0]]),polygon([o[a]])).features.length>1)return!1}return!0;default:return!1}}function checkRingsClose(e){return e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]}function checkRingsForSpikesPunctures(e){for(var t=0;t<e.length-1;t++)for(var i=e[t],n=t+1;n<e.length-2;n++){if(booleanPointOnLine(i,lineString([e[n],e[n+1]])))return!0}return!1}function checkPolygonAgainstOthers(e,t,i){for(var n=polygon(e),r=i+1;r<t.length;r++)if(!booleanDisjoint(n,polygon(t[r]))&&booleanCrosses(n,lineString(t[r][0])))return!1;return!0}function booleanWithin(e,t){var i=getGeom(e),n=getGeom(t),r=i.type,o=n.type;switch(r){case"Point":switch(o){case"MultiPoint":return isPointInMultiPoint(i,n);case"LineString":return booleanPointOnLine(i,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return booleanPointInPolygon(i,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return isMultiPointInMultiPoint(i,n);case"LineString":return isMultiPointOnLine(i,n);case"Polygon":case"MultiPolygon":return isMultiPointInPoly(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return isLineOnLine(i,n);case"Polygon":case"MultiPolygon":return isLineInPoly(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return isPolyInPoly(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function isPointInMultiPoint(e,t){var i,n=!1;for(i=0;i<t.coordinates.length;i++)if(compareCoords(t.coordinates[i],e.coordinates)){n=!0;break}return n}function isMultiPointInMultiPoint(e,t){for(var i=0;i<e.coordinates.length;i++){for(var n=!1,r=0;r<t.coordinates.length;r++)compareCoords(e.coordinates[i],t.coordinates[r])&&(n=!0);if(!n)return!1}return!0}function isMultiPointOnLine(e,t){for(var i=!1,n=0;n<e.coordinates.length;n++){if(!booleanPointOnLine(e.coordinates[n],t))return!1;i||(i=booleanPointOnLine(e.coordinates[n],t,{ignoreEndVertices:!0}))}return i}function isMultiPointInPoly(e,t){for(var i=!0,n=!1,r=0;r<e.coordinates.length;r++){if(!(n=booleanPointInPolygon(e.coordinates[r],t))){i=!1;break}n=booleanPointInPolygon(e.coordinates[r],t,{ignoreBoundary:!0})}return i&&n}function isLineOnLine(e,t){for(var i=0;i<e.coordinates.length;i++)if(!booleanPointOnLine(e.coordinates[i],t))return!1;return!0}function isLineInPoly(e,t){if(!doBBoxOverlap(bbox$1(t),bbox$1(e)))return!1;for(var i=!1,n=0;n<e.coordinates.length;n++){if(!booleanPointInPolygon(e.coordinates[n],t))return!1;if(i||(i=booleanPointInPolygon(e.coordinates[n],t,{ignoreBoundary:!0})),!i&&n<e.coordinates.length-1)i=booleanPointInPolygon(getMidpoint(e.coordinates[n],e.coordinates[n+1]),t,{ignoreBoundary:!0})}return i}function isPolyInPoly(e,t){var i=bbox$1(e);if(!doBBoxOverlap(bbox$1(t),i))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!booleanPointInPolygon(e.coordinates[0][n],t))return!1;return!0}function doBBoxOverlap(e,t){return!(e[0]>t[0])&&(!(e[2]<t[2])&&(!(e[1]>t[1])&&!(e[3]<t[3])))}function compareCoords(e,t){return e[0]===t[0]&&e[1]===t[1]}function getMidpoint(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}function center(e,t={}){const i=bbox$1(e);return point([(i[0]+i[2])/2,(i[1]+i[3])/2],t.properties,t)}var jsts_min$1={exports:{}},jsts_min=jsts_min$1.exports,hasRequiredJsts_min;function requireJsts_min(){return hasRequiredJsts_min||(hasRequiredJsts_min=1,function(e){e.exports=function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function t(e,t,i){return t=l(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,i||[],l(e).constructor):t.apply(e,i))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t,i){if(c())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var r=new(e.bind.apply(e,n));return i&&h(r,i.prototype),r}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function o(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=m(e))||t){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},s.apply(null,arguments)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t,i,n){var r=s(l(1&n?e.prototype:e),t,i);return 2&n&&"function"==typeof r?function(e){return r.apply(i,e)}:r}function d(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function m(t,i){if(t){if("string"==typeof t)return e(t,i);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return n(e,arguments,l(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,e)},f(e)}var C=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=e.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=e.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==e.JOIN_ROUND&&(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}}},{key:"bufferDistanceError",value:function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)}}])}();C.CAP_ROUND=1,C.CAP_FLAT=2,C.CAP_SQUARE=3,C.JOIN_ROUND=1,C.JOIN_MITRE=2,C.JOIN_BEVEL=3,C.DEFAULT_QUADRANT_SEGMENTS=8,C.DEFAULT_MITRE_LIMIT=5,C.DEFAULT_SIMPLIFY_FACTOR=.01;var y=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({Exception:n})[0],r}return u(n,e),o(n,[{key:"toString",value:function(){return this.message}}])}(f(Error)),v=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({IllegalArgumentException:n})[0],r}return u(n,e),o(n)}(y),A=o((function e(){i(this,e)}),[{key:"filter",value:function(e){}}]);function I(){}function w(){}function b(){}var E,x,_,k,P,M,S,D,T=o((function e(){i(this,e)}),null,[{key:"equalsWithTolerance",value:function(e,t,i){return Math.abs(e-t)<=i}}]),R=o((function e(t,n){i(this,e),this.low=n||0,this.high=t||0}),null,[{key:"toBinaryString",value:function(e){var t,i="";for(t=2147483648;t>0;t>>>=1)i+=(e.high&t)===t?"1":"0";for(t=2147483648;t>0;t>>>=1)i+=(e.low&t)===t?"1":"0";return i}}]);function L(){}function N(){}L.NaN=NaN,L.isNaN=function(e){return Number.isNaN(e)},L.isInfinite=function(e){return!Number.isFinite(e)},L.MAX_VALUE=Number.MAX_VALUE,L.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,L.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(M=2146435072,S=new Float64Array(1),D=new Int32Array(S.buffer),L.doubleToLongBits=function(e){S[0]=e;var t=0|D[0],i=0|D[1];return(i&M)===M&&1048575&i&&0!==t&&(t=0,i=2146959360),new R(i,t)},L.longBitsToDouble=function(e){return D[0]=e.low,D[1]=e.high,S[0]}):(E=1023,x=Math.log2,_=Math.floor,k=Math.pow,P=function(){for(var e=53;e>0;e--){var t=k(2,e)-1;if(_(x(t))+1===e)return t}return 0}(),L.doubleToLongBits=function(e){var t,i,n,r,o,a,s,l,u;if(e<0||1/e===Number.NEGATIVE_INFINITY?(a=1<<31,e=-e):a=0,0===e)return new R(l=a,u=0);if(e===1/0)return new R(l=2146435072|a,u=0);if(e!=e)return new R(l=2146959360,u=0);if(r=0,u=0,(t=_(e))>1)if(t<=P)(r=_(x(t)))<=20?(u=0,l=t<<20-r&1048575):(u=t%(i=k(2,n=r-20))<<32-n,l=t/i&1048575);else for(n=t,u=0;0!==(n=_(i=n/2));)r++,u>>>=1,u|=(1&l)<<31,l>>>=1,i!==n&&(l|=524288);if(s=r+E,o=0===t,t=e-t,r<52&&0!==t)for(n=0;;){if((i=2*t)>=1?(t=i-1,o?(s--,o=!1):(n<<=1,n|=1,r++)):(t=i,o?0==--s&&(r++,o=!1):(n<<=1,r++)),20===r)l|=n,n=0;else if(52===r){u|=n;break}if(1===i){r<20?l|=n<<20-r:r<52&&(u|=n<<52-r);break}}return l|=s<<20,new R(l|=a,u)},L.longBitsToDouble=function(e){var t,i,n,r,o=e.high,a=e.low,s=o&1<<31?-1:1;for(n=((2146435072&o)>>20)-E,r=0,i=1<<19,t=1;t<=20;t++)o&i&&(r+=k(2,-t)),i>>>=1;for(i=1<<31,t=21;t<=52;t++)a&i&&(r+=k(2,-t)),i>>>=1;if(-1023===n){if(0===r)return 0*s;n=-1022}else{if(1024===n)return 0===r?s/0:NaN;r+=1}return s*r*k(2,n)});var O=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({RuntimeException:n})[0],r}return u(n,e),o(n)}(y),F=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,null,[{key:"constructor_",value:function(){if(0===arguments.length)O.constructor_.call(this);else if(1===arguments.length){var e=arguments[0];O.constructor_.call(this,e)}}}])}(O),B=function(){function e(){i(this,e)}return o(e,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)e.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new F("Should never reach here"+(null!==t?": "+t:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var t=arguments[0];e.isTrue(t,null)}else if(2===arguments.length){var i=arguments[1];if(!arguments[0])throw null===i?new F:new F(i)}}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],i=arguments[1];e.equals(t,i,null)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if(!r.equals(n))throw new F("Expected "+n+" but encountered "+r+(null!==o?": "+o:""))}}}])}(),G=new ArrayBuffer(8),z=new Float64Array(G),H=new Int32Array(G),j=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getM",value:function(){return L.NaN}},{key:"setOrdinate",value:function(t,i){switch(t){case e.X:this.x=i;break;case e.Y:this.y=i;break;case e.Z:this.setZ(i);break;default:throw new v("Invalid ordinate index: "+t)}}},{key:"equals2D",value:function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],i=arguments[1];return!!T.equalsWithTolerance(this.x,t.x,i)&&!!T.equalsWithTolerance(this.y,t.y,i)}}},{key:"setM",value:function(t){throw new v("Invalid ordinate index: "+e.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(t){switch(t){case e.X:return this.x;case e.Y:return this.y;case e.Z:return this.getZ()}throw new v("Invalid ordinate index: "+t)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||L.isNaN(this.getZ())&&L.isNaN(e.getZ()))}},{key:"equals",value:function(t){return t instanceof e&&this.equals2D(t)}},{key:"equalInZ",value:function(e,t){return T.equalsWithTolerance(this.getZ(),e.getZ(),t)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return B.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var t=this.x-e.x,i=this.y-e.y,n=this.getZ()-e.getZ();return Math.sqrt(t*t+i*i+n*n)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*t+e.hashCode(this.x))+e.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[I,w,b]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)e.constructor_.call(this,0,0);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.x,t.y,t.getZ())}else if(2===arguments.length){var i=arguments[0],n=arguments[1];e.constructor_.call(this,i,n,e.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.x=r,this.y=o,this.z=a}}},{key:"hashCode",value:function(e){return z[0]=e,H[0]^H[1]}}])}(),V=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"compare",value:function(t,i){var n=e.compare(t.x,i.x);if(0!==n)return n;var r=e.compare(t.y,i.y);return 0!==r?r:this._dimensionsToTest<=2?0:e.compare(t.getZ(),i.getZ())}},{key:"interfaces_",get:function(){return[N]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)e.constructor_.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}},{key:"compare",value:function(e,t){return e<t?-1:e>t?1:L.isNaN(e)?L.isNaN(t)?0:-1:L.isNaN(t)?1:0}}])}();j.DimensionalComparator=V,j.NULL_ORDINATE=L.NaN,j.X=0,j.Y=1,j.Z=2,j.M=3;var U=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var i=t;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()}},{key:"intersection",value:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new e;var i=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny;return new e(i,this._maxx<t._maxx?this._maxx:t._maxx,n,this._maxy<t._maxy?this._maxy:t._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof e){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof j){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(2===arguments.length){if(arguments[0]instanceof j&&arguments[1]instanceof j){var n=arguments[0],r=arguments[1];return!(this.isNull()||(n.x<r.x?n.x:r.x)>this._maxx||(n.x>r.x?n.x:r.x)<this._minx||(n.y<r.y?n.y:r.y)>this._maxy||(n.y>r.y?n.y:r.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||a>this._maxy||a<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return Math.sqrt(e*e+t*t)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof e){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}},{key:"translate",value:function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t}},{key:"expandBy",value:function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof j){var i=arguments[0];return this.covers(i)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}}},{key:"centre",value:function(){return this.isNull()?null:new j((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];o<a?(this._minx=o,this._maxx=a):(this._minx=a,this._maxx=o),s<l?(this._miny=s,this._maxy=l):(this._miny=l,this._maxy=s)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var i=0;return this._maxy<e._miny?i=e._miny-this._maxy:this._miny>e._maxy&&(i=this._miny-e._maxy),0===t?i:0===i?t:Math.sqrt(t*t+i*i)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*(e=37*(e=37*e+j.hashCode(this._minx))+j.hashCode(this._maxx))+j.hashCode(this._miny))+j.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[I,b]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var i=arguments[0];this.init(i)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this.init(o,a,s,l)}}},{key:"intersects",value:function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],i=arguments[2];return i.x>=(e.x<t.x?e.x:t.x)&&i.x<=(e.x>t.x?e.x:t.x)&&i.y>=(e.y<t.y?e.y:t.y)&&i.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(n.x,r.x),c=Math.max(n.x,r.x);return!(u>l||c<s||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(n.y,r.y),c=Math.max(n.y,r.y),u>l||c<s))}}}])}(),W=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(e.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return null!==e&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(1===arguments.length){var t=arguments[0];return e=t,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var i=arguments[0],n=arguments[1];return e=i,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(i,n)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(t){if(t.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,t,i){return 0===i?e.equals(t):e.distance(t)<=i}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return null!=this.envelope&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=null==this._envelope?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new U(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,t){for(var i=e.iterator(),n=t.iterator();i.hasNext()&&n.hasNext();){var r=i.next(),o=n.next(),a=r.compareTo(o);if(0!==a)return a}return i.hasNext()?1:n.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===e.TYPECODE_MULTIPOINT||this.getTypeCode()===e.TYPECODE_MULTILINESTRING||this.getTypeCode()===e.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[w,I,b]}},{key:"getClass",value:function(){return e}}],[{key:"hasNonEmptyElements",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}])}();W.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},W.TYPECODE_POINT=0,W.TYPECODE_MULTIPOINT=1,W.TYPECODE_LINESTRING=2,W.TYPECODE_LINEARRING=3,W.TYPECODE_MULTILINESTRING=4,W.TYPECODE_POLYGON=5,W.TYPECODE_MULTIPOLYGON=6,W.TYPECODE_GEOMETRYCOLLECTION=7,W.TYPENAME_POINT="Point",W.TYPENAME_MULTIPOINT="MultiPoint",W.TYPENAME_LINESTRING="LineString",W.TYPENAME_LINEARRING="LinearRing",W.TYPENAME_MULTILINESTRING="MultiLineString",W.TYPENAME_POLYGON="Polygon",W.TYPENAME_MULTIPOLYGON="MultiPolygon",W.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",W.geometryChangedFilter={get interfaces_(){return[A]},filter:function(e){e.geometryChangedAction()}};var Q=function(){function e(){i(this,e)}return o(e,null,[{key:"toLocationSymbol",value:function(t){switch(t){case e.EXTERIOR:return"e";case e.BOUNDARY:return"b";case e.INTERIOR:return"i";case e.NONE:return"-"}throw new v("Unknown location value: "+t)}}])}();Q.INTERIOR=0,Q.BOUNDARY=1,Q.EXTERIOR=2,Q.NONE=-1;var Y=o((function e(){i(this,e)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),Z=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({NoSuchElementException:n})[0],r}return u(n,e),o(n)}(y),X=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({UnsupportedOperationException:n})[0],r}return u(n,e),o(n)}(y),J=function(e){function n(){return i(this,n),t(this,n,arguments)}return u(n,e),o(n,[{key:"contains",value:function(){}}])}(Y),q=function(e){function n(e){var r;return i(this,n),(r=t(this,n)).map=new Map,e instanceof Y&&r.addAll(e),r}return u(n,e),o(n,[{key:"contains",value:function(e){var t=e.hashCode?e.hashCode():e;return!!this.map.has(t)}},{key:"add",value:function(e){var t=e.hashCode?e.hashCode():e;return!this.map.has(t)&&!!this.map.set(t,e)}},{key:"addAll",value:function(e){var t,i=a(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.add(n)}}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"remove",value:function(){throw new X}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new K(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(J),K=o((function e(t){i(this,e),this.iterator=t.values();var n=this.iterator.next(),r=n.done,o=n.value;this.done=r,this.value=o}),[{key:"next",value:function(){if(this.done)throw new Z;var e=this.value,t=this.iterator.next(),i=t.done,n=t.value;return this.done=i,this.value=n,e}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new X}}]),$=function(){function e(){i(this,e)}return o(e,null,[{key:"opposite",value:function(t){return t===e.LEFT?e.RIGHT:t===e.RIGHT?e.LEFT:t}}])}();$.ON=0,$.LEFT=1,$.RIGHT=2;var ee=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({EmptyStackException:n})[0],r}return u(n,e),o(n)}(y),te=function(e){function n(e){var r;return i(this,n),(r=t(this,n,[e])).name=Object.keys({IndexOutOfBoundsException:n})[0],r}return u(n,e),o(n)}(y),ie=function(e){function n(){return i(this,n),t(this,n,arguments)}return u(n,e),o(n,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(Y),ne=function(e){function n(){var e;return i(this,n),(e=t(this,n)).array=[],e}return u(n,e),o(n,[{key:"add",value:function(e){return this.array.push(e),!0}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"push",value:function(e){return this.array.push(e),e}},{key:"pop",value:function(){if(0===this.array.length)throw new ee;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new ee;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(e){return this.array.indexOf(e)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(ie);function re(e,t){return e.interfaces_&&e.interfaces_.indexOf(t)>-1}var oe=o((function e(t){i(this,e),this.str=t}),[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),ae=function(){function e(t){i(this,e),this.value=t}return o(e,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(t){return new e(t)}}])}(),se=o((function e(){i(this,e)}),null,[{key:"isWhitespace",value:function(e){return e<=32&&e>=0||127===e}},{key:"toUpperCase",value:function(e){return e.toUpperCase()}}]),le=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(t,i){var n=this.abs(),r=e.magnitude(n._hi),o=e.TEN.pow(r);(n=n.divide(o)).gt(e.TEN)?(n=n.divide(e.TEN),r+=1):n.lt(e.ONE)&&(n=n.multiply(e.TEN),r-=1);for(var a=r+1,s=new oe,l=e.MAX_PRINT_DIGITS-1,u=0;u<=l;u++){t&&u===a&&s.append(".");var c=Math.trunc(n._hi);if(c<0)break;var h=!1,g=0;c>9?(h=!0,g="9"):g="0"+c,s.append(g),n=n.subtract(e.valueOf(c)).multiply(e.TEN),h&&n.selfAdd(e.TEN);var d=!0,p=e.magnitude(n._hi);if(p<0&&Math.abs(p)>=l-u&&(d=!1),!d)break}return i[0]=r,s.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var i=arguments[0];return this.add(-i)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof e){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var i=arguments[0];return this.selfDivide(i,0)}}else if(2===arguments.length){var n,r,o,a,s=arguments[0],l=arguments[1],u=null,c=null,h=null,g=null;return o=this._hi/s,g=(u=(h=e.SPLIT*o)-(u=h-o))*(c=(g=e.SPLIT*s)-(c=g-s))-(a=o*s)+u*(r=s-c)+(n=o-u)*c+n*r,g=o+(h=(this._hi-a-g+this._lo-o*l)/s),this._hi=g,this._lo=o-g+h,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof e){var t,i,n,r,o=arguments[0],a=null,s=null,l=null,u=null;return t=(n=this._hi/o._hi)-(a=(l=e.SPLIT*n)-(a=l-n)),u=a*(s=(u=e.SPLIT*o._hi)-(s=u-o._hi))-(r=n*o._hi)+a*(i=o._hi-s)+t*s+t*i,new e(u=n+(l=(this._hi-r-u+this._lo-n*o._lo)/o._hi),n-u+l)}if("number"==typeof arguments[0]){var c=arguments[0];return L.isNaN(c)?e.createNaN():e.copy(this).selfDivide(c,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(t){if(0===t)return e.valueOf(1);var i=new e(this),n=e.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(i),(r/=2)>0&&(i=i.sqr());else n=i;return t<0?n.reciprocal():n}},{key:"ceil",value:function(){if(this.isNaN())return e.NaN;var t=Math.ceil(this._hi),i=0;return t===this._hi&&(i=Math.ceil(this._lo)),new e(t,i)}},{key:"compareTo",value:function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var i=arguments[0];return this.init(i),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return e.valueOf(0);if(this.isNegative())return e.NaN;var t=1/Math.sqrt(this._hi),i=this._hi*t,n=e.valueOf(i),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var i,n,r,o,a,s=arguments[0],l=null;return l=(r=this._hi+s)-(o=r-this._hi),n=(a=(l=s-o+(this._hi-l))+this._lo)+(r-(i=r+a)),this._hi=i+n,this._lo=n+(i-this._hi),this}}else if(2===arguments.length){var u,c,h,g,d=arguments[0],p=arguments[1],m=null,f=null,C=null;h=this._hi+d,c=this._lo+p,f=h-(C=h-this._hi),m=c-(g=c-this._lo);var y=(u=h+(C=(f=d-C+(this._hi-f))+c))+(C=(m=p-g+(this._lo-m))+(C+(h-u))),v=C+(u-y);return this._hi=y,this._lo=v,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var i=arguments[0];return this.selfMultiply(i,0)}}else if(2===arguments.length){var n,r,o=arguments[0],a=arguments[1],s=null,l=null,u=null,c=null;s=(u=e.SPLIT*this._hi)-this._hi,c=e.SPLIT*o,s=u-s,n=this._hi-s,l=c-o;var h=(u=this._hi*o)+(c=s*(l=c-l)-u+s*(r=o-l)+n*l+n*r+(this._hi*a+this._lo*o)),g=c+(s=u-h);return this._hi=h,this._lo=g,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return e.NaN;var t=Math.floor(this._hi),i=0;return t===this._hi&&(i=Math.floor(this._lo)),new e(t,i)}},{key:"negate",value:function(){return this.isNaN()?this:new e(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return t.isNaN()?e.createNaN():e.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var i=arguments[0];return L.isNaN(i)?e.createNaN():e.copy(this).selfMultiply(i,0)}}},{key:"isNaN",value:function(){return L.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var t=e.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var i=new Array(1).fill(null),n=this.extractSignificantDigits(!0,i),r=i[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(r<0)o="0."+e.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var a=r-n.length;o=n+e.stringOfChar("0",a)+".0"}return this.isNegative()?"-"+o:o}},{key:"reciprocal",value:function(){var t,i,n,r,o=null,a=null,s=null,l=null;t=(n=1/this._hi)-(o=(s=e.SPLIT*n)-(o=s-n)),a=(l=e.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(l=o*(a=l-a)-r+o*(i=this._hi-a)+t*a+t*i)-n*this._lo)/this._hi);return new e(u,n-u+s)}},{key:"toSciNotation",value:function(){if(this.isZero())return e.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var i=new Array(1).fill(null),n=this.extractSignificantDigits(!1,i),r=e.SCI_NOT_EXPONENT_CHAR+i[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var a=n.charAt(0)+"."+o;return this.isNegative()?"-"+a+r:a+r}},{key:"abs",value:function(){return this.isNaN()?e.NaN:this.isNegative()?this.negate():new e(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return e.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var i=arguments[0];return e.copy(this).selfAdd(i)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof e){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?e.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[b,I,w]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var i=arguments[0];this.init(i)}else if("string"==typeof arguments[0]){var n=arguments[0];e.constructor_.call(this,e.parse(n))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];return e.determinant(e.valueOf(t),e.valueOf(i),e.valueOf(n),e.valueOf(r))}if(arguments[3]instanceof e&&arguments[2]instanceof e&&arguments[0]instanceof e&&arguments[1]instanceof e){var o=arguments[1],a=arguments[2],s=arguments[3];return arguments[0].multiply(s).selfSubtract(o.multiply(a))}}},{key:"sqr",value:function(t){return e.valueOf(t).selfMultiply(t)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var t=arguments[0];return e.parse(t)}if("number"==typeof arguments[0])return new e(arguments[0])}},{key:"sqrt",value:function(t){return e.valueOf(t).sqrt()}},{key:"parse",value:function(t){for(var i=0,n=t.length;se.isWhitespace(t.charAt(i));)i++;var r=!1;if(i<n){var o=t.charAt(i);"-"!==o&&"+"!==o||(i++,"-"===o&&(r=!0))}for(var a=new e,s=0,l=0,u=0,c=!1;!(i>=n);){var h=t.charAt(i);if(i++,se.isDigit(h)){var g=h-"0";a.selfMultiply(e.TEN),a.selfAdd(g),s++}else{if("."!==h){if("e"===h||"E"===h){var d=t.substring(i);try{u=ae.parseInt(d)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+d+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+h+"' at position "+i+" in string "+t)}l=s,c=!0}}var p=a;c||(l=s);var m=s-l-u;if(0===m)p=a;else if(m>0){var f=e.TEN.pow(m);p=a.divide(f)}else if(m<0){var C=e.TEN.pow(-m);p=a.multiply(C)}return r?p.negate():p}},{key:"createNaN",value:function(){return new e(L.NaN,L.NaN)}},{key:"copy",value:function(t){return new e(t)}},{key:"magnitude",value:function(e){var t=Math.abs(e),i=Math.log(t)/Math.log(10),n=Math.trunc(Math.floor(i));return 10*Math.pow(10,n)<=t&&(n+=1),n}},{key:"stringOfChar",value:function(e,t){for(var i=new oe,n=0;n<t;n++)i.append(e);return i.toString()}}])}();le.PI=new le(3.141592653589793,12246467991473532e-32),le.TWO_PI=new le(6.283185307179586,24492935982947064e-32),le.PI_2=new le(1.5707963267948966,6123233995736766e-32),le.E=new le(2.718281828459045,14456468917292502e-32),le.NaN=new le(L.NaN,L.NaN),le.EPS=123259516440783e-46,le.SPLIT=134217729,le.MAX_PRINT_DIGITS=32,le.TEN=le.valueOf(10),le.ONE=le.valueOf(1),le.SCI_NOT_EXPONENT_CHAR="E",le.SCI_NOT_ZERO="0.0E0";var ue=function(){function e(){i(this,e)}return o(e,null,[{key:"orientationIndex",value:function(t,i,n){var r=e.orientationIndexFilter(t,i,n);if(r<=1)return r;var o=le.valueOf(i.x).selfAdd(-t.x),a=le.valueOf(i.y).selfAdd(-t.y),s=le.valueOf(n.x).selfAdd(-i.x),l=le.valueOf(n.y).selfAdd(-i.y);return o.selfMultiply(l).selfSubtract(a.selfMultiply(s)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof le&&arguments[2]instanceof le&&arguments[0]instanceof le&&arguments[1]instanceof le){var e=arguments[1],t=arguments[2],i=arguments[3];return arguments[0].multiply(i).selfSubtract(e.multiply(t)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=le.valueOf(n),l=le.valueOf(r),u=le.valueOf(o),c=le.valueOf(a);return s.multiply(c).selfSubtract(l.multiply(u)).signum()}}},{key:"intersection",value:function(e,t,i,n){var r=new le(e.y).selfSubtract(t.y),o=new le(t.x).selfSubtract(e.x),a=new le(e.x).selfMultiply(t.y).selfSubtract(new le(t.x).selfMultiply(e.y)),s=new le(i.y).selfSubtract(n.y),l=new le(n.x).selfSubtract(i.x),u=new le(i.x).selfMultiply(n.y).selfSubtract(new le(n.x).selfMultiply(i.y)),c=o.multiply(u).selfSubtract(l.multiply(a)),h=s.multiply(a).selfSubtract(r.multiply(u)),g=r.multiply(l).selfSubtract(s.multiply(o)),d=c.selfDivide(g).doubleValue(),p=h.selfDivide(g).doubleValue();return L.isNaN(d)||L.isInfinite(d)||L.isNaN(p)||L.isInfinite(p)?null:new j(d,p)}},{key:"orientationIndexFilter",value:function(t,i,n){var r=null,o=(t.x-n.x)*(i.y-n.y),a=(t.y-n.y)*(i.x-n.x),s=o-a;if(o>0){if(a<=0)return e.signum(s);r=o+a}else{if(!(o<0))return e.signum(s);if(a>=0)return e.signum(s);r=-o-a}var l=e.DP_SAFE_EPSILON*r;return s>=l||-s>=l?e.signum(s):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}])}();ue.DP_SAFE_EPSILON=1e-15;var ce=o((function e(){i(this,e)}),[{key:"getM",value:function(e){if(this.hasM()){var t=this.getDimension()-this.getMeasures();return this.getOrdinate(e,t)}return L.NaN}},{key:"setOrdinate",value:function(e,t,i){}},{key:"getZ",value:function(e){return this.hasZ()?this.getOrdinate(e,2):L.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(e,t){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(e){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(e){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(e){}},{key:"copy",value:function(){}},{key:"getY",value:function(e){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[w]}}]);ce.X=0,ce.Y=1,ce.Z=2,ce.M=3;var he=function(){function e(){i(this,e)}return o(e,null,[{key:"index",value:function(e,t,i){return ue.orientationIndex(e,t,i)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var t=arguments[0],i=t.length-1;if(i<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;o<=i;o++){var a=t[o];a.y>n.y&&(n=a,r=o)}var s=r;do{(s-=1)<0&&(s=i)}while(t[s].equals2D(n)&&s!==r);var l=r;do{l=(l+1)%i}while(t[l].equals2D(n)&&l!==r);var u=t[s],c=t[l];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var h=e.index(u,n,c);return 0===h?u.x>c.x:h>0}if(re(arguments[0],ce)){var g=arguments[0],d=g.size()-1;if(d<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var p=g.getCoordinate(0),m=0,f=1;f<=d;f++){var C=g.getCoordinate(f);C.y>p.y&&(p=C,m=f)}var y=null,A=m;do{(A-=1)<0&&(A=d),y=g.getCoordinate(A)}while(y.equals2D(p)&&A!==m);var I=null,w=m;do{w=(w+1)%d,I=g.getCoordinate(w)}while(I.equals2D(p)&&w!==m);if(y.equals2D(p)||I.equals2D(p)||y.equals2D(I))return!1;var b=e.index(y,p,I);return 0===b?y.x>I.x:b>0}}}])}();he.CLOCKWISE=-1,he.RIGHT=he.CLOCKWISE,he.COUNTERCLOCKWISE=1,he.LEFT=he.COUNTERCLOCKWISE,he.COLLINEAR=0,he.STRAIGHT=he.COLLINEAR;var ge=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(e,t){var i=this.getRightmostSideOfSegment(e,t);return i<0&&(i=this.getRightmostSideOfSegment(e,t-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),i}},{key:"findRightmostEdgeAtVertex",value:function(){var e=this._minDe.getEdge().getCoordinates();B.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],i=e[this._minIndex+1],n=he.index(this._minCoord,i,t),r=!1;(t.y<this._minCoord.y&&i.y<this._minCoord.y&&n===he.COUNTERCLOCKWISE||t.y>this._minCoord.y&&i.y>this._minCoord.y&&n===he.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(e,t){var i=e.getEdge().getCoordinates();if(t<0||t+1>=i.length)return-1;if(i[t].y===i[t+1].y)return-1;var n=$.LEFT;return i[t].y<i[t+1].y&&(n=$.RIGHT),n}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(e){for(var t=e.getEdge().getCoordinates(),i=0;i<t.length-1;i++)(null===this._minCoord||t[i].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=i,this._minCoord=t[i])}},{key:"findRightmostEdgeAtNode",value:function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(e){for(var t=e.iterator();t.hasNext();){var i=t.next();i.isForward()&&this.checkForRightmostCoordinate(i)}B.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===$.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),de=function(e){function n(e,r){var o;return i(this,n),(o=t(this,n,[r?e+" [ "+r+" ]":e])).pt=r?new j(r):void 0,o.name=Object.keys({TopologyException:n})[0],o}return u(n,e),o(n,[{key:"getCoordinate",value:function(){return this.pt}}])}(O),pe=o((function e(){i(this,e),this.array=[]}),[{key:"addLast",value:function(e){this.array.push(e)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),me=function(e){function n(e){var r;return i(this,n),(r=t(this,n)).array=[],e instanceof Y&&r.addAll(e),r}return u(n,e),o(n,[{key:"interfaces_",get:function(){return[ie,Y]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(e){return 1===arguments.length?this.array.push(e):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(e){var t,i=a(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.array.push(n)}}catch(e){i.e(e)}finally{i.f()}}},{key:"set",value:function(e,t){var i=this.array[e];return this.array[e]=t,i}},{key:"iterator",value:function(){return new fe(this)}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(e){e?this.array.sort((function(t,i){return e.compare(t,i)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(e){for(var t=0,i=this.array.length;t<i;t++)if(this.array[t]===e)return!!this.array.splice(t,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(ie),fe=o((function e(t){i(this,e),this.arrayList=t,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Z;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(e){return this.arrayList.set(this.position-1,e)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),Ce=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(e){for(var t=null,i=e.getEdges().iterator();i.hasNext();){var n=i.next();if(n.isVisited()||n.getSym().isVisited()){t=n;break}}if(null===t)throw new de("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var r=e.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}}},{key:"computeDepth",value:function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths($.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}},{key:"create",value:function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth($.RIGHT)>=1&&t.getDepth($.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}},{key:"computeDepths",value:function(e){var t=new q,i=new pe,n=e.getNode();for(i.addLast(n),t.add(n),e.setVisited(!0);!i.isEmpty();){var r=i.removeFirst();t.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(i.addLast(s),t.add(s))}}}}},{key:"compareTo",value:function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var e=new U,t=this._dirEdgeList.iterator();t.hasNext();)for(var i=t.next().getEdge().getCoordinates(),n=0;n<i.length-1;n++)e.expandToInclude(i[n]);this._env=e}return this._env}},{key:"addReachable",value:function(e){var t=new ne;for(t.add(e);!t.empty();){var i=t.pop();this.add(i,t)}}},{key:"copySymDepths",value:function(e){var t=e.getSym();t.setDepth($.LEFT,e.getDepth($.RIGHT)),t.setDepth($.RIGHT,e.getDepth($.LEFT))}},{key:"add",value:function(e,t){e.setVisited(!0),this._nodes.add(e);for(var i=e.getEdges().iterator();i.hasNext();){var n=i.next();this._dirEdgeList.add(n);var r=n.getSym().getNode();r.isVisited()||t.push(r)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new me,this._nodes=new me,this._rightMostCoord=null,this._env=null,this._finder=new ge}}]),ye=o((function e(){i(this,e)}),null,[{key:"intersection",value:function(e,t,i,n){var r=e.x<t.x?e.x:t.x,o=e.y<t.y?e.y:t.y,a=e.x>t.x?e.x:t.x,s=e.y>t.y?e.y:t.y,l=i.x<n.x?i.x:n.x,u=i.y<n.y?i.y:n.y,c=i.x>n.x?i.x:n.x,h=i.y>n.y?i.y:n.y,g=((r>l?r:l)+(a<c?a:c))/2,d=((o>u?o:u)+(s<h?s:h))/2,p=e.x-g,m=e.y-d,f=t.x-g,C=t.y-d,y=i.x-g,v=i.y-d,A=n.x-g,I=n.y-d,w=m-C,b=f-p,E=p*C-f*m,x=v-I,_=A-y,k=y*I-A*v,P=w*_-x*b,M=(b*k-_*E)/P,S=(x*E-w*k)/P;return L.isNaN(M)||L.isInfinite(M)||L.isNaN(S)||L.isInfinite(S)?null:new j(M+g,S+d)}}]),ve=o((function e(){i(this,e)}),null,[{key:"arraycopy",value:function(e,t,i,n,r){for(var o=0,a=t;a<t+r;a++)i[n+o]=e[a],o++}},{key:"getProperty",value:function(e){return{"line.separator":"\n"}[e]}}]),Ae=function(){function e(){i(this,e)}return o(e,null,[{key:"log10",value:function(t){var i=Math.log(t);return L.isInfinite(i)||L.isNaN(i)?i:i/e.LOG_10}},{key:"min",value:function(e,t,i,n){var r=e;return t<r&&(r=t),i<r&&(r=i),n<r&&(r=n),r}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],i=arguments[2];return e<t?t:e>i?i:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1],o=arguments[2];return n<r?r:n>o?o:n}}},{key:"wrap",value:function(e,t){return e<0?t- -e%t:e%t}},{key:"max",value:function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],i=arguments[0];return e>i&&(i=e),t>i&&(i=t),i}if(4===arguments.length){var n=arguments[1],r=arguments[2],o=arguments[3],a=arguments[0];return n>a&&(a=n),r>a&&(a=r),o>a&&(a=o),a}}},{key:"average",value:function(e,t){return(e+t)/2}}])}();Ae.LOG_10=Math.log(10);var Ie=function(){function e(){i(this,e)}return o(e,null,[{key:"segmentToSegment",value:function(t,i,n,r){if(t.equals(i))return e.pointToSegment(t,n,r);if(n.equals(r))return e.pointToSegment(r,t,i);var o=!1;if(U.intersects(t,i,n,r)){var a=(i.x-t.x)*(r.y-n.y)-(i.y-t.y)*(r.x-n.x);if(0===a)o=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),l=((t.y-n.y)*(i.x-t.x)-(t.x-n.x)*(i.y-t.y))/a,u=s/a;(u<0||u>1||l<0||l>1)&&(o=!0)}}else o=!0;return o?Ae.min(e.pointToSegment(t,n,r),e.pointToSegment(i,n,r),e.pointToSegment(n,t,i),e.pointToSegment(r,t,i)):0}},{key:"pointToSegment",value:function(e,t,i){if(t.x===i.x&&t.y===i.y)return e.distance(t);var n=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y),r=((e.x-t.x)*(i.x-t.x)+(e.y-t.y)*(i.y-t.y))/n;if(r<=0)return e.distance(t);if(r>=1)return e.distance(i);var o=((t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y))/n;return Math.abs(o)*Math.sqrt(n)}},{key:"pointToLinePerpendicular",value:function(e,t,i){var n=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y),r=((t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y))/n;return Math.abs(r)*Math.sqrt(n)}},{key:"pointToSegmentString",value:function(t,i){if(0===i.length)throw new v("Line array must contain at least one vertex");for(var n=t.distance(i[0]),r=0;r<i.length-1;r++){var o=e.pointToSegment(t,i[r],i[r+1]);o<n&&(n=o)}return n}}])}(),we=o((function e(){i(this,e)}),[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||re(arguments[0],ce);else if(2===arguments.length);else if(3===arguments.length){var e=arguments[0],t=arguments[1];return this.create(e,t)}}}]),be=o((function e(){i(this,e)}),[{key:"filter",value:function(e){}}]),Ee=o((function e(){i(this,e)}),null,[{key:"ofLine",value:function(e){var t=e.size();if(t<=1)return 0;var i=0,n=new j;e.getCoordinate(0,n);for(var r=n.x,o=n.y,a=1;a<t;a++){e.getCoordinate(a,n);var s=n.x,l=n.y,u=s-r,c=l-o;i+=Math.sqrt(u*u+c*c),r=s,o=l}return i}}]),xe=o((function e(){i(this,e)})),_e=function(){function e(){i(this,e)}return o(e,null,[{key:"copyCoord",value:function(e,t,i,n){for(var r=Math.min(e.getDimension(),i.getDimension()),o=0;o<r;o++)i.setOrdinate(n,o,e.getOrdinate(t,o))}},{key:"isRing",value:function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,ce.X)===e.getOrdinate(t-1,ce.X)&&e.getOrdinate(0,ce.Y)===e.getOrdinate(t-1,ce.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(re(arguments[0],ce)&&Number.isInteger(arguments[1])){var t=arguments[0],i=arguments[1];e.scroll(t,i,e.isRing(t))}else if(re(arguments[0],ce)&&arguments[1]instanceof j){var n=arguments[0],r=arguments[1],o=e.indexOf(r,n);if(o<=0)return null;e.scroll(n,o)}}else if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];if(s<=0)return null;for(var u=a.copy(),c=l?a.size()-1:a.size(),h=0;h<c;h++)for(var g=0;g<a.getDimension();g++)a.setOrdinate(h,g,u.getOrdinate((s+h)%c,g));if(l)for(var d=0;d<a.getDimension();d++)a.setOrdinate(c,d,a.getOrdinate(0,d))}}},{key:"isEqual",value:function(e,t){var i=e.size();if(i!==t.size())return!1;for(var n=Math.min(e.getDimension(),t.getDimension()),r=0;r<i;r++)for(var o=0;o<n;o++){var a=e.getOrdinate(r,o),s=t.getOrdinate(r,o);if(!(e.getOrdinate(r,o)===t.getOrdinate(r,o)||L.isNaN(a)&&L.isNaN(s)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var t=arguments[0];return e.minCoordinateIndex(t,0,t.size()-1)}if(3===arguments.length){for(var i=arguments[0],n=arguments[2],r=-1,o=null,a=arguments[1];a<=n;a++){var s=i.getCoordinate(a);(null===o||o.compareTo(s)>0)&&(o=s,r=a)}return r}}},{key:"extend",value:function(t,i,n){var r=t.create(n,i.getDimension()),o=i.size();if(e.copy(i,0,r,0,o),o>0)for(var a=o;a<n;a++)e.copy(i,o-1,r,a,1);return r}},{key:"reverse",value:function(t){for(var i=t.size()-1,n=Math.trunc(i/2),r=0;r<=n;r++)e.swap(t,r,i-r)}},{key:"swap",value:function(e,t,i){if(t===i)return null;for(var n=0;n<e.getDimension();n++){var r=e.getOrdinate(t,n);e.setOrdinate(t,n,e.getOrdinate(i,n)),e.setOrdinate(i,n,r)}}},{key:"copy",value:function(t,i,n,r,o){for(var a=0;a<o;a++)e.copyCoord(t,i+a,n,r+a)}},{key:"ensureValidRing",value:function(t,i){var n=i.size();return 0===n?i:n<=3?e.createClosedRing(t,i,4):i.getOrdinate(0,ce.X)===i.getOrdinate(n-1,ce.X)&&i.getOrdinate(0,ce.Y)===i.getOrdinate(n-1,ce.Y)?i:e.createClosedRing(t,i,n+1)}},{key:"indexOf",value:function(e,t){for(var i=0;i<t.size();i++)if(e.x===t.getOrdinate(i,ce.X)&&e.y===t.getOrdinate(i,ce.Y))return i;return-1}},{key:"createClosedRing",value:function(t,i,n){var r=t.create(n,i.getDimension()),o=i.size();e.copy(i,0,r,0,o);for(var a=o;a<n;a++)e.copy(i,0,r,a,1);return r}},{key:"minCoordinate",value:function(e){for(var t=null,i=0;i<e.size();i++){var n=e.getCoordinate(i);(null===t||t.compareTo(n)>0)&&(t=n)}return t}}])}(),ke=function(){function e(){i(this,e)}return o(e,null,[{key:"toDimensionSymbol",value:function(t){switch(t){case e.FALSE:return e.SYM_FALSE;case e.TRUE:return e.SYM_TRUE;case e.DONTCARE:return e.SYM_DONTCARE;case e.P:return e.SYM_P;case e.L:return e.SYM_L;case e.A:return e.SYM_A}throw new v("Unknown dimension value: "+t)}},{key:"toDimensionValue",value:function(t){switch(se.toUpperCase(t)){case e.SYM_FALSE:return e.FALSE;case e.SYM_TRUE:return e.TRUE;case e.SYM_DONTCARE:return e.DONTCARE;case e.SYM_P:return e.P;case e.SYM_L:return e.L;case e.SYM_A:return e.A}throw new v("Unknown dimension symbol: "+t)}}])}();ke.P=0,ke.L=1,ke.A=2,ke.FALSE=-1,ke.TRUE=-2,ke.DONTCARE=-3,ke.SYM_FALSE="F",ke.SYM_TRUE="T",ke.SYM_DONTCARE="*",ke.SYM_P="0",ke.SYM_L="1",ke.SYM_A="2";var Pe=o((function e(){i(this,e)}),[{key:"filter",value:function(e){}}]),Me=o((function e(){i(this,e)}),[{key:"filter",value:function(e,t){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),Se=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new U:this._points.expandEnvelope(new U)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),t))return!1;return!0}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0){var i=this._points.copy();_e.reverse(i),this._points=i}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ke.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var e=this._points.copy();return _e.reverse(e),this.getFactory().createLineString(e)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return W.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Ee.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var e=arguments[0],t=0,i=0;t<this._points.size()&&i<e._points.size();){var n=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(i));if(0!==n)return n;t++,i++}return t<this._points.size()?1:i<e._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}}},{key:"apply",value:function(){if(re(arguments[0],be))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(re(arguments[0],Me)){var i=arguments[0];if(0===this._points.size())return null;for(var n=0;n<this._points.size()&&(i.filter(this._points,n),!i.isDone());n++);i.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Pe)||re(arguments[0],A))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new X}},{key:"isEquivalentClass",value:function(e){return e instanceof n}},{key:"getCoordinateN",value:function(e){return this._points.getCoordinate(e)}},{key:"getGeometryType",value:function(){return W.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new v("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e}},{key:"isCoordinate",value:function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}},{key:"interfaces_",get:function(){return[xe]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];W.constructor_.call(this,t),this.init(e)}}}])}(W),De=o((function e(){i(this,e)})),Te=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new U;var e=new U;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new n(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return ke.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return W.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}},{key:"apply",value:function(){if(re(arguments[0],be)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(re(arguments[0],Me)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Pe)||re(arguments[0],A))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return W.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),B.isTrue(e.size()<=1),this._coordinates=e}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[De]}}],[{key:"constructor_",value:function(){this._coordinates=null;var e=arguments[0],t=arguments[1];W.constructor_.call(this,t),this.init(e)}}])}(W),Re=function(){function e(){i(this,e)}return o(e,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];return Math.abs(e.ofRingSigned(t))}if(re(arguments[0],ce)){var i=arguments[0];return Math.abs(e.ofRingSigned(i))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,i=e[0].x,n=1;n<e.length-1;n++){var r=e[n].x-i,o=e[n+1].y;t+=r*(e[n-1].y-o)}return t/2}if(re(arguments[0],ce)){var a=arguments[0],s=a.size();if(s<3)return 0;var l=new j,u=new j,c=new j;a.getCoordinate(0,u),a.getCoordinate(1,c);var h=u.x;c.x-=h;for(var g=0,d=1;d<s-1;d++)l.y=u.y,u.x=c.x,u.y=c.y,a.getCoordinate(d+1,c),c.x-=h,g+=u.x*(l.y-c.y);return g/2}}}])}(),Le=o((function e(){i(this,e)}),null,[{key:"sort",value:function(){var e=arguments,t=arguments[0];if(1===arguments.length)t.sort((function(e,t){return e.compareTo(t)}));else if(2===arguments.length)t.sort((function(t,i){return e[1].compare(t,i)}));else if(3===arguments.length){var i=t.slice(arguments[1],arguments[2]);i.sort();var n=t.slice(0,arguments[1]).concat(i,t.slice(arguments[2],t.length));t.splice(0,t.length);var r,o=a(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;t.push(s)}}catch(e){o.e(e)}finally{o.f()}}else if(4===arguments.length){var l=t.slice(arguments[1],arguments[2]);l.sort((function(t,i){return e[3].compare(t,i)}));var u=t.slice(0,arguments[1]).concat(l,t.slice(arguments[2],t.length));t.splice(0,t.length);var c,h=a(u);try{for(h.s();!(c=h.n()).done;){var g=c.value;t.push(g)}}catch(e){h.e(e)}finally{h.f()}}}},{key:"asList",value:function(e){var t,i=new me,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;i.add(r)}}catch(e){n.e(e)}finally{n.f()}return i}},{key:"copyOf",value:function(e,t){return e.slice(0,t)}}]),Ne=o((function e(){i(this,e)})),Oe=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,i=this._shell.getCoordinates(),n=0;n<i.length;n++)e[++t]=i[n];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),a=0;a<o.length;a++)e[++t]=o[a];return e}},{key:"getArea",value:function(){var e=0;e+=Re.ofRing(this._shell.getCoordinateSequence());for(var t=0;t<this._holes.length;t++)e-=Re.ofRing(this._holes[t].getCoordinateSequence());return e}},{key:"copyInternal",value:function(){for(var e=this._shell.copy(),t=new Array(this._holes.length).fill(null),i=0;i<this._holes.length;i++)t[i]=this._holes[i].copy();return new n(e,t,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),i=0;i<5;i++){var n=e.getX(i);if(n!==t.getMinX()&&n!==t.getMaxX())return!1;var r=e.getY(i);if(r!==t.getMinY()&&r!==t.getMaxY())return!1}for(var o=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var l=e.getX(s),u=e.getY(s);if(l!==o==(u!==a))return!1;o=l,a=u}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,t))return!1;if(this._holes.length!==i._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(i._holes[a],t))return!1;return!0}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var e=0;e<this._holes.length;e++)this._holes[e]=this.normalized(this._holes[e],!1);Le.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];if(t.isEmpty())return null;var n=t.getCoordinateSequence(),r=_e.minCoordinateIndex(n,0,n.size()-2);_e.scroll(n,r,!0),he.isCCW(n)===i&&_e.reverse(n)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var e=this.getExteriorRing().reverse(),t=new Array(this.getNumInteriorRing()).fill(null),i=0;i<t.length;i++)t[i]=this.getInteriorRingN(i).reverse();return this.getFactory().createPolygon(e,t)}},{key:"getTypeCode",value:function(){return W.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(e,t){var i=e.copy();return this.normalize(i,t),i}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=this._shell,i=e._shell;return t.compareToSameClass(i)}if(2===arguments.length){var n=arguments[1],r=arguments[0],o=this._shell,a=r._shell,s=o.compareToSameClass(a,n);if(0!==s)return s;for(var l=this.getNumInteriorRing(),u=r.getNumInteriorRing(),c=0;c<l&&c<u;){var h=this.getInteriorRingN(c),g=r.getInteriorRingN(c),d=h.compareToSameClass(g,n);if(0!==d)return d;c++}return c<l?1:c<u?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],be)){var e=arguments[0];this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(re(arguments[0],Me)){var i=arguments[0];if(this._shell.apply(i),!i.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(i),!i.isDone());n++);i.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Pe))arguments[0].filter(this);else if(re(arguments[0],A)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(r)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}},{key:"getGeometryType",value:function(){return W.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(e){return this._holes[e]}},{key:"interfaces_",get:function(){return[Ne]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var e=arguments[0],t=arguments[1],i=arguments[2];if(W.constructor_.call(this,i),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),W.hasNullElements(t))throw new v("holes must not contain null elements");if(e.isEmpty()&&W.hasNonEmptyElements(t))throw new v("shell is empty but holes are not");this._shell=e,this._holes=t}}])}(W),Fe=function(e){function n(){return i(this,n),t(this,n,arguments)}return u(n,e),o(n)}(J),Be=function(e){function n(e){var r;return i(this,n),(r=t(this,n)).array=[],e instanceof Y&&r.addAll(e),r}return u(n,e),o(n,[{key:"contains",value:function(e){var t,i=a(this.array);try{for(i.s();!(t=i.n()).done;)if(0===t.value.compareTo(e))return!0}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"add",value:function(e){if(this.contains(e))return!1;for(var t=0,i=this.array.length;t<i;t++)if(1===this.array[t].compareTo(e))return!!this.array.splice(t,0,e);return this.array.push(e),!0}},{key:"addAll",value:function(e){var t,i=a(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.add(n)}}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"remove",value:function(){throw new X}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Ge(this.array)}}])}(Fe),Ge=o((function e(t){i(this,e),this.array=t,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new Z;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new X}}]),ze=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"computeEnvelopeInternal",value:function(){for(var e=new U,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}},{key:"getGeometryN",value:function(e){return this._geometries[e]}},{key:"getCoordinates",value:function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,i=0;i<this._geometries.length;i++)for(var n=this._geometries[i].getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];return e}},{key:"getArea",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}},{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new n(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],t))return!1;return!0}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Le.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var e=ke.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e}},{key:"reverseInternal",value:function(){for(var e=this._geometries.length,t=new me(e),i=0;i<e;i++)t.add(this._geometries[i].reverse());return this.getFactory().buildGeometry(t)}},{key:"getTypeCode",value:function(){return W.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var e=ke.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e}},{key:"getLength",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=new Be(Le.asList(this._geometries)),i=new Be(Le.asList(e._geometries));return this.compare(t,i)}if(2===arguments.length){for(var n=arguments[1],r=arguments[0],o=this.getNumGeometries(),a=r.getNumGeometries(),s=0;s<o&&s<a;){var l=this.getGeometryN(s),u=r.getGeometryN(s),c=l.compareToSameClass(u,n);if(0!==c)return c;s++}return s<o?1:s<a?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],be))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(re(arguments[0],Me)){var i=arguments[0];if(0===this._geometries.length)return null;for(var n=0;n<this._geometries.length&&(this._geometries[n].apply(i),!i.isDone());n++);i.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Pe)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(re(arguments[0],A)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}}},{key:"getBoundary",value:function(){return W.checkNotGeometryCollection(this),B.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return W.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];if(W.constructor_.call(this,t),null===e&&(e=[]),W.hasNullElements(e))throw new v("geometries must not contain null elements");this._geometries=e}}}])}(W),He=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new n(e,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&g(n,"equalsExact",this,1).call(this,e,t)}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var e=arguments[0];return this._geometries[e].getCoordinate()}return g(n,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return ke.FALSE}},{key:"getTypeCode",value:function(){return W.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return W.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[De]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];ze.constructor_.call(this,e,t)}}])}(ze),je=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"copyInternal",value:function(){return new n(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return ke.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||g(n,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var e=this._points.copy();return _e.reverse(e),this.getFactory().createLinearRing(e)}},{key:"getTypeCode",value:function(){return W.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!g(n,"isClosed",this,1).call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return W.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Se.constructor_.call(this,e,t),this.validateConstruction()}}])}(Se);je.MINIMUM_VALID_SIZE=4;var Ve=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"setOrdinate",value:function(e,t){switch(e){case n.X:this.x=t;break;case n.Y:this.y=t;break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"getZ",value:function(){return j.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case n.X:return this.x;case n.Y:return this.y}throw new v("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new v("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)j.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof n){var e=arguments[0];j.constructor_.call(this,e.x,e.y)}else if(arguments[0]instanceof j){var t=arguments[0];j.constructor_.call(this,t.x,t.y)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];j.constructor_.call(this,i,r,j.NULL_ORDINATE)}}}])}(j);Ve.X=0,Ve.Y=1,Ve.Z=-1,Ve.M=-1;var Ue=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case n.X:this.x=t;break;case n.Y:this.y=t;break;case n.M:this._m=t;break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getZ",value:function(){return j.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case n.X:return this.x;case n.Y:return this.y;case n.M:return this._m}throw new v("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new v("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)j.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof n){var e=arguments[0];j.constructor_.call(this,e.x,e.y),this._m=e._m}else if(arguments[0]instanceof j){var t=arguments[0];j.constructor_.call(this,t.x,t.y),this._m=this.getM()}}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];j.constructor_.call(this,i,r,j.NULL_ORDINATE),this._m=o}}}])}(j);Ue.X=0,Ue.Y=1,Ue.Z=-1,Ue.M=2;var We=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case j.X:this.x=t;break;case j.Y:this.y=t;break;case j.Z:this.z=t;break;case j.M:this._m=t;break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getOrdinate",value:function(e){switch(e){case j.X:return this.x;case j.Y:return this.y;case j.Z:return this.getZ();case j.M:return this.getM()}throw new v("Invalid ordinate index: "+e)}},{key:"copy",value:function(){return new n(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)j.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof n){var e=arguments[0];j.constructor_.call(this,e),this._m=e._m}else if(arguments[0]instanceof j){var t=arguments[0];j.constructor_.call(this,t),this._m=this.getM()}}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3];j.constructor_.call(this,i,r,o),this._m=a}}}])}(j),Qe=function(){function e(){i(this,e)}return o(e,null,[{key:"measures",value:function(e){return e instanceof Ve?0:e instanceof Ue||e instanceof We?1:0}},{key:"dimension",value:function(e){return e instanceof Ve?2:e instanceof Ue?3:e instanceof We?4:3}},{key:"create",value:function(){if(1===arguments.length){var t=arguments[0];return e.create(t,0)}if(2===arguments.length){var i=arguments[0],n=arguments[1];return 2===i?new Ve:3===i&&0===n?new j:3===i&&1===n?new Ue:4===i&&1===n?new We:new j}}}])}(),Ye=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"getCoordinate",value:function(e){return this.get(e)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&re(arguments[0],Y)){for(var e=arguments[1],t=!1,i=arguments[0].iterator();i.hasNext();)this.add(i.next(),e),t=!0;return t}return g(n,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var e=g(n,"clone",this,1).call(this),t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(n.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(n.coordArrayType);for(var e=this.size(),t=new Array(e).fill(null),i=0;i<e;i++)t[i]=this.get(e-i-1);return t}}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];return g(n,"add",this,1).call(this,e)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var t=arguments[0],i=arguments[1];return this.add(t,i,!0),!0}if(arguments[0]instanceof j&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;g(n,"add",this,1).call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<s.length;u++)this.add(s[u],l);else for(var c=s.length-1;c>=0;c--)this.add(s[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof j){var h=arguments[0],d=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(h>0&&this.get(h-1).equals2D(d))return null;if(h<p&&this.get(h).equals2D(d))return null}}g(n,"add",this,1).call(this,h,d)}}else if(4===arguments.length){var m=arguments[0],f=arguments[1],C=arguments[2],y=arguments[3],v=1;C>y&&(v=-1);for(var A=C;A!==y;A+=v)this.add(m[A],f);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var e=this.get(0).copy();this.add(e,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];this.ensureCapacity(t.length),this.add(t,i)}}}])}(me);Ye.coordArrayType=new Array(0).fill(null);var Ze=function(){function e(){i(this,e)}return o(e,null,[{key:"isRing",value:function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))}},{key:"ptNotInList",value:function(t,i){for(var n=0;n<t.length;n++){var r=t[n];if(e.indexOf(r,i)<0)return r}return null}},{key:"scroll",value:function(t,i){var n=e.indexOf(i,t);if(n<0)return null;var r=new Array(t.length).fill(null);ve.arraycopy(t,n,r,0,t.length-n),ve.arraycopy(t,0,r,t.length-n,n),ve.arraycopy(r,0,t,0,t.length)}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equals(t[i]))return!1;return!0}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if(n===r)return!0;if(null===n||null===r)return!1;if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(0!==o.compare(n[a],r[a]))return!1;return!0}}},{key:"intersection",value:function(e,t){for(var i=new Ye,n=0;n<e.length;n++)t.intersects(e[n])&&i.add(e[n],!0);return i.toCoordinateArray()}},{key:"measures",value:function(e){if(null===e||0===e.length)return 0;var t,i=0,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;i=Math.max(i,Qe.measures(r))}}catch(e){n.e(e)}finally{n.f()}return i}},{key:"hasRepeatedPoints",value:function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(t){return e.hasRepeatedPoints(t)?new Ye(t,!1).toCoordinateArray():t}},{key:"reverse",value:function(e){for(var t=e.length-1,i=Math.trunc(t/2),n=0;n<=i;n++){var r=e[n];e[n]=e[t-n],e[t-n]=r}}},{key:"removeNull",value:function(e){for(var t=0,i=0;i<e.length;i++)null!==e[i]&&t++;var n=new Array(t).fill(null);if(0===t)return n;for(var r=0,o=0;o<e.length;o++)null!==e[o]&&(n[r++]=e[o]);return n}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),i=0;i<e.length;i++)t[i]=e[i].copy();return t}if(5===arguments.length)for(var n=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)o[a+l]=n[r+l].copy()}},{key:"isEqualReversed",value:function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=t[e.length-i-1];if(0!==n.compareTo(r))return!1}return!0}},{key:"envelope",value:function(e){for(var t=new U,i=0;i<e.length;i++)t.expandToInclude(e[i]);return t}},{key:"toCoordinateArray",value:function(t){return t.toArray(e.coordArrayType)}},{key:"dimension",value:function(e){if(null===e||0===e.length)return 3;var t,i=0,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;i=Math.max(i,Qe.dimension(r))}}catch(e){n.e(e)}finally{n.f()}return i}},{key:"atLeastNCoordinatesOrNothing",value:function(e,t){return t.length>=e?t:[]}},{key:"indexOf",value:function(e,t){for(var i=0;i<t.length;i++)if(e.equals(t[i]))return i;return-1}},{key:"increasingDirection",value:function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var i=e.length-1-t,n=e[t].compareTo(e[i]);if(0!==n)return n}return 1}},{key:"compare",value:function(e,t){for(var i=0;i<e.length&&i<t.length;){var n=e[i].compareTo(t[i]);if(0!==n)return n;i++}return i<t.length?-1:i<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var t=null,i=0;i<e.length;i++)(null===t||t.compareTo(e[i])>0)&&(t=e[i]);return t}},{key:"extract",value:function(e,t,i){t=Ae.clamp(t,0,e.length);var n=(i=Ae.clamp(i,-1,e.length))-t+1;i<0&&(n=0),t>=e.length&&(n=0),i<t&&(n=0);var r=new Array(n).fill(null);if(0===n)return r;for(var o=0,a=t;a<=i;a++)r[o++]=e[a];return r}}])}(),Xe=o((function e(){i(this,e)}),[{key:"compare",value:function(e,t){var i=e,n=t;return Ze.compare(i,n)}},{key:"interfaces_",get:function(){return[N]}}]),Je=o((function e(){i(this,e)}),[{key:"compare",value:function(e,t){var i=e,n=t;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;var r=Ze.compare(i,n);return Ze.isEqualReversed(i,n)?0:r}},{key:"OLDcompare",value:function(e,t){var i=e,n=t;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;for(var r=Ze.increasingDirection(i),o=Ze.increasingDirection(n),a=r>0?0:i.length-1,s=o>0?0:i.length-1,l=0;l<i.length;l++){var u=i[a].compareTo(n[s]);if(0!==u)return u;a+=r,s+=o}return 0}},{key:"interfaces_",get:function(){return[N]}}]);Ze.ForwardComparator=Xe,Ze.BidirectionalComparator=Je,Ze.coordArrayType=new Array(0).fill(null);var qe=o((function e(t){i(this,e),this.str=t}),[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),Ke=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():L.NaN}},{key:"setOrdinate",value:function(e,t,i){switch(t){case ce.X:this._coordinates[e].x=i;break;case ce.Y:this._coordinates[e].y=i;break;default:this._coordinates[e].setOrdinate(t,i)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():L.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,t){switch(t){case ce.X:return this._coordinates[e].x;case ce.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(t)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0];arguments[1].setCoordinate(this._coordinates[t])}}},{key:"getCoordinateCopy",value:function(e){var t=this.createCoordinate();return t.setCoordinate(this._coordinates[e]),t}},{key:"createCoordinate",value:function(){return Qe.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}},{key:"copy",value:function(){for(var t=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++){var n=this.createCoordinate();n.setCoordinate(this._coordinates[i]),t[i]=n}return new e(t,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new qe(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ce,b]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];e.constructor_.call(this,t,Ze.dimension(t),Ze.measures(t))}else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var n=0;n<i;n++)this._coordinates[n]=new j}else if(re(arguments[0],ce)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._measures=r.getMeasures(),this._coordinates=new Array(r.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)this._coordinates[o]=r.getCoordinateCopy(o)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];e.constructor_.call(this,a,s,Ze.measures(a))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],u=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=u;for(var c=0;c<l;c++)this._coordinates[c]=Qe.create(u)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1],d=arguments[2];this._dimension=g,this._measures=d,this._coordinates=null===h?new Array(0).fill(null):h}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],m=arguments[1],f=arguments[2];this._coordinates=new Array(p).fill(null),this._dimension=m,this._measures=f;for(var C=0;C<p;C++)this._coordinates[C]=this.createCoordinate()}}}])}(),$e=function(){function e(){i(this,e)}return o(e,[{key:"readResolve",value:function(){return e.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Ke(arguments[0]);if(re(arguments[0],ce))return new Ke(arguments[0])}else{if(2===arguments.length){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Ke(arguments[0],e)}if(3===arguments.length){var t=arguments[2],i=arguments[1]-t;return t>1&&(t=1),i>3&&(i=3),i<2&&(i=2),new Ke(arguments[0],i+t,t)}}}},{key:"interfaces_",get:function(){return[we,b]}}],[{key:"instance",value:function(){return e.instanceObject}}])}();$e.instanceObject=new $e;var et=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new n(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&g(n,"equalsExact",this,1).call(this,e,t)}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return W.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new me,t=0;t<this._geometries.length;t++)for(var i=this._geometries[t].getBoundary(),n=0;n<i.getNumGeometries();n++)e.add(i.getGeometryN(n));var r=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(r))}},{key:"getGeometryType",value:function(){return W.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ne]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];ze.constructor_.call(this,e,t)}}])}(ze),tt=o((function e(){i(this,e)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),it=function(e){function n(){var e;return i(this,n),(e=t(this,n)).map=new Map,e}return u(n,e),o(n,[{key:"get",value:function(e){return this.map.get(e)||null}},{key:"put",value:function(e,t){return this.map.set(e,t),t}},{key:"values",value:function(){for(var e=new me,t=this.map.values(),i=t.next();!i.done;)e.add(i.value),i=t.next();return e}},{key:"entrySet",value:function(){var e=new q;return this.map.entries().forEach((function(t){return e.add(t)})),e}},{key:"size",value:function(){return this.map.size()}}])}(tt),nt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"equals",value:function(t){if(!(t instanceof e))return!1;var i=t;return this._modelType===i._modelType&&this._scale===i._scale}},{key:"compareTo",value:function(e){var t=e,i=this.getMaximumSignificantDigits(),n=t.getMaximumSignificantDigits();return ae.compare(i,n)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===e.FLOATING||this._modelType===e.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var t="UNKNOWN";return this._modelType===e.FLOATING?t="Floating":this._modelType===e.FLOATING_SINGLE?t="Floating-Single":this._modelType===e.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var t=arguments[0];return L.isNaN(t)||this._modelType===e.FLOATING_SINGLE?t:this._modelType===e.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof j){var i=arguments[0];if(this._modelType===e.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}}},{key:"getMaximumSignificantDigits",value:function(){var t=16;return this._modelType===e.FLOATING?t=16:this._modelType===e.FLOATING_SINGLE?t=6:this._modelType===e.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[b,I]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof rt){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var i=arguments[0];this._modelType=e.FIXED,this.setScale(i)}else if(arguments[0]instanceof e){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}},{key:"mostPrecise",value:function(e,t){return e.compareTo(t)>=0?e:t}}])}(),rt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"readResolve",value:function(){return e.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this._name=null;var t=arguments[0];this._name=t,e.nameToTypeMap.put(t,this)}}])}();rt.nameToTypeMap=new it,nt.Type=rt,nt.FIXED=new rt("FIXED"),nt.FLOATING=new rt("FLOATING"),nt.FLOATING_SINGLE=new rt("FLOATING SINGLE"),nt.maximumPreciseValue=9007199254740992;var ot=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new n(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof W){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&g(n,"equalsExact",this,1).call(this,e,t)}return g(n,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?ke.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return W.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new X}},{key:"getGeometryType",value:function(){return W.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[xe]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];ze.constructor_.call(this,e,t)}}])}(ze),at=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new v("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new j(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new j(e.getMinX(),e.getMinY()),new j(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new j(e.getMinX(),e.getMinY()),new j(e.getMinX(),e.getMaxY()),new j(e.getMaxX(),e.getMaxY()),new j(e.getMaxX(),e.getMinY()),new j(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new Se(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new ot(null,this):1===arguments.length?new ot(arguments[0],this):void 0}},{key:"buildGeometry",value:function(t){for(var i=null,n=!1,r=!1,o=t.iterator();o.hasNext();){var a=o.next(),s=a.getTypeCode();null===i&&(i=s),s!==i&&(n=!0),a instanceof ze&&(r=!0)}if(null===i)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(e.toGeometryArray(t));var l=t.iterator().next();if(t.size()>1){if(l instanceof Oe)return this.createMultiPolygon(e.toPolygonArray(t));if(l instanceof Se)return this.createMultiLineString(e.toLineStringArray(t));if(l instanceof Te)return this.createMultiPoint(e.toPointArray(t));B.shouldNeverReachHere("Unhandled geometry type: "+l.getGeometryType())}return l}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof j){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(re(arguments[0],ce))return new Te(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(re(arguments[0],ce)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof je){var i=arguments[0];return this.createPolygon(i,null)}}else if(2===arguments.length)return new Oe(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new ze(null,this):1===arguments.length?new ze(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new je(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new et(null,this):1===arguments.length?new et(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new He(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new He(arguments[0],this);if(re(arguments[0],ce)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var t=new Array(e.size()).fill(null),i=0;i<e.size();i++){var n=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());_e.copy(e,i,n,0,1),t[i]=this.createPoint(n)}return this.createMultiPoint(t)}}}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)e.constructor_.call(this,new nt,0);else if(1===arguments.length){if(re(arguments[0],we)){var t=arguments[0];e.constructor_.call(this,new nt,0,t)}else if(arguments[0]instanceof nt){var i=arguments[0];e.constructor_.call(this,i,0,e.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];e.constructor_.call(this,n,r,e.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this._precisionModel=o,this._coordinateSequenceFactory=s,this._SRID=a}}},{key:"toMultiPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toGeometryArray",value:function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return $e.instance()}},{key:"toMultiLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toMultiPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLinearRingArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"createPointFromInternalCoord",value:function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}}])}(),st="XY",lt="XYZ",ut="XYM",ct="XYZM",ht={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},gt="EMPTY",dt=1,pt=2,mt=3,ft=4,Ct=5,yt=6;for(var vt in ht)ht[vt].toUpperCase();var At=o((function e(t){i(this,e),this.wkt=t,this.index_=-1}),[{key:"isAlpha_",value:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}},{key:"isNumeric_",value:function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)}},{key:"isWhiteSpace_",value:function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var e,t=this.nextChar_(),i=this.index_,n=t;if("("==t)e=pt;else if(","==t)e=Ct;else if(")"==t)e=mt;else if(this.isNumeric_(t)||"-"==t)e=ft,n=this.readNumber_();else if(this.isAlpha_(t))e=dt,n=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=yt}return{position:i,value:n,type:e}}},{key:"readNumber_",value:function(){var e,t=this.index_,i=!1,n=!1;do{"."==e?i=!0:"e"!=e&&"E"!=e||(n=!0),e=this.nextChar_()}while(this.isNumeric_(e,i)||!n&&("e"==e||"E"==e)||n&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))}},{key:"readText_",value:function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}}]),It=o((function e(t,n){i(this,e),this.lexer_=t,this.token_,this.layout_=st,this.factory=n}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(e){return this.token_.type==e}},{key:"match",value:function(e){var t=this.isTokenType(e);return t&&this.consume_(),t}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var e=st,t=this.token_;if(this.isTokenType(dt)){var i=t.value;"Z"===i?e=lt:"M"===i?e=ut:"ZM"===i&&(e=ct),e!==st&&this.consume_()}return e}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(pt)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(Ct));if(this.match(mt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(pt)){var e=this.parsePoint_();if(this.match(mt))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(pt)){var e=this.parsePointList_();if(this.match(mt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(mt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var e;if(this.match(pt)){if(e=this.token_.type==pt?this.parsePointTextList_():this.parsePointList_(),this.match(mt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(mt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(pt)){var e=this.parsePolygonTextList_();if(this.match(mt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var e=[],t=this.layout_.length,i=0;i<t;++i){var n=this.token_;if(!this.match(ft))break;e.push(n.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var e=[this.parsePoint_()];this.match(Ct);)e.push(this.parsePoint_());return e}},{key:"parsePointTextList_",value:function(){for(var e=[this.parsePointText_()];this.match(Ct);)e.push(this.parsePointText_());return e}},{key:"parseLineStringTextList_",value:function(){for(var e=[this.parseLineStringText_()];this.match(Ct);)e.push(this.parseLineStringText_());return e}},{key:"parsePolygonTextList_",value:function(){for(var e=[this.parsePolygonText_()];this.match(Ct);)e.push(this.parsePolygonText_());return e}},{key:"isEmptyGeometry_",value:function(){var e=this.isTokenType(dt)&&this.token_.value==gt;return e&&this.consume_(),e}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var e=this.factory,t=function(e){return n(j,d(e))},i=function(i){var n=i.map((function(i){return e.createLinearRing(i.map(t))}));return n.length>1?e.createPolygon(n[0],n.slice(1)):e.createPolygon(n[0])},r=this.token_;if(this.match(dt)){var o=r.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==o){var a=this.parseGeometryCollectionText_();return e.createGeometryCollection(a)}switch(o){case"POINT":var s=this.parsePointText_();return s?e.createPoint(n(j,d(s))):e.createPoint();case"LINESTRING":var l=this.parseLineStringText_().map(t);return e.createLineString(l);case"LINEARRING":var u=this.parseLineStringText_().map(t);return e.createLinearRing(u);case"POLYGON":var c=this.parsePolygonText_();return c&&0!==c.length?i(c):e.createPolygon();case"MULTIPOINT":var h=this.parseMultiPointText_();if(!h||0===h.length)return e.createMultiPoint();var g=h.map(t).map((function(t){return e.createPoint(t)}));return e.createMultiPoint(g);case"MULTILINESTRING":var p=this.parseMultiLineStringText_().map((function(i){return e.createLineString(i.map(t))}));return e.createMultiLineString(p);case"MULTIPOLYGON":var m=this.parseMultiPolygonText_();if(!m||0===m.length)return e.createMultiPolygon();var f=m.map(i);return e.createMultiPolygon(f);default:throw new Error("Invalid geometry type: "+o)}}throw new Error(this.formatErrorMessage_())}}]);function wt(e){if(e.isEmpty())return"";var t=e.getCoordinate(),i=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||i.push(t.z),void 0===t.m||Number.isNaN(t.m)||i.push(t.m),i.join(" ")}function bt(e){for(var t=e.getCoordinates().map((function(e){var t=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||t.push(e.z),void 0===e.m||Number.isNaN(e.m)||t.push(e.m),t})),i=[],n=0,r=t.length;n<r;++n)i.push(t[n].join(" "));return i.join(", ")}function Et(e){var t=[];t.push("("+bt(e.getExteriorRing())+")");for(var i=0,n=e.getNumInteriorRing();i<n;++i)t.push("("+bt(e.getInteriorRingN(i))+")");return t.join(", ")}var xt={Point:wt,LineString:bt,LinearRing:bt,Polygon:Et,MultiPoint:function(e){for(var t=[],i=0,n=e.getNumGeometries();i<n;++i)t.push("("+wt(e.getGeometryN(i))+")");return t.join(", ")},MultiLineString:function(e){for(var t=[],i=0,n=e.getNumGeometries();i<n;++i)t.push("("+bt(e.getGeometryN(i))+")");return t.join(", ")},MultiPolygon:function(e){for(var t=[],i=0,n=e.getNumGeometries();i<n;++i)t.push("("+Et(e.getGeometryN(i))+")");return t.join(", ")},GeometryCollection:function(e){for(var t=[],i=0,n=e.getNumGeometries();i<n;++i)t.push(_t(e.getGeometryN(i)));return t.join(", ")}};function _t(e){var t=e.getGeometryType(),i=xt[t];t=t.toUpperCase();var n=function(e){var t="";if(e.isEmpty())return t;var i=e.getCoordinate();return void 0===i.z||Number.isNaN(i.z)||(t+="Z"),void 0===i.m||Number.isNaN(i.m)||(t+="M"),t}(e);return n.length>0&&(t+=" "+n),e.isEmpty()?t+" "+gt:t+" ("+i(e)+")"}var kt=o((function e(t){i(this,e),this.geometryFactory=t||new at,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(e){var t=new At(e);return new It(t,this.geometryFactory).parse()}},{key:"write",value:function(e){return _t(e)}}]),Pt=o((function e(t){i(this,e),this.parser=new kt(t)}),[{key:"write",value:function(e){return this.parser.write(e)}}],[{key:"toLineString",value:function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"}}]),Mt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getIndexAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}},{key:"getTopologySummary",value:function(){var e=new qe;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,t,i,n){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=i,this._inputLines[1][1]=n,this._result=this.computeIntersect(e,t,i,n)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==e.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(t,i){return e.computeEdgeDistance(this._intPt[i],this._inputLines[t][0],this._inputLines[t][1])}},{key:"isCollinear",value:function(){return this._result===e.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Pt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Pt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,t){return this._inputLines[e][t]}},{key:"isIntersection",value:function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new j,this._intPt[1]=new j,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,t,i){var n=Math.abs(i.x-t.x),r=Math.abs(i.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(i))o=n>r?n:r;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(o=n>r?a:s)||e.equals(t)||(o=Math.max(a,s))}return B.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o}},{key:"nonRobustComputeEdgeDistance",value:function(e,t,i){var n=e.x-t.x,r=e.y-t.y,o=Math.sqrt(n*n+r*r);return B.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o}}])}();Mt.DONT_INTERSECT=0,Mt.DO_INTERSECT=1,Mt.COLLINEAR=2,Mt.NO_INTERSECTION=0,Mt.POINT_INTERSECTION=1,Mt.COLLINEAR_INTERSECTION=2;var St=function(e){function n(){return i(this,n),t(this,n)}return u(n,e),o(n,[{key:"isInSegmentEnvelopes",value:function(e){var t=new U(this._inputLines[0][0],this._inputLines[0][1]),i=new U(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&i.contains(e)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return g(n,"computeIntersection",this,1).apply(this,arguments);var e=arguments[0],t=arguments[1],i=arguments[2];if(this._isProper=!1,U.intersects(t,i,e)&&0===he.index(t,i,e)&&0===he.index(i,t,e))return this._isProper=!0,(e.equals(t)||e.equals(i))&&(this._isProper=!1),this._result=Mt.POINT_INTERSECTION,null;this._result=Mt.NO_INTERSECTION}},{key:"intersection",value:function(e,t,i,r){var o=this.intersectionSafe(e,t,i,r);return this.isInSegmentEnvelopes(o)||(o=new j(n.nearestEndpoint(e,t,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o}},{key:"checkDD",value:function(e,t,i,n,r){var o=ue.intersection(e,t,i,n),a=this.isInSegmentEnvelopes(o);ve.out.println("DD in env = "+a+"  --------------------- "+o),r.distance(o)>1e-4&&ve.out.println("Distance = "+r.distance(o))}},{key:"intersectionSafe",value:function(e,t,i,r){var o=ye.intersection(e,t,i,r);return null===o&&(o=n.nearestEndpoint(e,t,i,r)),o}},{key:"computeCollinearIntersection",value:function(e,t,i,n){var r=U.intersects(e,t,i),o=U.intersects(e,t,n),a=U.intersects(i,n,e),s=U.intersects(i,n,t);return r&&o?(this._intPt[0]=i,this._intPt[1]=n,Mt.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=e,this._intPt[1]=t,Mt.COLLINEAR_INTERSECTION):r&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||s?Mt.COLLINEAR_INTERSECTION:Mt.POINT_INTERSECTION):r&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||o||a?Mt.COLLINEAR_INTERSECTION:Mt.POINT_INTERSECTION):o&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||r||s?Mt.COLLINEAR_INTERSECTION:Mt.POINT_INTERSECTION):o&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||r||a?Mt.COLLINEAR_INTERSECTION:Mt.POINT_INTERSECTION):Mt.NO_INTERSECTION}},{key:"computeIntersect",value:function(e,t,i,n){if(this._isProper=!1,!U.intersects(e,t,i,n))return Mt.NO_INTERSECTION;var r=he.index(e,t,i),o=he.index(e,t,n);if(r>0&&o>0||r<0&&o<0)return Mt.NO_INTERSECTION;var a=he.index(i,n,e),s=he.index(i,n,t);return a>0&&s>0||a<0&&s<0?Mt.NO_INTERSECTION:0===r&&0===o&&0===a&&0===s?this.computeCollinearIntersection(e,t,i,n):(0===r||0===o||0===a||0===s?(this._isProper=!1,e.equals2D(i)||e.equals2D(n)?this._intPt[0]=e:t.equals2D(i)||t.equals2D(n)?this._intPt[0]=t:0===r?this._intPt[0]=new j(i):0===o?this._intPt[0]=new j(n):0===a?this._intPt[0]=new j(e):0===s&&(this._intPt[0]=new j(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,i,n)),Mt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(e,t,i,n){var r=e,o=Ie.pointToSegment(e,i,n),a=Ie.pointToSegment(t,i,n);return a<o&&(o=a,r=t),(a=Ie.pointToSegment(i,e,t))<o&&(o=a,r=i),(a=Ie.pointToSegment(n,e,t))<o&&(o=a,r=n),r}}])}(Mt),Dt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"countSegment",value:function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var i=e.x,n=t.x;return i>n&&(i=t.x,n=e.x),this._p.x>=i&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var r=he.index(e,t,this._p);if(r===he.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(r=-r),r===he.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==Q.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?Q.BOUNDARY:this._crossingCount%2==1?Q.INTERIOR:Q.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof j&&re(arguments[1],ce)){for(var t=arguments[1],i=new e(arguments[0]),n=new j,r=new j,o=1;o<t.size();o++)if(t.getCoordinate(o,n),t.getCoordinate(o-1,r),i.countSegment(n,r),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof j&&arguments[1]instanceof Array){for(var a=arguments[1],s=new e(arguments[0]),l=1;l<a.length;l++){var u=a[l],c=a[l-1];if(s.countSegment(u,c),s.isOnSegment())return s.getLocation()}return s.getLocation()}}}])}(),Tt=function(){function e(){i(this,e)}return o(e,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof j&&re(arguments[1],ce)){for(var e=arguments[0],t=arguments[1],i=new St,n=new j,r=new j,o=t.size(),a=1;a<o;a++)if(t.getCoordinate(a-1,n),t.getCoordinate(a,r),i.computeIntersection(e,n,r),i.hasIntersection())return!0;return!1}if(arguments[0]instanceof j&&arguments[1]instanceof Array){for(var s=arguments[0],l=arguments[1],u=new St,c=1;c<l.length;c++){var h=l[c-1],g=l[c];if(u.computeIntersection(s,h,g),u.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,t){return Dt.locatePointInRing(e,t)}},{key:"isInRing",value:function(t,i){return e.locateInRing(t,i)!==Q.EXTERIOR}}])}(),Rt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"setAllLocations",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==Q.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]===Q.NONE&&(this.location[t]=e)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[$.ON]=this.location[$.ON],t[$.LEFT]=Q.NONE,t[$.RIGHT]=Q.NONE,this.location=t}for(var i=0;i<this.location.length;i++)this.location[i]===Q.NONE&&i<e.location.length&&(this.location[i]=e.location[i])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[$.LEFT];this.location[$.LEFT]=this.location[$.RIGHT],this.location[$.RIGHT]=e}},{key:"toString",value:function(){var e=new oe;return this.location.length>1&&e.append(Q.toLocationSymbol(this.location[$.LEFT])),e.append(Q.toLocationSymbol(this.location[$.ON])),this.location.length>1&&e.append(Q.toLocationSymbol(this.location[$.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,t,i){this.location[$.ON]=e,this.location[$.LEFT]=t,this.location[$.RIGHT]=i}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:Q.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===Q.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var e=arguments[0];this.setLocation($.ON,e)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];this.location[t]=i}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(Q.NONE)}},{key:"isEqualOnSide",value:function(e,t){return this.location[t]===e.location[t]}},{key:"allPositionsEqual",value:function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[$.ON]=i}else if(arguments[0]instanceof e){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[$.ON]=o,this.location[$.LEFT]=a,this.location[$.RIGHT]=s}}}])}(),Lt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,t){this.elt[e].setAllLocations(t)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];this.elt[t].setAllLocationsIfNull(i)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Rt(e.elt[t]):this.elt[t].merge(e.elt[t])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get($.ON)}if(2===arguments.length){var t=arguments[0],i=arguments[1];return this.elt[t].get(i)}}},{key:"toString",value:function(){var e=new oe;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation($.ON,t)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.elt[i].setLocation(n,r)}}},{key:"isEqualOnSide",value:function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}},{key:"allPositionsEqual",value:function(e,t){return this.elt[e].allPositionsEqual(t)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new Rt(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Rt(t),this.elt[1]=new Rt(t)}else if(arguments[0]instanceof e){var i=arguments[0];this.elt[0]=new Rt(i.elt[0]),this.elt[1]=new Rt(i.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new Rt(Q.NONE),this.elt[1]=new Rt(Q.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Rt(o,a,s),this.elt[1]=new Rt(o,a,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Rt(Q.NONE,Q.NONE,Q.NONE),this.elt[1]=new Rt(Q.NONE,Q.NONE,Q.NONE),this.elt[l].setLocations(u,c,h)}}},{key:"toLineLabel",value:function(t){for(var i=new e(Q.NONE),n=0;n<2;n++)i.setLocation(n,t.getLocation(n));return i}}])}(),Nt=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=he.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(e){this._startDe=e;var t=e,i=!0;do{if(null===t)throw new de("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new de("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var n=t.getLabel();B.isTrue(n.isArea()),this.mergeLabel(n),this.addPoints(t.getEdge(),t.isForward(),i),i=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(e){return this._pts.get(e)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(e,t,i){var n=e.getCoordinates();if(t){var r=1;i&&(r=0);for(var o=r;o<n.length;o++)this._pts.add(n[o])}else{var a=n.length-2;i&&(a=n.length-1);for(var s=a;s>=0;s--)this._pts.add(n[s])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)}},{key:"containsPoint",value:function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!Tt.isInRing(e,t.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(e))return!1;return!0}},{key:"addHole",value:function(e){this._holes.add(e)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],i=arguments[0].getLocation(t,$.RIGHT);if(i===Q.NONE)return null;if(this._label.getLocation(t)===Q.NONE)return this._label.setLocation(t,i),null}}},{key:"setShell",value:function(e){this._shell=e,null!==e&&e.addHole(this)}},{key:"toPolygon",value:function(e){for(var t=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)t[i]=this._holes.get(i).getLinearRing();return e.createPolygon(this.getLinearRing(),t)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new me,this._pts=new me,this._label=new Lt(Q.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new me,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}}]),Ot=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"setEdgeRing",value:function(e,t){e.setMinEdgeRing(t)}},{key:"getNext",value:function(e){return e.getNextMin()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Nt.constructor_.call(this,e,t)}}])}(Nt),Ft=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"buildMinimalRings",value:function(){var e=new me,t=this._startDe;do{if(null===t.getMinEdgeRing()){var i=new Ot(t,this._geometryFactory);e.add(i)}t=t.getNext()}while(t!==this._startDe);return e}},{key:"setEdgeRing",value:function(e,t){e.setEdgeRing(t)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}},{key:"getNext",value:function(e){return e.getNext()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Nt.constructor_.call(this,e,t)}}])}(Nt),Bt=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(e){this._isVisited=e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(e){this._label=e}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(e){this._isCovered=e,this._isCoveredSet=!0}},{key:"updateIM",value:function(e){B.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}}}]),Gt=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"isIncidentEdgeInResult",value:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(e){e.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(e){}},{key:"computeMergedLocation",value:function(e,t){var i=Q.NONE;if(i=this._label.getLocation(t),!e.isNull(t)){var n=e.getLocation(t);i!==Q.BOUNDARY&&(i=n)}return i}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return g(n,"setLabel",this,1).apply(this,arguments);var e=arguments[0],t=arguments[1];null===this._label?this._label=new Lt(e,t):this._label.setLocation(e,t)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof n){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Lt)for(var t=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(t,i);this._label.getLocation(i)===Q.NONE&&this._label.setLocation(i,r)}}},{key:"add",value:function(e){this._edges.insert(e),e.setNode(this)}},{key:"setLabelBoundary",value:function(e){if(null===this._label)return null;var t=Q.NONE;null!==this._label&&(t=this._label.getLocation(e));var i=null;switch(t){case Q.BOUNDARY:i=Q.INTERIOR;break;case Q.INTERIOR:default:i=Q.BOUNDARY}this._label.setLocation(e,i)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new Lt(0,Q.NONE)}}])}(Bt),zt=function(e){function n(){return i(this,n),t(this,n,arguments)}return u(n,e),o(n)}(tt);function Ht(e){return null==e?0:e.color}function jt(e){return null==e?null:e.parent}function Vt(e,t){null!==e&&(e.color=t)}function Ut(e){return null==e?null:e.left}function Wt(e){return null==e?null:e.right}var Qt=function(e){function n(){var e;return i(this,n),(e=t(this,n)).root_=null,e.size_=0,e}return u(n,e),o(n,[{key:"get",value:function(e){for(var t=this.root_;null!==t;){var i=e.compareTo(t.key);if(i<0)t=t.left;else{if(!(i>0))return t.value;t=t.right}}return null}},{key:"put",value:function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var i,n,r=this.root_;do{if(i=r,(n=e.compareTo(r.key))<0)r=r.left;else{if(!(n>0)){var o=r.value;return r.value=t,o}r=r.right}}while(null!==r);var a={key:e,left:null,right:null,value:t,parent:i,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return n<0?i.left=a:i.right=a,this.fixAfterInsertion(a),this.size_++,null}},{key:"fixAfterInsertion",value:function(e){var t;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)jt(e)===Ut(jt(jt(e)))?1===Ht(t=Wt(jt(jt(e))))?(Vt(jt(e),0),Vt(t,0),Vt(jt(jt(e)),1),e=jt(jt(e))):(e===Wt(jt(e))&&(e=jt(e),this.rotateLeft(e)),Vt(jt(e),0),Vt(jt(jt(e)),1),this.rotateRight(jt(jt(e)))):1===Ht(t=Ut(jt(jt(e))))?(Vt(jt(e),0),Vt(t,0),Vt(jt(jt(e)),1),e=jt(jt(e))):(e===Ut(jt(e))&&(e=jt(e),this.rotateRight(e)),Vt(jt(e),0),Vt(jt(jt(e)),1),this.rotateLeft(jt(jt(e))));this.root_.color=0}},{key:"values",value:function(){var e=new me,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=n.successor(t));)e.add(t.value);return e}},{key:"entrySet",value:function(){var e=new q,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=n.successor(t));)e.add(t);return e}},{key:"rotateLeft",value:function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}}},{key:"rotateRight",value:function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}}},{key:"getFirstEntry",value:function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(e){for(var t=this.root_;null!==t;){var i=e.compareTo(t.key);if(i<0)t=t.left;else{if(!(i>0))return!0;t=t.right}}return!1}}],[{key:"successor",value:function(e){var t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var i=e;null!==t&&i===t.right;)i=t,t=t.parent;return t}}])}(zt),Yt=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"find",value:function(e){return this.nodeMap.get(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof j){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Gt){var i=arguments[0],n=this.nodeMap.get(i.getCoordinate());return null===n?(this.nodeMap.put(i.getCoordinate(),i),i):(n.mergeLabel(i),n)}}},{key:"print",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(e){for(var t=new me,i=this.iterator();i.hasNext();){var n=i.next();n.getLabel().getLocation(e)===Q.BOUNDARY&&t.add(n)}return t}},{key:"add",value:function(e){var t=e.getCoordinate();this.addNode(t).add(e)}}],[{key:"constructor_",value:function(){this.nodeMap=new Qt,this.nodeFact=null;var e=arguments[0];this.nodeFact=e}}]),Zt=function(){function e(){i(this,e)}return o(e,null,[{key:"isNorthern",value:function(t){return t===e.NE||t===e.NW}},{key:"isOpposite",value:function(e,t){return e!==t&&2==(e-t+4)%4}},{key:"commonHalfPlane",value:function(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;var i=e<t?e:t;return 0===i&&3===(e>t?e:t)?3:i}},{key:"isInHalfPlane",value:function(t,i){return i===e.SE?t===e.SE||t===e.SW:t===i||t===i+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],i=arguments[1];if(0===t&&0===i)throw new v("Cannot compute the quadrant for point ( "+t+", "+i+" )");return t>=0?i>=0?e.NE:e.SE:i>=0?e.NW:e.SW}if(arguments[0]instanceof j&&arguments[1]instanceof j){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?e.NE:e.SE:r.y>=n.y?e.NW:e.SW}}}])}();Zt.NE=0,Zt.NW=1,Zt.SW=2,Zt.SE=3;var Xt=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:he.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var t=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),n=i.lastIndexOf("."),r=i.substring(n+1);e.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)}},{key:"compareTo",value:function(e){var t=e;return this.compareDirection(t)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),i=t.lastIndexOf(".");return"  "+t.substring(i+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Zt.quadrant(this._dx,this._dy),B.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];e.constructor_.call(this,i,n,r,null)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];e.constructor_.call(this,o),this.init(a,s),this._label=l}}}])}(),Jt=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(e){return this._depth[e]}},{key:"setVisited",value:function(e){this._isVisited=e}},{key:"computeDirectedLabel",value:function(){this._label=new Lt(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new de("assigned depths do not match",this.getCoordinate());this._depth[e]=t}},{key:"isInteriorAreaEdge",value:function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,$.LEFT)===Q.INTERIOR&&this._label.getLocation(t,$.RIGHT)===Q.INTERIOR||(e=!1);return e}},{key:"setNextMin",value:function(e){this._nextMin=e}},{key:"print",value:function(e){g(n,"print",this,1).call(this,e),e.print(" "+this._depth[$.LEFT]+"/"+this._depth[$.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")}},{key:"setMinEdgeRing",value:function(e){this._minEdgeRing=e}},{key:"isLineEdge",value:function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,Q.EXTERIOR),i=!this._label.isArea(1)||this._label.allPositionsEqual(1,Q.EXTERIOR);return e&&t&&i}},{key:"setEdgeRing",value:function(e){this._edgeRing=e}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)}},{key:"setSym",value:function(e){this._sym=e}},{key:"setVisitedEdge",value:function(e){this.setVisited(e),this._sym.setVisited(e)}},{key:"setEdgeDepths",value:function(e,t){var i=this.getEdge().getDepthDelta();this._isForward||(i=-i);var n=1;e===$.LEFT&&(n=-1);var r=$.opposite(e),o=t+i*n;this.setDepth(e,t),this.setDepth(r,o)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(e){this._next=e}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var e=arguments[0],t=arguments[1];if(Xt.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(e,t){return e===Q.EXTERIOR&&t===Q.INTERIOR?1:e===Q.INTERIOR&&t===Q.EXTERIOR?-1:0}}])}(Xt),qt=o((function e(){i(this,e)}),[{key:"createNode",value:function(e){return new Gt(e,null)}}]),Kt=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var i=this._edges.get(t);i.print(e),i.eiList.print(e)}}},{key:"find",value:function(e){return this._nodes.find(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof Gt){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof j){var t=arguments[0];return this._nodes.addNode(t)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(e){ve.out.println(e)}},{key:"isBoundaryNode",value:function(e,t){var i=this._nodes.find(t);if(null===i)return!1;var n=i.getLabel();return null!==n&&n.getLocation(e)===Q.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(e,t,i,n){return!!e.equals(i)&&he.index(e,t,n)===he.COLLINEAR&&Zt.quadrant(e,t)===Zt.quadrant(i,n)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(e){ve.out.print(e)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(e,t){for(var i=0;i<this._edges.size();i++){var n=this._edges.get(i),r=n.getCoordinates();if(this.matchInSameDirection(e,t,r[0],r[1]))return n;if(this.matchInSameDirection(e,t,r[r.length-1],r[r.length-2]))return n}return null}},{key:"insertEdge",value:function(e){this._edges.add(e)}},{key:"findEdgeEnd",value:function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var i=t.next();if(i.getEdge()===e)return i}return null}},{key:"addEdges",value:function(e){for(var t=e.iterator();t.hasNext();){var i=t.next();this._edges.add(i);var n=new Jt(i,!0),r=new Jt(i,!1);n.setSym(r),r.setSym(n),this.add(n),this.add(r)}}},{key:"add",value:function(e){this._nodes.add(e),this._edgeEndList.add(e)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(e,t){for(var i=0;i<this._edges.size();i++){var n=this._edges.get(i),r=n.getCoordinates();if(e.equals(r[0])&&t.equals(r[1]))return n}return null}}],[{key:"constructor_",value:function(){if(this._edges=new me,this._nodes=null,this._edgeEndList=new me,0===arguments.length)this._nodes=new Yt(new qt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Yt(e)}}},{key:"linkResultDirectedEdges",value:function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}}]),$t=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"sortShellsAndHoles",value:function(e,t,i){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()?i.add(r):t.add(r)}}},{key:"computePolygons",value:function(e){for(var t=new me,i=e.iterator();i.hasNext();){var n=i.next().toPolygon(this._geometryFactory);t.add(n)}return t}},{key:"placeFreeHoles",value:function(t,i){for(var n=i.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var o=e.findEdgeRingContaining(r,t);if(null===o)throw new de("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(o)}}}},{key:"buildMinimalEdgeRings",value:function(e,t,i){for(var n=new me,r=e.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):i.addAll(a)}else n.add(o)}return n}},{key:"buildMaximalEdgeRings",value:function(e){for(var t=new me,i=e.iterator();i.hasNext();){var n=i.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var r=new Ft(n,this._geometryFactory);t.add(r),r.setInResult()}}return t}},{key:"placePolygonHoles",value:function(e,t){for(var i=t.iterator();i.hasNext();){var n=i.next();n.isHole()&&n.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var t=0,i=null,n=e.iterator();n.hasNext();){var r=n.next();r.isHole()||(i=r,t++)}return B.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),i}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],i=arguments[1];Kt.linkResultDirectedEdges(i);var n=this.buildMaximalEdgeRings(t),r=new me,o=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new me;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,t){for(var i=e.getLinearRing(),n=i.getEnvelopeInternal(),r=i.getCoordinateN(0),o=null,a=null,s=t.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();if(!c.equals(n)&&c.contains(n)){r=Ze.ptNotInList(i.getCoordinates(),u.getCoordinates());var h=!1;Tt.isInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(a=(o=l).getLinearRing().getEnvelopeInternal())}}return o}}])}(),ei=o((function e(){i(this,e)}),[{key:"getBounds",value:function(){}}]),ti=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[ei,b]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}}]),ii=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(e){for(var t=null,i=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(i)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,i)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new me,this._items.add(null)}}]),ni=o((function e(){i(this,e)}),[{key:"insert",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"query",value:function(){}}]),ri=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(e){B.isTrue(null===this._bounds),this._childBoundables.add(e)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[ei,b]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new me,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}}}]),oi={reverseOrder:function(){return{compare:function(e,t){return t.compareTo(e)}}},min:function(e){return oi.sort(e),e.get(0)},sort:function(e,t){var i=e.toArray();t?Le.sort(i,t):Le.sort(i);for(var n=e.iterator(),r=0,o=i.length;r<o;r++)n.next(),n.set(i[r])},singletonList:function(e){var t=new me;return t.add(e),t}},ai=function(){function e(){i(this,e)}return o(e,null,[{key:"maxDistance",value:function(t,i,n,r,o,a,s,l){var u=e.distance(t,i,o,a);return u=Math.max(u,e.distance(t,i,s,l)),u=Math.max(u,e.distance(n,r,o,a)),Math.max(u,e.distance(n,r,s,l))}},{key:"distance",value:function(e,t,i,n){var r=i-e,o=n-t;return Math.sqrt(r*r+o*o)}},{key:"maximumDistance",value:function(t,i){var n=Math.min(t.getMinX(),i.getMinX()),r=Math.min(t.getMinY(),i.getMinY()),o=Math.max(t.getMaxX(),i.getMaxX()),a=Math.max(t.getMaxY(),i.getMaxY());return e.distance(n,r,o,a)}},{key:"minMaxDistance",value:function(t,i){var n=t.getMinX(),r=t.getMinY(),o=t.getMaxX(),a=t.getMaxY(),s=i.getMinX(),l=i.getMinY(),u=i.getMaxX(),c=i.getMaxY(),h=e.maxDistance(n,r,n,a,s,l,s,c);return h=Math.min(h,e.maxDistance(n,r,n,a,s,l,u,l)),h=Math.min(h,e.maxDistance(n,r,n,a,u,c,s,c)),h=Math.min(h,e.maxDistance(n,r,n,a,u,c,u,l)),h=Math.min(h,e.maxDistance(n,r,o,r,s,l,s,c)),h=Math.min(h,e.maxDistance(n,r,o,r,s,l,u,l)),h=Math.min(h,e.maxDistance(n,r,o,r,u,c,s,c)),h=Math.min(h,e.maxDistance(n,r,o,r,u,c,u,l)),h=Math.min(h,e.maxDistance(o,a,n,a,s,l,s,c)),h=Math.min(h,e.maxDistance(o,a,n,a,s,l,u,l)),h=Math.min(h,e.maxDistance(o,a,n,a,u,c,s,c)),h=Math.min(h,e.maxDistance(o,a,n,a,u,c,u,l)),h=Math.min(h,e.maxDistance(o,a,o,r,s,l,s,c)),h=Math.min(h,e.maxDistance(o,a,o,r,s,l,u,l)),h=Math.min(h,e.maxDistance(o,a,o,r,u,c,s,c)),Math.min(h,e.maxDistance(o,a,o,r,u,c,u,l))}}])}(),si=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"maximumDistance",value:function(){return ai.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(t,i){var n=e.isComposite(this._boundable1),r=e.isComposite(this._boundable2);if(n&&r)return e.area(this._boundable1)>e.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,t,i),null):(this.expand(this._boundable2,this._boundable1,!0,t,i),null);if(n)return this.expand(this._boundable1,this._boundable2,!1,t,i),null;if(r)return this.expand(this._boundable2,this._boundable1,!0,t,i),null;throw new v("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(e.isComposite(this._boundable1)||e.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}},{key:"expand",value:function(t,i,n,r,o){for(var a=t.getChildBoundables().iterator();a.hasNext();){var s=a.next(),l=null;(l=n?new e(i,s,this._itemDistance):new e(s,i,this._itemDistance)).getDistance()<o&&r.add(l)}}},{key:"getBoundable",value:function(e){return 0===e?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],i=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=i,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof ri}}])}(),li=o((function e(){i(this,e)}),[{key:"visitItem",value:function(e){}}]),ui=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"queryInternal",value:function(){if(re(arguments[2],li)&&arguments[0]instanceof Object&&arguments[1]instanceof ri)for(var e=arguments[0],t=arguments[2],i=arguments[1].getChildBoundables(),n=0;n<i.size();n++){var r=i.get(n);this.getIntersectsOp().intersects(r.getBounds(),e)&&(r instanceof ri?this.queryInternal(e,r,t):r instanceof ti?t.visitItem(r.getItem()):B.shouldNeverReachHere())}else if(re(arguments[2],ie)&&arguments[0]instanceof Object&&arguments[1]instanceof ri)for(var o=arguments[0],a=arguments[2],s=arguments[1].getChildBoundables(),l=0;l<s.size();l++){var u=s.get(l);this.getIntersectsOp().intersects(u.getBounds(),o)&&(u instanceof ri?this.queryInternal(o,u,a):u instanceof ti?a.add(u.getItem()):B.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var i=t.next();i instanceof ri?e+=this.size(i):i instanceof ti&&(e+=1)}return e}}},{key:"removeItem",value:function(e,t){for(var i=null,n=e.getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof ti&&r.getItem()===t&&(i=r)}return null!==i&&(e.getChildBoundables().remove(i),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new me:e}if(1===arguments.length){for(var t=arguments[0],i=new me,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof ri){var o=this.itemsTree(r);null!==o&&i.add(o)}else r instanceof ti?i.add(r.getItem()):B.shouldNeverReachHere()}return i.size()<=0?null:i}}},{key:"insert",value:function(e,t){B.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ti(e,t))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var e=arguments[0],t=new me;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];if(B.isTrue(i>-2),n.getLevel()===i)return r.add(n),null;for(var o=n.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof ri?this.boundablesAtLevel(i,a,r):(B.isTrue(a instanceof ti),-1===i&&r.add(a))}return null}}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new me;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t}if(2===arguments.length){var i=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.queryInternal(i,this._root,n)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=this.removeItem(n,r);if(o)return!0;for(var a=null,s=n.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),i)&&l instanceof ri&&(o=this.remove(i,l,r))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(a),o}}},{key:"createHigherLevels",value:function(e,t){B.isTrue(!e.isEmpty());var i=this.createParentBoundables(e,t+1);return 1===i.size()?i.get(0):this.createHigherLevels(i,t+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var i=t.next();if(i instanceof ri){var n=this.depth(i);n>e&&(e=n)}}return e+1}}},{key:"createParentBoundables",value:function(e,t){B.isTrue(!e.isEmpty());var i=new me;i.add(this.createNode(t));var n=new me(e);oi.sort(n,this.getComparator());for(var r=n.iterator();r.hasNext();){var o=r.next();this.lastNode(i).getChildBoundables().size()===this.getNodeCapacity()&&i.add(this.createNode(t)),this.lastNode(i).addChildBoundable(o)}return i}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new me,this._nodeCapacity=null,0===arguments.length)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];B.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}},{key:"compareDoubles",value:function(e,t){return e>t?1:e<t?-1:0}}])}();ui.IntersectsOp=function(){},ui.DEFAULT_NODE_CAPACITY=10;var ci=o((function e(){i(this,e)}),[{key:"distance",value:function(e,t){}}]),hi=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"createParentBoundablesFromVerticalSlices",value:function(e,t){B.isTrue(e.length>0);for(var i=new me,n=0;n<e.length;n++)i.addAll(this.createParentBoundablesFromVerticalSlice(e[n],t));return i}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.nearestNeighbourK(e,L.POSITIVE_INFINITY,t)}if(3===arguments.length){var i=arguments[0],r=arguments[2],o=arguments[1],a=new ii;a.add(i);for(var s=new ii;!a.isEmpty()&&o>=0;){var l=a.poll(),u=l.getDistance();if(u>=o)break;l.isLeaves()?s.size()<r?s.add(l):(s.peek().getDistance()>u&&(s.poll(),s.add(l)),o=s.peek().getDistance()):l.expandToQueue(a,o)}return n.getItems(s)}}},{key:"createNode",value:function(e){return new gi(e)}},{key:"size",value:function(){return 0===arguments.length?g(n,"size",this,1).call(this):g(n,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof U))return g(n,"insert",this,1).apply(this,arguments);var e=arguments[0],t=arguments[1];if(e.isNull())return null;g(n,"insert",this,1).call(this,e,t)}},{key:"getIntersectsOp",value:function(){return n.intersectsOp}},{key:"verticalSlices",value:function(e,t){for(var i=Math.trunc(Math.ceil(e.size()/t)),n=new Array(t).fill(null),r=e.iterator(),o=0;o<t;o++){n[o]=new me;for(var a=0;r.hasNext()&&a<i;){var s=r.next();n[o].add(s),a++}}return n}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];return g(n,"query",this,1).call(this,e)}if(2===arguments.length){var t=arguments[0],i=arguments[1];g(n,"query",this,1).call(this,t,i)}}},{key:"getComparator",value:function(){return n.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(e,t){return g(n,"createParentBoundables",this,1).call(this,e,t)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof U){var e=arguments[0],t=arguments[1];return g(n,"remove",this,1).call(this,e,t)}return g(n,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?g(n,"depth",this,1).call(this):g(n,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(e,t){B.isTrue(!e.isEmpty());var i=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),r=new me(e);oi.sort(r,n.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,t)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(re(arguments[0],ci)){var e=arguments[0];if(this.isEmpty())return null;var t=new si(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof si){var i=arguments[0],n=L.POSITIVE_INFINITY,r=null,o=new ii;for(o.add(i);!o.isEmpty()&&n>0;){var a=o.poll(),s=a.getDistance();if(s>=n)break;a.isLeaves()?(n=s,r=a):a.expandToQueue(o,n)}return null===r?null:[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else{if(2===arguments.length){var l=arguments[0],u=arguments[1];if(this.isEmpty()||l.isEmpty())return null;var c=new si(this.getRoot(),l.getRoot(),u);return this.nearestNeighbour(c)}if(3===arguments.length){var h=arguments[2],g=new ti(arguments[0],arguments[1]),d=new si(this.getRoot(),g,h);return this.nearestNeighbour(d)[0]}if(4===arguments.length){var p=arguments[2],m=arguments[3],f=new ti(arguments[0],arguments[1]),C=new si(this.getRoot(),f,p);return this.nearestNeighbourK(C,m)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],i=L.POSITIVE_INFINITY,n=new ii;for(n.add(e);!n.isEmpty();){var r=n.poll(),o=r.getDistance();if(o>t)return!1;if(r.maximumDistance()<=t)return!0;if(r.isLeaves()){if((i=o)<=t)return!0}else r.expandToQueue(n,i)}return!1}if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],u=new si(this.getRoot(),a.getRoot(),s);return this.isWithinDistance(u,l)}}},{key:"interfaces_",get:function(){return[ni,b]}}],[{key:"constructor_",value:function(){if(0===arguments.length)n.constructor_.call(this,n.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];ui.constructor_.call(this,e)}}},{key:"centreX",value:function(e){return n.avg(e.getMinX(),e.getMaxX())}},{key:"avg",value:function(e,t){return(e+t)/2}},{key:"getItems",value:function(e){for(var t=new Array(e.size()).fill(null),i=0;!e.isEmpty();){var n=e.poll();t[i]=n.getBoundable(0).getItem(),i++}return t}},{key:"centreY",value:function(e){return n.avg(e.getMinY(),e.getMaxY())}}])}(ui),gi=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"computeBounds",value:function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var i=t.next();null===e?e=new U(i.getBounds()):e.expandToInclude(i.getBounds())}return e}}],[{key:"constructor_",value:function(){var e=arguments[0];ri.constructor_.call(this,e)}}])}(ri);hi.STRtreeNode=gi,hi.xComparator=new(o((function e(){i(this,e)}),[{key:"interfaces_",get:function(){return[N]}},{key:"compare",value:function(e,t){return ui.compareDoubles(hi.centreX(e.getBounds()),hi.centreX(t.getBounds()))}}])),hi.yComparator=new(o((function e(){i(this,e)}),[{key:"interfaces_",get:function(){return[N]}},{key:"compare",value:function(e,t){return ui.compareDoubles(hi.centreY(e.getBounds()),hi.centreY(t.getBounds()))}}])),hi.intersectsOp=new(o((function e(){i(this,e)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(e,t){return e.intersects(t)}}])),hi.DEFAULT_NODE_CAPACITY=10;var di=function(){function e(){i(this,e)}return o(e,null,[{key:"relativeSign",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"compare",value:function(t,i,n){if(i.equals2D(n))return 0;var r=e.relativeSign(i.x,n.x),o=e.relativeSign(i.y,n.y);switch(t){case 0:return e.compareValue(r,o);case 1:return e.compareValue(o,r);case 2:return e.compareValue(o,-r);case 3:return e.compareValue(-r,o);case 4:return e.compareValue(-r,-o);case 5:return e.compareValue(-o,-r);case 6:return e.compareValue(-o,r);case 7:return e.compareValue(r,-o)}return B.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0}}])}(),pi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:this._isInterior?t._isInterior?di.compare(this._segmentOctant,this.coord,t.coord):1:-1}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];this._segString=e,this.coord=new j(t),this.segmentIndex=i,this._segmentOctant=n,this._isInterior=!t.equals2D(e.getCoordinate(i))}}]),mi=o((function e(){i(this,e)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),fi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var e=new Ye;this.addEndpoints();for(var t=this.iterator(),i=t.next();t.hasNext();){var n=t.next();this.addEdgeCoordinates(i,n,e),i=n}return e.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var e=new me;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var i=t.next().intValue();this.add(this._edge.getCoordinate(i),i)}}},{key:"createSplitEdgePts",value:function(e,t){var i=t.segmentIndex-e.segmentIndex+2;if(2===i)return[new j(e.coord),new j(t.coord)];var n=this._edge.getCoordinate(t.segmentIndex),r=t.isInterior()||!t.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),a=0;o[a++]=new j(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return r&&(o[a]=new j(t.coord)),o}},{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"findCollapsesFromExistingVertices",value:function(e){for(var t=0;t<this._edge.size()-2;t++){var i=this._edge.getCoordinate(t);this._edge.getCoordinate(t+1);var n=this._edge.getCoordinate(t+2);i.equals2D(n)&&e.add(ae.valueOf(t+1))}}},{key:"addEdgeCoordinates",value:function(e,t,i){var n=this.createSplitEdgePts(e,t);i.add(n,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),i=t.next();t.hasNext();){var n=t.next(),r=this.createSplitEdge(i,n);e.add(r),i=n}}},{key:"findCollapseIndex",value:function(e,t,i){if(!e.coord.equals2D(t.coord))return!1;var n=t.segmentIndex-e.segmentIndex;return t.isInterior()||n--,1===n&&(i[0]=e.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(e){for(var t=new Array(1).fill(null),i=this.iterator(),n=i.next();i.hasNext();){var r=i.next();this.findCollapseIndex(n,r,t)&&e.add(ae.valueOf(t[0])),n=r}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}},{key:"createSplitEdge",value:function(e,t){var i=this.createSplitEdgePts(e,t);return new Ai(i,this._edge.getData())}},{key:"add",value:function(e,t){var i=new pi(this._edge,e,t,this._edge.getSegmentOctant(t)),n=this._nodeMap.get(i);return null!==n?(B.isTrue(n.coord.equals2D(e),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(i,i),i)}},{key:"checkSplitEdgesCorrectness",value:function(e){var t=this._edge.getCoordinates(),i=e.get(0).getCoordinate(0);if(!i.equals2D(t[0]))throw new O("bad split edge start point at "+i);var n=e.get(e.size()-1).getCoordinates(),r=n[n.length-1];if(!r.equals2D(t[t.length-1]))throw new O("bad split edge end point at "+r)}}],[{key:"constructor_",value:function(){this._nodeMap=new Qt,this._edge=null;var e=arguments[0];this._edge=e}}]),Ci=function(){function e(){i(this,e)}return o(e,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],i=arguments[1];if(0===t&&0===i)throw new v("Cannot compute the octant for point ( "+t+", "+i+" )");var n=Math.abs(t),r=Math.abs(i);return t>=0?i>=0?n>=r?0:1:n>=r?7:6:i>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof j&&arguments[1]instanceof j){var o=arguments[0],a=arguments[1],s=a.x-o.x,l=a.y-o.y;if(0===s&&0===l)throw new v("Cannot compute the octant for two identical points "+o);return e.octant(s,l)}}}])}(),yi=o((function e(){i(this,e)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(e){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(e){}},{key:"getData",value:function(){}}]),vi=o((function e(){i(this,e)}),[{key:"addIntersection",value:function(e,t){}},{key:"interfaces_",get:function(){return[yi]}}]),Ai=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,t){return e.equals2D(t)?0:Ci.octant(e,t)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var i=arguments[1],n=arguments[3],r=new j(arguments[0].getIntersection(n));this.addIntersection(r,i)}}},{key:"toString",value:function(){return Pt.toLineString(new Ke(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,t){var i=t,n=i+1;if(n<this._pts.length){var r=this._pts[n];e.equals2D(r)&&(i=n)}return this._nodeList.add(e,i)}},{key:"addIntersections",value:function(e,t,i){for(var n=0;n<e.getIntersectionNum();n++)this.addIntersection(e,t,i,n)}},{key:"interfaces_",get:function(){return[vi]}}],[{key:"constructor_",value:function(){this._nodeList=new fi(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var t=arguments[0],i=new me;return e.getNodedSubstrings(t,i),i}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)}}])}(),Ii=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof e){var t=arguments[0],i=he.index(this.p0,this.p1,t.p0),n=he.index(this.p0,this.p1,t.p1);return i>=0&&n>=0||i<=0&&n<=0?Math.max(i,n):0}if(arguments[0]instanceof j){var r=arguments[0];return he.index(this.p0,this.p1,r)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var i=t;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)}},{key:"intersection",value:function(e){var t=new St;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new j(t);var i=this.projectionFactor(t),n=new j;return n.x=this.p0.x+i*(this.p1.x-this.p0.x),n.y=this.p0.y+i*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof e){var r=arguments[0],o=this.projectionFactor(r.p0),a=this.projectionFactor(r.p1);if(o>=1&&a>=1)return null;if(o<=0&&a<=0)return null;var s=this.project(r.p0);o<0&&(s=this.p0),o>1&&(s=this.p1);var l=this.project(r.p1);return a<0&&(l=this.p0),a>1&&(l=this.p1),new e(s,l)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return 0===e?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return Ie.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return e.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,n=t*t+i*i;return n<=0?L.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*i)/n}},{key:"closestPoints",value:function(e){var t=this.intersection(e);if(null!==t)return[t,t];var i=new Array(2).fill(null),n=L.MAX_VALUE,r=null,o=this.closestPoint(e.p0);n=o.distance(e.p0),i[0]=o,i[1]=e.p0;var a=this.closestPoint(e.p1);(r=a.distance(e.p1))<n&&(n=r,i[0]=a,i[1]=e.p1);var s=e.closestPoint(this.p0);(r=s.distance(this.p0))<n&&(n=r,i[0]=this.p0,i[1]=s);var l=e.closestPoint(this.p1);return(r=l.distance(this.p1))<n&&(n=r,i[0]=this.p1,i[1]=l),i}},{key:"closestPoint",value:function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var t=e,i=this.p0.compareTo(t.p0);return 0!==i?i:this.p1.compareTo(t.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return ye.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,t){var i=this.p0.x+e*(this.p1.x-this.p0.x),n=this.p0.y+e*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(r*r+o*o),s=0,l=0;if(0!==t){if(a<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=t*r/a,l=t*o/a}return new j(i-l,n+s)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=i.x,this.p1.y=i.y}}},{key:"segmentFraction",value:function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||L.isNaN(t))&&(t=1),t}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var t=this.p1.getY()-this.p0.getY(),i=this.p0.getX()-this.p1.getX(),n=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),r=t*t+i*i,o=t*t-i*i,a=e.getX(),s=e.getY();return new j((-o*a-2*t*i*s-2*t*n)/r,(o*s-2*t*i*a-2*i*n)/r)}},{key:"distance",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return Ie.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof j){var i=arguments[0];return Ie.pointToSegment(i,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var t=new j;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}},{key:"hashCode",value:function(){var e=L.doubleToLongBits(this.p0.x);e^=31*L.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),i=L.doubleToLongBits(this.p1.x);return i^=31*L.doubleToLongBits(this.p1.y),t^Math.trunc(i)^Math.trunc(i>>32)}},{key:"interfaces_",get:function(){return[I,b]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)e.constructor_.call(this,new j,new j);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.p0,t.p1)}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.p0=i,this.p1=n}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];e.constructor_.call(this,new j(r,o),new j(a,s))}}},{key:"midPoint",value:function(e,t){return new j((e.x+t.x)/2,(e.y+t.y)/2)}}])}(),wi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],i=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Ii,this._overlapSeg2=new Ii}}]),bi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}},{key:"computeSelect",value:function(e,t,i,n){var r=this._pts[t],o=this._pts[i];if(i-t==1)return n.select(this,t),null;if(!e.intersects(r,o))return null;var a=Math.trunc((t+i)/2);t<a&&this.computeSelect(e,t,a,n),a<i&&this.computeSelect(e,a,i,n)}},{key:"getCoordinates",value:function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,i=this._start;i<=this._end;i++)e[t++]=this._pts[i];return e}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5];if(n-i==1&&a-o==1)return s.overlap(this,i,r,o),null;if(!this.overlaps(i,n,r,o,a))return null;var l=Math.trunc((i+n)/2),u=Math.trunc((o+a)/2);i<l&&(o<u&&this.computeOverlaps(i,l,r,o,u,s),u<a&&this.computeOverlaps(i,l,r,u,a,s)),l<n&&(o<u&&this.computeOverlaps(l,n,r,o,u,s),u<a&&this.computeOverlaps(l,n,r,u,a,s))}}},{key:"setId",value:function(e){this._id=e}},{key:"select",value:function(e,t){this.computeSelect(e,this._start,this._end,t)}},{key:"getEnvelope",value:function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new U(e,t)}return this._env}},{key:"overlaps",value:function(e,t,i,n,r){return U.intersects(this._pts[e],this._pts[t],i._pts[n],i._pts[r])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];this._pts=e,this._start=t,this._end=i,this._context=n}}]),Ei=function(){function e(){i(this,e)}return o(e,null,[{key:"findChainEnd",value:function(e,t){for(var i=t;i<e.length-1&&e[i].equals2D(e[i+1]);)i++;if(i>=e.length-1)return e.length-1;for(var n=Zt.quadrant(e[i],e[i+1]),r=t+1;r<e.length&&(e[r-1].equals2D(e[r])||Zt.quadrant(e[r-1],e[r])===n);)r++;return r-1}},{key:"getChains",value:function(){if(1===arguments.length){var t=arguments[0];return e.getChains(t,null)}if(2===arguments.length){var i=arguments[0],n=arguments[1],r=new me,o=0;do{var a=e.findChainEnd(i,o),s=new bi(i,o,a,n);r.add(s),o=a}while(o<i.length-1);return r}}}])}(),xi=o((function e(){i(this,e)}),[{key:"computeNodes",value:function(e){}},{key:"getNodedSubstrings",value:function(){}}]),_i=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(e){this._segInt=e}},{key:"interfaces_",get:function(){return[xi]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}}}]),ki=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Ai.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(e){for(var t=Ei.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var i=t.next();i.setId(this._idCounter++),this._index.insert(i.getEnvelope(),i),this._monoChains.add(i)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var e=new Pi(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var i=t.next(),n=this._index.query(i.getEnvelope()).iterator();n.hasNext();){var r=n.next();if(r.getId()>i.getId()&&(i.computeOverlaps(r,e),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new me,this._index=new hi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var e=arguments[0];_i.constructor_.call(this,e)}}}])}(_i),Pi=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"overlap",value:function(){if(4!==arguments.length)return g(n,"overlap",this,1).apply(this,arguments);var e=arguments[1],t=arguments[2],i=arguments[3],r=arguments[0].getContext(),o=t.getContext();this._si.processIntersections(r,e,o,i)}}],[{key:"constructor_",value:function(){this._si=null;var e=arguments[0];this._si=e}}])}(wi);ki.SegmentOverlapAction=Pi;var Mi=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isDeletable",value:function(e,t,i,n){var r=this._inputLine[e],o=this._inputLine[t],a=this._inputLine[i];return!!this.isConcave(r,o,a)&&!!this.isShallow(r,o,a,n)&&this.isShallowSampled(r,o,e,i,n)}},{key:"deleteShallowConcavities",value:function(){for(var t=1,i=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(i),r=!1;n<this._inputLine.length;){var o=!1;this.isDeletable(t,i,n,this._distanceTol)&&(this._isDeleted[i]=e.DELETE,o=!0,r=!0),t=o?n:i,i=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(i)}return r}},{key:"isShallowConcavity",value:function(e,t,i,n){return he.index(e,t,i)===this._angleOrientation&&Ie.pointToSegment(t,e,i)<n}},{key:"isShallowSampled",value:function(t,i,n,r,o){var a=Math.trunc((r-n)/e.NUM_PTS_TO_CHECK);a<=0&&(a=1);for(var s=n;s<r;s+=a)if(!this.isShallow(t,i,this._inputLine[s],o))return!1;return!0}},{key:"isConcave",value:function(e,t,i){return he.index(e,t,i)===this._angleOrientation}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=he.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(t){for(var i=t+1;i<this._inputLine.length&&this._isDeleted[i]===e.DELETE;)i++;return i}},{key:"isShallow",value:function(e,t,i,n){return Ie.pointToSegment(t,e,i)<n}},{key:"collapseLine",value:function(){for(var t=new Ye,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==e.DELETE&&t.add(this._inputLine[i]);return t.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=he.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(t,i){return new e(t).simplify(i)}}])}();Mi.INIT=0,Mi.DELETE=1,Mi.KEEP=1,Mi.NUM_PTS_TO_CHECK=10;var Si=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getCoordinates",value:function(){return this._ptList.toArray(e.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var t=new j(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,t){if(t)for(var i=0;i<e.length;i++)this.addPt(e[i]);else for(var n=e.length-1;n>=0;n--)this.addPt(e[n])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new at).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new j(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new me}}])}();Si.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Di=function(){function e(){i(this,e)}return o(e,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(t){for(;t>Math.PI;)t-=e.PI_TIMES_2;for(;t<=-Math.PI;)t+=e.PI_TIMES_2;return t}},{key:"angle",value:function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],i=arguments[1],n=i.x-t.x,r=i.y-t.y;return Math.atan2(r,n)}}},{key:"isAcute",value:function(e,t,i){var n=e.x-t.x,r=e.y-t.y;return n*(i.x-t.x)+r*(i.y-t.y)>0}},{key:"isObtuse",value:function(e,t,i){var n=e.x-t.x,r=e.y-t.y;return n*(i.x-t.x)+r*(i.y-t.y)<0}},{key:"interiorAngle",value:function(t,i,n){var r=e.angle(i,t),o=e.angle(i,n);return Math.abs(o-r)}},{key:"normalizePositive",value:function(t){if(t<0){for(;t<0;)t+=e.PI_TIMES_2;t>=e.PI_TIMES_2&&(t=0)}else{for(;t>=e.PI_TIMES_2;)t-=e.PI_TIMES_2;t<0&&(t=0)}return t}},{key:"angleBetween",value:function(t,i,n){var r=e.angle(i,t),o=e.angle(i,n);return e.diff(r,o)}},{key:"diff",value:function(e,t){var i=null;return(i=e<t?t-e:e-t)>Math.PI&&(i=2*Math.PI-i),i}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(t,i){var n=Math.sin(i-t);return n>0?e.COUNTERCLOCKWISE:n<0?e.CLOCKWISE:e.NONE}},{key:"angleBetweenOriented",value:function(t,i,n){var r=e.angle(i,t),o=e.angle(i,n)-r;return o<=-Math.PI?o+e.PI_TIMES_2:o>Math.PI?o-e.PI_TIMES_2:o}}])}();Di.PI_TIMES_2=2*Math.PI,Di.PI_OVER_2=Math.PI/2,Di.PI_OVER_4=Math.PI/4,Di.COUNTERCLOCKWISE=he.COUNTERCLOCKWISE,Di.CLOCKWISE=he.CLOCKWISE,Di.NONE=he.COLLINEAR;var Ti=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"addNextSegment",value:function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=he.index(this._s0,this._s1,this._s2),n=i===he.CLOCKWISE&&this._side===$.LEFT||i===he.COUNTERCLOCKWISE&&this._side===$.RIGHT;0===i?this.addCollinear(t):n?this.addOutsideTurn(i,t):this.addInsideTurn(i,t)}},{key:"addLineEndCap",value:function(e,t){var i=new Ii(e,t),n=new Ii;this.computeOffsetSegment(i,$.LEFT,this._distance,n);var r=new Ii;this.computeOffsetSegment(i,$.RIGHT,this._distance,r);var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case C.CAP_ROUND:this._segList.addPt(n.p1),this.addDirectedFillet(t,s+Math.PI/2,s-Math.PI/2,he.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case C.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(r.p1);break;case C.CAP_SQUARE:var l=new j;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new j(n.p1.x+l.x,n.p1.y+l.y),c=new j(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,t,i,n){var r=ye.intersection(t.p0,t.p1,i.p0,i.p1);if(null!==r&&(n<=0?1:r.distance(e)/Math.abs(n))<=this._bufParams.getMitreLimit())return this._segList.addPt(r),null;this.addLimitedMitreJoin(t,i,n,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(t,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*e.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===C.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===C.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new j(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new j(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new j(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new j(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,t){this._segList.addPts(e,t)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,t,i,n,r){var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o),l=i.x-e.x,u=i.y-e.y,c=Math.atan2(u,l);n===he.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addDirectedFillet(e,s,c,n,r),this._segList.addPt(i)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,t,i){this._s1=e,this._s2=t,this._side=i,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,t,i,n){var r=this._seg0.p1,o=Di.angle(r,this._seg0.p0),a=Di.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,s=Di.normalize(o+a),l=Di.normalize(s+Math.PI),u=n*i,c=i-u*Math.abs(Math.sin(a)),h=r.x+u*Math.cos(l),g=r.y+u*Math.sin(l),d=new j(h,g),p=new Ii(r,d),m=p.pointAlongOffset(1,c),f=p.pointAlongOffset(1,-c);this._side===$.LEFT?(this._segList.addPt(m),this._segList.addPt(f)):(this._segList.addPt(f),this._segList.addPt(m))}},{key:"addDirectedFillet",value:function(e,t,i,n,r){var o=n===he.CLOCKWISE?-1:1,a=Math.abs(t-i),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,u=new j,c=0;c<s;c++){var h=t+o*c*l;u.x=e.x+r*Math.cos(h),u.y=e.y+r*Math.sin(h),this._segList.addPt(u)}}},{key:"computeOffsetSegment",value:function(e,t,i,n){var r=t===$.LEFT?1:-1,o=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(o*o+a*a),l=r*i*o/s,u=r*i*a/s;n.p0.x=e.p0.x-u,n.p0.y=e.p0.y+l,n.p1.x=e.p1.x-u,n.p1.y=e.p1.y+l}},{key:"addInsideTurn",value:function(t,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*e.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new j((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new j((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var t=new j(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}},{key:"init",value:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Si,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*e.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===C.JOIN_BEVEL||this._bufParams.getJoinStyle()===C.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,he.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ii,this._seg1=new Ii,this._offset0=new Ii,this._offset1=new Ii,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],i=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=i,this._li=new St,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===C.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}}])}();Ti.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ti.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ti.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ti.MAX_CLOSING_SEG_LEN_FACTOR=80;var Ri=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getOffsetCurve",value:function(e,t){if(this._distance=t,0===t)return null;var i=t<0,n=Math.abs(t),r=this.getSegGen(n);e.length<=1?this.computePointCurve(e[0],r):this.computeOffsetCurve(e,i,r);var o=r.getCoordinates();return i&&Ze.reverse(o),o}},{key:"computeSingleSidedBufferCurve",value:function(e,t,i){var n=this.simplifyTolerance(this._distance);if(t){i.addSegments(e,!0);var r=Mi.simplify(e,-n),o=r.length-1;i.initSideSegments(r[o],r[o-1],$.LEFT),i.addFirstSegment();for(var a=o-2;a>=0;a--)i.addNextSegment(r[a],!0)}else{i.addSegments(e,!1);var s=Mi.simplify(e,n),l=s.length-1;i.initSideSegments(s[0],s[1],$.LEFT),i.addFirstSegment();for(var u=2;u<=l;u++)i.addNextSegment(s[u],!0)}i.addLastSegment(),i.closeRing()}},{key:"computeRingBufferCurve",value:function(e,t,i){var n=this.simplifyTolerance(this._distance);t===$.RIGHT&&(n=-n);var r=Mi.simplify(e,n),o=r.length-1;i.initSideSegments(r[o-1],r[0],t);for(var a=1;a<=o;a++){var s=1!==a;i.addNextSegment(r[a],s)}i.closeRing()}},{key:"computeLineBufferCurve",value:function(e,t){var i=this.simplifyTolerance(this._distance),n=Mi.simplify(e,i),r=n.length-1;t.initSideSegments(n[0],n[1],$.LEFT);for(var o=2;o<=r;o++)t.addNextSegment(n[o],!0);t.addLastSegment(),t.addLineEndCap(n[r-1],n[r]);var a=Mi.simplify(e,-i),s=a.length-1;t.initSideSegments(a[s],a[s-1],$.LEFT);for(var l=s-2;l>=0;l--)t.addNextSegment(a[l],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()}},{key:"computePointCurve",value:function(e,t){switch(this._bufParams.getEndCapStyle()){case C.CAP_ROUND:t.createCircle(e);break;case C.CAP_SQUARE:t.createSquare(e)}}},{key:"getLineCurve",value:function(e,t){if(this._distance=t,this.isLineOffsetEmpty(t))return null;var i=Math.abs(t),n=this.getSegGen(i);if(e.length<=1)this.computePointCurve(e[0],n);else if(this._bufParams.isSingleSided()){var r=t<0;this.computeSingleSidedBufferCurve(e,r,n)}else this.computeLineBufferCurve(e,n);return n.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(t,i,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return e.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,i,r),r.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,t,i){var n=this.simplifyTolerance(this._distance);if(t){var r=Mi.simplify(e,-n),o=r.length-1;i.initSideSegments(r[o],r[o-1],$.LEFT),i.addFirstSegment();for(var a=o-2;a>=0;a--)i.addNextSegment(r[a],!0)}else{var s=Mi.simplify(e,n),l=s.length-1;i.initSideSegments(s[0],s[1],$.LEFT),i.addFirstSegment();for(var u=2;u<=l;u++)i.addNextSegment(s[u],!0)}i.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return 0===e||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new Ti(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},{key:"copyCoordinates",value:function(e){for(var t=new Array(e.length).fill(null),i=0;i<t.length;i++)t[i]=new j(e[i]);return t}}])}(),Li=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new me,i=this._subgraphs.iterator();i.hasNext();){var n=i.next(),r=n.getEnvelope();e.y<r.getMinY()||e.y>r.getMaxY()||this.findStabbedSegments(e,n.getDirectedEdges(),t)}return t}if(3===arguments.length)if(re(arguments[2],ie)&&arguments[0]instanceof j&&arguments[1]instanceof Jt){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||he.index(this._seg.p0,this._seg.p1,o)===he.RIGHT)){var c=a.getDepth($.LEFT);this._seg.p0.equals(l[u])||(c=a.getDepth($.RIGHT));var h=new Ni(this._seg,c);s.add(h)}}else if(re(arguments[2],ie)&&arguments[0]instanceof j&&re(arguments[1],ie))for(var g=arguments[0],d=arguments[2],p=arguments[1].iterator();p.hasNext();){var m=p.next();m.isForward()&&this.findStabbedSegments(g,m,d)}}},{key:"getDepth",value:function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:oi.min(t)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Ii;var e=arguments[0];this._subgraphs=e}}]),Ni=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==i||0!=(i=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?i:this._upwardSeg.compareTo(t._upwardSeg)}},{key:"compareX",value:function(e,t){var i=e.p0.compareTo(t.p0);return 0!==i?i:e.p1.compareTo(t.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new Ii(e),this._leftDepth=t}}]);Li.DepthSegment=Ni;var Oi=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,null,[{key:"constructor_",value:function(){y.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(y),Fi=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getY",value:function(){var e=this.y/this.w;if(L.isNaN(e)||L.isInfinite(e))throw new Oi;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(L.isNaN(e)||L.isInfinite(e))throw new Oi;return e}},{key:"getCoordinate",value:function(){var e=new j;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],n=arguments[1];this.x=i,this.y=n,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof j&&arguments[1]instanceof j){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],g=arguments[1],d=arguments[2],p=arguments[3],m=h.y-g.y,f=g.x-h.x,C=h.x*g.y-g.x*h.y,y=d.y-p.y,v=p.x-d.x,A=d.x*p.y-p.x*d.y;this.x=f*A-v*C,this.y=y*C-m*A,this.w=m*v-y*f}}}])}(),Bi=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"area",value:function(){return e.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return e.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(t){if(null===t)throw new v("Supplied point is null.");return e.interpolateZ(t,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return e.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return e.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return e.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return e.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return e.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return e.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],t=arguments[1],i=arguments[2];this.p0=e,this.p1=t,this.p2=i}},{key:"area",value:function(e,t,i){return Math.abs(((i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y))/2)}},{key:"signedArea",value:function(e,t,i){return((i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y))/2}},{key:"det",value:function(e,t,i,n){return e*n-t*i}},{key:"interpolateZ",value:function(e,t,i,n){var r=t.x,o=t.y,a=i.x-r,s=n.x-r,l=i.y-o,u=n.y-o,c=a*u-s*l,h=e.x-r,g=e.y-o,d=(u*h-s*g)/c,p=(-l*h+a*g)/c;return t.getZ()+d*(i.getZ()-t.getZ())+p*(n.getZ()-t.getZ())}},{key:"longestSideLength",value:function(e,t,i){var n=e.distance(t),r=t.distance(i),o=i.distance(e),a=n;return r>a&&(a=r),o>a&&(a=o),a}},{key:"circumcentreDD",value:function(e,t,i){var n=le.valueOf(e.x).subtract(i.x),r=le.valueOf(e.y).subtract(i.y),o=le.valueOf(t.x).subtract(i.x),a=le.valueOf(t.y).subtract(i.y),s=le.determinant(n,r,o,a).multiply(2),l=n.sqr().add(r.sqr()),u=o.sqr().add(a.sqr()),c=le.determinant(r,l,a,u),h=le.determinant(n,l,o,u),g=le.valueOf(i.x).subtract(c.divide(s)).doubleValue(),d=le.valueOf(i.y).add(h.divide(s)).doubleValue();return new j(g,d)}},{key:"isAcute",value:function(e,t,i){return!!Di.isAcute(e,t,i)&&!!Di.isAcute(t,i,e)&&!!Di.isAcute(i,e,t)}},{key:"circumcentre",value:function(t,i,n){var r=n.x,o=n.y,a=t.x-r,s=t.y-o,l=i.x-r,u=i.y-o,c=2*e.det(a,s,l,u),h=e.det(s,a*a+s*s,u,l*l+u*u),g=e.det(a,a*a+s*s,l,l*l+u*u);return new j(r-h/c,o+g/c)}},{key:"perpendicularBisector",value:function(e,t){var i=t.x-e.x,n=t.y-e.y,r=new Fi(e.x+i/2,e.y+n/2,1),o=new Fi(e.x-n+i/2,e.y+i+n/2,1);return new Fi(r,o)}},{key:"angleBisector",value:function(e,t,i){var n=t.distance(e),r=n/(n+t.distance(i)),o=i.x-e.x,a=i.y-e.y;return new j(e.x+r*o,e.y+r*a)}},{key:"area3D",value:function(e,t,i){var n=t.x-e.x,r=t.y-e.y,o=t.getZ()-e.getZ(),a=i.x-e.x,s=i.y-e.y,l=i.getZ()-e.getZ(),u=r*l-o*s,c=o*a-n*l,h=n*s-r*a,g=u*u+c*c+h*h;return Math.sqrt(g)/2}},{key:"centroid",value:function(e,t,i){var n=(e.x+t.x+i.x)/3,r=(e.y+t.y+i.y)/3;return new j(n,r)}},{key:"inCentre",value:function(e,t,i){var n=t.distance(i),r=e.distance(i),o=e.distance(t),a=n+r+o,s=(n*e.x+r*t.x+o*i.x)/a,l=(n*e.y+r*t.y+o*i.y)/a;return new j(s,l)}}])}(),Gi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(e,t,i,n,r){if(0===t&&e.length<je.MINIMUM_VALID_SIZE)return null;var o=n,a=r;e.length>=je.MINIMUM_VALID_SIZE&&he.isCCW(e)&&(o=r,a=n,i=$.opposite(i));var s=this._curveBuilder.getRingCurve(e,i,t);this.addCurve(s,o,a)}},{key:"addRingBothSides",value:function(e,t){this.addRingSide(e,t,$.LEFT,Q.EXTERIOR,Q.INTERIOR),this.addRingSide(e,t,$.RIGHT,Q.INTERIOR,Q.EXTERIOR)}},{key:"addPoint",value:function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),i=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(i,Q.EXTERIOR,Q.INTERIOR)}},{key:"addPolygon",value:function(e){var t=this._distance,i=$.LEFT;this._distance<0&&(t=-this._distance,i=$.RIGHT);var n=e.getExteriorRing(),r=Ze.removeRepeatedPoints(n.getCoordinates());if(this._distance<0&&this.isErodedCompletely(n,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addRingSide(r,t,i,Q.EXTERIOR,Q.INTERIOR);for(var o=0;o<e.getNumInteriorRing();o++){var a=e.getInteriorRingN(o),s=Ze.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addRingSide(s,t,$.opposite(i),Q.INTERIOR,Q.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(e,t){var i=new Bi(e[0],e[1],e[2]),n=i.inCentre();return Ie.pointToSegment(n,i.p0,i.p1)<Math.abs(t)}},{key:"addLineString",value:function(e){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var t=Ze.removeRepeatedPoints(e.getCoordinates());if(Ze.isRing(t)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(t,this._distance);else{var i=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(i,Q.EXTERIOR,Q.INTERIOR)}}},{key:"addCurve",value:function(e,t,i){if(null===e||e.length<2)return null;var n=new Ai(e,new Lt(0,Q.BOUNDARY,t,i));this._curveList.add(n)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(e){if(e.isEmpty())return null;if(e instanceof Oe)this.addPolygon(e);else if(e instanceof Se)this.addLineString(e);else if(e instanceof Te)this.addPoint(e);else if(e instanceof He)this.addCollection(e);else if(e instanceof ot)this.addCollection(e);else if(e instanceof et)this.addCollection(e);else{if(!(e instanceof ze))throw new X(e.getGeometryType());this.addCollection(e)}}},{key:"isErodedCompletely",value:function(e,t){var i=e.getCoordinates();if(i.length<4)return t<0;if(4===i.length)return this.isTriangleErodedCompletely(i,t);var n=e.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth());return t<0&&2*Math.abs(t)>r}},{key:"addCollection",value:function(e){for(var t=0;t<e.getNumGeometries();t++){var i=e.getGeometryN(t);this.add(i)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new me;var e=arguments[0],t=arguments[1],i=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=i}}]),zi=o((function e(){i(this,e)}),[{key:"locate",value:function(e){}}]),Hi=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,e.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Z;var t=this._parent.getGeometryN(this._index++);return t instanceof ze?(this._subcollectionIterator=new e(t),this._subcollectionIterator.next()):t}},{key:"remove",value:function(){throw new X(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[mi]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof ze)}}])}(),ji=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"locate",value:function(t){return e.locate(t,this._geom)}},{key:"interfaces_",get:function(){return[zi]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(t,i){if(i.isEmpty())return Q.EXTERIOR;var n=i.getExteriorRing(),r=e.locatePointInRing(t,n);if(r!==Q.INTERIOR)return r;for(var o=0;o<i.getNumInteriorRing();o++){var a=i.getInteriorRingN(o),s=e.locatePointInRing(t,a);if(s===Q.BOUNDARY)return Q.BOUNDARY;if(s===Q.INTERIOR)return Q.EXTERIOR}return Q.INTERIOR}},{key:"locatePointInRing",value:function(e,t){return t.getEnvelopeInternal().intersects(e)?Tt.locateInRing(e,t.getCoordinates()):Q.EXTERIOR}},{key:"containsPointInPolygon",value:function(t,i){return Q.EXTERIOR!==e.locatePointInPolygon(t,i)}},{key:"locateInGeometry",value:function(t,i){if(i instanceof Oe)return e.locatePointInPolygon(t,i);if(i instanceof ze)for(var n=new Hi(i);n.hasNext();){var r=n.next();if(r!==i){var o=e.locateInGeometry(t,r);if(o!==Q.EXTERIOR)return o}}return Q.EXTERIOR}},{key:"isContained",value:function(t,i){return Q.EXTERIOR!==e.locate(t,i)}},{key:"locate",value:function(t,i){return i.isEmpty()?Q.EXTERIOR:i.getEnvelopeInternal().intersects(t)?e.locateInGeometry(t,i):Q.EXTERIOR}}])}(),Vi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(e){this.getEdges();var t=this._edgeList.indexOf(e),i=t-1;return 0===t&&(i=this._edgeList.size()-1),this._edgeList.get(i)}},{key:"propagateSideLabels",value:function(e){for(var t=Q.NONE,i=this.iterator();i.hasNext();){var n=i.next().getLabel();n.isArea(e)&&n.getLocation(e,$.LEFT)!==Q.NONE&&(t=n.getLocation(e,$.LEFT))}if(t===Q.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(e,$.ON)===Q.NONE&&s.setLocation(e,$.ON,r),s.isArea(e)){var l=s.getLocation(e,$.LEFT),u=s.getLocation(e,$.RIGHT);if(u!==Q.NONE){if(u!==r)throw new de("side location conflict",a.getCoordinate());l===Q.NONE&&B.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),r=l}else B.isTrue(s.getLocation(e,$.LEFT)===Q.NONE,"found single null side"),s.setLocation(e,$.RIGHT,r),s.setLocation(e,$.LEFT,r)}}}},{key:"getCoordinate",value:function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null}},{key:"print",value:function(e){ve.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"isAreaLabelsConsistent",value:function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(e){var t=this.getEdges();if(t.size()<=0)return!0;var i=t.size()-1,n=t.get(i).getLabel().getLocation(e,$.LEFT);B.isTrue(n!==Q.NONE,"Found unlabelled area edge");for(var r=n,o=this.iterator();o.hasNext();){var a=o.next().getLabel();B.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,$.LEFT),l=a.getLocation(e,$.RIGHT);if(s===l)return!1;if(l!==r)return!1;r=s}return!0}},{key:"findIndex",value:function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new me(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(e,t,i){return this._ptInAreaLocation[e]===Q.NONE&&(this._ptInAreaLocation[e]=ji.locate(t,i[e].getGeometry())),this._ptInAreaLocation[e]}},{key:"toString",value:function(){var e=new oe;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var i=t.next();e.append(i),e.append("\n")}return e.toString()}},{key:"computeEdgeEndLabels",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)}},{key:"computeLabelling",value:function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],i=this.iterator();i.hasNext();)for(var n=i.next().getLabel(),r=0;r<2;r++)n.isLine(r)&&n.getLocation(r)===Q.BOUNDARY&&(t[r]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=Q.NONE;if(t[l])u=Q.EXTERIOR;else{var c=a.getCoordinate();u=this.getLocation(l,c,e)}s.setAllLocationsIfNull(l,u)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(e,t){this._edgeMap.put(e,t),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Qt,this._edgeList=null,this._ptInAreaLocation=[Q.NONE,Q.NONE]}}]),Ui=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var e=null,t=null,i=this._SCANNING_FOR_INCOMING,n=0;n<this._resultAreaEdgeList.size();n++){var r=this._resultAreaEdgeList.get(n),o=r.getSym();if(r.getLabel().isArea())switch(null===e&&r.isInResult()&&(e=r),i){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;t=o,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;t.setNext(r),i=this._SCANNING_FOR_INCOMING}}if(i===this._LINKING_TO_OUTGOING){if(null===e)throw new de("no outgoing dirEdge found",this.getCoordinate());B.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}}},{key:"insert",value:function(e){var t=e;this.insertEdgeEnd(t,t)}},{key:"getRightmostEdge",value:function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var i=e.get(0);if(1===t)return i;var n=e.get(t-1),r=i.getQuadrant(),o=n.getQuadrant();return Zt.isNorthern(r)&&Zt.isNorthern(o)?i:Zt.isNorthern(r)||Zt.isNorthern(o)?0!==i.getDy()?i:0!==n.getDy()?n:(B.shouldNeverReachHere("found two horizontal edges incident on node"),null):n}},{key:"print",value:function(e){ve.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var i=t.next();e.print("out "),i.print(e),e.println(),e.print("in "),i.getSym().print(e),e.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new me;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(e){for(var t=this.iterator();t.hasNext();){var i=t.next().getLabel();i.setAllLocationsIfNull(0,e.getLocation(0)),i.setAllLocationsIfNull(1,e.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var e=null,t=null,i=this._edgeList.size()-1;i>=0;i--){var n=this._edgeList.get(i),r=n.getSym();null===t&&(t=r),null!==e&&r.setNext(e),e=n}t.setNext(e)}},{key:"computeDepths",value:function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),i=e.getDepth($.LEFT),n=e.getDepth($.RIGHT),r=this.computeDepths(t+1,this._edgeList.size(),i);if(this.computeDepths(0,t,r)!==n)throw new de("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var l=this._edgeList.get(s);l.setEdgeDepths($.RIGHT,a),a=l.getDepth($.LEFT)}return a}}},{key:"mergeSymLabels",value:function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(e){for(var t=null,i=null,n=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),a=o.getSym();switch(null===t&&o.getEdgeRing()===e&&(t=o),n){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==e)continue;i=a,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==e)continue;i.setNextMin(o),n=this._SCANNING_FOR_INCOMING}}n===this._LINKING_TO_OUTGOING&&(B.isTrue(null!==t,"found null for first outgoing dirEdge"),B.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),i.setNextMin(t))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var i=arguments[0],n=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===i&&n++;return n}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var e=Q.NONE,t=this.iterator();t.hasNext();){var i=t.next(),n=i.getSym();if(!i.isLineEdge()){if(i.isInResult()){e=Q.INTERIOR;break}if(n.isInResult()){e=Q.EXTERIOR;break}}}if(e===Q.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(r===Q.INTERIOR):(a.isInResult()&&(r=Q.EXTERIOR),s.isInResult()&&(r=Q.INTERIOR))}}},{key:"computeLabelling",value:function(e){g(n,"computeLabelling",this,1).call(this,e),this._label=new Lt(Q.NONE);for(var t=this.iterator();t.hasNext();)for(var i=t.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==Q.INTERIOR&&o!==Q.BOUNDARY||this._label.setLocation(r,Q.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Vi),Wi=function(e){function n(){return i(this,n),t(this,n)}return u(n,e),o(n,[{key:"createNode",value:function(e){return new Gt(e,new Ui)}}])}(qt),Qi=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"compareTo",value:function(t){var i=t;return e.compareOriented(this._pts,this._orientation,i._pts,i._orientation)}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)}},{key:"orientation",value:function(e){return 1===Ze.increasingDirection(e)}},{key:"compareOriented",value:function(e,t,i,n){for(var r=t?1:-1,o=n?1:-1,a=t?e.length:-1,s=n?i.length:-1,l=t?0:e.length-1,u=n?0:i.length-1;;){var c=e[l].compareTo(i[u]);if(0!==c)return c;var h=(l+=r)===a,g=(u+=o)===s;if(h&&!g)return-1;if(!h&&g)return 1;if(h&&g)return 0}}}])}(),Yi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"print",value:function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var i=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var n=i.getCoordinates(),r=0;r<n.length;r++)r>0&&e.print(","),e.print(n[r].x+" "+n[r].y);e.println(")")}e.print(")  ")}},{key:"addAll",value:function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())}},{key:"findEdgeIndex",value:function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(e){return this._edges.get(e)}},{key:"findEqualEdge",value:function(e){var t=new Qi(e.getCoordinates());return this._ocaMap.get(t)}},{key:"add",value:function(e){this._edges.add(e);var t=new Qi(e.getCoordinates());this._ocaMap.put(t,e)}}],[{key:"constructor_",value:function(){this._edges=new me,this._ocaMap=new Qt}}]),Zi=o((function e(){i(this,e)}),[{key:"processIntersections",value:function(e,t,i,n){}},{key:"isDone",value:function(){}}]),Xi=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isTrivialIntersection",value:function(t,i,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(e.isAdjacentSegments(i,r))return!0;if(t.isClosed()){var o=t.size()-1;if(0===i&&r===o||0===r&&i===o)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,t,i,n){if(e===i&&t===n)return null;this.numTests++;var r=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=i.getCoordinates()[n],s=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,i,n)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),i.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Zi]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,t){return 1===Math.abs(e-t)}}])}(),Ji=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)}},{key:"compareTo",value:function(e){var t=e;return this.compare(t.segmentIndex,t.dist)}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],i=arguments[2];this.coord=new j(e),this.segmentIndex=t,this.dist=i}}]),qi=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints();for(var t=this.iterator(),i=t.next();t.hasNext();){var n=t.next(),r=this.createSplitEdge(i,n);e.add(r),i=n}}},{key:"addEndpoints",value:function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}},{key:"createSplitEdge",value:function(e,t){var i=t.segmentIndex-e.segmentIndex+2,n=this.edge.pts[t.segmentIndex],r=t.dist>0||!t.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),a=0;o[a++]=new j(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this.edge.pts[s];return r&&(o[a]=t.coord),new rn(o,new Lt(this.edge._label))}},{key:"add",value:function(e,t,i){var n=new Ji(e,t,i),r=this._nodeMap.get(n);return null!==r?r:(this._nodeMap.put(n,n),n)}},{key:"isIntersection",value:function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Qt,this.edge=null;var e=arguments[0];this.edge=e}}]),Ki=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])||e.isTrue(this._matrix[Q.INTERIOR][Q.BOUNDARY])||e.isTrue(this._matrix[Q.BOUNDARY][Q.INTERIOR])||e.isTrue(this._matrix[Q.BOUNDARY][Q.BOUNDARY]))&&this._matrix[Q.EXTERIOR][Q.INTERIOR]===ke.FALSE&&this._matrix[Q.EXTERIOR][Q.BOUNDARY]===ke.FALSE}},{key:"isCoveredBy",value:function(){return(e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])||e.isTrue(this._matrix[Q.INTERIOR][Q.BOUNDARY])||e.isTrue(this._matrix[Q.BOUNDARY][Q.INTERIOR])||e.isTrue(this._matrix[Q.BOUNDARY][Q.BOUNDARY]))&&this._matrix[Q.INTERIOR][Q.EXTERIOR]===ke.FALSE&&this._matrix[Q.BOUNDARY][Q.EXTERIOR]===ke.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var i=Math.trunc(t/3),n=t%3;this._matrix[i][n]=ke.toDimensionValue(e.charAt(t))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this._matrix[r][o]=a}}},{key:"isContains",value:function(){return e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])&&this._matrix[Q.EXTERIOR][Q.INTERIOR]===ke.FALSE&&this._matrix[Q.EXTERIOR][Q.BOUNDARY]===ke.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var i=Math.trunc(t/3),n=t%3;this.setAtLeast(i,n,ke.toDimensionValue(e.charAt(t)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this._matrix[r][o]<a&&(this._matrix[r][o]=a)}}},{key:"setAtLeastIfValid",value:function(e,t,i){e>=0&&t>=0&&this.setAtLeast(e,t,i)}},{key:"isWithin",value:function(){return e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])&&this._matrix[Q.INTERIOR][Q.EXTERIOR]===ke.FALSE&&this._matrix[Q.BOUNDARY][Q.EXTERIOR]===ke.FALSE}},{key:"isTouches",value:function(t,i){return t>i?this.isTouches(i,t):(t===ke.A&&i===ke.A||t===ke.L&&i===ke.L||t===ke.L&&i===ke.A||t===ke.P&&i===ke.A||t===ke.P&&i===ke.L)&&this._matrix[Q.INTERIOR][Q.INTERIOR]===ke.FALSE&&(e.isTrue(this._matrix[Q.INTERIOR][Q.BOUNDARY])||e.isTrue(this._matrix[Q.BOUNDARY][Q.INTERIOR])||e.isTrue(this._matrix[Q.BOUNDARY][Q.BOUNDARY]))}},{key:"isOverlaps",value:function(t,i){return t===ke.P&&i===ke.P||t===ke.A&&i===ke.A?e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])&&e.isTrue(this._matrix[Q.INTERIOR][Q.EXTERIOR])&&e.isTrue(this._matrix[Q.EXTERIOR][Q.INTERIOR]):t===ke.L&&i===ke.L&&1===this._matrix[Q.INTERIOR][Q.INTERIOR]&&e.isTrue(this._matrix[Q.INTERIOR][Q.EXTERIOR])&&e.isTrue(this._matrix[Q.EXTERIOR][Q.INTERIOR])}},{key:"isEquals",value:function(t,i){return t===i&&e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])&&this._matrix[Q.INTERIOR][Q.EXTERIOR]===ke.FALSE&&this._matrix[Q.BOUNDARY][Q.EXTERIOR]===ke.FALSE&&this._matrix[Q.EXTERIOR][Q.INTERIOR]===ke.FALSE&&this._matrix[Q.EXTERIOR][Q.BOUNDARY]===ke.FALSE}},{key:"toString",value:function(){for(var e=new qe("123456789"),t=0;t<3;t++)for(var i=0;i<3;i++)e.setCharAt(3*t+i,ke.toDimensionSymbol(this._matrix[t][i]));return e.toString()}},{key:"setAll",value:function(e){for(var t=0;t<3;t++)for(var i=0;i<3;i++)this._matrix[t][i]=e}},{key:"get",value:function(e,t){return this._matrix[e][t]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(t){if(9!==t.length)throw new v("Should be length 9: "+t);for(var i=0;i<3;i++)for(var n=0;n<3;n++)if(!e.matches(this._matrix[i][n],t.charAt(3*i+n)))return!1;return!0}},{key:"add",value:function(e){for(var t=0;t<3;t++)for(var i=0;i<3;i++)this.setAtLeast(t,i,e.get(t,i))}},{key:"isDisjoint",value:function(){return this._matrix[Q.INTERIOR][Q.INTERIOR]===ke.FALSE&&this._matrix[Q.INTERIOR][Q.BOUNDARY]===ke.FALSE&&this._matrix[Q.BOUNDARY][Q.INTERIOR]===ke.FALSE&&this._matrix[Q.BOUNDARY][Q.BOUNDARY]===ke.FALSE}},{key:"isCrosses",value:function(t,i){return t===ke.P&&i===ke.L||t===ke.P&&i===ke.A||t===ke.L&&i===ke.A?e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])&&e.isTrue(this._matrix[Q.INTERIOR][Q.EXTERIOR]):t===ke.L&&i===ke.P||t===ke.A&&i===ke.P||t===ke.A&&i===ke.L?e.isTrue(this._matrix[Q.INTERIOR][Q.INTERIOR])&&e.isTrue(this._matrix[Q.EXTERIOR][Q.INTERIOR]):t===ke.L&&i===ke.L&&0===this._matrix[Q.INTERIOR][Q.INTERIOR]}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(ke.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];e.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof e){var i=arguments[0];e.constructor_.call(this),this._matrix[Q.INTERIOR][Q.INTERIOR]=i._matrix[Q.INTERIOR][Q.INTERIOR],this._matrix[Q.INTERIOR][Q.BOUNDARY]=i._matrix[Q.INTERIOR][Q.BOUNDARY],this._matrix[Q.INTERIOR][Q.EXTERIOR]=i._matrix[Q.INTERIOR][Q.EXTERIOR],this._matrix[Q.BOUNDARY][Q.INTERIOR]=i._matrix[Q.BOUNDARY][Q.INTERIOR],this._matrix[Q.BOUNDARY][Q.BOUNDARY]=i._matrix[Q.BOUNDARY][Q.BOUNDARY],this._matrix[Q.BOUNDARY][Q.EXTERIOR]=i._matrix[Q.BOUNDARY][Q.EXTERIOR],this._matrix[Q.EXTERIOR][Q.INTERIOR]=i._matrix[Q.EXTERIOR][Q.INTERIOR],this._matrix[Q.EXTERIOR][Q.BOUNDARY]=i._matrix[Q.EXTERIOR][Q.BOUNDARY],this._matrix[Q.EXTERIOR][Q.EXTERIOR]=i._matrix[Q.EXTERIOR][Q.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],i=arguments[1];return i===ke.SYM_DONTCARE||i===ke.SYM_TRUE&&(t>=0||t===ke.TRUE)||i===ke.SYM_FALSE&&t===ke.FALSE||i===ke.SYM_P&&t===ke.P||i===ke.SYM_L&&t===ke.L||i===ke.SYM_A&&t===ke.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[1];return new e(arguments[0]).matches(n)}}},{key:"isTrue",value:function(e){return e>=0||e===ke.TRUE}}])}(),$i=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return null===e||0===e.length?null:(this.ensureCapacity(this._size+e.length),ve.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var t=Math.max(e,2*this._data.length);this._data=Le.copyOf(this._data,t)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return ve.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)e.constructor_.call(this,10);else if(1===arguments.length){var t=arguments[0];this._data=new Array(t).fill(null)}}}])}(),en=function(){function e(){i(this,e)}return o(e,[{key:"getChainStartIndices",value:function(e){var t=0,i=new $i(Math.trunc(e.length/2));i.add(t);do{var n=this.findChainEnd(e,t);i.add(n),t=n}while(t<e.length-1);return i.toArray()}},{key:"findChainEnd",value:function(e,t){for(var i=Zt.quadrant(e[t],e[t+1]),n=t+1;n<e.length&&Zt.quadrant(e[n-1],e[n])===i;)n++;return n-1}},{key:"OLDgetChainStartIndices",value:function(t){var i=0,n=new me;n.add(i);do{var r=this.findChainEnd(t,i);n.add(r),i=r}while(i<t.length-1);return e.toIntArray(n)}}],[{key:"toIntArray",value:function(e){for(var t=new Array(e.size()).fill(null),i=0;i<t.length;i++)t[i]=e.get(i).intValue();return t}}])}(),tn=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(e){var t=this.pts[this.startIndex[e]].x,i=this.pts[this.startIndex[e+1]].x;return t>i?t:i}},{key:"getMinX",value:function(e){var t=this.pts[this.startIndex[e]].x,i=this.pts[this.startIndex[e+1]].x;return t<i?t:i}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[i],t.startIndex[i+1],n)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5];if(o-r==1&&l-s==1)return u.addIntersections(this.e,r,a.e,s),null;if(!this.overlaps(r,o,a,s,l))return null;var c=Math.trunc((r+o)/2),h=Math.trunc((s+l)/2);r<c&&(s<h&&this.computeIntersectsForChain(r,c,a,s,h,u),h<l&&this.computeIntersectsForChain(r,c,a,h,l,u)),c<o&&(s<h&&this.computeIntersectsForChain(c,o,a,s,h,u),h<l&&this.computeIntersectsForChain(c,o,a,h,l,u))}}},{key:"overlaps",value:function(e,t,i,n,r){return U.intersects(this.pts[e],this.pts[t],i.pts[n],i.pts[r])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(e,t){for(var i=0;i<this.startIndex.length-1;i++)for(var n=0;n<e.startIndex.length-1;n++)this.computeIntersectsForChain(i,e,n,t)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new en;this.startIndex=t.getChainStartIndices(this.pts)}}]),nn=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getDepth",value:function(e,t){return this._depth[e][t]}},{key:"setDepth",value:function(e,t,i){this._depth[e][t]=i}},{key:"isNull",value:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var i=0;i<3;i++)if(this._depth[t][i]!==e.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===e.NULL_VALUE}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._depth[r][o]===e.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var i=1;i<3;i++){var n=0;this._depth[e][i]>t&&(n=1),this._depth[e][i]=n}}}},{key:"getDelta",value:function(e){return this._depth[e][$.RIGHT]-this._depth[e][$.LEFT]}},{key:"getLocation",value:function(e,t){return this._depth[e][t]<=0?Q.EXTERIOR:Q.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var t=arguments[0],i=0;i<2;i++)for(var n=1;n<3;n++){var r=t.getLocation(i,n);r!==Q.EXTERIOR&&r!==Q.INTERIOR||(this.isNull(i,n)?this._depth[i][n]=e.depthAtLocation(r):this._depth[i][n]+=e.depthAtLocation(r))}else if(3===arguments.length){var o=arguments[0],a=arguments[1];arguments[2]===Q.INTERIOR&&this._depth[o][a]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var i=0;i<3;i++)this._depth[t][i]=e.NULL_VALUE}},{key:"depthAtLocation",value:function(t){return t===Q.EXTERIOR?0:t===Q.INTERIOR?1:e.NULL_VALUE}}])}();nn.NULL_VALUE=-1;var rn=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new n(e,Lt.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(e){this._isIsolated=e}},{key:"setName",value:function(e){this._name=e}},{key:"equals",value:function(e){if(!(e instanceof n))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(t.pts[a])||(i=!1),this.pts[a].equals2D(t.pts[--o])||(r=!1),!i&&!r)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}}},{key:"print",value:function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(e){n.updateIM(this._label,e)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new tn(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new U;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}},{key:"addIntersection",value:function(e,t,i,n){var r=new j(e.getIntersection(n)),o=t,a=e.getEdgeDistance(i,n),s=o+1;if(s<this.pts.length){var l=this.pts[s];r.equals2D(l)&&(o=s,a=0)}this.eiList.add(r,o,a)}},{key:"toString",value:function(){var e=new qe;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()}},{key:"isPointwiseEqual",value:function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0}},{key:"setDepthDelta",value:function(e){this._depthDelta=e}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(e,t,i){for(var n=0;n<e.getIntersectionNum();n++)this.addIntersection(e,t,i,n)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new qi(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new nn,this._depthDelta=0,1===arguments.length){var e=arguments[0];n.constructor_.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],i=arguments[1];this.pts=t,this._label=i}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Ki&&arguments[0]instanceof Lt))return g(n,"updateIM",this).apply(this,arguments);var e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,$.ON),e.getLocation(1,$.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,$.LEFT),e.getLocation(1,$.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,$.RIGHT),e.getLocation(1,$.RIGHT),2))}}])}(Bt),on=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(t){var i=this._edgeList.findEqualEdge(t);if(null!==i){var n=i.getLabel(),r=t.getLabel();i.isPointwiseEqual(t)||(r=new Lt(t.getLabel())).flip(),n.merge(r);var o=e.depthDelta(r),a=i.getDepthDelta()+o;i.setDepthDelta(a)}else this._edgeList.add(t),t.setDepthDelta(e.depthDelta(t.getLabel()))}},{key:"buildSubgraphs",value:function(e,t){for(var i=new me,n=e.iterator();n.hasNext();){var r=n.next(),o=r.getRightmostCoordinate(),a=new Li(i).getDepth(o);r.computeDepth(a),r.findResultEdges(),i.add(r),t.add(r.getDirectedEdges(),r.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var t=new me,i=e.getNodes().iterator();i.hasNext();){var n=i.next();if(!n.isVisited()){var r=new Ce;r.create(n),t.add(r)}}return oi.sort(t,oi.reverseOrder()),t}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new ki,i=new St;return i.setPrecisionModel(e),t.setSegmentIntersector(new Xi(i)),t}},{key:"buffer",value:function(e,t){var i=this._workingPrecisionModel;null===i&&(i=e.getPrecisionModel()),this._geomFact=e.getFactory();var n=new Ri(i,this._bufParams),r=new Gi(e,t,n).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,i),this._graph=new Kt(new Wi),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new $t(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)}},{key:"computeNodedEdges",value:function(e,t){var i=this.getNoder(t);i.computeNodes(e);for(var n=i.getNodedSubstrings().iterator();n.hasNext();){var r=n.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=r.getData(),s=new rn(r.getCoordinates(),new Lt(a));this.insertUniqueEdge(s)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Yi;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var t=e.getLocation(0,$.LEFT),i=e.getLocation(0,$.RIGHT);return t===Q.INTERIOR&&i===Q.EXTERIOR?1:t===Q.EXTERIOR&&i===Q.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var t=new at,i=new me;e.hasNext();){var n=e.next(),r=t.createLineString(n.getCoordinates());i.add(r)}return t.buildGeometry(i)}}])}(),an=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"rescale",value:function(){if(re(arguments[0],Y))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],n=0;n<i.length;n++)i[n].x=i[n].x/this._scaleFactor+this._offsetX,i[n].y=i[n].y/this._scaleFactor+this._offsetY;2===i.length&&i[0].equals2D(i[1])&&ve.out.println(i)}}},{key:"scale",value:function(){if(re(arguments[0],Y)){for(var e=arguments[0],t=new me(e.size()),i=e.iterator();i.hasNext();){var n=i.next();t.add(new Ai(this.scale(n.getCoordinates()),n.getData()))}return t}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),a=0;a<r.length;a++)o[a]=new j(Math.round((r[a].x-this._offsetX)*this._scaleFactor),Math.round((r[a].y-this._offsetY)*this._scaleFactor),r[a].getZ());return Ze.removeRepeatedPoints(o)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}},{key:"interfaces_",get:function(){return[xi]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],i=arguments[1];e.constructor_.call(this,t,i,0,0)}else if(4===arguments.length){var n=arguments[0],r=arguments[1];this._noder=n,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}}])}(),sn=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var i=arguments[0],n=arguments[1].iterator();n.hasNext();)for(var r=n.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(i))throw new O("found endpt/interior pt intersection at index "+o+" :pt "+i)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),i=this._segStrings.iterator();i.hasNext();){var n=i.next();this.checkInteriorIntersections(t,n)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],a=r.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var u=0;u<s.length-1;u++)this.checkInteriorIntersections(r,l,o,u);else if(4===arguments.length){var c=arguments[0],h=arguments[1],g=arguments[2],d=arguments[3];if(c===g&&h===d)return null;var p=c.getCoordinates()[h],m=c.getCoordinates()[h+1],f=g.getCoordinates()[d],C=g.getCoordinates()[d+1];if(this._li.computeIntersection(p,m,f,C),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,m)||this.hasInteriorIntersection(this._li,f,C)))throw new O("found non-noded intersection at "+p+"-"+m+" and "+f+"-"+C)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var i=arguments[0].getCoordinates(),n=0;n<i.length-2;n++)this.checkCollapse(i[n],i[n+1],i[n+2])}},{key:"hasInteriorIntersection",value:function(e,t,i){for(var n=0;n<e.getIntersectionNum();n++){var r=e.getIntersection(n);if(!r.equals(t)&&!r.equals(i))return!0}return!1}},{key:"checkCollapse",value:function(t,i,n){if(t.equals(n))throw new O("found non-noded collapse at "+e.fact.createLineString([t,i,n]))}}],[{key:"constructor_",value:function(){this._li=new St,this._segStrings=null;var e=arguments[0];this._segStrings=e}}])}();sn.fact=new at;var ln=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"intersectsScaled",value:function(e,t){var i=Math.min(e.x,t.x),n=Math.max(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.y,t.y),a=this._maxx<i||this._minx>n||this._maxy<r||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return B.isTrue(!(a&&s),"Found bad envelope test"),s}},{key:"initCorners",value:function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new j(this._maxx,this._maxy),this._corner[1]=new j(this._minx,this._maxy),this._corner[2]=new j(this._minx,this._miny),this._corner[3]=new j(this._maxx,this._miny)}},{key:"intersects",value:function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var t=e.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new U(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))}},{key:"intersectsToleranceSquare",value:function(e,t){var i=!1,n=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||i&&n||e.equals(this._pt)||t.equals(this._pt)))))}},{key:"addSnappedNode",value:function(e,t){var i=e.getCoordinate(t),n=e.getCoordinate(t+1);return!!this.intersects(i,n)&&(e.addIntersection(this.getCoordinate(),t),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],i=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=i,t<=0)throw new v("Scale factor must be non-zero");1!==t&&(this._pt=new j(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new j,this._p1Scaled=new j),this.initCorners(this._pt)}}])}();ln.SAFE_ENV_EXPANSION_FACTOR=.75;var un=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Ii}}]),cn=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],a=t.getSafeEnvelope(),s=new hn(t,n,r);return this._index.query(a,new(o((function e(){i(this,e)}),[{key:"interfaces_",get:function(){return[li]}},{key:"visitItem",value:function(e){e.select(a,s)}}]))),s.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var e=arguments[0];this._index=e}}]),hn=function(e){function n(){var e;return i(this,n),e=t(this,n),n.constructor_.apply(e,arguments),e}return u(n,e),o(n,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof bi))return g(n,"select",this,1).apply(this,arguments);var e=arguments[1],t=arguments[0].getContext();if(this._parentEdge===t&&(e===this._hotPixelVertexIndex||e+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(t,e)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],t=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=i}}])}(un);cn.HotPixelSnapAction=hn;var gn=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(e,t,i,n){if(e===i&&t===n)return null;var r=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=i.getCoordinates()[n],s=i.getCoordinates()[n+1];if(this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),i.addIntersections(this._li,n,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Zi]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new me}}]),dn=o((function e(){i(this,e),e.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(e){var t=Ai.getNodedSubstrings(e),i=new sn(t);try{i.checkValid()}catch(e){if(!(e instanceof y))throw e;e.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Ai.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(e,t){var i=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(i),this.computeVertexSnaps(e)}},{key:"findInteriorIntersections",value:function(e,t){var i=new gn(t);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(e),i.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(re(arguments[0],Y))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof Ai)for(var i=arguments[0],n=i.getCoordinates(),r=0;r<n.length;r++){var o=new ln(n[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,i,r)&&i.addIntersection(n[r],r)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e,this._noder=new ki,this._pointSnapper=new cn(this._noder.getIndex()),this.snapRound(e,this._li)}},{key:"computeIntersectionSnaps",value:function(e){for(var t=e.iterator();t.hasNext();){var i=t.next(),n=new ln(i,this._scaleFactor,this._li);this._pointSnapper.snap(n)}}},{key:"interfaces_",get:function(){return[xi]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new St,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}}]),pn=function(){function e(){i(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"bufferFixedPrecision",value:function(e){var t=new an(new dn(new nt(1)),e.getScale()),i=new on(this._bufParams);i.setWorkingPrecisionModel(e),i.setNoder(t),this._resultGeometry=i.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var t=e.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(e){if(!(e instanceof de))throw e;this._saveException=e}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var i=arguments[0],n=e.precisionScaleFactor(this._argGeom,this._distance,i),r=new nt(n);this.bufferFixedPrecision(r)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===nt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new on(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof O))throw e;this._saveException=e}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new C,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],i=arguments[1];this._argGeom=t,this._bufParams=i}}},{key:"bufferOp",value:function(){if(2===arguments.length){var t=arguments[1];return new e(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof W&&"number"==typeof arguments[1]){var i=arguments[1],n=arguments[2],r=new e(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(i)}if(arguments[2]instanceof C&&arguments[0]instanceof W&&"number"==typeof arguments[1]){var o=arguments[1];return new e(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var a=arguments[1],s=arguments[2],l=arguments[3],u=new e(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(l),u.getResultGeometry(a)}}},{key:"precisionScaleFactor",value:function(e,t,i){var n=e.getEnvelopeInternal(),r=Ae.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(t>0?t:0),o=i-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)}}])}();pn.CAP_ROUND=C.CAP_ROUND,pn.CAP_BUTT=C.CAP_FLAT,pn.CAP_FLAT=C.CAP_FLAT,pn.CAP_SQUARE=C.CAP_SQUARE,pn.MAX_PRECISION_DIGITS=12;var mn=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],fn=o((function e(t){i(this,e),this.geometryFactory=t||new at}),[{key:"read",value:function(e){var t,i=(t="string"==typeof e?JSON.parse(e):e).type;if(!Cn[i])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==mn.indexOf(i)?Cn[i].call(this,t.coordinates):"GeometryCollection"===i?Cn[i].call(this,t.geometries):Cn[i].call(this,t)}},{key:"write",value:function(e){var t=e.getGeometryType();if(!yn[t])throw new Error("Geometry is not supported");return yn[t].call(this,e)}}]),Cn={Feature:function(e){var t={};for(var i in e)t[i]=e[i];if(e.geometry){var n=e.geometry.type;if(!Cn[n])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=Cn.bbox.call(this,e.bbox)),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var i=0;i<e.features.length;++i)t.features.push(this.read(e.features[i]))}return e.bbox&&(t.bbox=this.parse.bbox.call(this,e.bbox)),t},coordinates:function(e){for(var t=[],i=0;i<e.length;++i){var r=e[i];t.push(n(j,d(r)))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new j(e[0],e[1]),new j(e[2],e[1]),new j(e[2],e[3]),new j(e[0],e[3]),new j(e[0],e[1])])},Point:function(e){var t=n(j,d(e));return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],i=0;i<e.length;++i)t.push(Cn.Point.call(this,e[i]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=Cn.coordinates.call(this,e);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],i=0;i<e.length;++i)t.push(Cn.LineString.call(this,e[i]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=Cn.coordinates.call(this,e[0]),i=this.geometryFactory.createLinearRing(t),n=[],r=1;r<e.length;++r){var o=e[r],a=Cn.coordinates.call(this,o),s=this.geometryFactory.createLinearRing(a);n.push(s)}return this.geometryFactory.createPolygon(i,n)},MultiPolygon:function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i];t.push(Cn.Polygon.call(this,n))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i];t.push(this.read(n))}return this.geometryFactory.createGeometryCollection(t)}},yn={coordinate:function(e){var t=[e.x,e.y];return e.z&&t.push(e.z),e.m&&t.push(e.m),t},Point:function(e){return{type:"Point",coordinates:yn.coordinate.call(this,e.getCoordinate())}},MultiPoint:function(e){for(var t=[],i=0;i<e._geometries.length;++i){var n=e._geometries[i],r=yn.Point.call(this,n);t.push(r.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],i=e.getCoordinates(),n=0;n<i.length;++n){var r=i[n];t.push(yn.coordinate.call(this,r))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],i=0;i<e._geometries.length;++i){var n=e._geometries[i],r=yn.LineString.call(this,n);t.push(r.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],i=yn.LineString.call(this,e._shell);t.push(i.coordinates);for(var n=0;n<e._holes.length;++n){var r=e._holes[n],o=yn.LineString.call(this,r);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],i=0;i<e._geometries.length;++i){var n=e._geometries[i],r=yn.Polygon.call(this,n);t.push(r.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],i=0;i<e._geometries.length;++i){var n=e._geometries[i],r=n.getGeometryType();t.push(yn[r].call(this,n))}return{type:"GeometryCollection",geometries:t}}};return{BufferOp:pn,GeoJSONReader:o((function e(t){i(this,e),this.parser=new fn(t||new at)}),[{key:"read",value:function(e){return this.parser.read(e)}}]),GeoJSONWriter:o((function e(){i(this,e),this.parser=new fn(this.geometryFactory)}),[{key:"write",value:function(e){return this.parser.write(e)}}])}}()}(jsts_min$1,jsts_min$1.exports)),jsts_min$1.exports}var jsts_minExports=requireJsts_min(),jsts=getDefaultExportFromCjs(jsts_minExports);function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add$1(temp,e,this.t),add$1(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add$1(e,t,i){var n=e.s=t+i,r=n-t,o=n-r;e.t=t-o+(i-r)}var epsilon$1=1e-6,pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=2*pi,degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,sin=Math.sin,sqrt=Math.sqrt;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>1?halfPi:e<-1?-halfPi:Math.asin(e)}function noop(){}function streamGeometry(e,t){e&&streamGeometryType.hasOwnProperty(e.type)&&streamGeometryType[e.type](e,t)}var streamObjectType={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,n=-1,r=i.length;++n<r;)streamGeometry(i[n].geometry,t)}},streamGeometryType={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,n=-1,r=i.length;++n<r;)e=i[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,n=-1,r=i.length;++n<r;)streamLine(i[n],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,n=-1,r=i.length;++n<r;)streamPolygon(i[n],t)},GeometryCollection:function(e,t){for(var i=e.geometries,n=-1,r=i.length;++n<r;)streamGeometry(i[n],t)}};function streamLine(e,t,i){var n,r=-1,o=e.length-i;for(t.lineStart();++r<o;)n=e[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function streamPolygon(e,t){var i=-1,n=e.length;for(t.polygonStart();++i<n;)streamLine(e[i],t,1);t.polygonEnd()}function geoStream(e,t){e&&streamObjectType.hasOwnProperty(e.type)?streamObjectType[e.type](e,t):streamGeometry(e,t)}function spherical(e){return[atan2(e[1],e[0]),asin(e[2])]}function cartesian(e){var t=e[0],i=e[1],n=cos(i);return[n*cos(t),n*sin(t),sin(i)]}function cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianAddInPlace(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cartesianNormalizeInPlace(e){var t=sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function compose(e,t){function i(i,n){return i=e(i,n),t(i[0],i[1])}return e.invert&&t.invert&&(i.invert=function(i,n){return(i=t.invert(i,n))&&e.invert(i[0],i[1])}),i}function rotationIdentity(e,t){return[e>pi?e-tau:e<-pi?e+tau:e,t]}function rotateRadians(e,t,i){return(e%=tau)?t||i?compose(rotationLambda(e),rotationPhiGamma(t,i)):rotationLambda(e):t||i?rotationPhiGamma(t,i):rotationIdentity}function forwardRotationLambda(e){return function(t,i){return[(t+=e)>pi?t-tau:t<-pi?t+tau:t,i]}}function rotationLambda(e){var t=forwardRotationLambda(e);return t.invert=forwardRotationLambda(-e),t}function rotationPhiGamma(e,t){var i=cos(e),n=sin(e),r=cos(t),o=sin(t);function a(e,t){var a=cos(t),s=cos(e)*a,l=sin(e)*a,u=sin(t),c=u*i+s*n;return[atan2(l*r-c*o,s*i-u*n),asin(c*r+l*o)]}return a.invert=function(e,t){var a=cos(t),s=cos(e)*a,l=sin(e)*a,u=sin(t),c=u*r-l*o;return[atan2(l*r+u*o,s*i+c*n),asin(c*i-s*n)]},a}function circleStream(e,t,i,n,r,o){if(i){var a=cos(t),s=sin(t),l=n*i;null==r?(r=t+n*tau,o=t-l/2):(r=circleRadius(a,r),o=circleRadius(a,o),(n>0?r<o:r>o)&&(r+=n*tau));for(var u,c=r;n>0?c>o:c<o;c-=l)u=spherical([a,-s*cos(c),-s*sin(c)]),e.point(u[0],u[1])}}function circleRadius(e,t){(t=cartesian(t))[0]-=e,cartesianNormalizeInPlace(t);var i=acos(-t[1]);return((-t[2]<0?-i:i)+tau-epsilon$1)%tau}function clipBuffer(){var e,t=[];return{point:function(t,i){e.push([t,i])},lineStart:function(){t.push(e=[])},lineEnd:noop,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function clipLine(e,t,i,n,r,o){var a,s=e[0],l=e[1],u=0,c=1,h=t[0]-s,g=t[1]-l;if(a=i-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}if(a=n-l,g||!(a>0)){if(a/=g,g<0){if(a<u)return;a<c&&(c=a)}else if(g>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,g||!(a<0)){if(a/=g,g<0){if(a>c)return;a>u&&(u=a)}else if(g>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*h,e[1]=l+u*g),c<1&&(t[0]=s+c*h,t[1]=l+c*g),!0}}}}}function pointEqual(e,t){return abs(e[0]-t[0])<epsilon$1&&abs(e[1]-t[1])<epsilon$1}function Intersection(e,t,i,n){this.x=e,this.z=t,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function clipPolygon(e,t,i,n,r){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,i,n=e[0],a=e[t];if(pointEqual(n,a)){for(r.lineStart(),o=0;o<t;++o)r.point((n=e[o])[0],n[1]);r.lineEnd()}else s.push(i=new Intersection(n,e,null,!0)),l.push(i.o=new Intersection(n,null,i,!1)),s.push(i=new Intersection(a,e,null,!1)),l.push(i.o=new Intersection(a,null,i,!0))}})),s.length){for(l.sort(t),link(s),link(l),o=0,a=l.length;o<a;++o)l[o].e=i=!i;for(var u,c,h=s[0];;){for(var g=h,d=!0;g.v;)if((g=g.n)===h)return;u=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(d)for(o=0,a=u.length;o<a;++o)r.point((c=u[o])[0],c[1]);else n(g.x,g.n.x,1,r);g=g.n}else{if(d)for(u=g.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else n(g.x,g.p.x,-1,r);g=g.p}u=(g=g.o).z,d=!d}while(!g.v);r.lineEnd()}}}function link(e){if(t=e.length){for(var t,i,n=0,r=e[0];++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){return 1===e.length&&(e=ascendingComparator(e)),{left:function(t,i,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;e(t[o],i)<0?n=o+1:r=o}return n},right:function(t,i,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;e(t[o],i)>0?r=o:n=o+1}return n}}}function ascendingComparator(e){return function(t,i){return ascending(e(t),i)}}function merge$1(e){for(var t,i,n,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(i=new Array(a);--r>=0;)for(t=(n=e[r]).length;--t>=0;)i[--a]=n[t];return i}adder(),adder(),adder(),rotationIdentity.invert=rotationIdentity,bisector(ascending);var clipMax=1e9,clipMin=-clipMax;function clipExtent(e,t,i,n){function r(r,o){return e<=r&&r<=i&&t<=o&&o<=n}function o(r,o,s,u){var c=0,h=0;if(null==r||(c=a(r,s))!==(h=a(o,s))||l(r,o)<0^s>0)do{u.point(0===c||3===c?e:i,c>1?n:t)}while((c=(c+s+4)%4)!==h);else u.point(o[0],o[1])}function a(n,r){return abs(n[0]-e)<epsilon$1?r>0?0:3:abs(n[0]-i)<epsilon$1?r>0?2:1:abs(n[1]-t)<epsilon$1?r>0?1:0:r>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var i=a(e,1),n=a(t,1);return i!==n?i-n:0===i?t[1]-e[1]:1===i?e[0]-t[0]:2===i?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,h,g,d,p,m,f,C,y,v=a,A=clipBuffer(),I={point:w,lineStart:function(){I.point=b,u&&u.push(c=[]);C=!0,f=!1,p=m=NaN},lineEnd:function(){l&&(b(h,g),d&&f&&A.rejoin(),l.push(A.result()));I.point=w,f&&v.lineEnd()},polygonStart:function(){v=A,l=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,i=0,r=u.length;i<r;++i)for(var o,a,s=u[i],l=1,c=s.length,h=s[0],g=h[0],d=h[1];l<c;++l)o=g,a=d,g=(h=s[l])[0],d=h[1],a<=n?d>n&&(g-o)*(n-a)>(d-a)*(e-o)&&++t:d<=n&&(g-o)*(n-a)<(d-a)*(e-o)&&--t;return t}(),i=y&&t,r=(l=merge$1(l)).length;(i||r)&&(a.polygonStart(),i&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&clipPolygon(l,s,t,o,a),a.polygonEnd());v=a,l=u=c=null}};function w(e,t){r(e,t)&&v.point(e,t)}function b(o,a){var s=r(o,a);if(u&&c.push([o,a]),C)h=o,g=a,d=s,C=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&f)v.point(o,a);else{var l=[p=Math.max(clipMin,Math.min(clipMax,p)),m=Math.max(clipMin,Math.min(clipMax,m))],A=[o=Math.max(clipMin,Math.min(clipMax,o)),a=Math.max(clipMin,Math.min(clipMax,a))];clipLine(l,A,e,t,i,n)?(f||(v.lineStart(),v.point(l[0],l[1])),v.point(A[0],A[1]),s||v.lineEnd(),y=!1):s&&(v.lineStart(),v.point(o,a),y=!1)}p=o,m=a,f=s}return I}}var sum=adder();function polygonContains(e,t){var i=t[0],n=t[1],r=[sin(i),-cos(i),0],o=0,a=0;sum.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,h=u[c-1],g=h[0],d=h[1]/2+quarterPi,p=sin(d),m=cos(d),f=0;f<c;++f,g=y,p=A,m=I,h=C){var C=u[f],y=C[0],v=C[1]/2+quarterPi,A=sin(v),I=cos(v),w=y-g,b=w>=0?1:-1,E=b*w,x=E>pi,_=p*A;if(sum.add(atan2(_*b*sin(E),m*I+_*cos(E))),o+=x?w+b*tau:w,x^g>=i^y>=i){var k=cartesianCross(cartesian(h),cartesian(C));cartesianNormalizeInPlace(k);var P=cartesianCross(r,k);cartesianNormalizeInPlace(P);var M=(x^w>=0?-1:1)*asin(P[2]);(n>M||n===M&&(k[0]||k[1]))&&(a+=x^w>=0?1:-1)}}return(o<-epsilon$1||o<epsilon$1&&sum<-epsilon$1)^1&a}function identity$1(e){return e}adder(),adder(),adder();var x0=1/0,y0=x0,x1=-x0,y1=x1,boundsStream={point:boundsPoint,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var e=[[x0,y0],[x1,y1]];return x1=y1=-(y0=x0=1/0),e}};function boundsPoint(e,t){e<x0&&(x0=e),e>x1&&(x1=e),t<y0&&(y0=t),t>y1&&(y1=t)}function clip(e,t,i,n){return function(r,o){var a,s,l,u=t(o),c=r.invert(n[0],n[1]),h=clipBuffer(),g=t(h),d=!1,p={point:m,lineStart:C,lineEnd:y,polygonStart:function(){p.point=v,p.lineStart=A,p.lineEnd=I,s=[],a=[]},polygonEnd:function(){p.point=m,p.lineStart=C,p.lineEnd=y,s=merge$1(s);var e=polygonContains(a,c);s.length?(d||(o.polygonStart(),d=!0),clipPolygon(s,compareIntersection,e,i,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function m(t,i){var n=r(t,i);e(t=n[0],i=n[1])&&o.point(t,i)}function f(e,t){var i=r(e,t);u.point(i[0],i[1])}function C(){p.point=f,u.lineStart()}function y(){p.point=m,u.lineEnd()}function v(e,t){l.push([e,t]);var i=r(e,t);g.point(i[0],i[1])}function A(){g.lineStart(),l=[]}function I(){v(l[0][0],l[0][1]),g.lineEnd();var e,t,i,n,r=g.clean(),u=h.result(),c=u.length;if(l.pop(),a.push(l),l=null,c)if(1&r){if((t=(i=u[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((n=i[e])[0],n[1]);o.lineEnd()}}else c>1&&2&r&&u.push(u.pop().concat(u.shift())),s.push(u.filter(validSegment))}return p}}function validSegment(e){return e.length>1}function compareIntersection(e,t){return((e=e.x)[0]<0?e[1]-halfPi-epsilon$1:halfPi-e[1])-((t=t.x)[0]<0?t[1]-halfPi-epsilon$1:halfPi-t[1])}adder();var clipAntimeridian=clip((function(){return!0}),clipAntimeridianLine,clipAntimeridianInterpolate,[-pi,-halfPi]);function clipAntimeridianLine(e){var t,i=NaN,n=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?pi:-pi,l=abs(o-i);abs(l-pi)<epsilon$1?(e.point(i,n=(n+a)/2>0?halfPi:-halfPi),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),t=0):r!==s&&l>=pi&&(abs(i-r)<epsilon$1&&(i-=r*epsilon$1),abs(o-s)<epsilon$1&&(o-=s*epsilon$1),n=clipAntimeridianIntersect(i,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),t=0),e.point(i=o,n=a),r=s},lineEnd:function(){e.lineEnd(),i=n=NaN},clean:function(){return 2-t}}}function clipAntimeridianIntersect(e,t,i,n){var r,o,a=sin(e-i);return abs(a)>epsilon$1?atan((sin(t)*(o=cos(n))*sin(i)-sin(n)*(r=cos(t))*sin(e))/(r*o*a)):(t+n)/2}function clipAntimeridianInterpolate(e,t,i,n){var r;if(null==e)r=i*halfPi,n.point(-pi,r),n.point(0,r),n.point(pi,r),n.point(pi,0),n.point(pi,-r),n.point(0,-r),n.point(-pi,-r),n.point(-pi,0),n.point(-pi,r);else if(abs(e[0]-t[0])>epsilon$1){var o=e[0]<t[0]?pi:-pi;r=i*o/2,n.point(-o,r),n.point(0,r),n.point(o,r)}else n.point(t[0],t[1])}function clipCircle(e,t){var i=cos(e),n=i>0,r=abs(i)>epsilon$1;function o(e,t){return cos(e)*cos(t)>i}function a(e,t,n){var r=[1,0,0],o=cartesianCross(cartesian(e),cartesian(t)),a=cartesianDot(o,o),s=o[0],l=a-s*s;if(!l)return!n&&e;var u=i*a/l,c=-i*s/l,h=cartesianCross(r,o),g=cartesianScale(r,u);cartesianAddInPlace(g,cartesianScale(o,c));var d=h,p=cartesianDot(g,d),m=cartesianDot(d,d),f=p*p-m*(cartesianDot(g,g)-1);if(!(f<0)){var C=sqrt(f),y=cartesianScale(d,(-p-C)/m);if(cartesianAddInPlace(y,g),y=spherical(y),!n)return y;var v,A=e[0],I=t[0],w=e[1],b=t[1];I<A&&(v=A,A=I,I=v);var E=I-A,x=abs(E-pi)<epsilon$1;if(!x&&b<w&&(v=w,w=b,b=v),x||E<epsilon$1?x?w+b>0^y[1]<(abs(y[0]-A)<epsilon$1?w:b):w<=y[1]&&y[1]<=b:E>pi^(A<=y[0]&&y[0]<=I)){var _=cartesianScale(d,(-p+C)/m);return cartesianAddInPlace(_,g),[y,spherical(_)]}}}function s(t,i){var r=n?e:pi-e,o=0;return t<-r?o|=1:t>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}return clip(o,(function(e){var t,i,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,g){var d,p=[h,g],m=o(h,g),f=n?m?0:s(h,g):m?s(h+(h<0?pi:-pi),g):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(!(d=a(t,p))||pointEqual(t,d)||pointEqual(p,d))&&(p[0]+=epsilon$1,p[1]+=epsilon$1,m=o(p[0],p[1])),m!==l)c=0,m?(e.lineStart(),d=a(p,t),e.point(d[0],d[1])):(d=a(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^m){var C;f&i||!(C=a(p,t,!0))||(c=0,n?(e.lineStart(),e.point(C[0][0],C[0][1]),e.point(C[1][0],C[1][1]),e.lineEnd()):(e.point(C[1][0],C[1][1]),e.lineEnd(),e.lineStart(),e.point(C[0][0],C[0][1])))}!m||t&&pointEqual(t,p)||e.point(p[0],p[1]),t=p,l=m,i=f},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(i,n,r,o){circleStream(o,e,t,r,i,n)}),n?[0,-e]:[-pi,e-pi])}function transformer(e){return function(t){var i=new TransformStream;for(var n in e)i[n]=e[n];return i.stream=t,i}}function TransformStream(){}function fitExtent(e,t,i){var n=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),geoStream(i,e.stream(boundsStream));var a=boundsStream.result(),s=Math.min(n/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),l=+t[0][0]+(n-s*(a[1][0]+a[0][0]))/2,u=+t[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*s).translate([l,u])}function fitSize(e,t,i){return fitExtent(e,[[0,0],t],i)}TransformStream.prototype={constructor:TransformStream,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos(30*radians);function resample(e,t){return+t?resample$1(e,t):resampleNone(e)}function resampleNone(e){return transformer({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}function resample$1(e,t){function i(n,r,o,a,s,l,u,c,h,g,d,p,m,f){var C=u-n,y=c-r,v=C*C+y*y;if(v>4*t&&m--){var A=a+g,I=s+d,w=l+p,b=sqrt(A*A+I*I+w*w),E=asin(w/=b),x=abs(abs(w)-1)<epsilon$1||abs(o-h)<epsilon$1?(o+h)/2:atan2(I,A),_=e(x,E),k=_[0],P=_[1],M=k-n,S=P-r,D=y*M-C*S;(D*D/v>t||abs((C*M+y*S)/v-.5)>.3||a*g+s*d+l*p<cosMinDistance)&&(i(n,r,o,a,s,l,k,P,x,A/=b,I/=b,w,m,f),f.point(k,P),i(k,P,x,A,I,w,u,c,h,g,d,p,m,f))}}return function(t){var n,r,o,a,s,l,u,c,h,g,d,p,m={point:f,lineStart:C,lineEnd:v,polygonStart:function(){t.polygonStart(),m.lineStart=A},polygonEnd:function(){t.polygonEnd(),m.lineStart=C}};function f(i,n){i=e(i,n),t.point(i[0],i[1])}function C(){c=NaN,m.point=y,t.lineStart()}function y(n,r){var o=cartesian([n,r]),a=e(n,r);i(c,h,u,g,d,p,c=a[0],h=a[1],u=n,g=o[0],d=o[1],p=o[2],maxDepth,t),t.point(c,h)}function v(){m.point=f,t.lineEnd()}function A(){C(),m.point=I,m.lineEnd=w}function I(e,t){y(n=e,t),r=c,o=h,a=g,s=d,l=p,m.point=y}function w(){i(c,h,u,g,d,p,r,o,n,a,s,l,maxDepth,t),m.lineEnd=v,v()}return m}}var transformRadians=transformer({point:function(e,t){this.stream.point(e*radians,t*radians)}});function projection(e){return projectionMutator((function(){return e}))()}function projectionMutator(e){var t,i,n,r,o,a,s,l,u,c,h=150,g=480,d=250,p=0,m=0,f=0,C=0,y=0,v=null,A=clipAntimeridian,I=null,w=identity$1,b=.5,E=resample(k,b);function x(e){return[(e=o(e[0]*radians,e[1]*radians))[0]*h+i,n-e[1]*h]}function _(e){return(e=o.invert((e[0]-i)/h,(n-e[1])/h))&&[e[0]*degrees,e[1]*degrees]}function k(e,r){return[(e=t(e,r))[0]*h+i,n-e[1]*h]}function P(){o=compose(r=rotateRadians(f,C,y),t);var e=t(p,m);return i=g-e[0]*h,n=d+e[1]*h,M()}function M(){return u=c=null,x}return x.stream=function(e){return u&&c===e?u:u=transformRadians(A(r,E(w(c=e))))},x.clipAngle=function(e){return arguments.length?(A=+e?clipCircle(v=e*radians,6*radians):(v=null,clipAntimeridian),M()):v*degrees},x.clipExtent=function(e){return arguments.length?(w=null==e?(I=a=s=l=null,identity$1):clipExtent(I=+e[0][0],a=+e[0][1],s=+e[1][0],l=+e[1][1]),M()):null==I?null:[[I,a],[s,l]]},x.scale=function(e){return arguments.length?(h=+e,P()):h},x.translate=function(e){return arguments.length?(g=+e[0],d=+e[1],P()):[g,d]},x.center=function(e){return arguments.length?(p=e[0]%360*radians,m=e[1]%360*radians,P()):[p*degrees,m*degrees]},x.rotate=function(e){return arguments.length?(f=e[0]%360*radians,C=e[1]%360*radians,y=e.length>2?e[2]%360*radians:0,P()):[f*degrees,C*degrees,y*degrees]},x.precision=function(e){return arguments.length?(E=resample(k,b=e*e),M()):sqrt(b)},x.fitExtent=function(e,t){return fitExtent(x,e,t)},x.fitSize=function(e,t){return fitSize(x,e,t)},function(){return t=e.apply(this,arguments),x.invert=t.invert&&_,P()}}function azimuthalRaw(e){return function(t,i){var n=cos(t),r=cos(i),o=e(n*r);return[o*r*sin(t),o*sin(i)]}}function azimuthalInvert(e){return function(t,i){var n=sqrt(t*t+i*i),r=e(n),o=sin(r),a=cos(r);return[atan2(t*o,n*a),asin(n&&i*o/n)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(e){return sqrt(2/(1+e))}));azimuthalEqualAreaRaw.invert=azimuthalInvert((function(e){return 2*asin(e/2)}));var azimuthalEquidistantRaw=azimuthalRaw((function(e){return(e=acos(e))&&e/sin(e)}));function geoAzimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function equirectangularRaw(e,t){return[e,t]}azimuthalEquidistantRaw.invert=azimuthalInvert((function(e){return e})),equirectangularRaw.invert=equirectangularRaw;var{BufferOp:BufferOp,GeoJSONReader:GeoJSONReader,GeoJSONWriter:GeoJSONWriter}=jsts;function buffer$1(e,t,i){var n=(i=i||{}).units||"kilometers",r=i.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof i)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return geomEach(e,(function(e){var i=bufferFeature(e,t,n,r);i&&o.push(i)})),featureCollection(o);case"FeatureCollection":return featureEach(e,(function(e){var i=bufferFeature(e,t,n,r);i&&featureEach(i,(function(e){e&&o.push(e)}))})),featureCollection(o)}return bufferFeature(e,t,n,r)}function bufferFeature(e,t,i,n){var r=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var a=[];return geomEach(e,(function(e){var r=bufferFeature(e,t,i,n);r&&a.push(r)})),featureCollection(a)}var s=defineProjection(o),l={type:o.type,coordinates:projectCoords(o.coordinates,s)},u=(new GeoJSONReader).read(l),c=radiansToLength(lengthToRadians(t,i),"meters"),h=BufferOp.bufferOp(u,c,n);if(!coordsIsNaN((h=(new GeoJSONWriter).write(h)).coordinates))return feature({type:h.type,coordinates:unprojectCoords(h.coordinates,s)},r)}function coordsIsNaN(e){return Array.isArray(e[0])?coordsIsNaN(e[0]):isNaN(e[0])}function projectCoords(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return projectCoords(e,t)}))}function unprojectCoords(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return unprojectCoords(e,t)}))}function defineProjection(e){var t=center(e).geometry.coordinates,i=[-t[0],-t[1]];return geoAzimuthalEquidistant().rotate(i).scale(earthRadius)}function centerMean(e,t={}){let i=0,n=0,r=0;return geomEach(e,(function(e,o,a){let s=t.weight?null==a?void 0:a[t.weight]:void 0;if(s=null==s?1:s,!isNumber(s))throw new Error("weight value must be a number for feature index "+o);s=Number(s),s>0&&coordEach(e,(function(e){i+=e[0]*s,n+=e[1]*s,r+=s}))})),point([i/r,n/r],t.properties,t)}function centroid(e,t={}){let i=0,n=0,r=0;return coordEach(e,(function(e){i+=e[0],n+=e[1],r++}),!0),point([i/r,n/r],t.properties)}function centerMedian(e,t={}){if(!isObject$1(t=t||{}))throw new Error("options is invalid");var i=t.counter||10;if(!isNumber(i))throw new Error("counter must be a number");var n=t.weight,r=centerMean(e,{weight:t.weight}),o=featureCollection([]);featureEach(e,(function(e){var t;o.features.push(centroid(e,{properties:{weight:null==(t=e.properties)?void 0:t[n]}}))}));const a={tolerance:t.tolerance,medianCandidates:[]};return findMedian(r.geometry.coordinates,[0,0],o,a,i)}function findMedian(e,t,i,n,r){var o=n.tolerance||.001,a=0,s=0,l=0,u=0;if(featureEach(i,(function(t){var i,n=null==(i=t.properties)?void 0:i.weight,r=null==n?1:n;if(!isNumber(r=Number(r)))throw new Error("weight value must be a number");if(r>0){u+=1;var o=r*distance$1(t,e);0===o&&(o=1);var c=r/o;a+=t.geometry.coordinates[0]*c,s+=t.geometry.coordinates[1]*c,l+=c}})),u<1)throw new Error("no features to measure");var c=a/l,h=s/l;return 1===u||0===r||Math.abs(c-t[0])<o&&Math.abs(h-t[1])<o?point([c,h],{medianCandidates:n.medianCandidates}):(n.medianCandidates.push([c,h]),findMedian([c,h],e,i,n,r-1))}var concaveman$1={exports:{}},require$$0=getAugmentedNamespace(rbush$2);class TinyQueue{constructor(e=[],t=defaultCompare){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,n=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(i(n,o)>=0)break;t[e]=o,e=r}t[e]=n}_down(e){const{data:t,compare:i}=this,n=this.length>>1,r=t[e];for(;e<n;){let n=1+(e<<1),o=t[n];const a=n+1;if(a<this.length&&i(t[a],o)<0&&(n=a,o=t[a]),i(o,r)>=0)break;t[e]=o,e=n}t[e]=r}}function defaultCompare(e,t){return e<t?-1:e>t?1:0}var tinyqueue=Object.freeze({__proto__:null,default:TinyQueue}),require$$1=getAugmentedNamespace(tinyqueue),pointInPolygon={exports:{}},flat,hasRequiredFlat,nested,hasRequiredNested,hasRequiredPointInPolygon;function requireFlat(){return hasRequiredFlat||(hasRequiredFlat=1,flat=function(e,t,i,n){var r=e[0],o=e[1],a=!1;void 0===i&&(i=0),void 0===n&&(n=t.length);for(var s=(n-i)/2,l=0,u=s-1;l<s;u=l++){var c=t[i+2*l+0],h=t[i+2*l+1],g=t[i+2*u+0],d=t[i+2*u+1];h>o!=d>o&&r<(g-c)*(o-h)/(d-h)+c&&(a=!a)}return a}),flat}function requireNested(){return hasRequiredNested||(hasRequiredNested=1,nested=function(e,t,i,n){var r=e[0],o=e[1],a=!1;void 0===i&&(i=0),void 0===n&&(n=t.length);for(var s=n-i,l=0,u=s-1;l<s;u=l++){var c=t[l+i][0],h=t[l+i][1],g=t[u+i][0],d=t[u+i][1];h>o!=d>o&&r<(g-c)*(o-h)/(d-h)+c&&(a=!a)}return a}),nested}function requirePointInPolygon(){if(hasRequiredPointInPolygon)return pointInPolygon.exports;hasRequiredPointInPolygon=1;var e=requireFlat(),t=requireNested();return pointInPolygon.exports=function(i,n,r,o){return n.length>0&&Array.isArray(n[0])?t(i,n,r,o):e(i,n,r,o)},pointInPolygon.exports.nested=t,pointInPolygon.exports.flat=e,pointInPolygon.exports}var orient2d_min$1={exports:{}},orient2d_min=orient2d_min$1.exports,hasRequiredOrient2d_min,hasRequiredConcaveman;function requireOrient2d_min(){return hasRequiredOrient2d_min||(hasRequiredOrient2d_min=1,function(e,t){!function(e){const t=134217729,i=33306690738754706e-32;function n(e,t,i,n,r){let o,a,s,l,u=t[0],c=n[0],h=0,g=0;c>u==c>-u?(o=u,u=t[++h]):(o=c,c=n[++g]);let d=0;if(h<e&&g<i)for(c>u==c>-u?(s=o-((a=u+o)-u),u=t[++h]):(s=o-((a=c+o)-c),c=n[++g]),o=a,0!==s&&(r[d++]=s);h<e&&g<i;)c>u==c>-u?(s=o-((a=o+u)-(l=a-o))+(u-l),u=t[++h]):(s=o-((a=o+c)-(l=a-o))+(c-l),c=n[++g]),o=a,0!==s&&(r[d++]=s);for(;h<e;)s=o-((a=o+u)-(l=a-o))+(u-l),u=t[++h],o=a,0!==s&&(r[d++]=s);for(;g<i;)s=o-((a=o+c)-(l=a-o))+(c-l),c=n[++g],o=a,0!==s&&(r[d++]=s);return 0===o&&0!==d||(r[d++]=o),d}function r(e){return new Float64Array(e)}const o=33306690738754716e-32,a=22204460492503146e-32,s=11093356479670487e-47,l=r(4),u=r(8),c=r(12),h=r(16),g=r(4);e.orient2d=function(e,r,d,p,m,f){const C=(r-f)*(d-m),y=(e-m)*(p-f),v=C-y;if(0===C||0===y||C>0!=y>0)return v;const A=Math.abs(C+y);return Math.abs(v)>=o*A?v:-function(e,r,o,d,p,m,f){let C,y,v,A,I,w,b,E,x,_,k,P,M,S,D,T,R,L;const N=e-p,O=o-p,F=r-m,B=d-m;I=(D=(E=N-(b=(w=t*N)-(w-N)))*(_=B-(x=(w=t*B)-(w-B)))-((S=N*B)-b*x-E*x-b*_))-(k=D-(R=(E=F-(b=(w=t*F)-(w-F)))*(_=O-(x=(w=t*O)-(w-O)))-((T=F*O)-b*x-E*x-b*_))),l[0]=D-(k+I)+(I-R),I=(M=S-((P=S+k)-(I=P-S))+(k-I))-(k=M-T),l[1]=M-(k+I)+(I-T),I=(L=P+k)-P,l[2]=P-(L-I)+(k-I),l[3]=L;let G=function(e,t){let i=t[0];for(let n=1;n<e;n++)i+=t[n];return i}(4,l),z=a*f;if(G>=z||-G>=z)return G;if(C=e-(N+(I=e-N))+(I-p),v=o-(O+(I=o-O))+(I-p),y=r-(F+(I=r-F))+(I-m),A=d-(B+(I=d-B))+(I-m),0===C&&0===y&&0===v&&0===A)return G;if(z=s*f+i*Math.abs(G),(G+=N*A+B*C-(F*v+O*y))>=z||-G>=z)return G;I=(D=(E=C-(b=(w=t*C)-(w-C)))*(_=B-(x=(w=t*B)-(w-B)))-((S=C*B)-b*x-E*x-b*_))-(k=D-(R=(E=y-(b=(w=t*y)-(w-y)))*(_=O-(x=(w=t*O)-(w-O)))-((T=y*O)-b*x-E*x-b*_))),g[0]=D-(k+I)+(I-R),I=(M=S-((P=S+k)-(I=P-S))+(k-I))-(k=M-T),g[1]=M-(k+I)+(I-T),I=(L=P+k)-P,g[2]=P-(L-I)+(k-I),g[3]=L;const H=n(4,l,4,g,u);I=(D=(E=N-(b=(w=t*N)-(w-N)))*(_=A-(x=(w=t*A)-(w-A)))-((S=N*A)-b*x-E*x-b*_))-(k=D-(R=(E=F-(b=(w=t*F)-(w-F)))*(_=v-(x=(w=t*v)-(w-v)))-((T=F*v)-b*x-E*x-b*_))),g[0]=D-(k+I)+(I-R),I=(M=S-((P=S+k)-(I=P-S))+(k-I))-(k=M-T),g[1]=M-(k+I)+(I-T),I=(L=P+k)-P,g[2]=P-(L-I)+(k-I),g[3]=L;const j=n(H,u,4,g,c);I=(D=(E=C-(b=(w=t*C)-(w-C)))*(_=A-(x=(w=t*A)-(w-A)))-((S=C*A)-b*x-E*x-b*_))-(k=D-(R=(E=y-(b=(w=t*y)-(w-y)))*(_=v-(x=(w=t*v)-(w-v)))-((T=y*v)-b*x-E*x-b*_))),g[0]=D-(k+I)+(I-R),I=(M=S-((P=S+k)-(I=P-S))+(k-I))-(k=M-T),g[1]=M-(k+I)+(I-T),I=(L=P+k)-P,g[2]=P-(L-I)+(k-I),g[3]=L;const V=n(j,c,4,g,h);return h[V-1]}(e,r,d,p,m,f,A)},e.orient2dfast=function(e,t,i,n,r,o){return(t-o)*(i-r)-(e-r)*(n-o)},Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,orient2d_min$1.exports)),orient2d_min$1.exports}function requireConcaveman(){if(hasRequiredConcaveman)return concaveman$1.exports;hasRequiredConcaveman=1;var e=require$$0,t=require$$1,i=requirePointInPolygon(),n=requireOrient2d_min().orient2d;function r(t,n,r){n=Math.max(0,void 0===n?2:n),r=r||0;var a=function(e){for(var t=e[0],n=e[0],r=e[0],o=e[0],a=0;a<e.length;a++){var s=e[a];s[0]<t[0]&&(t=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>o[1]&&(o=s)}var l=[t,n,r,o],u=l.slice();for(a=0;a<e.length;a++)i(e[a],l)||u.push(e[a]);return function(e){e.sort(f);for(var t=[],i=0;i<e.length;i++){for(;t.length>=2&&c(t[t.length-2],t[t.length-1],e[i])<=0;)t.pop();t.push(e[i])}for(var n=[],r=e.length-1;r>=0;r--){for(;n.length>=2&&c(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}return n.pop(),t.pop(),t.concat(n)}(u)}(t),s=new e(16);s.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},s.compareMinX=function(e,t){return e[0]-t[0]},s.compareMinY=function(e,t){return e[1]-t[1]},s.load(t);for(var l,u=[],p=0;p<a.length;p++){var m=a[p];s.remove(m),l=g(m,l),u.push(l)}var C=new e(16);for(p=0;p<u.length;p++)C.insert(h(u[p]));for(var y=n*n,v=r*r;u.length;){var A=u.shift(),I=A.p,w=A.next.p,b=d(I,w);if(!(b<v)){var E=b/y;(m=o(s,A.prev.p,I,w,A.next.next.p,E,C))&&Math.min(d(m,I),d(m,w))<=E&&(u.push(A),u.push(g(m,A)),s.remove(m),C.remove(A),C.insert(h(A)),C.insert(h(A.next)))}}A=l;var x=[];do{x.push(A.p),A=A.next}while(A!==l);return x.push(A.p),x}function o(e,i,n,r,o,l,c){for(var h=new t([],a),g=e.data;g;){for(var d=0;d<g.children.length;d++){var m=g.children[d],f=g.leaf?p(m,n,r):s(n,r,m);f>l||h.push({node:m,dist:f})}for(;h.length&&!h.peek().node.children;){var C=h.pop(),y=C.node,v=p(y,i,n),A=p(y,r,o);if(C.dist<v&&C.dist<A&&u(n,y,c)&&u(r,y,c))return y}(g=h.pop())&&(g=g.node)}return null}function a(e,t){return e.dist-t.dist}function s(e,t,i){if(l(e,i)||l(t,i))return 0;var n=m(e[0],e[1],t[0],t[1],i.minX,i.minY,i.maxX,i.minY);if(0===n)return 0;var r=m(e[0],e[1],t[0],t[1],i.minX,i.minY,i.minX,i.maxY);if(0===r)return 0;var o=m(e[0],e[1],t[0],t[1],i.maxX,i.minY,i.maxX,i.maxY);if(0===o)return 0;var a=m(e[0],e[1],t[0],t[1],i.minX,i.maxY,i.maxX,i.maxY);return 0===a?0:Math.min(n,r,o,a)}function l(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function u(e,t,i){for(var n,r,o,a,s=Math.min(e[0],t[0]),l=Math.min(e[1],t[1]),u=Math.max(e[0],t[0]),h=Math.max(e[1],t[1]),g=i.search({minX:s,minY:l,maxX:u,maxY:h}),d=0;d<g.length;d++)if(n=g[d].p,r=g[d].next.p,o=e,n!==(a=t)&&r!==o&&c(n,r,o)>0!=c(n,r,a)>0&&c(o,a,n)>0!=c(o,a,r)>0)return!1;return!0}function c(e,t,i){return n(e[0],e[1],t[0],t[1],i[0],i[1])}function h(e){var t=e.p,i=e.next.p;return e.minX=Math.min(t[0],i[0]),e.minY=Math.min(t[1],i[1]),e.maxX=Math.max(t[0],i[0]),e.maxY=Math.max(t[1],i[1]),e}function g(e,t){var i={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(i.next=t.next,i.prev=t,t.next.prev=i,t.next=i):(i.prev=i,i.next=i),i}function d(e,t){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function p(e,t,i){var n=t[0],r=t[1],o=i[0]-n,a=i[1]-r;if(0!==o||0!==a){var s=((e[0]-n)*o+(e[1]-r)*a)/(o*o+a*a);s>1?(n=i[0],r=i[1]):s>0&&(n+=o*s,r+=a*s)}return(o=e[0]-n)*o+(a=e[1]-r)*a}function m(e,t,i,n,r,o,a,s){var l,u,c,h,g=i-e,d=n-t,p=a-r,m=s-o,f=e-r,C=t-o,y=g*g+d*d,v=g*p+d*m,A=p*p+m*m,I=g*f+d*C,w=p*f+m*C,b=y*A-v*v,E=b,x=b;0===b?(u=0,E=1,h=w,x=A):(h=y*w-v*I,(u=v*w-A*I)<0?(u=0,h=w,x=A):u>E&&(u=E,h=w+v,x=A)),h<0?(h=0,-I<0?u=0:-I>y?u=E:(u=-I,E=y)):h>x&&(h=x,-I+v<0?u=0:-I+v>y?u=E:(u=-I+v,E=y));var _=(1-(c=0===h?0:h/x))*r+c*a-((1-(l=0===u?0:u/E))*e+l*i),k=(1-c)*o+c*s-((1-l)*t+l*n);return _*_+k*k}function f(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}return t.default&&(t=t.default),concaveman$1.exports=r,concaveman$1.exports.default=r,concaveman$1.exports}var concavemanExports=requireConcaveman(),concaveman=getDefaultExportFromCjs(concavemanExports);function convex(e,t={}){t.concavity=t.concavity||1/0;const i=[];if(coordEach(e,(e=>{i.push([e[0],e[1]])})),!i.length)return null;const n=concaveman(i,t.concavity);return n.length>3?polygon([n]):null}function centerOfMass(e,t={}){switch(getType$1(e)){case"Point":return point(getCoord(e),t.properties);case"Polygon":var i=[];coordEach(e,(function(e){i.push(e)}));var n,r,o,a,s,l,u,c,h=centroid(e,{properties:t.properties}),g=h.geometry.coordinates,d=0,p=0,m=0,f=i.map((function(e){return[e[0]-g[0],e[1]-g[1]]}));for(n=0;n<i.length-1;n++)a=(r=f[n])[0],l=r[1],s=(o=f[n+1])[0],m+=c=a*(u=o[1])-s*l,d+=(a+s)*c,p+=(l+u)*c;if(0===m)return h;var C=1/(6*(.5*m));return point([g[0]+C*d,g[1]+C*p],t.properties);default:var y=convex(e);return y?centerOfMass(y,{properties:t.properties}):centroid(e,{properties:t.properties})}}function circle(e,t,i={}){const n=i.steps||64,r=i.properties?i.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},o=[];for(let r=0;r<n;r++)o.push(destination(e,t,-360*r/n,i).geometry.coordinates);return o.push(o[0]),polygon([o],r)}function clone$2(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return cloneFeature(e);case"FeatureCollection":return cloneFeatureCollection(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return cloneGeometry(e);default:throw new Error("unknown GeoJSON type")}}function cloneFeature(e){const t={type:"Feature"};return Object.keys(e).forEach((i=>{switch(i){case"type":case"properties":case"geometry":return;default:t[i]=e[i]}})),t.properties=cloneProperties(e.properties),null==e.geometry?t.geometry=null:t.geometry=cloneGeometry(e.geometry),t}function cloneProperties(e){const t={};return e?(Object.keys(e).forEach((i=>{const n=e[i];"object"==typeof n?null===n?t[i]=null:Array.isArray(n)?t[i]=n.map((e=>e)):t[i]=cloneProperties(n):t[i]=n})),t):t}function cloneFeatureCollection(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((i=>{switch(i){case"type":case"features":return;default:t[i]=e[i]}})),t.features=e.features.map((e=>cloneFeature(e))),t}function cloneGeometry(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>cloneGeometry(e))),t):(t.coordinates=deepSlice(e.coordinates),t)}function deepSlice(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>deepSlice(e)))}function getCluster(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var i=[];return featureEach(e,(function(e){applyFilter(e.properties,t)&&i.push(e)})),featureCollection(i)}function clusterEach(e,t,i){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var n=createBins(e,t),r=Object.keys(n),o=0;o<r.length;o++){for(var a=r[o],s=n[a],l=[],u=0;u<s.length;u++)l.push(e.features[s[u]]);i(featureCollection(l),a,o)}}function clusterReduce(e,t,i,n){var r=n;return clusterEach(e,t,(function(e,t,o){r=0===o&&void 0===n?e:i(r,e,t,o)})),r}function createBins(e,t){var i={};return featureEach(e,(function(e,n){var r=e.properties||{};if(Object.prototype.hasOwnProperty.call(r,String(t))){var o=r[t];Object.prototype.hasOwnProperty.call(i,o)?i[o].push(n):i[o]=[n]}})),i}function applyFilter(e,t){if(void 0===e)return!1;var i=typeof t;if("number"===i||"string"===i)return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(!applyFilter(e,t[n]))return!1;return!0}return propertiesContainsFilter(e,t)}function propertiesContainsFilter(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];if(e[r]!==t[r])return!1}return!0}function filterProperties(e,t){if(!t)return{};if(!t.length)return{};for(var i={},n=0;n<t.length;n++){var r=t[n];Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i}var index$2=Object.freeze({__proto__:null,applyFilter:applyFilter,clusterEach:clusterEach,clusterReduce:clusterReduce,createBins:createBins,filterProperties:filterProperties,getCluster:getCluster,propertiesContainsFilter:propertiesContainsFilter}),rbush$1=RBush,distance,hasRequiredDistance,kinit,hasRequiredKinit,main,hasRequiredMain;function clustersDbscan(e,t,i={}){!0!==i.mutate&&(e=clone$2(e));const n=i.minPoints||3,r=lengthToDegrees(t,i.units);var o=new rbush$1(e.features.length),a=e.features.map((e=>!1)),s=e.features.map((e=>!1)),l=e.features.map((e=>!1)),u=e.features.map((e=>-1));o.load(e.features.map(((e,t)=>{var[i,n]=e.geometry.coordinates;return{minX:i,minY:n,maxX:i,maxY:n,index:t}})));const c=i=>{const n=e.features[i],[a,s]=n.geometry.coordinates,l=Math.max(s-r,-90),u=Math.min(s+r,90),c=l<0&&u>0?r:Math.abs(l)<Math.abs(u)?r/Math.cos(degreesToRadians(u)):r/Math.cos(degreesToRadians(l)),h=Math.max(a-c,-360),g=Math.min(a+c,360),d={minX:h,minY:l,maxX:g,maxY:u};return o.search(d).filter((i=>{const r=i.index,o=e.features[r];return distance$1(n,o,{units:"kilometers"})<=t}))};var h=0;return e.features.forEach(((e,t)=>{if(a[t])return;const i=c(t);if(i.length>=n){const e=h;h++,a[t]=!0,((e,t)=>{for(var i=0;i<t.length;i++){const r=t[i].index;if(!a[r]){a[r]=!0;const e=c(r);e.length>=n&&t.push(...e)}s[r]||(s[r]=!0,u[r]=e)}})(e,i)}else l[t]=!0})),e.features.forEach(((t,i)=>{var n=e.features[i];n.properties||(n.properties={}),u[i]>=0?(n.properties.dbscan=l[i]?"edge":"core",n.properties.cluster=u[i]):n.properties.dbscan="noise"})),e}function requireDistance(){return hasRequiredDistance||(hasRequiredDistance=1,distance={eudist:function(e,t,i){for(var n=e.length,r=0,o=0;o<n;o++){var a=(e[o]||0)-(t[o]||0);r+=a*a}return i?Math.sqrt(r):r},mandist:function(e,t,i){for(var n=e.length,r=0,o=0;o<n;o++)r+=Math.abs((e[o]||0)-(t[o]||0));return i?Math.sqrt(r):r},dist:function(e,t,i){var n=Math.abs(e-t);return i?n:n*n}}),distance}function requireKinit(){if(hasRequiredKinit)return kinit;hasRequiredKinit=1;var e=requireDistance(),t=e.eudist,i=e.dist;return kinit={kmrand:function(e,t){for(var i={},n=[],r=t<<2,o=e.length,a=e[0].length>0;n.length<t&&r-- >0;){var s=e[Math.floor(Math.random()*o)],l=a?s.join("_"):""+s;i[l]||(i[l]=!0,n.push(s))}if(n.length<t)throw new Error("Error initializating clusters");return n},kmpp:function(e,n){var r=e[0].length?t:i,o=[],a=e.length,s=e[0].length>0,l=e[Math.floor(Math.random()*a)];for(s&&l.join("_"),o.push(l);o.length<n;){for(var u=[],c=o.length,h=0,g=[],d=0;d<a;d++){for(var p=1/0,m=0;m<c;m++){var f=r(e[d],o[m]);f<=p&&(p=f)}u[d]=p}for(var C=0;C<a;C++)h+=u[C];for(var y=0;y<a;y++)g[y]={i:y,v:e[y],pr:u[y]/h,cs:0};g.sort((function(e,t){return e.pr-t.pr})),g[0].cs=g[0].pr;for(var v=1;v<a;v++)g[v].cs=g[v-1].cs+g[v].pr;for(var A=Math.random(),I=0;I<a-1&&g[I++].cs<A;);o.push(g[I-1].v)}return o}},kinit}function requireMain(){if(hasRequiredMain)return main;hasRequiredMain=1;var e=requireDistance(),t=requireKinit(),i=e.eudist;e.mandist,e.dist;var n=t.kmrand,r=t.kmpp;function o(e,t,i){i=i||[];for(var n=0;n<e;n++)i[n]=t;return i}return main=function(e,t,a,s){var l=[],u=[],c=[],h=[],g=!1,d=s||1e4,p=e.length,m=e[0].length,f=m>0,C=[];if(a)l="kmrand"==a?n(e,t):"kmpp"==a?r(e,t):a;else for(var y={};l.length<t;){var v=Math.floor(Math.random()*p);y[v]||(y[v]=!0,l.push(e[v]))}do{o(t,0,C);for(var A=0;A<p;A++){for(var I=1/0,w=0,b=0;b<t;b++){(h=f?i(e[A],l[b]):Math.abs(e[A]-l[b]))<=I&&(I=h,w=b)}c[A]=w,C[w]++}for(var E=[],x=(u=[],0);x<t;x++)E[x]=f?o(m,0,E[x]):0,u[x]=l[x];if(f){for(var _=0;_<t;_++)l[_]=[];for(var k=0;k<p;k++)for(var P=E[c[k]],M=e[k],S=0;S<m;S++)P[S]+=M[S];g=!0;for(var D=0;D<t;D++){for(var T=l[D],R=E[D],L=u[D],N=C[D],O=0;O<m;O++)T[O]=R[O]/N||0;if(g)for(var F=0;F<m;F++)if(L[F]!=T[F]){g=!1;break}}}else{for(var B=0;B<p;B++){E[c[B]]+=e[B]}for(var G=0;G<t;G++)l[G]=E[G]/C[G]||0;g=!0;for(var z=0;z<t;z++)if(u[z]!=l[z]){g=!1;break}}g=g||--d<=0}while(!g);return{it:1e4-d,k:t,idxs:c,centroids:l}},main}var mainExports=requireMain(),skmeans=getDefaultExportFromCjs(mainExports);function clustersKmeans(e,t={}){var i=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(i/2)),t.numberOfClusters>i&&(t.numberOfClusters=i),!0!==t.mutate&&(e=clone$2(e));var n=coordAll(e),r=n.slice(0,t.numberOfClusters),o=skmeans(n,t.numberOfClusters,r),a={};return o.centroids.forEach((function(e,t){a[t]=e})),featureEach(e,(function(e,t){var i=o.idxs[t];e.properties.cluster=i,e.properties.centroid=a[i]})),e}var rbush=RBush;function collect(e,t,i,n){var r=new rbush(6),o=t.features.map((function(e){var t;return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:null==(t=e.properties)?void 0:t[i]}}));return r.load(o),e.features.forEach((function(e){e.properties||(e.properties={});var t=bbox$1(e),i=r.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}),o=[];i.forEach((function(t){booleanPointInPolygon([t.minX,t.minY],e)&&o.push(t.property)})),e.properties[n]=o})),e}function combine(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return featureEach(e,(e=>{var i;switch(null==(i=e.geometry)?void 0:i.type){case"Point":t.MultiPoint.coordinates.push(e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"MultiPoint":t.MultiPoint.coordinates.push(...e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"LineString":t.MultiLineString.coordinates.push(e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"MultiLineString":t.MultiLineString.coordinates.push(...e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties);break;case"MultiPolygon":t.MultiPolygon.coordinates.push(...e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties)}})),featureCollection(Object.keys(t).filter((function(e){return t[e].coordinates.length})).sort().map((function(e){return feature({type:e,coordinates:t[e].coordinates},{collectedProperties:t[e].properties})})))}function tin(e,t){let i=!1;return featureCollection(triangulate(e.features.map((e=>{const n={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?n.z=e.properties[t]:3===e.geometry.coordinates.length&&(i=!0,n.z=e.geometry.coordinates[2]),n}))).map((e=>{const t=[e.a.x,e.a.y],n=[e.b.x,e.b.y],r=[e.c.x,e.c.y];let o={};return i?(t.push(e.a.z),n.push(e.b.z),r.push(e.c.z)):o={a:e.a.z,b:e.b.z,c:e.c.z},polygon([[t,n,r,t]],o)})))}var Triangle=class{constructor(e,t,i){this.a=e,this.b=t,this.c=i;const n=t.x-e.x,r=t.y-e.y,o=i.x-e.x,a=i.y-e.y,s=n*(e.x+t.x)+r*(e.y+t.y),l=o*(e.x+i.x)+a*(e.y+i.y),u=2*(n*(i.y-t.y)-r*(i.x-t.x));let c,h;this.x=(a*s-r*l)/u,this.y=(n*l-o*s)/u,c=this.x-e.x,h=this.y-e.y,this.r=c*c+h*h}};function byX(e,t){return t.x-e.x}function dedup$1(e){let t,i,n,r,o,a=e.length;e:for(;a;)for(i=e[--a],t=e[--a],n=a;n;)if(o=e[--n],r=e[--n],t===r&&i===o||t===o&&i===r){e.splice(a,2),e.splice(n,2),a-=2;continue e}}function triangulate(e){if(e.length<3)return[];e.sort(byX);let t=e.length-1;const i=e[t].x,n=e[0].x;let r=e[t].y,o=r;let a,s,l,u,c,h;for(;t--;)e[t].y<r&&(r=e[t].y),e[t].y>o&&(o=e[t].y);let g=n-i,d=o-r;const p=g>d?g:d,m=.5*(n+i),f=.5*(o+r),C=[new Triangle({__sentinel:!0,x:m-20*p,y:f-p},{__sentinel:!0,x:m,y:f+20*p},{__sentinel:!0,x:m+20*p,y:f-p})],y=[],v=[];let A;for(t=e.length;t--;){for(v.length=0,A=C.length;A--;)g=e[t].x-C[A].x,g>0&&g*g>C[A].r?(y.push(C[A]),C.splice(A,1)):(d=e[t].y-C[A].y,g*g+d*d>C[A].r||(v.push(C[A].a,C[A].b,C[A].b,C[A].c,C[A].c,C[A].a),C.splice(A,1)));for(dedup$1(v),A=v.length;A;)s=v[--A],a=v[--A],l=e[t],u=s.x-a.x,c=s.y-a.y,h=2*(u*(l.y-s.y)-c*(l.x-s.x)),Math.abs(h)>1e-12&&C.push(new Triangle(a,s,l))}for(Array.prototype.push.apply(y,C),t=y.length;t--;)(y[t].a.__sentinel||y[t].b.__sentinel||y[t].c.__sentinel)&&y.splice(t,1);return y}function identity(e){return e}function transform(e){if(null==e)return identity;var t,i,n=e.scale[0],r=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=i=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*n+o,c[1]=(i+=e[1])*r+a;l<u;)c[l]=e[l],++l;return c}}function reverse$1(e,t){for(var i,n=e.length,r=n-t;r<--n;)i=e[r],e[r++]=e[n],e[n]=i}function object$1(e,t){var i=transform(e.transform),n=e.arcs;function r(e,t){t.length&&t.pop();for(var r=n[e<0?~e:e],o=0,a=r.length;o<a;++o)t.push(i(r[o],o));e<0&&reverse$1(t,a)}function o(e){return i(e)}function a(e){for(var t=[],i=0,n=e.length;i<n;++i)r(e[i],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var i,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":i=o(t.coordinates);break;case"MultiPoint":i=t.coordinates.map(o);break;case"LineString":i=a(t.arcs);break;case"MultiLineString":i=t.arcs.map(a);break;case"Polygon":i=l(t.arcs);break;case"MultiPolygon":i=t.arcs.map(l);break;default:return null}return{type:n,coordinates:i}}(t)}function stitch(e,t){var i={},n={},r={},o=[],a=-1;function s(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach((function(e){i[e<0?~e:e]=1})),o.push(r)}}return t.forEach((function(i,n){var r,o=e.arcs[i<0?~i:i];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++a],t[a]=i,t[n]=r)})),t.forEach((function(t){var i,o,a=function(t){var i,n=e.arcs[t<0?~t:t],r=n[0];e.transform?(i=[0,0],n.forEach((function(e){i[0]+=e[0],i[1]+=e[1]}))):i=n[n.length-1];return t<0?[i,r]:[r,i]}(t),s=a[0],l=a[1];if(i=r[s])if(delete r[i.end],i.push(t),i.end=l,o=n[l]){delete n[o.start];var u=o===i?i:i.concat(o);n[u.start=i.start]=r[u.end=o.end]=u}else n[i.start]=r[i.end]=i;else if(i=n[l])if(delete n[i.start],i.unshift(t),i.start=s,o=r[s]){delete r[o.end];var c=o===i?i:o.concat(i);n[c.start=o.start]=r[c.end=i.end]=c}else n[i.start]=r[i.end]=i;else n[(i=[t]).start=s]=r[i.end=l]=i})),s(r,n),s(n,r),t.forEach((function(e){i[e<0?~e:e]||o.push([e])})),o}function planarRingArea(e){for(var t,i=-1,n=e.length,r=e[n-1],o=0;++i<n;)t=r,r=e[i],o+=t[0]*r[1]-t[1]*r[0];return Math.abs(o)}function merge(e){return object$1(e,mergeArcs.apply(this,arguments))}function mergeArcs(e,t){var i={},n=[],r=[];function o(e){e.forEach((function(t){t.forEach((function(t){(i[t=t<0?~t:t]||(i[t]=[])).push(e)}))})),n.push(e)}function a(t){return planarRingArea(object$1(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}})),n.forEach((function(e){if(!e._){var t=[],n=[e];for(e._=1,r.push(t);e=n.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){i[e<0?~e:e].forEach((function(e){e._||(e._=1,n.push(e))}))}))}))}})),n.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:r.map((function(t){var n,r=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){i[e<0?~e:e].length<2&&r.push(e)}))}))})),(n=(r=stitch(e,r)).length)>1)for(var o,s,l=1,u=a(r[0]);l<n;++l)(o=a(r[l]))>u&&(s=r[0],r[0]=r[l],r[l]=s,u=o);return r})).filter((function(e){return e.length>0}))}}var hasOwnProperty=Object.prototype.hasOwnProperty;function bounds(e){var t=1/0,i=1/0,n=-1/0,r=-1/0;function o(e){null!=e&&hasOwnProperty.call(a,e.type)&&a[e.type](e)}var a={GeometryCollection:function(e){e.geometries.forEach(o)},Point:function(e){s(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(s)},LineString:function(e){l(e.arcs)},MultiLineString:function(e){e.arcs.forEach(l)},Polygon:function(e){e.arcs.forEach(l)},MultiPolygon:function(e){e.arcs.forEach(u)}};function s(e){var o=e[0],a=e[1];o<t&&(t=o),o>n&&(n=o),a<i&&(i=a),a>r&&(r=a)}function l(e){e.forEach(s)}function u(e){e.forEach(l)}for(var c in e)o(e[c]);return n>=t&&r>=i?[t,i,n,r]:void 0}function hashset(e,t,i,n,r){3===arguments.length&&(n=Array,r=null);for(var o=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,s=0;s<e;++s)o[s]=r;return{add:function(n){for(var s=t(n)&a,l=o[s],u=0;l!=r;){if(i(l,n))return!0;if(++u>=e)throw new Error("full hashset");l=o[s=s+1&a]}return o[s]=n,!0},has:function(n){for(var s=t(n)&a,l=o[s],u=0;l!=r;){if(i(l,n))return!0;if(++u>=e)break;l=o[s=s+1&a]}return!1},values:function(){for(var e=[],t=0,i=o.length;t<i;++t){var n=o[t];n!=r&&e.push(n)}return e}}}function hashmap(e,t,i,n,r,o){3===arguments.length&&(n=o=Array,r=null);for(var a=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new o(e),l=e-1,u=0;u<e;++u)a[u]=r;return{set:function(n,o){for(var u=t(n)&l,c=a[u],h=0;c!=r;){if(i(c,n))return s[u]=o;if(++h>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=n,s[u]=o,o},maybeSet:function(n,o){for(var u=t(n)&l,c=a[u],h=0;c!=r;){if(i(c,n))return s[u];if(++h>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=n,s[u]=o,o},get:function(n,o){for(var u=t(n)&l,c=a[u],h=0;c!=r;){if(i(c,n))return s[u];if(++h>=e)break;c=a[u=u+1&l]}return o},keys:function(){for(var e=[],t=0,i=a.length;t<i;++t){var n=a[t];n!=r&&e.push(n)}return e}}}function equalPoint(e,t){return e[0]===t[0]&&e[1]===t[1]}var buffer=new ArrayBuffer(16),floats=new Float64Array(buffer),uints=new Uint32Array(buffer);function hashPoint(e){floats[0]=e[0],floats[1]=e[1];var t=uints[0]^uints[1];return 2147483647&(t=t<<5^t>>7^uints[2]^uints[3])}function join(e){var t,i,n,r,o=e.coordinates,a=e.lines,s=e.rings,l=function(){for(var e=hashmap(1.4*o.length,I,w,Int32Array,-1,Int32Array),t=new Int32Array(o.length),i=0,n=o.length;i<n;++i)t[i]=e.maybeSet(i,i);return t}(),u=new Int32Array(o.length),c=new Int32Array(o.length),h=new Int32Array(o.length),g=new Int8Array(o.length),d=0;for(t=0,i=o.length;t<i;++t)u[t]=c[t]=h[t]=-1;for(t=0,i=a.length;t<i;++t){var p=a[t],m=p[0],f=p[1];for(n=l[m],r=l[++m],++d,g[n]=1;++m<=f;)A(t,n,n=r,r=l[m]);++d,g[r]=1}for(t=0,i=o.length;t<i;++t)u[t]=-1;for(t=0,i=s.length;t<i;++t){var C=s[t],y=C[0]+1,v=C[1];for(A(t,l[v-1],n=l[y-1],r=l[y]);++y<=v;)A(t,n,n=r,r=l[y])}function A(e,t,i,n){if(u[i]!==e){u[i]=e;var r=c[i];if(r>=0){var o=h[i];r===t&&o===n||r===n&&o===t||(++d,g[i]=1)}else c[i]=t,h[i]=n}}function I(e){return hashPoint(o[e])}function w(e,t){return equalPoint(o[e],o[t])}u=c=h=null;var b,E=hashset(1.4*d,hashPoint,equalPoint);for(t=0,i=o.length;t<i;++t)g[b=l[t]]&&E.add(o[b]);return E}function cut(e){var t,i,n,r=join(e),o=e.coordinates,a=e.lines,s=e.rings;for(i=0,n=a.length;i<n;++i)for(var l=a[i],u=l[0],c=l[1];++u<c;)r.has(o[u])&&(t={0:u,1:l[1]},l[1]=u,l=l.next=t);for(i=0,n=s.length;i<n;++i)for(var h=s[i],g=h[0],d=g,p=h[1],m=r.has(o[g]);++d<p;)r.has(o[d])&&(m?(t={0:d,1:h[1]},h[1]=d,h=h.next=t):(rotateArray(o,g,p,p-d),o[p]=o[g],m=!0,d=g));return e}function rotateArray(e,t,i,n){reverse(e,t,i),reverse(e,t,t+n),reverse(e,t+n,i)}function reverse(e,t,i){for(var n,r=t+(i---t>>1);t<r;++t,--i)n=e[t],e[t]=e[i],e[i]=n}function dedup(e){var t,i,n,r,o=e.coordinates,a=e.lines,s=e.rings,l=a.length+s.length;for(delete e.lines,delete e.rings,n=0,r=a.length;n<r;++n)for(t=a[n];t=t.next;)++l;for(n=0,r=s.length;n<r;++n)for(i=s[n];i=i.next;)++l;var u=hashmap(2*l*1.4,hashPoint,equalPoint),c=e.arcs=[];for(n=0,r=a.length;n<r;++n){t=a[n];do{h(t)}while(t=t.next)}for(n=0,r=s.length;n<r;++n)if((i=s[n]).next)do{h(i)}while(i=i.next);else g(i);function h(e){var t,i,n,r,a,s,l,h;if(n=u.get(t=o[e[0]]))for(l=0,h=n.length;l<h;++l)if(d(r=n[l],e))return e[0]=r[0],void(e[1]=r[1]);if(a=u.get(i=o[e[1]]))for(l=0,h=a.length;l<h;++l)if(p(s=a[l],e))return e[1]=s[0],void(e[0]=s[1]);n?n.push(e):u.set(t,[e]),a?a.push(e):u.set(i,[e]),c.push(e)}function g(e){var t,i,n,r,a;if(i=u.get(o[e[0]]))for(r=0,a=i.length;r<a;++r){if(m(n=i[r],e))return e[0]=n[0],void(e[1]=n[1]);if(f(n,e))return e[0]=n[1],void(e[1]=n[0])}if(i=u.get(t=o[e[0]+C(e)]))for(r=0,a=i.length;r<a;++r){if(m(n=i[r],e))return e[0]=n[0],void(e[1]=n[1]);if(f(n,e))return e[0]=n[1],void(e[1]=n[0])}i?i.push(e):u.set(t,[e]),c.push(e)}function d(e,t){var i=e[0],n=t[0],r=e[1];if(i-r!==n-t[1])return!1;for(;i<=r;++i,++n)if(!equalPoint(o[i],o[n]))return!1;return!0}function p(e,t){var i=e[0],n=t[0],r=e[1],a=t[1];if(i-r!==n-a)return!1;for(;i<=r;++i,--a)if(!equalPoint(o[i],o[a]))return!1;return!0}function m(e,t){var i=e[0],n=t[0],r=e[1]-i;if(r!==t[1]-n)return!1;for(var a=C(e),s=C(t),l=0;l<r;++l)if(!equalPoint(o[i+(l+a)%r],o[n+(l+s)%r]))return!1;return!0}function f(e,t){var i=e[0],n=t[0],r=e[1],a=t[1],s=r-i;if(s!==a-n)return!1;for(var l=C(e),u=s-C(t),c=0;c<s;++c)if(!equalPoint(o[i+(c+l)%s],o[a-(c+u)%s]))return!1;return!0}function C(e){for(var t=e[0],i=e[1],n=t,r=n,a=o[n];++n<i;){var s=o[n];(s[0]<a[0]||s[0]===a[0]&&s[1]<a[1])&&(r=n,a=s)}return r-t}return e}function delta(e){for(var t=-1,i=e.length;++t<i;){for(var n,r,o=e[t],a=0,s=1,l=o.length,u=o[0],c=u[0],h=u[1];++a<l;)n=(u=o[a])[0],r=u[1],n===c&&r===h||(o[s++]=[n-c,r-h],c=n,h=r);1===s&&(o[s++]=[0,0]),o.length=s}return e}function extract(e){var t=-1,i=[],n=[],r=[];function o(e){e&&hasOwnProperty.call(a,e.type)&&a[e.type](e)}var a={GeometryCollection:function(e){e.geometries.forEach(o)},LineString:function(e){e.arcs=s(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(s)},Polygon:function(e){e.arcs=e.arcs.map(l)},MultiPolygon:function(e){e.arcs=e.arcs.map(u)}};function s(e){for(var n=0,o=e.length;n<o;++n)r[++t]=e[n];var a={0:t-o+1,1:t};return i.push(a),a}function l(e){for(var i=0,o=e.length;i<o;++i)r[++t]=e[i];var a={0:t-o+1,1:t};return n.push(a),a}function u(e){return e.map(l)}for(var c in e)o(e[c]);return{type:"Topology",coordinates:r,lines:i,rings:n,objects:e}}function geometry(e){var t,i={};for(t in e)i[t]=geomifyObject(e[t]);return i}function geomifyObject(e){return null==e?{type:null}:("FeatureCollection"===e.type?geomifyFeatureCollection:"Feature"===e.type?geomifyFeature:geomifyGeometry)(e)}function geomifyFeatureCollection(e){var t={type:"GeometryCollection",geometries:e.features.map(geomifyFeature)};return null!=e.bbox&&(t.bbox=e.bbox),t}function geomifyFeature(e){var t,i=geomifyGeometry(e.geometry);for(t in null!=e.id&&(i.id=e.id),null!=e.bbox&&(i.bbox=e.bbox),e.properties){i.properties=e.properties;break}return i}function geomifyGeometry(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(geomifyGeometry)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function prequantize(e,t,i){var n=t[0],r=t[1],o=t[2],a=t[3],s=o-n?(i-1)/(o-n):1,l=a-r?(i-1)/(a-r):1;function u(e){return[Math.round((e[0]-n)*s),Math.round((e[1]-r)*l)]}function c(e,t){for(var i,o,a,u,c,h=-1,g=0,d=e.length,p=new Array(d);++h<d;)i=e[h],u=Math.round((i[0]-n)*s),c=Math.round((i[1]-r)*l),u===o&&c===a||(p[g++]=[o=u,a=c]);for(p.length=g;g<t;)g=p.push([p[0][0],p[0][1]]);return p}function h(e){return c(e,2)}function g(e){return c(e,4)}function d(e){return e.map(g)}function p(e){null!=e&&hasOwnProperty.call(m,e.type)&&m[e.type](e)}var m={GeometryCollection:function(e){e.geometries.forEach(p)},Point:function(e){e.coordinates=u(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(u)},LineString:function(e){e.arcs=h(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(h)},Polygon:function(e){e.arcs=d(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(d)}};for(var f in e)p(e[f]);return{scale:[1/s,1/l],translate:[n,r]}}function topology(e,t){var i=bounds(e=geometry(e)),n=t>0&&i&&prequantize(e,i,t),r=dedup(cut(extract(e))),o=r.coordinates,a=hashmap(1.4*r.arcs.length,hashArc,equalArc);function s(e){e&&hasOwnProperty.call(l,e.type)&&l[e.type](e)}e=r.objects,r.bbox=i,r.arcs=r.arcs.map((function(e,t){return a.set(e,t),o.slice(e[0],e[1]+1)})),delete r.coordinates,o=null;var l={GeometryCollection:function(e){e.geometries.forEach(s)},LineString:function(e){e.arcs=u(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(u)},Polygon:function(e){e.arcs=e.arcs.map(u)},MultiPolygon:function(e){e.arcs=e.arcs.map(c)}};function u(e){var t=[];do{var i=a.get(e);t.push(e[0]<e[1]?i:~i)}while(e=e.next);return t}function c(e){return e.map(u)}for(var h in e)s(e[h]);return n&&(r.transform=n,r.arcs=delta(r.arcs)),r}function hashArc(e){var t,i=e[0],n=e[1];return n<i&&(t=i,i=n,n=t),i+31*n}function equalArc(e,t){var i,n=e[0],r=e[1],o=t[0],a=t[1];return r<n&&(i=n,n=r,r=i),a<o&&(i=o,o=a,a=i),n===o&&r===a}function lineDissolve(e,t={}){if(!isObject$1(t=t||{}))throw new Error("options is invalid");const i=t.mutate;if("FeatureCollection"!==getType$1(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==i&&void 0!==i||(e=clone$2(e));const n=[],r=lineReduce(e,((e,t)=>{const i=mergeLineStrings(e,t);return i||(n.push(e),t)}));return r&&n.push(r),n.length?1===n.length?n[0]:multiLineString(n.map((e=>e.coordinates))):null}function coordId(e){return e[0].toString()+","+e[1].toString()}function mergeLineStrings(e,t){const i=e.geometry.coordinates,n=t.geometry.coordinates,r=coordId(i[0]),o=coordId(i[i.length-1]),a=coordId(n[0]),s=coordId(n[n.length-1]);let l;if(r===s)l=n.concat(i.slice(1));else if(a===o)l=i.concat(n.slice(1));else if(r===a)l=i.slice(1).reverse().concat(n);else{if(o!==s)return null;l=i.concat(n.reverse().slice(1))}return lineString(l)}function polygonDissolve(e,t={}){if("FeatureCollection"!==getType$1(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==t.mutate&&void 0!==t.mutate||(e=clone$2(e));const i=[];flattenEach(e,(e=>{i.push(e.geometry)}));const n=topology({geoms:geometryCollection(i).geometry});return merge(n,n.objects.geoms.geometries)}function dissolve$1(e,t={}){if(!isObject$1(t=t||{}))throw new Error("options is invalid");const i=t.mutate;if("FeatureCollection"!==getType$1(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==i&&void 0!==i||(e=clone$2(e));const n=getHomogenousType(e);if(!n)throw new Error("geojson must be homogenous");const r=e;switch(n){case"LineString":return lineDissolve(r,t);case"Polygon":return polygonDissolve(r,t);default:throw new Error(n+" is not supported")}}function getHomogenousType(e){const t={};flattenEach(e,(e=>{t[e.geometry.type]=!0}));const i=Object.keys(t);return 1===i.length?i[0]:null}function concave(e,t={}){const i=t.maxEdge||1/0,n=tin(removeDuplicates(e));if(n.features=n.features.filter((e=>{const n=e.geometry.coordinates[0][0],r=e.geometry.coordinates[0][1],o=e.geometry.coordinates[0][2],a=distance$1(n,r,t),s=distance$1(r,o,t),l=distance$1(n,o,t);return a<=i&&s<=i&&l<=i})),n.features.length<1)return null;const r=dissolve$1(n);return 1===r.coordinates.length&&(r.coordinates=r.coordinates[0],r.type="Polygon"),feature(r)}function removeDuplicates(e){const t=[],i={};return featureEach(e,(e=>{if(!e.geometry)return;const n=e.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(i,n)||(t.push(e),i[n]=!0)})),featureCollection(t)}var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone$1(e){var t,i,n,r,o,a,s,l,u,c,h=x.prototype={constructor:x,toString:null,valueOf:null},g=new x(1),d=20,p=4,m=-7,f=21,C=-1e7,y=1e7,v=!1,A=1,I=0,w={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},b="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function x(e,t){var r,o,a,s,l,u,c,h,g=this;if(!(g instanceof x))return new x(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>y?g.c=g.e=null:e.e<C?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,l=e;l>=10;l/=10,s++);return void(s>y?g.c=g.e=null:(g.e=s,g.c=[e]))}h=String(e)}else{if(!isNumeric.test(h=String(e)))return n(g,h,u);g.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(s=h.indexOf("."))>-1&&(h=h.replace(".","")),(l=h.search(/e/i))>0?(s<0&&(s=l),s+=+h.slice(l+1),h=h.substring(0,l)):s<0&&(s=h.length)}else{if(intCheck(t,2,b.length,"Base"),10==t&&E)return M(g=new x(e),d+g.e+1,p);if(h=String(e),u="number"==typeof e){if(0*e!=0)return n(g,h,u,t);if(g.s=1/e<0?(h=h.slice(1),-1):1,x.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+e)}else g.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=b.slice(0,t),s=l=0,c=h.length;l<c;l++)if(r.indexOf(o=h.charAt(l))<0){if("."==o){if(l>s){s=c;continue}}else if(!a&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){a=!0,l=-1,s=0;continue}return n(g,String(e),u,t)}u=!1,(s=(h=i(h,t,10,g.s)).indexOf("."))>-1?h=h.replace(".",""):s=h.length}for(l=0;48===h.charCodeAt(l);l++);for(c=h.length;48===h.charCodeAt(--c););if(h=h.slice(l,++c)){if(c-=l,u&&x.DEBUG&&c>15&&(e>MAX_SAFE_INTEGER||e!==mathfloor(e)))throw Error(tooManyDigits+g.s*e);if((s=s-l-1)>y)g.c=g.e=null;else if(s<C)g.c=[g.e=0];else{if(g.e=s,g.c=[],l=(s+1)%LOG_BASE,s<0&&(l+=LOG_BASE),l<c){for(l&&g.c.push(+h.slice(0,l)),c-=LOG_BASE;l<c;)g.c.push(+h.slice(l,l+=LOG_BASE));l=LOG_BASE-(h=h.slice(l)).length}else l-=c;for(;l--;h+="0");g.c.push(+h)}}else g.c=[g.e=0]}function _(e,t,i,n){var r,o,a,s,l;if(null==i?i=p:intCheck(i,0,8),!e.c)return e.toString();if(r=e.c[0],a=e.e,null==t)l=coeffToString(e.c),l=1==n||2==n&&(a<=m||a>=f)?toExponential(l,a):toFixedPoint(l,a,"0");else if(o=(e=M(new x(e),t,i)).e,s=(l=coeffToString(e.c)).length,1==n||2==n&&(t<=o||o<=m)){for(;s<t;l+="0",s++);l=toExponential(l,o)}else if(t-=a,l=toFixedPoint(l,o,"0"),o+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-s)>0)for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&r?"-"+l:l}function k(e,t){for(var i,n,r=1,o=new x(e[0]);r<e.length;r++)(!(n=new x(e[r])).s||(i=compare(o,n))===t||0===i&&o.s===t)&&(o=n);return o}function P(e,t,i){for(var n=1,r=t.length;!t[--r];t.pop());for(r=t[0];r>=10;r/=10,n++);return(i=n+i*LOG_BASE-1)>y?e.c=e.e=null:i<C?e.c=[e.e=0]:(e.e=i,e.c=t),e}function M(e,t,i,n){var r,o,a,s,l,u,c,h=e.c,g=POWS_TEN;if(h){e:{for(r=1,s=h[0];s>=10;s/=10,r++);if((o=t-r)<0)o+=LOG_BASE,a=t,l=h[u=0],c=mathfloor(l/g[r-a-1]%10);else if((u=mathceil((o+1)/LOG_BASE))>=h.length){if(!n)break e;for(;h.length<=u;h.push(0));l=c=0,r=1,a=(o%=LOG_BASE)-LOG_BASE+1}else{for(l=s=h[u],r=1;s>=10;s/=10,r++);c=(a=(o%=LOG_BASE)-LOG_BASE+r)<0?0:mathfloor(l/g[r-a-1]%10)}if(n=n||t<0||null!=h[u+1]||(a<0?l:l%g[r-a-1]),n=i<4?(c||n)&&(0==i||i==(e.s<0?3:2)):c>5||5==c&&(4==i||n||6==i&&(o>0?a>0?l/g[r-a]:0:h[u-1])%10&1||i==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=g[(LOG_BASE-t%LOG_BASE)%LOG_BASE],e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=u,s=1,u--):(h.length=u+1,s=g[LOG_BASE-o],h[u]=a>0?mathfloor(l/g[r-a]%g[a])*s:0),n)for(;;){if(0==u){for(o=1,a=h[0];a>=10;a/=10,o++);for(a=h[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,h[0]==BASE&&(h[0]=1));break}if(h[u]+=s,h[u]!=BASE)break;h[u--]=0,s=1}for(o=h.length;0===h[--o];h.pop());}e.e>y?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function S(e){var t,i=e.e;return null===i?e.toString():(t=coeffToString(e.c),t=i<=m||i>=f?toExponential(t,i):toFixedPoint(t,i,"0"),e.s<0?"-"+t:t)}return x.clone=clone$1,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(e){var t,i;if(null!=e){if("object"!=typeof e)throw Error(bignumberError+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(intCheck(i=e[t],0,MAX,t),d=i),e.hasOwnProperty(t="ROUNDING_MODE")&&(intCheck(i=e[t],0,8,t),p=i),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((i=e[t])&&i.pop?(intCheck(i[0],-MAX,0,t),intCheck(i[1],0,MAX,t),m=i[0],f=i[1]):(intCheck(i,-MAX,MAX,t),m=-(f=i<0?-i:i))),e.hasOwnProperty(t="RANGE"))if((i=e[t])&&i.pop)intCheck(i[0],-MAX,-1,t),intCheck(i[1],1,MAX,t),C=i[0],y=i[1];else{if(intCheck(i,-MAX,MAX,t),!i)throw Error(bignumberError+t+" cannot be zero: "+i);C=-(y=i<0?-i:i)}if(e.hasOwnProperty(t="CRYPTO")){if((i=e[t])!==!!i)throw Error(bignumberError+t+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw v=!i,Error(bignumberError+"crypto unavailable");v=i}else v=i}if(e.hasOwnProperty(t="MODULO_MODE")&&(intCheck(i=e[t],0,9,t),A=i),e.hasOwnProperty(t="POW_PRECISION")&&(intCheck(i=e[t],0,MAX,t),I=i),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(i=e[t]))throw Error(bignumberError+t+" not an object: "+i);w=i}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(i=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(i))throw Error(bignumberError+t+" invalid: "+i);E="0123456789"==i.slice(0,10),b=i}}return{DECIMAL_PLACES:d,ROUNDING_MODE:p,EXPONENTIAL_AT:[m,f],RANGE:[C,y],CRYPTO:v,MODULO_MODE:A,POW_PRECISION:I,FORMAT:w,ALPHABET:b}},x.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!x.DEBUG)return!0;var t,i,n=e.c,r=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&r>=-MAX&&r<=MAX&&r===mathfloor(r)){if(0===n[0]){if(0===r&&1===n.length)return!0;break e}if((t=(r+1)%LOG_BASE)<1&&(t+=LOG_BASE),String(n[0]).length==t){for(t=0;t<n.length;t++)if((i=n[t])<0||i>=BASE||i!==mathfloor(i))break e;if(0!==i)return!0}}}else if(null===n&&null===r&&(null===o||1===o||-1===o))return!0;throw Error(bignumberError+"Invalid BigNumber: "+e)},x.maximum=x.max=function(){return k(arguments,-1)},x.minimum=x.min=function(){return k(arguments,1)},x.random=(r=9007199254740992,o=Math.random()*r&2097151?function(){return mathfloor(Math.random()*r)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,i,n,r,a,s=0,l=[],u=new x(g);if(null==e?e=d:intCheck(e,0,MAX),r=mathceil(e/LOG_BASE),v)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(r*=2));s<r;)(a=131072*t[s]+(t[s+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[s]=i[0],t[s+1]=i[1]):(l.push(a%1e14),s+=2);s=r/2}else{if(!crypto.randomBytes)throw v=!1,Error(bignumberError+"crypto unavailable");for(t=crypto.randomBytes(r*=7);s<r;)(a=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(l.push(a%1e14),s+=7);s=r/7}if(!v)for(;s<r;)(a=o())<9e15&&(l[s++]=a%1e14);for(r=l[--s],e%=LOG_BASE,r&&e&&(a=POWS_TEN[LOG_BASE-e],l[s]=mathfloor(r/a)*a);0===l[s];l.pop(),s--);if(s<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=LOG_BASE);for(s=1,a=l[0];a>=10;a/=10,s++);s<LOG_BASE&&(n-=LOG_BASE-s)}return u.e=n,u.c=l,u}),x.sum=function(){for(var e=1,t=arguments,i=new x(t[0]);e<t.length;)i=i.plus(t[e++]);return i},i=function(){var e="0123456789";function i(e,t,i,n){for(var r,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),r=0;r<a.length;r++)a[r]>i-1&&(null==a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/i|0,a[r]%=i)}return a.reverse()}return function(n,r,o,a,s){var l,u,c,h,g,m,f,C,y=n.indexOf("."),v=d,A=p;for(y>=0&&(h=I,I=0,n=n.replace(".",""),m=(C=new x(r)).pow(n.length-y),I=h,C.c=i(toFixedPoint(coeffToString(m.c),m.e,"0"),10,o,e),C.e=C.c.length),c=h=(f=i(n,r,o,s?(l=b,e):(l=e,b))).length;0==f[--h];f.pop());if(!f[0])return l.charAt(0);if(y<0?--c:(m.c=f,m.e=c,m.s=a,f=(m=t(m,C,v,A,o)).c,g=m.r,c=m.e),y=f[u=c+v+1],h=o/2,g=g||u<0||null!=f[u+1],g=A<4?(null!=y||g)&&(0==A||A==(m.s<0?3:2)):y>h||y==h&&(4==A||g||6==A&&1&f[u-1]||A==(m.s<0?8:7)),u<1||!f[0])n=g?toFixedPoint(l.charAt(1),-v,l.charAt(0)):l.charAt(0);else{if(f.length=u,g)for(--o;++f[--u]>o;)f[u]=0,u||(++c,f=[1].concat(f));for(h=f.length;!f[--h];);for(y=0,n="";y<=h;n+=l.charAt(f[y++]));n=toFixedPoint(n,c,l.charAt(0))}return n}}(),t=function(){function e(e,t,i){var n,r,o,a,s=0,l=e.length,u=t%SQRT_BASE,c=t/SQRT_BASE|0;for(e=e.slice();l--;)s=((r=u*(o=e[l]%SQRT_BASE)+(n=c*o+(a=e[l]/SQRT_BASE|0)*u)%SQRT_BASE*SQRT_BASE+s)/i|0)+(n/SQRT_BASE|0)+c*a,e[l]=r%i;return s&&(e=[s].concat(e)),e}function t(e,t,i,n){var r,o;if(i!=n)o=i>n?1:-1;else for(r=o=0;r<i;r++)if(e[r]!=t[r]){o=e[r]>t[r]?1:-1;break}return o}function i(e,t,i,n){for(var r=0;i--;)e[i]-=r,r=e[i]<t[i]?1:0,e[i]=r*n+e[i]-t[i];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,r,o,a,s){var l,u,c,h,g,d,p,m,f,C,y,v,A,I,w,b,E,_=n.s==r.s?1:-1,k=n.c,P=r.c;if(!(k&&k[0]&&P&&P[0]))return new x(n.s&&r.s&&(k?!P||k[0]!=P[0]:P)?k&&0==k[0]||!P?0*_:_/0:NaN);for(f=(m=new x(_)).c=[],_=o+(u=n.e-r.e)+1,s||(s=BASE,u=bitFloor(n.e/LOG_BASE)-bitFloor(r.e/LOG_BASE),_=_/LOG_BASE|0),c=0;P[c]==(k[c]||0);c++);if(P[c]>(k[c]||0)&&u--,_<0)f.push(1),h=!0;else{for(I=k.length,b=P.length,c=0,_+=2,(g=mathfloor(s/(P[0]+1)))>1&&(P=e(P,g,s),k=e(k,g,s),b=P.length,I=k.length),A=b,y=(C=k.slice(0,b)).length;y<b;C[y++]=0);E=P.slice(),E=[0].concat(E),w=P[0],P[1]>=s/2&&w++;do{if(g=0,(l=t(P,C,b,y))<0){if(v=C[0],b!=y&&(v=v*s+(C[1]||0)),(g=mathfloor(v/w))>1)for(g>=s&&(g=s-1),p=(d=e(P,g,s)).length,y=C.length;1==t(d,C,p,y);)g--,i(d,b<p?E:P,p,s),p=d.length,l=1;else 0==g&&(l=g=1),p=(d=P.slice()).length;if(p<y&&(d=[0].concat(d)),i(C,d,y,s),y=C.length,-1==l)for(;t(P,C,b,y)<1;)g++,i(C,b<y?E:P,y,s),y=C.length}else 0===l&&(g++,C=[0]);f[c++]=g,C[0]?C[y++]=k[A]||0:(C=[k[A]],y=1)}while((A++<I||null!=C[0])&&_--);h=null!=C[0],f[0]||f.splice(0,1)}if(s==BASE){for(c=1,_=f[0];_>=10;_/=10,c++);M(m,o+(m.e=c+u*LOG_BASE-1)+1,a,h)}else m.e=u,m.r=+h;return m}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,s=/^([^.]+)\.$/,l=/^\.([^.]+)$/,u=/^-?(Infinity|NaN)$/,c=/^\s*\+(?=[\w.])|^\s+|\s+$/g,n=function(e,t,i,n){var r,o=i?t:t.replace(c,"");if(u.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!i&&(o=o.replace(a,(function(e,t,i){return r="x"==(i=i.toLowerCase())?16:"b"==i?2:8,n&&n!=r?e:t})),n&&(r=n,o=o.replace(s,"$1").replace(l,"0.$1")),t!=o))return new x(o,r);if(x.DEBUG)throw Error(bignumberError+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new x(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return compare(this,new x(e,t))},h.decimalPlaces=h.dp=function(e,t){var i,n,r,o=this;if(null!=e)return intCheck(e,0,MAX),null==t?t=p:intCheck(t,0,8),M(new x(o),e+o.e+1,t);if(!(i=o.c))return null;if(n=((r=i.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,r=i[r])for(;r%10==0;r/=10,n--);return n<0&&(n=0),n},h.dividedBy=h.div=function(e,i){return t(this,new x(e,i),d,p)},h.dividedToIntegerBy=h.idiv=function(e,i){return t(this,new x(e,i),0,1)},h.exponentiatedBy=h.pow=function(e,t){var i,n,r,o,a,s,l,u,c=this;if((e=new x(e)).c&&!e.isInteger())throw Error(bignumberError+"Exponent not an integer: "+S(e));if(null!=t&&(t=new x(t)),a=e.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!e.c||!e.c[0])return u=new x(Math.pow(+S(c),a?e.s*(2-isOdd(e)):+S(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new x(NaN);(n=!s&&c.isInteger()&&t.isInteger())&&(c=c.mod(t))}else{if(e.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||a&&c.c[1]>=24e7:c.c[0]<8e13||a&&c.c[0]<=9999975e7)))return o=c.s<0&&isOdd(e)?-0:0,c.e>-1&&(o=1/o),new x(s?1/o:o);I&&(o=mathceil(I/LOG_BASE+2))}for(a?(i=new x(.5),s&&(e.s=1),l=isOdd(e)):l=(r=Math.abs(+S(e)))%2,u=new x(g);;){if(l){if(!(u=u.times(c)).c)break;o?u.c.length>o&&(u.c.length=o):n&&(u=u.mod(t))}if(r){if(0===(r=mathfloor(r/2)))break;l=r%2}else if(M(e=e.times(i),e.e+1,1),e.e>14)l=isOdd(e);else{if(0===(r=+S(e)))break;l=r%2}c=c.times(c),o?c.c&&c.c.length>o&&(c.c.length=o):n&&(c=c.mod(t))}return n?u:(s&&(u=g.div(u)),t?u.mod(t):o?M(u,I,p,undefined):u)},h.integerValue=function(e){var t=new x(this);return null==e?e=p:intCheck(e,0,8),M(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===compare(this,new x(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return compare(this,new x(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=compare(this,new x(e,t)))||0===t},h.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return compare(this,new x(e,t))<0},h.isLessThanOrEqualTo=h.lte=function(e,t){return-1===(t=compare(this,new x(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var i,n,r,o,a=this,s=a.s;if(t=(e=new x(e,t)).s,!s||!t)return new x(NaN);if(s!=t)return e.s=-t,a.plus(e);var l=a.e/LOG_BASE,u=e.e/LOG_BASE,c=a.c,h=e.c;if(!l||!u){if(!c||!h)return c?(e.s=-t,e):new x(h?a:NaN);if(!c[0]||!h[0])return h[0]?(e.s=-t,e):new x(c[0]?a:3==p?-0:0)}if(l=bitFloor(l),u=bitFloor(u),c=c.slice(),s=l-u){for((o=s<0)?(s=-s,r=c):(u=l,r=h),r.reverse(),t=s;t--;r.push(0));r.reverse()}else for(n=(o=(s=c.length)<(t=h.length))?s:t,s=t=0;t<n;t++)if(c[t]!=h[t]){o=c[t]<h[t];break}if(o&&(r=c,c=h,h=r,e.s=-e.s),(t=(n=h.length)-(i=c.length))>0)for(;t--;c[i++]=0);for(t=BASE-1;n>s;){if(c[--n]<h[n]){for(i=n;i&&!c[--i];c[i]=t);--c[i],c[n]+=BASE}c[n]-=h[n]}for(;0==c[0];c.splice(0,1),--u);return c[0]?P(e,c,u):(e.s=3==p?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,i){var n,r,o=this;return e=new x(e,i),!o.c||!e.s||e.c&&!e.c[0]?new x(NaN):!e.c||o.c&&!o.c[0]?new x(o):(9==A?(r=e.s,e.s=1,n=t(o,e,0,3),e.s=r,n.s*=r):n=t(o,e,0,A),(e=o.minus(n.times(e))).c[0]||1!=A||(e.s=o.s),e)},h.multipliedBy=h.times=function(e,t){var i,n,r,o,a,s,l,u,c,h,g,d,p,m,f,C=this,y=C.c,v=(e=new x(e,t)).c;if(!(y&&v&&y[0]&&v[0]))return!C.s||!e.s||y&&!y[0]&&!v||v&&!v[0]&&!y?e.c=e.e=e.s=null:(e.s*=C.s,y&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=bitFloor(C.e/LOG_BASE)+bitFloor(e.e/LOG_BASE),e.s*=C.s,(l=y.length)<(h=v.length)&&(p=y,y=v,v=p,r=l,l=h,h=r),r=l+h,p=[];r--;p.push(0));for(m=BASE,f=SQRT_BASE,r=h;--r>=0;){for(i=0,g=v[r]%f,d=v[r]/f|0,o=r+(a=l);o>r;)i=((u=g*(u=y[--a]%f)+(s=d*u+(c=y[a]/f|0)*g)%f*f+p[o]+i)/m|0)+(s/f|0)+d*c,p[o--]=u%m;p[o]=i}return i?++n:p.splice(0,1),P(e,p,n)},h.negated=function(){var e=new x(this);return e.s=-e.s||null,e},h.plus=function(e,t){var i,n=this,r=n.s;if(t=(e=new x(e,t)).s,!r||!t)return new x(NaN);if(r!=t)return e.s=-t,n.minus(e);var o=n.e/LOG_BASE,a=e.e/LOG_BASE,s=n.c,l=e.c;if(!o||!a){if(!s||!l)return new x(r/0);if(!s[0]||!l[0])return l[0]?e:new x(s[0]?n:0*r)}if(o=bitFloor(o),a=bitFloor(a),s=s.slice(),r=o-a){for(r>0?(a=o,i=l):(r=-r,i=s),i.reverse();r--;i.push(0));i.reverse()}for((r=s.length)-(t=l.length)<0&&(i=l,l=s,s=i,t=r),r=0;t;)r=(s[--t]=s[t]+l[t]+r)/BASE|0,s[t]=BASE===s[t]?0:s[t]%BASE;return r&&(s=[r].concat(s),++a),P(e,s,a)},h.precision=h.sd=function(e,t){var i,n,r,o=this;if(null!=e&&e!==!!e)return intCheck(e,1,MAX),null==t?t=p:intCheck(t,0,8),M(new x(o),e,t);if(!(i=o.c))return null;if(n=(r=i.length-1)*LOG_BASE+1,r=i[r]){for(;r%10==0;r/=10,n--);for(r=i[0];r>=10;r/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},h.shiftedBy=function(e){return intCheck(e,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,i,n,r,o,a=this,s=a.c,l=a.s,u=a.e,c=d+4,h=new x("0.5");if(1!==l||!s||!s[0])return new x(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(l=Math.sqrt(+S(a)))||l==1/0?(((i=coeffToString(s)).length+u)%2==0&&(i+="0"),l=Math.sqrt(+i),u=bitFloor((u+1)/2)-(u<0||u%2),n=new x(i=l==1/0?"5e"+u:(i=l.toExponential()).slice(0,i.indexOf("e")+1)+u)):n=new x(l+""),n.c[0])for((l=(u=n.e)+c)<3&&(l=0);;)if(o=n,n=h.times(o.plus(t(a,o,c,1))),coeffToString(o.c).slice(0,l)===(i=coeffToString(n.c)).slice(0,l)){if(n.e<u&&--l,"9999"!=(i=i.slice(l-3,l+1))&&(r||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(M(n,n.e+d+2,1),e=!n.times(n).eq(a));break}if(!r&&(M(o,o.e+d+2,0),o.times(o).eq(a))){n=o;break}c+=4,l+=4,r=1}return M(n,n.e+d+1,p,e)},h.toExponential=function(e,t){return null!=e&&(intCheck(e,0,MAX),e++),_(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(intCheck(e,0,MAX),e=e+this.e+1),_(this,e,t)},h.toFormat=function(e,t,i){var n,r=this;if(null==i)null!=e&&t&&"object"==typeof t?(i=t,t=null):e&&"object"==typeof e?(i=e,e=t=null):i=w;else if("object"!=typeof i)throw Error(bignumberError+"Argument not an object: "+i);if(n=r.toFixed(e,t),r.c){var o,a=n.split("."),s=+i.groupSize,l=+i.secondaryGroupSize,u=i.groupSeparator||"",c=a[0],h=a[1],g=r.s<0,d=g?c.slice(1):c,p=d.length;if(l&&(o=s,s=l,l=o,p-=o),s>0&&p>0){for(o=p%s||s,c=d.substr(0,o);o<p;o+=s)c+=u+d.substr(o,s);l>0&&(c+=u+d.slice(o)),g&&(c="-"+c)}n=h?c+(i.decimalSeparator||"")+((l=+i.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):h):c}return(i.prefix||"")+n+(i.suffix||"")},h.toFraction=function(e){var i,n,r,o,a,s,l,u,c,h,d,m,f=this,C=f.c;if(null!=e&&(!(l=new x(e)).isInteger()&&(l.c||1!==l.s)||l.lt(g)))throw Error(bignumberError+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+S(l));if(!C)return new x(f);for(i=new x(g),c=n=new x(g),r=u=new x(g),m=coeffToString(C),a=i.e=m.length-f.e-1,i.c[0]=POWS_TEN[(s=a%LOG_BASE)<0?LOG_BASE+s:s],e=!e||l.comparedTo(i)>0?a>0?i:c:l,s=y,y=1/0,l=new x(m),u.c[0]=0;h=t(l,i,0,1),1!=(o=n.plus(h.times(r))).comparedTo(e);)n=r,r=o,c=u.plus(h.times(o=c)),u=o,i=l.minus(h.times(o=i)),l=o;return o=t(e.minus(n),r,0,1),u=u.plus(o.times(c)),n=n.plus(o.times(r)),u.s=c.s=f.s,d=t(c,r,a*=2,p).minus(f).abs().comparedTo(t(u,n,a,p).minus(f).abs())<1?[c,r]:[u,n],y=s,d},h.toNumber=function(){return+S(this)},h.toPrecision=function(e,t){return null!=e&&intCheck(e,1,MAX),_(this,e,t,2)},h.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=o<=m||o>=f?toExponential(coeffToString(n.c),o):toFixedPoint(coeffToString(n.c),o,"0"):10===e&&E?t=toFixedPoint(coeffToString((n=M(new x(n),d+o+1,p)).c),n.e,"0"):(intCheck(e,2,b.length,"Base"),t=i(toFixedPoint(coeffToString(n.c),o,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return S(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=e&&x.set(e),x}function bitFloor(e){var t=0|e;return e>0||e===t?t:t-1}function coeffToString(e){for(var t,i,n=1,r=e.length,o=e[0]+"";n<r;){for(t=e[n++]+"",i=LOG_BASE-t.length;i--;t="0"+t);o+=t}for(r=o.length;48===o.charCodeAt(--r););return o.slice(0,r+1||1)}function compare(e,t){var i,n,r=e.c,o=t.c,a=e.s,s=t.s,l=e.e,u=t.e;if(!a||!s)return null;if(i=r&&!r[0],n=o&&!o[0],i||n)return i?n?0:-s:a;if(a!=s)return a;if(i=a<0,n=l==u,!r||!o)return n?0:!r^i?1:-1;if(!n)return l>u^i?1:-1;for(s=(l=r.length)<(u=o.length)?l:u,a=0;a<s;a++)if(r[a]!=o[a])return r[a]>o[a]^i?1:-1;return l==u?0:l>u^i?1:-1}function intCheck(e,t,i,n){if(e<t||e>i||e!==mathfloor(e))throw Error(bignumberError+(n||"Argument")+("number"==typeof e?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function isOdd(e){var t=e.c.length-1;return bitFloor(e.e/LOG_BASE)==t&&e.c[t]%2!=0}function toExponential(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function toFixedPoint(e,t,i){var n,r;if(t<0){for(r=i+".";++t;r+=i);e=r+e}else if(++t>(n=e.length)){for(r=i,t-=n;--t;r+=i);e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var BigNumber=clone$1(),SplayTreeNode=class{key;left=null;right=null;constructor(e){this.key=e}},SplayTreeSetNode=class extends SplayTreeNode{constructor(e){super(e)}},SplayTree=class{size=0;modificationCount=0;splayCount=0;splay(e){const t=this.root;if(null==t)return this.compare(e,e),-1;let i=null,n=null,r=null,o=null,a=t;const s=this.compare;let l;for(;;)if(l=s(a.key,e),l>0){let t=a.left;if(null==t)break;if(l=s(t.key,e),l>0&&(a.left=t.right,t.right=a,a=t,t=a.left,null==t))break;null==i?n=a:i.left=a,i=a,a=t}else{if(!(l<0))break;{let t=a.right;if(null==t)break;if(l=s(t.key,e),l<0&&(a.right=t.left,t.left=a,a=t,t=a.right,null==t))break;null==r?o=a:r.right=a,r=a,a=t}}return null!=r&&(r.right=a.left,a.left=o),null!=i&&(i.left=a.right,a.right=n),this.root!==a&&(this.root=a,this.splayCount++),l}splayMin(e){let t=e,i=t.left;for(;null!=i;){const e=i;t.left=e.right,e.right=t,t=e,i=t.left}return t}splayMax(e){let t=e,i=t.right;for(;null!=i;){const e=i;t.right=e.left,e.left=t,t=e,i=t.right}return t}_delete(e){if(null==this.root)return null;if(0!=this.splay(e))return null;let t=this.root;const i=t,n=t.left;if(this.size--,null==n)this.root=t.right;else{const e=t.right;t=this.splayMax(n),t.right=e,this.root=t}return this.modificationCount++,i}addNewRoot(e,t){this.size++,this.modificationCount++;const i=this.root;null!=i?(t<0?(e.left=i,e.right=i.right,i.right=null):(e.right=i,e.left=i.left,i.left=null),this.root=e):this.root=e}_first(){const e=this.root;return null==e?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return null==e?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&0==this.splay(e)}defaultCompare(){return(e,t)=>e<t?-1:e>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},SplayTreeSet=class e extends SplayTree{root=null;compare;validKey;constructor(e,t){super(),this.compare=e??this.defaultCompare(),this.validKey=t??(e=>null!=e&&null!=e)}delete(e){return!!this.validKey(e)&&null!=this._delete(e)}deleteAll(e){for(const t of e)this.delete(t)}forEach(e){const t=this[Symbol.iterator]();let i;for(;i=t.next(),!i.done;)e(i.value,i.value,this)}add(e){const t=this.splay(e);return 0!=t&&this.addNewRoot(new SplayTreeSetNode(e),t),this}addAndReturn(e){const t=this.splay(e);return 0!=t&&this.addNewRoot(new SplayTreeSetNode(e),t),this.root.key}addAll(e){for(const t of e)this.add(t)}isEmpty(){return null==this.root}isNotEmpty(){return null!=this.root}single(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(0==this.size)throw"Bad state: No element";return this._first().key}last(){if(0==this.size)throw"Bad state: No element";return this._last().key}lastBefore(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)<0)return this.root.key;let t=this.root.left;if(null==t)return null;let i=t.right;for(;null!=i;)t=i,i=t.right;return t.key}firstAfter(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)>0)return this.root.key;let t=this.root.right;if(null==t)return null;let i=t.left;for(;null!=i;)t=i,i=t.left;return t.key}retainAll(t){const i=new e(this.compare,this.validKey),n=this.modificationCount;for(const e of t){if(n!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(e)&&0==this.splay(e)&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(e){if(!this.validKey(e))return null;return 0!=this.splay(e)?null:this.root.key}intersection(t){const i=new e(this.compare,this.validKey);for(const e of this)t.has(e)&&i.add(e);return i}difference(t){const i=new e(this.compare,this.validKey);for(const e of this)t.has(e)||i.add(e);return i}union(e){const t=this.clone();return t.addAll(e),t}clone(){const t=new e(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(e){if(null==e)return null;const t=new SplayTreeSetNode(e.key);return function e(t,i){let n,r;do{if(n=t.left,r=t.right,null!=n){const t=new SplayTreeSetNode(n.key);i.left=t,e(n,t)}if(null!=r){const e=new SplayTreeSetNode(r.key);i.right=e,t=r,i=e}}while(null!=r)}(e,t),t}toSet(){return this.clone()}entries(){return new SplayTreeSetEntryIterableIterator(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new SplayTreeKeyIterableIterator(this.wrap())}[Symbol.toStringTag]="[object Set]"},SplayTreeIterableIterator=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;null!=e;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();let e=this.tree.getRoot();for(;null!=e;)this.path.push(e),e=e.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(null!=t){for(;null!=t;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},SplayTreeKeyIterableIterator=class extends SplayTreeIterableIterator{getValue(e){return e.key}},SplayTreeSetEntryIterableIterator=class extends SplayTreeIterableIterator{getValue(e){return[e.key,e.key]}},constant_default=e=>()=>e,compare_default=e=>{const t=e?(t,i)=>i.minus(t).abs().isLessThanOrEqualTo(e):constant_default(!1);return(e,i)=>t(e,i)?0:e.comparedTo(i)};function orient_default(e){const t=e?(t,i,n,r,o)=>t.exponentiatedBy(2).isLessThanOrEqualTo(r.minus(i).exponentiatedBy(2).plus(o.minus(n).exponentiatedBy(2)).times(e)):constant_default(!1);return(e,i,n)=>{const r=e.x,o=e.y,a=n.x,s=n.y,l=o.minus(s).times(i.x.minus(a)).minus(r.minus(a).times(i.y.minus(s)));return t(l,r,o,a,s)?0:l.comparedTo(0)}}var identity_default=e=>e,snap_default=e=>{if(e){const t=new SplayTreeSet(compare_default(e)),i=new SplayTreeSet(compare_default(e)),n=(e,t)=>t.addAndReturn(e),r=e=>({x:n(e.x,t),y:n(e.y,i)});return r({x:new BigNumber(0),y:new BigNumber(0)}),r}return identity_default},set=e=>({set:e=>{precision=set(e)},reset:()=>set(e),compare:compare_default(e),snap:snap_default(e),orient:orient_default(e)}),precision=set(),isInBbox=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),getBboxOverlap=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;const i=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,n=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x;return{ll:{x:i,y:e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y},ur:{x:n,y:e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y}}},crossProduct$1=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),dotProduct=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),length$1=e=>dotProduct(e,e).sqrt(),sineOfAngle=(e,t,i)=>{const n={x:t.x.minus(e.x),y:t.y.minus(e.y)},r={x:i.x.minus(e.x),y:i.y.minus(e.y)};return crossProduct$1(r,n).div(length$1(r)).div(length$1(n))},cosineOfAngle=(e,t,i)=>{const n={x:t.x.minus(e.x),y:t.y.minus(e.y)},r={x:i.x.minus(e.x),y:i.y.minus(e.y)};return dotProduct(r,n).div(length$1(r)).div(length$1(n))},horizontalIntersection=(e,t,i)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(i.minus(e.y))),y:i},verticalIntersection=(e,t,i)=>t.x.isZero()?null:{x:i,y:e.y.plus(t.y.div(t.x).times(i.minus(e.x)))},intersection$1=(e,t,i,n)=>{if(t.x.isZero())return verticalIntersection(i,n,e.x);if(n.x.isZero())return verticalIntersection(e,t,i.x);if(t.y.isZero())return horizontalIntersection(i,n,e.y);if(n.y.isZero())return horizontalIntersection(e,t,i.y);const r=crossProduct$1(t,n);if(r.isZero())return null;const o={x:i.x.minus(e.x),y:i.y.minus(e.y)},a=crossProduct$1(o,t).div(r),s=crossProduct$1(o,n).div(r),l=e.x.plus(s.times(t.x)),u=i.x.plus(a.times(n.x)),c=e.y.plus(s.times(t.y)),h=i.y.plus(a.times(n.y));return{x:l.plus(u).div(2),y:c.plus(h).div(2)}},SweepEvent=class e{point;isLeft;segment;otherSE;consumedBy;static compare(t,i){const n=e.comparePoints(t.point,i.point);return 0!==n?n:(t.point!==i.point&&t.link(i),t.isLeft!==i.isLeft?t.isLeft?1:-1:Segment.compare(t.segment,i.segment))}static comparePoints(e,t){return e.x.isLessThan(t.x)?-1:e.x.isGreaterThan(t.x)?1:e.y.isLessThan(t.y)?-1:e.y.isGreaterThan(t.y)?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let e=0,i=t.length;e<i;e++){const i=t[e];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const i=this.point.events[t];if(void 0===i.segment.consumedBy)for(let n=t+1;n<e;n++){const e=this.point.events[n];void 0===e.consumedBy&&(i.otherSE.point.events===e.otherSE.point.events&&i.segment.consume(e.segment))}}}getAvailableLinkedEvents(){const e=[];for(let t=0,i=this.point.events.length;t<i;t++){const i=this.point.events[t];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&e.push(i)}return e}getLeftmostComparator(e){const t=new Map,i=i=>{const n=i.otherSE;t.set(i,{sine:sineOfAngle(this.point,e.point,n.point),cosine:cosineOfAngle(this.point,e.point,n.point)})};return(e,n)=>{t.has(e)||i(e),t.has(n)||i(n);const{sine:r,cosine:o}=t.get(e),{sine:a,cosine:s}=t.get(n);return r.isGreaterThanOrEqualTo(0)&&a.isGreaterThanOrEqualTo(0)?o.isLessThan(s)?1:o.isGreaterThan(s)?-1:0:r.isLessThan(0)&&a.isLessThan(0)?o.isLessThan(s)?-1:o.isGreaterThan(s)?1:0:a.isLessThan(r)?-1:a.isGreaterThan(r)?1:0}}},RingOut=class e{events;poly;_isExteriorRing;_enclosingRing;static factory(t){const i=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!r.isInResult()||r.ringOut)continue;let o=null,a=r.leftSE,s=r.rightSE;const l=[a],u=a.point,c=[];for(;o=a,a=s,l.push(a),a.point!==u;)for(;;){const t=a.getAvailableLinkedEvents();if(0===t.length){const e=l[0].point,t=l[l.length-1].point;throw new Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===t.length){s=t[0].otherSE;break}let n=null;for(let e=0,t=c.length;e<t;e++)if(c[e].point===a.point){n=e;break}if(null!==n){const t=c.splice(n)[0],r=l.splice(t.index);r.unshift(r[0].otherSE),i.push(new e(r.reverse()));continue}c.push({index:l.length,point:a.point});const r=a.getLeftmostComparator(o);s=t.sort(r)[0].otherSE;break}i.push(new e(l))}return i}constructor(e){this.events=e;for(let t=0,i=e.length;t<i;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let i=1,n=this.events.length-1;i<n;i++){const n=this.events[i].point,r=this.events[i+1].point;0!==precision.orient(n,e,r)&&(t.push(n),e=n)}if(1===t.length)return null;const i=t[0],n=t[1];0===precision.orient(i,e,n)&&t.shift(),t.push(t[0]);const r=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:t.length-1,a=this.isExteriorRing()?t.length:-1,s=[];for(let e=o;e!=a;e+=r)s.push([t[e].x.toNumber(),t[e].y.toNumber()]);return s}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,i=this.events.length;t<i;t++){const i=this.events[t];SweepEvent.compare(e,i)>0&&(e=i)}let t=e.segment.prevInResult(),i=t?t.prevInResult():null;for(;;){if(!t)return null;if(!i)return t.ringOut;if(i.ringOut!==t.ringOut)return i.ringOut?.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut?.enclosingRing();t=i.prevInResult(),i=t?t.prevInResult():null}}},PolyOut=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(null===e)return null;const t=[e];for(let e=0,i=this.interiorRings.length;e<i;e++){const i=this.interiorRings[e].getGeom();null!==i&&t.push(i)}return t}},MultiPolyOut=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const i=this.polys[t].getGeom();null!==i&&e.push(i)}return e}_composePolys(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.poly)if(n.isExteriorRing())t.push(new PolyOut(n));else{const e=n.enclosingRing();e?.poly||t.push(new PolyOut(e)),e?.poly?.addInterior(n)}}return t}},SweepLine=class{queue;tree;segments;constructor(e,t=Segment.compare){this.queue=e,this.tree=new SplayTreeSet(t),this.segments=[]}process(e){const t=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),i;e.isLeft&&this.tree.add(t);let n=t,r=t;do{n=this.tree.lastBefore(n)}while(null!=n&&null!=n.consumedBy);do{r=this.tree.firstAfter(r)}while(null!=r&&null!=r.consumedBy);if(e.isLeft){let o=null;if(n){const e=n.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(o=e),!n.isAnEndpoint(e))){const t=this._splitSafely(n,e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}}let a=null;if(r){const e=r.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(a=e),!r.isAnEndpoint(e))){const t=this._splitSafely(r,e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}}if(null!==o||null!==a){let e=null;if(null===o)e=a;else if(null===a)e=o;else{e=SweepEvent.comparePoints(o,a)<=0?o:a}this.queue.delete(t.rightSE),i.push(t.rightSE);const n=t.split(e);for(let e=0,t=n.length;e<t;e++)i.push(n[e])}i.length>0?(this.tree.delete(t),i.push(e)):(this.segments.push(t),t.prev=n)}else{if(n&&r){const e=n.getIntersection(r);if(null!==e){if(!n.isAnEndpoint(e)){const t=this._splitSafely(n,e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}if(!r.isAnEndpoint(e)){const t=this._splitSafely(r,e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}}}this.tree.delete(t)}return i}_splitSafely(e,t){this.tree.delete(e);const i=e.rightSE;this.queue.delete(i);const n=e.split(t);return n.push(i),void 0===e.consumedBy&&this.tree.add(e),n}},Operation=class{type;numMultiPolys;run(e,t,i){operation.type=e;const n=[new MultiPolyIn(t,!0)];for(let e=0,t=i.length;e<t;e++)n.push(new MultiPolyIn(i[e],!1));if(operation.numMultiPolys=n.length,"difference"===operation.type){const e=n[0];let t=1;for(;t<n.length;)null!==getBboxOverlap(n[t].bbox,e.bbox)?t++:n.splice(t,1)}if("intersection"===operation.type)for(let e=0,t=n.length;e<t;e++){const t=n[e];for(let i=e+1,r=n.length;i<r;i++)if(null===getBboxOverlap(t.bbox,n[i].bbox))return[]}const r=new SplayTreeSet(SweepEvent.compare);for(let e=0,t=n.length;e<t;e++){const t=n[e].getSweepEvents();for(let e=0,i=t.length;e<i;e++)r.add(t[e])}const o=new SweepLine(r);let a=null;for(0!=r.size&&(a=r.first(),r.delete(a));a;){const e=o.process(a);for(let t=0,i=e.length;t<i;t++){const i=e[t];void 0===i.consumedBy&&r.add(i)}0!=r.size?(a=r.first(),r.delete(a)):a=null}precision.reset();const s=RingOut.factory(o.segments);return new MultiPolyOut(s).getGeom()}},operation=new Operation,operation_default=operation,segmentId=0,Segment=class e{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(e,t){const i=e.leftSE.point.x,n=t.leftSE.point.x,r=e.rightSE.point.x,o=t.rightSE.point.x;if(o.isLessThan(i))return 1;if(r.isLessThan(n))return-1;const a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(i.isLessThan(n)){if(s.isLessThan(a)&&s.isLessThan(l))return 1;if(s.isGreaterThan(a)&&s.isGreaterThan(l))return-1;const i=e.comparePoint(t.leftSE.point);if(i<0)return 1;if(i>0)return-1;const n=t.comparePoint(e.rightSE.point);return 0!==n?n:-1}if(i.isGreaterThan(n)){if(a.isLessThan(s)&&a.isLessThan(u))return-1;if(a.isGreaterThan(s)&&a.isGreaterThan(u))return 1;const i=t.comparePoint(e.leftSE.point);if(0!==i)return i;const n=e.comparePoint(t.rightSE.point);return n<0?1:n>0?-1:1}if(a.isLessThan(s))return-1;if(a.isGreaterThan(s))return 1;if(r.isLessThan(o)){const i=t.comparePoint(e.rightSE.point);if(0!==i)return i}if(r.isGreaterThan(o)){const i=e.comparePoint(t.rightSE.point);if(i<0)return 1;if(i>0)return-1}if(!r.eq(o)){const e=l.minus(a),t=r.minus(i),c=u.minus(s),h=o.minus(n);if(e.isGreaterThan(t)&&c.isLessThan(h))return 1;if(e.isLessThan(t)&&c.isGreaterThan(h))return-1}return r.isGreaterThan(o)?1:r.isLessThan(o)||l.isLessThan(u)?-1:l.isGreaterThan(u)?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,i,n){this.id=++segmentId,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=i,this.windings=n}static fromRing(t,i,n){let r,o,a;const s=SweepEvent.comparePoints(t,i);if(s<0)r=t,o=i,a=1;else{if(!(s>0))throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);r=i,o=t,a=-1}const l=new SweepEvent(r,!0),u=new SweepEvent(o,!1);return new e(l,u,[n],[a])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e.isLessThan(t)?e:t},ur:{x:this.rightSE.point.x,y:e.isGreaterThan(t)?e:t}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(e){return e.x.eq(this.leftSE.point.x)&&e.y.eq(this.leftSE.point.y)||e.x.eq(this.rightSE.point.x)&&e.y.eq(this.rightSE.point.y)}comparePoint(e){return precision.orient(this.leftSE.point,e,this.rightSE.point)}getIntersection(e){const t=this.bbox(),i=e.bbox(),n=getBboxOverlap(t,i);if(null===n)return null;const r=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=isInBbox(t,a)&&0===this.comparePoint(a),u=isInBbox(i,r)&&0===e.comparePoint(r),c=isInBbox(t,s)&&0===this.comparePoint(s),h=isInBbox(i,o)&&0===e.comparePoint(o);if(u&&l)return h&&!c?o:!h&&c?s:null;if(u)return c&&r.x.eq(s.x)&&r.y.eq(s.y)?null:r;if(l)return h&&o.x.eq(a.x)&&o.y.eq(a.y)?null:a;if(h&&c)return null;if(h)return o;if(c)return s;const g=intersection$1(r,this.vector(),a,e.vector());return null===g?null:isInBbox(n,g)?precision.snap(g):null}split(t){const i=[],n=void 0!==t.events,r=new SweepEvent(t,!0),o=new SweepEvent(t,!1),a=this.rightSE;this.replaceRightSE(o),i.push(o),i.push(r);const s=new e(r,a,this.rings.slice(),this.windings.slice());return SweepEvent.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),SweepEvent.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),o.checkForConsuming()),i}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(t){let i=this,n=t;for(;i.consumedBy;)i=i.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const r=e.compare(i,n);if(0!==r){if(r>0){const e=i;i=n,n=e}if(i.prev===n){const e=i;i=n,n=e}for(let e=0,t=n.rings.length;e<t;e++){const t=n.rings[e],r=n.windings[e],o=i.rings.indexOf(t);-1===o?(i.rings.push(t),i.windings.push(r)):i.windings[o]+=r}n.rings=null,n.windings=null,n.consumedBy=i,n.leftSE.consumedBy=i.leftSE,n.rightSE.consumedBy=i.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,i=this._afterState.windings,n=this._afterState.multiPolys;for(let e=0,n=this.rings.length;e<n;e++){const n=this.rings[e],r=this.windings[e],o=t.indexOf(n);-1===o?(t.push(n),i.push(r)):i[o]+=r}const r=[],o=[];for(let e=0,n=t.length;e<n;e++){if(0===i[e])continue;const n=t[e],a=n.poly;if(-1===o.indexOf(a))if(n.isExterior)r.push(a);else{-1===o.indexOf(a)&&o.push(a);const e=r.indexOf(n.poly);-1!==e&&r.splice(e,1)}}for(let e=0,t=r.length;e<t;e++){const t=r[e].multiPoly;-1===n.indexOf(t)&&n.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(operation_default.type){case"union":{const i=0===e.length,n=0===t.length;this._isInResult=i!==n;break}case"intersection":{let i,n;e.length<t.length?(i=e.length,n=t.length):(i=t.length,n=e.length),this._isInResult=n===operation_default.numMultiPolys&&i<n;break}case"xor":{const i=Math.abs(e.length-t.length);this._isInResult=i%2==1;break}case"difference":{const i=e=>1===e.length&&e[0].isSubject;this._isInResult=i(e)!==i(t);break}}return this._isInResult}},RingIn=class{poly;isExterior;segments;bbox;constructor(e,t,i){if(!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=i,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=precision.snap({x:new BigNumber(e[0][0]),y:new BigNumber(e[0][1])});this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let r=n;for(let t=1,i=e.length;t<i;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=precision.snap({x:new BigNumber(e[t][0]),y:new BigNumber(e[t][1])});i.x.eq(r.x)&&i.y.eq(r.y)||(this.segments.push(Segment.fromRing(r,i,this)),i.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.x),i.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.y),i.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.x),i.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.y),r=i)}n.x.eq(r.x)&&n.y.eq(r.y)||this.segments.push(Segment.fromRing(r,n,this))}getSweepEvents(){const e=[];for(let t=0,i=this.segments.length;t<i;t++){const i=this.segments[t];e.push(i.leftSE),e.push(i.rightSE)}return e}},PolyIn=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new RingIn(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,i=e.length;t<i;t++){const i=new RingIn(e[t],this,!1);i.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.bbox.ur.y),this.interiorRings.push(i)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,i=this.interiorRings.length;t<i;t++){const i=this.interiorRings[t].getSweepEvents();for(let t=0,n=i.length;t<n;t++)e.push(i[t])}return e}},MultiPolyIn=class{isSubject;polys;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:new BigNumber(Number.POSITIVE_INFINITY),y:new BigNumber(Number.POSITIVE_INFINITY)},ur:{x:new BigNumber(Number.NEGATIVE_INFINITY),y:new BigNumber(Number.NEGATIVE_INFINITY)}};for(let t=0,i=e.length;t<i;t++){const i=new PolyIn(e[t],this);i.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.bbox.ur.y),this.polys.push(i)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const i=this.polys[t].getSweepEvents();for(let t=0,n=i.length;t<n;t++)e.push(i[t])}return e}},union=(e,...t)=>operation_default.run("union",e,t),intersection2=(e,...t)=>operation_default.run("intersection",e,t),xor=(e,...t)=>operation_default.run("xor",e,t),difference=(e,...t)=>operation_default.run("difference",e,t),setPrecision=precision.set,polyclip=Object.freeze({__proto__:null,difference:difference,intersection:intersection2,setPrecision:setPrecision,union:union,xor:xor});function difference2(e){const t=[];if(geomEach(e,(e=>{t.push(e.coordinates)})),t.length<2)throw new Error("Must have at least two features");const i=e.features[0].properties||{},n=difference(t[0],...t.slice(1));return 0===n.length?null:1===n.length?polygon(n[0],i):multiPolygon(n,i)}function flatten(e){if(!e)throw new Error("geojson is required");var t=[];return flattenEach(e,(function(e){t.push(e)})),featureCollection(t)}function dissolve(e,t={}){if(!isObject$1(t=t||{}))throw new Error("options is invalid");const{propertyName:i}=t;collectionOf(e,"Polygon","dissolve");const n=[];if(!i)return flatten(multiPolygon(union.apply(null,e.features.map((function(e){return e.geometry.coordinates})))));{const t={};featureEach(e,(function(e){e.properties&&(Object.prototype.hasOwnProperty.call(t,e.properties[i])||(t[e.properties[i]]=[]),t[e.properties[i]].push(e))}));const r=Object.keys(t);for(let e=0;e<r.length;e++){const o=multiPolygon(union.apply(null,t[r[e]].map((function(e){return e.geometry.coordinates}))));o&&o.properties&&(o.properties[i]=r[e],n.push(o))}}return flatten(featureCollection(n))}function pNormDistance(e,t,i=2){const n=getCoord(e),r=getCoord(t),o=n[0]-r[0],a=n[1]-r[1];return 1===i?Math.abs(o)+Math.abs(a):Math.pow(Math.pow(o,i)+Math.pow(a,i),1/i)}function distanceWeight(e,t){var i,n;const r=(t=t||{}).threshold||1e4,o=t.p||2,a=null!=(i=t.binary)&&i,s=t.alpha||-1,l=null!=(n=t.standardization)&&n,u=[];featureEach(e,(e=>{u.push(centroid(e))}));const c=[];for(let e=0;e<u.length;e++)c[e]=[];for(let e=0;e<u.length;e++)for(let t=e;t<u.length;t++){e===t&&(c[e][t]=0);const i=pNormDistance(u[e],u[t],o);c[e][t]=i,c[t][e]=i}for(let e=0;e<u.length;e++)for(let t=0;t<u.length;t++){const i=c[e][t];0!==i&&(c[e][t]=a?i<=r?1:0:i<=r?Math.pow(i,s):0)}if(l)for(let e=0;e<u.length;e++){const t=c[e].reduce(((e,t)=>e+t),0);for(let i=0;i<u.length;i++)c[e][i]=c[e][i]/t}return c}function rhumbDestination(e,t,i,n={}){const r=t<0;let o=convertLength(Math.abs(t),n.units,"meters");r&&(o=-Math.abs(o));const a=getCoord(e),s=calculateRhumbDestination(a,o,i);return s[0]+=s[0]-a[0]>180?-360:a[0]-s[0]>180?360:0,point(s,n.properties)}function calculateRhumbDestination(e,t,i,n){const r=t/(n=void 0===n?earthRadius:Number(n)),o=e[0]*Math.PI/180,a=degreesToRadians(e[1]),s=degreesToRadians(i),l=r*Math.cos(s);let u=a+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);const c=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),h=Math.abs(c)>1e-11?l/c:Math.cos(a);return[(180*(o+r*Math.sin(s)/h)/Math.PI+540)%360-180,180*u/Math.PI]}function rhumbDistance(e,t,i={}){const n=getCoord(e),r=getCoord(t);r[0]+=r[0]-n[0]>180?-360:n[0]-r[0]>180?360:0;return convertLength(calculateRhumbDistance(n,r),"meters",i.units)}function calculateRhumbDistance(e,t,i){const n=i=void 0===i?earthRadius:Number(i),r=e[1]*Math.PI/180,o=t[1]*Math.PI/180,a=o-r;let s=Math.abs(t[0]-e[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);const l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),u=Math.abs(l)>1e-11?a/l:Math.cos(r);return Math.sqrt(a*a+u*u*s*s)*n}function transformRotate(e,t,i){if(!isObject$1(i=i||{}))throw new Error("options is invalid");const n=i.pivot,r=i.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");if(0===t)return e;const o=null!=n?n:centroid(e);return!1!==r&&void 0!==r||(e=clone$2(e)),coordEach(e,(function(e){const i=rhumbBearing(o,e)+t,n=rhumbDistance(o,e),r=getCoords(rhumbDestination(o,n,i));e[0]=r[0],e[1]=r[1]})),e}function ellipse(e,t,i,n){const r=(n=n||{}).steps||64,o=n.units||"kilometers",a=n.angle||0,s=n.pivot||e,l=n.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!i)throw new Error("ySemiAxis is required");if(!isObject$1(n))throw new Error("options must be an object");if(!isNumber(r))throw new Error("steps must be a number");if(!isNumber(a))throw new Error("angle must be a number");const u=getCoord(e);if("degrees"!==o){const n=rhumbDestination(e,t,90,{units:o}),r=rhumbDestination(e,i,0,{units:o});t=getCoord(n)[0]-u[0],i=getCoord(r)[1]-u[1]}const c=[];for(let e=0;e<r;e+=1){const n=-360*e/r;let s=t*i/Math.sqrt(Math.pow(i,2)+Math.pow(t,2)*Math.pow(getTanDeg(n),2)),l=t*i/Math.sqrt(Math.pow(t,2)+Math.pow(i,2)/Math.pow(getTanDeg(n),2));if(n<-90&&n>=-270&&(s=-s),n<-180&&n>=-360&&(l=-l),"degrees"===o){const e=degreesToRadians(a),t=s*Math.cos(e)+l*Math.sin(e),i=l*Math.cos(e)-s*Math.sin(e);s=t,l=i}c.push([s+u[0],l+u[1]])}return c.push(c[0]),"degrees"===o?polygon([c],l):transformRotate(polygon([c],l),a,{pivot:s})}function getTanDeg(e){const t=e*Math.PI/180;return Math.tan(t)}function envelope(e){return bboxPolygon(bbox$1(e))}function explode(e){const t=[];return"FeatureCollection"===e.type?featureEach(e,(function(e){coordEach(e,(function(i){t.push(point(i,e.properties))}))})):"Feature"===e.type?coordEach(e,(function(i){t.push(point(i,e.properties))})):coordEach(e,(function(e){t.push(point(e))})),featureCollection(t)}function flip(e,t){var i;if(!isObject$1(t=t||{}))throw new Error("options is invalid");const n=null!=(i=t.mutate)&&i;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=clone$2(e)),coordEach(e,(function(e){var t=e[0],i=e[1];e[0]=i,e[1]=t})),e}var D2R=Math.PI/180,R2D=180/Math.PI,Coord=function(e,t){this.lon=e,this.lat=t,this.x=D2R*e,this.y=D2R*t};Coord.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Coord.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new Coord(t,e)};var LineString=function(){this.coords=[],this.length=0};LineString.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Arc=function(e){this.properties=e||{},this.geometries=[]};Arc.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Arc.prototype.wkt=function(){for(var e="",t="LINESTRING(",i=function(e){t+=e[0]+" "+e[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(i),e+=t.substring(0,t.length-1)+")"}return e};var GreatCircle=function(e,t,i){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Coord(e.x,e.y),this.end=new Coord(t.x,t.y),this.properties=i||{};var n=this.start.x-this.end.x,r=this.start.y-this.end.y,o=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};function greatCircle(e,t,i){if("object"!=typeof(i=i||{}))throw new Error("options is invalid");var n=i.properties,r=i.npoints,o=i.offset;if(e=getCoord(e),t=getCoord(t),n=n||{},r=r||100,e[0]===t[0]&&e[1]===t[1]){const t=Array(r);return t.fill([e[0],e[1]]),lineString(t,n)}return o=o||10,new GreatCircle({x:e[0],y:e[1]},{x:t[0],y:t[1]},n).Arc(r,{offset:o}).json()}function intersect$1(e,t={}){const i=[];if(geomEach(e,(e=>{i.push(e.coordinates)})),i.length<2)throw new Error("Must specify at least 2 geometries");const n=intersection2(i[0],...i.slice(1));return 0===n.length?null:1===n.length?polygon(n[0],t.properties):multiPolygon(n,t.properties)}function hexGrid(e,t,i={}){const n=JSON.stringify(i.properties||{}),[r,o,a,s]=e,l=(o+s)/2,u=(r+a)/2,c=2*t/distance$1([r,l],[a,l],i)*(a-r),h=2*t/distance$1([u,o],[u,s],i)*(s-o),g=c/2,d=2*g,p=Math.sqrt(3)/2*h,m=a-r,f=s-o,C=3/4*d,y=p,v=(m-d)/(d-g/2),A=Math.floor(v),I=(A*C-g/2-m)/2-g/2+C/2,w=Math.floor((f-p)/p);let b=(f-w*p)/2;const E=w*p-f>p/2;E&&(b-=p/4);const x=[],_=[];for(let e=0;e<6;e++){const t=2*Math.PI/6*e;x.push(Math.cos(t)),_.push(Math.sin(t))}const k=[];for(let e=0;e<=A;e++)for(let t=0;t<=w;t++){const a=e%2==1;if(0===t&&a)continue;if(0===t&&E)continue;const s=e*C+r-I;let l=t*y+o+b;if(a&&(l-=p/2),!0===i.triangles)hexTriangles([s,l],c/2,h/2,JSON.parse(n),x,_).forEach((function(e){i.mask?intersect$1(featureCollection([i.mask,e]))&&k.push(e):k.push(e)}));else{const e=hexagon([s,l],c/2,h/2,JSON.parse(n),x,_);i.mask?intersect$1(featureCollection([i.mask,e]))&&k.push(e):k.push(e)}}return featureCollection(k)}function hexagon(e,t,i,n,r,o){const a=[];for(let n=0;n<6;n++){const s=e[0]+t*r[n],l=e[1]+i*o[n];a.push([s,l])}return a.push(a[0].slice()),polygon([a],n)}function hexTriangles(e,t,i,n,r,o){const a=[];for(let s=0;s<6;s++){const l=[];l.push(e),l.push([e[0]+t*r[s],e[1]+i*o[s]]),l.push([e[0]+t*r[(s+1)%6],e[1]+i*o[(s+1)%6]]),l.push(e),a.push(polygon([l],n))}return a}function pointGrid(e,t,i={}){i.mask&&!i.units&&(i.units="kilometers");for(var n=[],r=e[0],o=e[1],a=e[2],s=e[3],l=t/distance$1([r,o],[a,o],i)*(a-r),u=t/distance$1([r,o],[r,s],i)*(s-o),c=a-r,h=s-o,g=Math.floor(c/l),d=(h-Math.floor(h/u)*u)/2,p=r+(c-g*l)/2;p<=a;){for(var m=o+d;m<=s;){var f=point([p,m],i.properties);i.mask?booleanWithin(f,i.mask)&&n.push(f):n.push(f),m+=u}p+=l}return featureCollection(n)}function rectangleGrid(e,t,i,n={}){const r=[],o=e[0],a=e[1],s=e[2],l=e[3],u=s-o,c=convertLength(t,n.units,"degrees"),h=l-a,g=convertLength(i,n.units,"degrees"),d=Math.floor(Math.abs(u)/c),p=Math.floor(Math.abs(h)/g),m=(h-p*g)/2;let f=o+(u-d*c)/2;for(let e=0;e<d;e++){let e=a+m;for(let t=0;t<p;t++){const t=polygon([[[f,e],[f,e+g],[f+c,e+g],[f+c,e],[f,e]]],n.properties);n.mask?booleanIntersects(n.mask,t)&&r.push(t):r.push(t),e+=g}f+=c}return featureCollection(r)}function squareGrid(e,t,i={}){return rectangleGrid(e,t,t,i)}function triangleGrid(e,t,i={}){for(var n=[],r=t/distance$1([e[0],e[1]],[e[2],e[1]],i)*(e[2]-e[0]),o=t/distance$1([e[0],e[1]],[e[0],e[3]],i)*(e[3]-e[1]),a=0,s=e[0];s<=e[2];){for(var l=0,u=e[1];u<=e[3];){var c=null,h=null;a%2==0&&l%2==0?(c=polygon([[[s,u],[s,u+o],[s+r,u],[s,u]]],i.properties),h=polygon([[[s,u+o],[s+r,u+o],[s+r,u],[s,u+o]]],i.properties)):a%2==0&&l%2==1?(c=polygon([[[s,u],[s+r,u+o],[s+r,u],[s,u]]],i.properties),h=polygon([[[s,u],[s,u+o],[s+r,u+o],[s,u]]],i.properties)):l%2==0&&a%2==1?(c=polygon([[[s,u],[s,u+o],[s+r,u+o],[s,u]]],i.properties),h=polygon([[[s,u],[s+r,u+o],[s+r,u],[s,u]]],i.properties)):l%2==1&&a%2==1&&(c=polygon([[[s,u],[s,u+o],[s+r,u],[s,u]]],i.properties),h=polygon([[[s,u+o],[s+r,u+o],[s+r,u],[s,u+o]]],i.properties)),i.mask?(intersect$1(featureCollection([i.mask,c]))&&n.push(c),intersect$1(featureCollection([i.mask,h]))&&n.push(h)):(n.push(c),n.push(h)),u+=o,l++}a++,s+=r}return featureCollection(n)}function interpolate(e,t,i){if("object"!=typeof(i=i||{}))throw new Error("options is invalid");var n,r=i.gridType,o=i.property,a=i.weight,s=i.bbox;if(!e)throw new Error("points is required");if(collectionOf(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==a&&"number"!=typeof a)throw new Error("weight must be a number");switch(o=o||"elevation",r=r||"square",a=a||1,validateBBox(s=null!=s?s:bbox$1(e)),r){case"point":case"points":n=pointGrid(s,t,i);break;case"square":case"squares":n=squareGrid(s,t,i);break;case"hex":case"hexes":n=hexGrid(s,t,i);break;case"triangle":case"triangles":n=triangleGrid(s,t,i);break;default:throw new Error("invalid gridType")}var l=[];return featureEach(n,(function(t){var n=0,s=0;featureEach(e,(function(e){var l,u=distance$1("point"===r?t:centroid(t),e,i);if(void 0!==o&&(l=e.properties[o]),void 0===l&&(l=e.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(n=l);var c=1/Math.pow(u,a);s+=c,n+=c*l}));var u=clone$2(t);u.properties[o]=n/s,l.push(u)})),featureCollection(l)}function linear(e,t,i){return e<t?(i-e)/(t-e):(e-i)/(e-t)}function linear_ab(e,t,i,n){var r;return i>n&&(r=i,i=n,n=r),e<t?e<i?(i-e)/(t-e):(n-e)/(t-e):e>n?(e-n)/(e-t):(e-i)/(e-t)}function linear_a(e,t,i,n){return e<t?(i-e)/(t-e):(e-n)/(e-t)}function linear_b(e,t,i,n){return e<t?(n-e)/(t-e):(e-i)/(e-t)}function Options(){this.successCallback=null,this.verbose=!1,this.polygons=!1,this.polygons_full=!1,this.linearRing=!0,this.noQuadTree=!1,this.noFrame=!1}function isoBandOptions(e){var t,i,n,r,o;for(r=new Options,e=e||{},o=Object.keys(r),t=0;t<o.length;t++)null!=(n=e[i=o[t]])&&(r[i]=n);return r.polygons_full=!r.polygons,r.interpolate=linear_ab,r.interpolate_a=linear_a,r.interpolate_b=linear_b,r}function isoLineOptions(e){var t,i,n,r,o;for(r=new Options,e=e||{},o=Object.keys(r),t=0;t<o.length;t++)null!=(n=e[i=o[t]])&&(r[i]=n);return r.polygons_full=!r.polygons,r.interpolate=linear,r}function cell2Polygons(e,t,i,n){var r=[];return e.polygons.forEach((function(e){e.forEach((function(e){e[0]+=t,e[1]+=i})),n.linearRing&&e.push(e[0]),r.push(e)})),r}function entry_coordinate(e,t,i,n){return 0===i?(e+=1,t+=n[0][1]):1===i?e+=n[0][0]:2===i?t+=n[0][1]:3===i&&(e+=n[0][0],t+=1),[e,t]}function skip_coordinate(e,t,i){return 0===i?e++:1===i||(2===i?t++:3===i&&(e++,t++)),[e,t]}function requireFrame(e,t,i){var n,r,o,a,s;for(n=!0,r=e[0].length,o=e.length,s=0;s<o;s++)if(e[s][0]<t||e[s][0]>i||e[s][r-1]<t||e[s][r-1]>i){n=!1;break}if(n&&(e[o-1][0]<t||e[o-1][0]>i||e[o-1][r-1]<t||e[o-1][r-1]>i)&&(n=!1),n)for(a=0;a<r-1;a++)if(e[0][a]<t||e[0][a]>i||e[o-1][a]<t||e[o-1][a]>i){n=!1;break}return n}function requireLineFrame(e,t){var i,n,r,o,a;for(i=!0,n=e[0].length,r=e.length,a=0;a<r;a++)if(e[a][0]>=t||e[a][n-1]>=t){i=!1;break}if(i&&(e[r-1][0]>=t||e[r-1][n-1]>=t)&&(i=!1),i)for(o=0;o<n-1;o++)if(e[0][o]>=t||e[r-1][o]>t){i=!1;break}return i}function traceBandPaths(e,t,i){var n,r,o,a,s,l,u,c,h,g,d,p,m,f,C,y,v=[],A=e.length-1,I=e[0].length-1,w=[["rt","rb"],["br","bl"],["lb","lt"],["tl","tr"]],b=[0,-1,0,1],E=[-1,0,1,0],x=["bl","lb","lt","tl","tr","rt","rb","br"],_={bl:1,br:1,lb:2,lt:2,tl:3,tr:3,rt:0,rb:0};return requireFrame(e,i.minV,i.maxV)&&(i.linearRing?v.push([[0,0],[0,A],[I,A],[I,0],[0,0]]):v.push([[0,0],[0,A],[I,A],[I,0]])),t.forEach((function(e,k){e.forEach((function(e,P){for(n=null,o=0;o<8;o++)if(n=x[o],"object"==typeof e.edges[n]){for(r=[],a=e.edges[n],u=n,c=k,h=P,g=!1,d=[k+a.path[0][0],P+a.path[0][1]],r.push(d);!g&&"object"==typeof(p=t[c][h]).edges[u];)if(a=p.edges[u],delete p.edges[u],(C=a.path[1])[0]+=c,C[1]+=h,r.push(C),u=a.move.enter,c+=a.move.x,h+=a.move.y,void 0===t[c]||void 0===t[c][h]){if(m=0,f=0,c===I)c--,m=0;else if(c<0)c++,m=2;else if(h===A)h--,m=3;else{if(!(h<0))throw new Error("Left the grid somewhere in the interior!");h++,m=1}if(c===k&&h===P&&m===_[n]){g=!0,u=n;break}for(;;){if(y=!1,f>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==t[c]&&void 0!==t[c][h])for(p=t[c][h],s=0;s<w[m].length;s++)if(l=w[m][s],"object"==typeof p.edges[l]){a=p.edges[l],r.push(entry_coordinate(c,h,m,a.path)),u=l,y=!0;break}if(y)break;if(r.push(skip_coordinate(c,h,m)),h+=E[m],void 0!==t[c+=b[m]]&&void 0!==t[c][h]||(0===m&&h<0||1===m&&c<0||2===m&&h===A||3===m&&c===I)&&(c-=b[m],h-=E[m],m=(m+1)%4,f++),c===k&&h===P&&m===_[n]){g=!0,u=n;break}}}!i.linearRing||r[r.length-1][0]===d[0]&&r[r.length-1][1]===d[1]||r.push(d),v.push(r)}}))})),v}function traceLinePaths(e,t,i){var n,r,o,a,s,l,u,c,h,g,d,p,m,f,C,y=[],v=e.length-1,A=e[0].length-1,I=["right","bottom","left","top"],w=[0,-1,0,1],b=[-1,0,1,0],E={bottom:1,left:2,top:3,right:0};return i.noFrame||requireLineFrame(e,i.threshold)&&(i.linearRing?y.push([[0,0],[0,v],[A,v],[A,0],[0,0]]):y.push([[0,0],[0,v],[A,v],[A,0]])),t.forEach((function(e,x){e.forEach((function(e,_){for(n=null,r=0;r<4;r++)if(n=I[r],"object"==typeof e.edges[n]){for(s=[],o=e.edges[n],l=n,u=x,c=_,h=!1,g=[x+o.path[0][0],_+o.path[0][1]],s.push(g);!h&&"object"==typeof(a=t[u][c]).edges[l];)if(o=a.edges[l],delete a.edges[l],(d=o.path[1])[0]+=u,d[1]+=c,s.push(d),l=o.move.enter,u+=o.move.x,c+=o.move.y,void 0===t[u]||void 0===t[u][c]){if(!i.linearRing)break;if(p=0,m=0,u===A?(u--,p=0):u<0?(u++,p=2):c===v?(c--,p=3):c<0&&(c++,p=1),u===x&&c===_&&p===E[n]){h=!0,l=n;break}for(;;){if(f=!1,m>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==t[u]&&void 0!==t[u][c]&&(a=t[u][c],C=I[p],"object"==typeof a.edges[C])){o=a.edges[C],s.push(entry_coordinate(u,c,p,o.path)),l=C,f=!0;break}if(f)break;if(s.push(skip_coordinate(u,c,p)),c+=b[p],void 0!==t[u+=w[p]]&&void 0!==t[u][c]||(0===p&&c<0||1===p&&u<0||2===p&&c===v||3===p&&u===A)&&(u-=w[p],c-=b[p],p=(p+1)%4,m++),u===x&&c===_&&p===E[n]){h=!0,l=n;break}}}!i.linearRing||s[s.length-1][0]===g[0]&&s[s.length-1][1]===g[1]||s.push(g),y.push(s)}}))})),y}function TreeNode(e,t,i,n,r){var o=n,a=r,s=0,l=0;if(this.x=t,this.y=i,this.lowerBound=null,this.upperBound=null,this.childA=null,this.childB=null,this.childC=null,this.childD=null,1===n&&1===r)this.lowerBound=Math.min(e[i][t],e[i][t+1],e[i+1][t+1],e[i+1][t]),this.upperBound=Math.max(e[i][t],e[i][t+1],e[i+1][t+1],e[i+1][t]);else{if(n>1){for(;0!==o;)o>>=1,s++;n===1<<s-1&&s--,o=1<<s-1}if(r>1){for(;0!==a;)a>>=1,l++;r===1<<l-1&&l--,a=1<<l-1}this.childA=new TreeNode(e,t,i,o,a),this.lowerBound=this.childA.lowerBound,this.upperBound=this.childA.upperBound,n-o>0&&(this.childB=new TreeNode(e,t+o,i,n-o,a),this.lowerBound=Math.min(this.lowerBound,this.childB.lowerBound),this.upperBound=Math.max(this.upperBound,this.childB.upperBound),r-a>0&&(this.childC=new TreeNode(e,t+o,i+a,n-o,r-a),this.lowerBound=Math.min(this.lowerBound,this.childC.lowerBound),this.upperBound=Math.max(this.upperBound,this.childC.upperBound))),r-a>0&&(this.childD=new TreeNode(e,t,i+a,o,r-a),this.lowerBound=Math.min(this.lowerBound,this.childD.lowerBound),this.upperBound=Math.max(this.upperBound,this.childD.upperBound))}}function QuadTree(e){var t,i;if(!e)throw new Error("data is required");if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Error("data must be scalar field, i.e. array of arrays");if(e.length<2)throw new Error("data must contain at least two rows");if((i=e[0].length)<2)throw new Error("data must contain at least two columns");for(t=1;t<e.length;t++){if(!Array.isArray(e[t]))throw new Error("Row "+t+" is not an array");if(e[t].length!=i)throw new Error("unequal row lengths detected, please provide a regular grid")}this.data=e,this.root=new TreeNode(e,0,0,e[0].length-1,e.length-1)}function isoLines(e,t,i){var n,r,o,a=!1,s=!1,l=null,u=null,c=null,h=null,g=null,d=[];if(!e)throw new Error("data is required");if(null==t)throw new Error("threshold is required");if(i&&"object"!=typeof i)throw new Error("options must be an object");if(n=isoLineOptions(i),e instanceof QuadTree)l=e,u=e.root,c=e.data,n.noQuadTree||(a=!0);else{if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");c=e}if(Array.isArray(t)){for(s=!0,n.noQuadTree||(a=!0),r=0;r<t.length;r++)if(isNaN(+t[r]))throw new Error("threshold["+r+"] is not a number")}else{if(isNaN(+t))throw new Error("threshold must be a number or array of numbers");t=[t]}return a&&!u&&(l=new QuadTree(c),u=l.root,c=l.data),n.verbose&&(n.polygons?console.log("MarchingSquaresJS-isoLines: returning single lines (polygons) for each grid cell"):console.log("MarchingSquaresJS-isoLines: returning line paths (polygons) for entire data grid"),s&&console.log("MarchingSquaresJS-isoLines: multiple lines requested, returning array of line paths instead of lines for a single threshold")),t.forEach((function(e,t){if(g=[],n.threshold=e,n.verbose&&console.log("MarchingSquaresJS-isoLines: computing iso lines for threshold "+e),n.polygons)if(a)u.cellsBelowThreshold(n.threshold,!0).forEach((function(e){g=g.concat(cell2Polygons(prepareCell(c,e.x,e.y,n),e.x,e.y,n))}));else for(o=0;o<c.length-1;++o)for(t=0;t<c[0].length-1;++t)g=g.concat(cell2Polygons(prepareCell(c,t,o,n),t,o,n));else{for(h=[],t=0;t<c[0].length-1;++t)h[t]=[];if(a)u.cellsBelowThreshold(n.threshold,!1).forEach((function(e){h[e.x][e.y]=prepareCell(c,e.x,e.y,n)}));else for(t=0;t<c[0].length-1;++t)for(o=0;o<c.length-1;++o)h[t][o]=prepareCell(c,t,o,n);g=traceLinePaths(c,h,n)}s?d.push(g):d=g,"function"==typeof n.successCallback&&n.successCallback(d,e)})),d}function prepareCell(e,t,i,n){var r,o,a,s,l,u,c=0,h=e[i+1][t],g=e[i+1][t+1],d=e[i][t+1],p=e[i][t],m=n.threshold;if(!(isNaN(p)||isNaN(d)||isNaN(g)||isNaN(h))){switch(c|=h>=m?8:0,c|=g>=m?4:0,c|=d>=m?2:0,u={cval:c=+(c|=p>=m?1:0),polygons:[],edges:{},x0:p,x1:d,x2:g,x3:h},c){case 0:n.polygons&&u.polygons.push([[0,0],[0,1],[1,1],[1,0]]);break;case 15:break;case 14:r=n.interpolate(p,h,m),s=n.interpolate(p,d,m),n.polygons_full&&(u.edges.left={path:[[0,r],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&u.polygons.push([[0,0],[0,r],[s,0]]);break;case 13:s=n.interpolate(p,d,m),o=n.interpolate(d,g,m),n.polygons_full&&(u.edges.bottom={path:[[s,0],[1,o]],move:{x:1,y:0,enter:"left"}}),n.polygons&&u.polygons.push([[s,0],[1,o],[1,0]]);break;case 11:o=n.interpolate(d,g,m),a=n.interpolate(h,g,m),n.polygons_full&&(u.edges.right={path:[[1,o],[a,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&u.polygons.push([[1,o],[a,1],[1,1]]);break;case 7:r=n.interpolate(p,h,m),a=n.interpolate(h,g,m),n.polygons_full&&(u.edges.top={path:[[a,1],[0,r]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&u.polygons.push([[a,1],[0,r],[0,1]]);break;case 1:r=n.interpolate(p,h,m),s=n.interpolate(p,d,m),n.polygons_full&&(u.edges.bottom={path:[[s,0],[0,r]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&u.polygons.push([[s,0],[0,r],[0,1],[1,1],[1,0]]);break;case 2:s=n.interpolate(p,d,m),o=n.interpolate(d,g,m),n.polygons_full&&(u.edges.right={path:[[1,o],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&u.polygons.push([[0,0],[0,1],[1,1],[1,o],[s,0]]);break;case 4:o=n.interpolate(d,g,m),a=n.interpolate(h,g,m),n.polygons_full&&(u.edges.top={path:[[a,1],[1,o]],move:{x:1,y:0,enter:"left"}}),n.polygons&&u.polygons.push([[0,0],[0,1],[a,1],[1,o],[1,0]]);break;case 8:r=n.interpolate(p,h,m),a=n.interpolate(h,g,m),n.polygons_full&&(u.edges.left={path:[[0,r],[a,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&u.polygons.push([[0,0],[0,r],[a,1],[1,1],[1,0]]);break;case 12:r=n.interpolate(p,h,m),o=n.interpolate(d,g,m),n.polygons_full&&(u.edges.left={path:[[0,r],[1,o]],move:{x:1,y:0,enter:"left"}}),n.polygons&&u.polygons.push([[0,0],[0,r],[1,o],[1,0]]);break;case 9:s=n.interpolate(p,d,m),a=n.interpolate(h,g,m),n.polygons_full&&(u.edges.bottom={path:[[s,0],[a,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&u.polygons.push([[s,0],[a,1],[1,1],[1,0]]);break;case 3:r=n.interpolate(p,h,m),o=n.interpolate(d,g,m),n.polygons_full&&(u.edges.right={path:[[1,o],[0,r]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&u.polygons.push([[0,r],[0,1],[1,1],[1,o]]);break;case 6:s=n.interpolate(p,d,m),a=n.interpolate(h,g,m),n.polygons_full&&(u.edges.top={path:[[a,1],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&u.polygons.push([[0,0],[0,1],[a,1],[s,0]]);break;case 10:r=n.interpolate(p,h,m),o=n.interpolate(d,g,m),s=n.interpolate(p,d,m),a=n.interpolate(h,g,m),l=(p+d+g+h)/4,n.polygons_full&&(l<m?(u.edges.left={path:[[0,r],[a,1]],move:{x:0,y:1,enter:"bottom"}},u.edges.right={path:[[1,o],[s,0]],move:{x:0,y:-1,enter:"top"}}):(u.edges.right={path:[[1,o],[a,1]],move:{x:0,y:1,enter:"bottom"}},u.edges.left={path:[[0,r],[s,0]],move:{x:0,y:-1,enter:"top"}})),n.polygons&&(l<m?u.polygons.push([[0,0],[0,r],[a,1],[1,1],[1,o],[s,0]]):(u.polygons.push([[0,0],[0,r],[s,0]]),u.polygons.push([[a,1],[1,1],[1,o]])));break;case 5:r=n.interpolate(p,h,m),o=n.interpolate(d,g,m),s=n.interpolate(p,d,m),a=n.interpolate(h,g,m),l=(p+d+g+h)/4,n.polygons_full&&(l<m?(u.edges.bottom={path:[[s,0],[0,r]],move:{x:-1,y:0,enter:"right"}},u.edges.top={path:[[a,1],[1,o]],move:{x:1,y:0,enter:"left"}}):(u.edges.top={path:[[a,1],[0,r]],move:{x:-1,y:0,enter:"right"}},u.edges.bottom={path:[[s,0],[1,o]],move:{x:1,y:0,enter:"left"}})),n.polygons&&(l<m?u.polygons.push([[0,r],[0,1],[a,1],[1,o],[1,0],[s,0]]):(u.polygons.push([[0,r],[0,1],[a,1]]),u.polygons.push([[s,0],[1,o],[1,0]])))}return u}}GreatCircle.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),i=Math.sin(e*this.g)/Math.sin(this.g),n=t*Math.cos(this.start.y)*Math.cos(this.start.x)+i*Math.cos(this.end.y)*Math.cos(this.end.x),r=t*Math.cos(this.start.y)*Math.sin(this.start.x)+i*Math.cos(this.end.y)*Math.sin(this.end.x),o=t*Math.sin(this.start.y)+i*Math.sin(this.end.y),a=R2D*Math.atan2(o,Math.sqrt(Math.pow(n,2)+Math.pow(r,2)));return[R2D*Math.atan2(r,n),a]},GreatCircle.prototype.Arc=function(e,t){var i=[];if(!e||e<=2)i.push([this.start.lon,this.start.lat]),i.push([this.end.lon,this.end.lat]);else for(var n=1/(e-1),r=0;r<e;++r){var o=n*r,a=this.interpolate(o);i.push(a)}for(var s=!1,l=0,u=t&&t.offset?t.offset:10,c=180-u,h=-180+u,g=360-u,d=1;d<i.length;++d){var p=i[d-1][0],m=i[d][0],f=Math.abs(m-p);f>g&&(m>c&&p<h||p>c&&m<h)?s=!0:f>l&&(l=f)}var C=[];if(s&&l<u){var y=[];C.push(y);for(var v=0;v<i.length;++v){var A=parseFloat(i[v][0]);if(v>0&&Math.abs(A-i[v-1][0])>g){var I=parseFloat(i[v-1][0]),w=parseFloat(i[v-1][1]),b=parseFloat(i[v][0]),E=parseFloat(i[v][1]);if(I>-180&&I<h&&180===b&&v+1<i.length&&i[v-1][0]>-180&&i[v-1][0]<h){y.push([-180,i[v][1]]),v++,y.push([i[v][0],i[v][1]]);continue}if(I>c&&I<180&&-180===b&&v+1<i.length&&i[v-1][0]>c&&i[v-1][0]<180){y.push([180,i[v][1]]),v++,y.push([i[v][0],i[v][1]]);continue}if(I<h&&b>c){var x=I;I=b,b=x;var _=w;w=E,E=_}if(I>c&&b<h&&(b+=360),I<=180&&b>=180&&I<b){var k=(180-I)/(b-I),P=k*E+(1-k)*w;y.push([i[v-1][0]>c?180:-180,P]),(y=[]).push([i[v-1][0]>c?-180:180,P]),C.push(y)}else y=[],C.push(y);y.push([A,i[v][1]])}else y.push([i[v][0],i[v][1]])}}else{var M=[];C.push(M);for(var S=0;S<i.length;++S)M.push([i[S][0],i[S][1]])}for(var D=new Arc(this.properties),T=0;T<C.length;++T){var R=new LineString;D.geometries.push(R);for(var L=C[T],N=0;N<L.length;++N)R.move_to(L[N])}return D},TreeNode.prototype.cellsInBand=function(e,t,i){var n=[];return i=void 0===i||i,this.lowerBound>t||this.upperBound<e||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(n=n.concat(this.childA.cellsInBand(e,t,i))),this.childB&&(n=n.concat(this.childB.cellsInBand(e,t,i))),this.childD&&(n=n.concat(this.childD.cellsInBand(e,t,i))),this.childC&&(n=n.concat(this.childC.cellsInBand(e,t,i)))):(i||this.lowerBound<=e||this.upperBound>=t)&&n.push({x:this.x,y:this.y})),n},TreeNode.prototype.cellsBelowThreshold=function(e,t){var i=[];return t=void 0===t||t,this.lowerBound>e||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(i=i.concat(this.childA.cellsBelowThreshold(e,t))),this.childB&&(i=i.concat(this.childB.cellsBelowThreshold(e,t))),this.childD&&(i=i.concat(this.childD.cellsBelowThreshold(e,t))),this.childC&&(i=i.concat(this.childC.cellsBelowThreshold(e,t)))):(t||this.upperBound>=e)&&i.push({x:this.x,y:this.y})),i};var shapeCoordinates={square:function(e,t,i,n,r,o){o.polygons&&e.polygons.push([[0,0],[0,1],[1,1],[1,0]])},triangle_bl:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(t,r,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,s],[a,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,s],[a,0],[0,0]])},triangle_br:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[a,0],[1,s]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[a,0],[1,s],[1,0]])},triangle_tr:function(e,t,i,n,r,o){var a=o.interpolate(i,n,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV);o.polygons_full&&(e.edges.rt={path:[[1,a],[s,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&e.polygons.push([[1,a],[s,1],[1,1]])},triangle_tl:function(e,t,i,n,r,o){var a=o.interpolate(r,n,o.minV,o.maxV),s=o.interpolate(t,r,o.minV,o.maxV);o.polygons_full&&(e.edges.tl={path:[[a,1],[0,s]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&e.polygons.push([[0,s],[0,1],[a,1]])},tetragon_t:function(e,t,i,n,r,o){var a=o.interpolate(i,n,o.minV,o.maxV),s=o.interpolate(t,r,o.minV,o.maxV);o.polygons_full&&(e.edges.rt={path:[[1,a],[0,s]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&e.polygons.push([[0,s],[0,1],[1,1],[1,a]])},tetragon_r:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[a,0],[s,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&e.polygons.push([[a,0],[s,1],[1,1],[1,0]])},tetragon_b:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,a],[1,s]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[0,0],[0,a],[1,s],[1,0]])},tetragon_l:function(e,t,i,n,r,o){var a=o.interpolate(r,n,o.minV,o.maxV),s=o.interpolate(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.tl={path:[[a,1],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,1],[a,1],[s,0]])},tetragon_bl:function(e,t,i,n,r,o){var a=o.interpolate_a(t,i,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate_a(t,r,o.minV,o.maxV),u=o.interpolate_b(t,r,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[a,0],[0,l]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,u],[s,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[a,0],[0,l],[0,u],[s,0]])},tetragon_br:function(e,t,i,n,r,o){var a=o.interpolate_a(t,i,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate_a(i,n,o.minV,o.maxV),u=o.interpolate_b(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[a,0],[1,u]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,l],[s,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[a,0],[1,u],[1,l],[s,0]])},tetragon_tr:function(e,t,i,n,r,o){var a=o.interpolate_a(r,n,o.minV,o.maxV),s=o.interpolate_b(r,n,o.minV,o.maxV),l=o.interpolate_b(i,n,o.minV,o.maxV),u=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.rb={path:[[1,u],[a,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[s,1],[1,l]],move:{x:1,y:0,enter:"lt"}}),o.polygons&&e.polygons.push([[1,u],[a,1],[s,1],[1,l]])},tetragon_tl:function(e,t,i,n,r,o){var a=o.interpolate_a(r,n,o.minV,o.maxV),s=o.interpolate_b(r,n,o.minV,o.maxV),l=o.interpolate_b(t,r,o.minV,o.maxV),u=o.interpolate_a(t,r,o.minV,o.maxV);o.polygons_full&&(e.edges.tr={path:[[s,1],[0,u]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[a,1]],move:{x:0,y:1,enter:"bl"}}),o.polygons&&e.polygons.push([[s,1],[0,u],[0,l],[a,1]])},tetragon_lr:function(e,t,i,n,r,o){var a=o.interpolate_a(t,r,o.minV,o.maxV),s=o.interpolate_b(t,r,o.minV,o.maxV),l=o.interpolate_b(i,n,o.minV,o.maxV),u=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.lt={path:[[0,s],[1,l]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,u],[0,a]],move:{x:-1,y:0,enter:"rb"}}),o.polygons&&e.polygons.push([[0,a],[0,s],[1,l],[1,u]])},tetragon_tb:function(e,t,i,n,r,o){var a=o.interpolate_a(r,n,o.minV,o.maxV),s=o.interpolate_b(r,n,o.minV,o.maxV),l=o.interpolate_b(t,i,o.minV,o.maxV),u=o.interpolate_a(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.tr={path:[[s,1],[l,0]],move:{x:0,y:-1,enter:"tr"}},e.edges.bl={path:[[u,0],[a,1]],move:{x:0,y:1,enter:"bl"}}),o.polygons&&e.polygons.push([[u,0],[a,1],[s,1],[l,0]])},pentagon_tr:function(e,t,i,n,r,o){var a=o.interpolate(r,n,o.minV,o.maxV),s=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.tl={path:[[a,1],[1,s]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[0,0],[0,1],[a,1],[1,s],[1,0]])},pentagon_tl:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[1,1],[1,0]])},pentagon_br:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.rt={path:[[1,s],[a,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,1],[1,1],[1,s],[a,0]])},pentagon_bl:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&e.polygons.push([[0,a],[0,1],[1,1],[1,0],[s,0]])},pentagon_tr_rl:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV),l=o.interpolate_b(i,n,o.minV,o.maxV),u=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.tl={path:[[s,1],[1,l]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,u],[0,a]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&e.polygons.push([[0,a],[0,1],[s,1],[1,l],[1,u]])},pentagon_rb_bt:function(e,t,i,n,r,o){var a=o.interpolate(i,n,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate_a(t,i,o.minV,o.maxV),u=o.interpolate(r,n,o.minV,o.maxV);o.polygons_full&&(e.edges.rt={path:[[1,a],[s,0]],move:{x:0,y:-1,enter:"tr"}},e.edges.bl={path:[[l,0],[u,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&e.polygons.push([[u,1],[1,1],[1,a],[s,0],[l,0]])},pentagon_bl_lr:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate_a(t,r,o.minV,o.maxV),l=o.interpolate_b(t,r,o.minV,o.maxV),u=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[1,u]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[a,0],[0,s],[0,l],[1,u],[1,0]])},pentagon_lt_tb:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate_a(r,n,o.minV,o.maxV),l=o.interpolate_b(r,n,o.minV,o.maxV),u=o.interpolate(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[l,1],[u,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[l,1],[u,0]])},pentagon_bl_tb:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV),l=o.interpolate_b(t,i,o.minV,o.maxV),u=o.interpolate_a(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[u,0],[0,a]],move:{x:-1,y:0,enter:"rt"}},e.edges.tl={path:[[s,1],[l,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[0,a],[0,1],[s,1],[l,0],[u,0]])},pentagon_lt_rl:function(e,t,i,n,r,o){var a=o.interpolate_a(t,r,o.minV,o.maxV),s=o.interpolate_b(t,r,o.minV,o.maxV),l=o.interpolate(r,n,o.minV,o.maxV),u=o.interpolate(i,r,o.minV,o.maxV);o.polygons_full&&(e.edges.lt={path:[[0,s],[l,1]],move:{x:0,y:1,enter:"br"}},e.edges.rt={path:[[1,u],[0,a]],move:{x:-1,y:0,enter:"rb"}}),o.polygons&&e.polygons.push([[0,a],[0,s],[l,1],[1,1],[1,u]])},pentagon_tr_bt:function(e,t,i,n,r,o){var a=o.interpolate_a(r,n,o.minV,o.maxV),s=o.interpolate_b(r,n,o.minV,o.maxV),l=o.interpolate(i,n,o.minV,o.maxV),u=o.interpolate(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[u,0],[a,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[s,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[a,1],[s,1],[1,l],[1,0],[u,0]])},pentagon_rb_lr:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate_b(i,n,o.minV,o.maxV),l=o.interpolate_a(i,n,o.minV,o.maxV),u=o.interpolate(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,a],[1,s]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,l],[u,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,a],[1,s],[1,l],[u,0]])},hexagon_lt_tr:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate_a(r,n,o.minV,o.maxV),l=o.interpolate_b(r,n,o.minV,o.maxV),u=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[l,1],[1,u]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[l,1],[1,u],[1,0]])},hexagon_bl_lt:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate_a(t,r,o.minV,o.maxV),l=o.interpolate_b(t,r,o.minV,o.maxV),u=o.interpolate(r,n,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[u,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&e.polygons.push([[a,0],[0,s],[0,l],[u,1],[1,1],[1,0]])},hexagon_bl_rb:function(e,t,i,n,r,o){var a=o.interpolate_a(t,i,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate(t,r,o.minV,o.maxV),u=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[a,0],[0,l]],move:{x:-1,y:0,enter:"rt"}},e.edges.rt={path:[[1,u],[s,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[a,0],[0,l],[0,1],[1,1],[1,u],[s,0]])},hexagon_tr_rb:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV),l=o.interpolate_b(i,n,o.minV,o.maxV),u=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.tl={path:[[s,1],[1,l]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,u],[a,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,1],[s,1],[1,l],[1,u],[a,0]])},hexagon_lt_rb:function(e,t,i,n,r,o){var a=o.interpolate(t,r,o.minV,o.maxV),s=o.interpolate(r,n,o.minV,o.maxV),l=o.interpolate(i,n,o.minV,o.maxV),u=o.interpolate(t,i,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"br"}},e.edges.rt={path:[[1,l],[u,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[1,1],[1,l],[u,0]])},hexagon_bl_tr:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(t,r,o.minV,o.maxV),l=o.interpolate(r,n,o.minV,o.maxV),u=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rt"}},e.edges.tl={path:[[l,1],[1,u]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[a,0],[0,s],[0,1],[l,1],[1,u],[1,0]])},heptagon_tr:function(e,t,i,n,r,o){var a=o.interpolate_a(t,i,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate_a(t,r,o.minV,o.maxV),u=o.interpolate_b(t,r,o.minV,o.maxV),c=o.interpolate(r,n,o.minV,o.maxV),h=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[a,0],[0,l]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,u],[c,1]],move:{x:0,y:1,enter:"br"}},e.edges.rt={path:[[1,h],[s,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[a,0],[0,l],[0,u],[c,1],[1,1],[1,h],[s,0]])},heptagon_bl:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate(t,r,o.minV,o.maxV),l=o.interpolate_a(r,n,o.minV,o.maxV),u=o.interpolate_b(r,n,o.minV,o.maxV),c=o.interpolate_b(i,n,o.minV,o.maxV),h=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.lb={path:[[0,s],[l,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[u,1],[1,c]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,h],[a,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&e.polygons.push([[0,0],[0,s],[l,1],[u,1],[1,c],[1,h],[a,0]])},heptagon_tl:function(e,t,i,n,r,o){var a=o.interpolate_a(t,i,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate(t,r,o.minV,o.maxV),u=o.interpolate(r,n,o.minV,o.maxV),c=o.interpolate_b(i,n,o.minV,o.maxV),h=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[a,0],[0,l]],move:{x:-1,y:0,enter:"rt"}},e.edges.tl={path:[[u,1],[1,c]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,h],[s,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[a,0],[0,l],[0,1],[u,1],[1,c],[1,h],[s,0]])},heptagon_br:function(e,t,i,n,r,o){var a=o.interpolate(t,i,o.minV,o.maxV),s=o.interpolate_a(t,r,o.minV,o.maxV),l=o.interpolate_b(t,r,o.minV,o.maxV),u=o.interpolate_a(r,n,o.minV,o.maxV),c=o.interpolate_b(r,n,o.minV,o.maxV),h=o.interpolate(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[u,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[c,1],[1,h]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&e.polygons.push([[a,0],[0,s],[0,l],[u,1],[c,1],[1,h],[1,0]])},octagon:function(e,t,i,n,r,o){var a=o.interpolate_a(t,i,o.minV,o.maxV),s=o.interpolate_b(t,i,o.minV,o.maxV),l=o.interpolate_a(t,r,o.minV,o.maxV),u=o.interpolate_b(t,r,o.minV,o.maxV),c=o.interpolate_a(r,n,o.minV,o.maxV),h=o.interpolate_b(r,n,o.minV,o.maxV),g=o.interpolate_b(i,n,o.minV,o.maxV),d=o.interpolate_a(i,n,o.minV,o.maxV);o.polygons_full&&(e.edges.bl={path:[[a,0],[0,l]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,u],[c,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[h,1],[1,g]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,d],[s,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&e.polygons.push([[a,0],[0,l],[0,u],[c,1],[h,1],[1,g],[1,d],[s,0]])}};function isoBands(e,t,i,n){var r,o,a,s=!1,l=null,u=null,c=null,h=null,g=!1,d=[],p=[],m=[];if(!e)throw new Error("data is required");if(null==t)throw new Error("lowerBound is required");if(null==i)throw new Error("bandWidth is required");if(n&&"object"!=typeof n)throw new Error("options must be an object");if(a=isoBandOptions(n),e instanceof QuadTree)l=e,u=e.root,c=e.data,a.noQuadTree||(s=!0);else{if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");c=e}if(Array.isArray(t)){for(g=!0,a.noQuadTree||(s=!0),r=0;r<t.length;r++)if(isNaN(+t[r]))throw new Error("lowerBound["+r+"] is not a number");if(Array.isArray(i)){if(t.length!==i.length)throw new Error("lowerBound and bandWidth have unequal lengths");for(r=0;r<i.length;r++)if(isNaN(+i[r]))throw new Error("bandWidth["+r+"] is not a number")}else{if(isNaN(+i))throw new Error("bandWidth must be a number");for(d=[],r=0;r<t.length;r++)d.push(i);i=d}}else{if(isNaN(+t))throw new Error("lowerBound must be a number");if(t=[t],isNaN(+i))throw new Error("bandWidth must be a number");i=[i]}return s&&!u&&(l=new QuadTree(c),u=l.root,c=l.data),a.verbose&&(a.polygons?console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"):console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),g&&console.log("MarchingSquaresJS-isoBands: multiple bands requested, returning array of band polygons instead of polygons for a single band")),t.forEach((function(e,t){if(p=[],a.minV=e,a.maxV=e+i[t],a.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+i[t])+"]"),a.polygons)if(s)u.cellsInBand(a.minV,a.maxV,!0).forEach((function(e){p=p.concat(cell2Polygons(prepareCell$1(c,e.x,e.y,a),e.x,e.y,a))}));else for(o=0;o<c.length-1;++o)for(r=0;r<c[0].length-1;++r)p=p.concat(cell2Polygons(prepareCell$1(c,r,o,a),r,o,a));else{for(h=[],r=0;r<c[0].length-1;++r)h[r]=[];if(s)u.cellsInBand(a.minV,a.maxV,!1).forEach((function(e){h[e.x][e.y]=prepareCell$1(c,e.x,e.y,a)}));else for(r=0;r<c[0].length-1;++r)for(o=0;o<c.length-1;++o)h[r][o]=prepareCell$1(c,r,o,a);p=traceBandPaths(c,h,a)}g?m.push(p):m=p,"function"==typeof a.successCallback&&a.successCallback(m,e,i[t])})),m}function computeCenterAverage(e,t,i,n,r,o){var a=(n+i+t+e)/4;return a>o?2:a<r?0:1}function prepareCell$1(e,t,i,n){var r,o,a=0,s=e[i+1][t],l=e[i+1][t+1],u=e[i][t+1],c=e[i][t],h=n.minV,g=n.maxV;if(!(isNaN(c)||isNaN(u)||isNaN(l)||isNaN(s))){switch(a|=s<h?0:s>g?128:64,a|=l<h?0:l>g?32:16,a|=u<h?0:u>g?8:4,o=0,r={cval:a=+(a|=c<h?0:c>g?2:1),polygons:[],edges:{},x0:c,x1:u,x2:l,x3:s,x:t,y:i},a){case 85:shapeCoordinates.square(r,c,u,l,s,n);case 0:case 170:break;case 169:shapeCoordinates.triangle_bl(r,c,u,l,s,n);break;case 166:shapeCoordinates.triangle_br(r,c,u,l,s,n);break;case 154:shapeCoordinates.triangle_tr(r,c,u,l,s,n);break;case 106:shapeCoordinates.triangle_tl(r,c,u,l,s,n);break;case 1:shapeCoordinates.triangle_bl(r,c,u,l,s,n);break;case 4:shapeCoordinates.triangle_br(r,c,u,l,s,n);break;case 16:shapeCoordinates.triangle_tr(r,c,u,l,s,n);break;case 64:shapeCoordinates.triangle_tl(r,c,u,l,s,n);break;case 168:shapeCoordinates.tetragon_bl(r,c,u,l,s,n);break;case 162:shapeCoordinates.tetragon_br(r,c,u,l,s,n);break;case 138:shapeCoordinates.tetragon_tr(r,c,u,l,s,n);break;case 42:shapeCoordinates.tetragon_tl(r,c,u,l,s,n);break;case 2:shapeCoordinates.tetragon_bl(r,c,u,l,s,n);break;case 8:shapeCoordinates.tetragon_br(r,c,u,l,s,n);break;case 32:shapeCoordinates.tetragon_tr(r,c,u,l,s,n);break;case 128:shapeCoordinates.tetragon_tl(r,c,u,l,s,n);break;case 5:shapeCoordinates.tetragon_b(r,c,u,l,s,n);break;case 20:shapeCoordinates.tetragon_r(r,c,u,l,s,n);break;case 80:shapeCoordinates.tetragon_t(r,c,u,l,s,n);break;case 65:shapeCoordinates.tetragon_l(r,c,u,l,s,n);break;case 165:shapeCoordinates.tetragon_b(r,c,u,l,s,n);break;case 150:shapeCoordinates.tetragon_r(r,c,u,l,s,n);break;case 90:shapeCoordinates.tetragon_t(r,c,u,l,s,n);break;case 105:shapeCoordinates.tetragon_l(r,c,u,l,s,n);break;case 160:shapeCoordinates.tetragon_lr(r,c,u,l,s,n);break;case 130:shapeCoordinates.tetragon_tb(r,c,u,l,s,n);break;case 10:shapeCoordinates.tetragon_lr(r,c,u,l,s,n);break;case 40:shapeCoordinates.tetragon_tb(r,c,u,l,s,n);break;case 101:shapeCoordinates.pentagon_tr(r,c,u,l,s,n);break;case 149:shapeCoordinates.pentagon_tl(r,c,u,l,s,n);break;case 86:shapeCoordinates.pentagon_bl(r,c,u,l,s,n);break;case 89:shapeCoordinates.pentagon_br(r,c,u,l,s,n);break;case 69:shapeCoordinates.pentagon_tr(r,c,u,l,s,n);break;case 21:shapeCoordinates.pentagon_tl(r,c,u,l,s,n);break;case 84:shapeCoordinates.pentagon_bl(r,c,u,l,s,n);break;case 81:shapeCoordinates.pentagon_br(r,c,u,l,s,n);break;case 96:shapeCoordinates.pentagon_tr_rl(r,c,u,l,s,n);break;case 24:shapeCoordinates.pentagon_rb_bt(r,c,u,l,s,n);break;case 6:shapeCoordinates.pentagon_bl_lr(r,c,u,l,s,n);break;case 129:shapeCoordinates.pentagon_lt_tb(r,c,u,l,s,n);break;case 74:shapeCoordinates.pentagon_tr_rl(r,c,u,l,s,n);break;case 146:shapeCoordinates.pentagon_rb_bt(r,c,u,l,s,n);break;case 164:shapeCoordinates.pentagon_bl_lr(r,c,u,l,s,n);break;case 41:shapeCoordinates.pentagon_lt_tb(r,c,u,l,s,n);break;case 66:shapeCoordinates.pentagon_bl_tb(r,c,u,l,s,n);break;case 144:shapeCoordinates.pentagon_lt_rl(r,c,u,l,s,n);break;case 36:shapeCoordinates.pentagon_tr_bt(r,c,u,l,s,n);break;case 9:shapeCoordinates.pentagon_rb_lr(r,c,u,l,s,n);break;case 104:shapeCoordinates.pentagon_bl_tb(r,c,u,l,s,n);break;case 26:shapeCoordinates.pentagon_lt_rl(r,c,u,l,s,n);break;case 134:shapeCoordinates.pentagon_tr_bt(r,c,u,l,s,n);break;case 161:shapeCoordinates.pentagon_rb_lr(r,c,u,l,s,n);break;case 37:shapeCoordinates.hexagon_lt_tr(r,c,u,l,s,n);break;case 148:shapeCoordinates.hexagon_bl_lt(r,c,u,l,s,n);break;case 82:shapeCoordinates.hexagon_bl_rb(r,c,u,l,s,n);break;case 73:shapeCoordinates.hexagon_tr_rb(r,c,u,l,s,n);break;case 133:shapeCoordinates.hexagon_lt_tr(r,c,u,l,s,n);break;case 22:shapeCoordinates.hexagon_bl_lt(r,c,u,l,s,n);break;case 88:shapeCoordinates.hexagon_bl_rb(r,c,u,l,s,n);break;case 97:shapeCoordinates.hexagon_tr_rb(r,c,u,l,s,n);break;case 145:case 25:shapeCoordinates.hexagon_lt_rb(r,c,u,l,s,n);break;case 70:case 100:shapeCoordinates.hexagon_bl_tr(r,c,u,l,s,n);break;case 17:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_bl(r,c,u,l,s,n),shapeCoordinates.triangle_tr(r,c,u,l,s,n)):shapeCoordinates.hexagon_lt_rb(r,c,u,l,s,n);break;case 68:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_tl(r,c,u,l,s,n),shapeCoordinates.triangle_br(r,c,u,l,s,n)):shapeCoordinates.hexagon_bl_tr(r,c,u,l,s,n);break;case 153:2===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_bl(r,c,u,l,s,n),shapeCoordinates.triangle_tr(r,c,u,l,s,n)):shapeCoordinates.hexagon_lt_rb(r,c,u,l,s,n);break;case 102:2===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_tl(r,c,u,l,s,n),shapeCoordinates.triangle_br(r,c,u,l,s,n)):shapeCoordinates.hexagon_bl_tr(r,c,u,l,s,n);break;case 152:2===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_tr(r,c,u,l,s,n),shapeCoordinates.tetragon_bl(r,c,u,l,s,n)):shapeCoordinates.heptagon_tr(r,c,u,l,s,n);break;case 137:2===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_bl(r,c,u,l,s,n),shapeCoordinates.tetragon_tr(r,c,u,l,s,n)):shapeCoordinates.heptagon_bl(r,c,u,l,s,n);break;case 98:2===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_tl(r,c,u,l,s,n),shapeCoordinates.tetragon_br(r,c,u,l,s,n)):shapeCoordinates.heptagon_tl(r,c,u,l,s,n);break;case 38:2===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_br(r,c,u,l,s,n),shapeCoordinates.tetragon_tl(r,c,u,l,s,n)):shapeCoordinates.heptagon_br(r,c,u,l,s,n);break;case 18:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_tr(r,c,u,l,s,n),shapeCoordinates.tetragon_bl(r,c,u,l,s,n)):shapeCoordinates.heptagon_tr(r,c,u,l,s,n);break;case 33:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_bl(r,c,u,l,s,n),shapeCoordinates.tetragon_tr(r,c,u,l,s,n)):shapeCoordinates.heptagon_bl(r,c,u,l,s,n);break;case 72:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_tl(r,c,u,l,s,n),shapeCoordinates.tetragon_br(r,c,u,l,s,n)):shapeCoordinates.heptagon_tl(r,c,u,l,s,n);break;case 132:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.triangle_br(r,c,u,l,s,n),shapeCoordinates.tetragon_tl(r,c,u,l,s,n)):shapeCoordinates.heptagon_br(r,c,u,l,s,n);break;case 136:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.tetragon_tl(r,c,u,l,s,n),shapeCoordinates.tetragon_br(r,c,u,l,s,n)):1===o?shapeCoordinates.octagon(r,c,u,l,s,n):(shapeCoordinates.tetragon_bl(r,c,u,l,s,n),shapeCoordinates.tetragon_tr(r,c,u,l,s,n));break;case 34:0===(o=computeCenterAverage(c,u,l,s,h,g))?(shapeCoordinates.tetragon_bl(r,c,u,l,s,n),shapeCoordinates.tetragon_tr(r,c,u,l,s,n)):1===o?shapeCoordinates.octagon(r,c,u,l,s,n):(shapeCoordinates.tetragon_tl(r,c,u,l,s,n),shapeCoordinates.tetragon_br(r,c,u,l,s,n))}return r}}var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(e,t,i)=>t in e?__defProp$3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues$3=(e,t)=>{for(var i in t||(t={}))__hasOwnProp$3.call(t,i)&&__defNormalProp$3(e,i,t[i]);if(__getOwnPropSymbols$3)for(var i of __getOwnPropSymbols$3(t))__propIsEnum$3.call(t,i)&&__defNormalProp$3(e,i,t[i]);return e};function gridToMatrix$1(e,t){if(!isObject$1(t=t||{}))throw new Error("options is invalid");var i=t.zProperty||"elevation",n=t.flip,r=t.flags;collectionOf(e,"Point","input must contain Points");for(var o=sortPointsByLatLng$1(e,n),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[i]?u.push(h.properties[i]):u.push(0),!0===r&&(h.properties.matrixPosition=[s,c])}a.push(u)}return a}function sortPointsByLatLng$1(e,t){var i={};featureEach(e,(function(e){var t=getCoords(e)[1];i[t]||(i[t]=[]),i[t].push(e)}));var n=Object.keys(i).map((function(e){var t=i[e].sort((function(e,t){return getCoords(e)[0]-getCoords(t)[0]}));return t})),r=n.sort((function(e,i){return t?getCoords(e[0])[1]-getCoords(i[0])[1]:getCoords(i[0])[1]-getCoords(e[0])[1]}));return r}function isobands(e,t,i){if(!isObject$1(i=i||{}))throw new Error("options is invalid");const n=i.zProperty||"elevation",r=i.commonProperties||{},o=i.breaksProperties||[];if(collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!isObject$1(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");const a=gridToMatrix$1(e,{zProperty:n,flip:!0});let s=createContourLines(a,t,n);s=rescaleContours(s,a,e);const l=s.map(((e,t)=>{if(o[t]&&!isObject$1(o[t]))throw new Error("Each mappedProperty is required to be an Object");const i=__spreadValues$3(__spreadValues$3({},r),o[t]);i[n]=e[n];return multiPolygon(e.groupedRings,i)}));return featureCollection(l)}function createContourLines(e,t,i){const n=[];for(let r=1;r<t.length;r++){const o=+t[r-1],a=+t[r],s=groupNestedRings(orderByArea(isoBands(e,o,a-o)));n.push({groupedRings:s,[i]:o+"-"+a})}return n}function rescaleContours(e,t,i){const n=bbox$1(i),r=n[2]-n[0],o=n[3]-n[1],a=n[0],s=n[1],l=t[0].length-1,u=t.length-1,c=r/l,h=o/u;return e.map((function(e){return e.groupedRings=e.groupedRings.map((function(e){return e.map((function(e){return e.map((e=>[e[0]*c+a,e[1]*h+s]))}))})),e}))}function orderByArea(e){const t=e.map((function(e){return{ring:e,area:area(polygon([e]))}}));return t.sort((function(e,t){return t.area-e.area})),t.map((function(e){return e.ring}))}function groupNestedRings(e){const t=e.map((e=>({lrCoordinates:e,grouped:!1}))),i=[];for(;!allGrouped(t);)for(let e=0;e<t.length;e++)if(!t[e].grouped){const n=[];n.push(t[e].lrCoordinates),t[e].grouped=!0;const r=polygon([t[e].lrCoordinates]);for(let i=e+1;i<t.length;i++)if(!t[i].grouped){isInside$1(polygon([t[i].lrCoordinates]),r)&&(n.push(t[i].lrCoordinates),t[i].grouped=!0)}i.push(n)}return i}function isInside$1(e,t){const i=explode(e);for(let e=0;e<i.features.length;e++)if(!booleanPointInPolygon(i.features[e],t))return!1;return!0}function allGrouped(e){for(let t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}var __defProp$2=Object.defineProperty,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(e,t,i)=>t in e?__defProp$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues$2=(e,t)=>{for(var i in t||(t={}))__hasOwnProp$2.call(t,i)&&__defNormalProp$2(e,i,t[i]);if(__getOwnPropSymbols$2)for(var i of __getOwnPropSymbols$2(t))__propIsEnum$2.call(t,i)&&__defNormalProp$2(e,i,t[i]);return e};function gridToMatrix(e,t){if(!isObject$1(t=t||{}))throw new Error("options is invalid");var i=t.zProperty||"elevation",n=t.flip,r=t.flags;collectionOf(e,"Point","input must contain Points");for(var o=sortPointsByLatLng(e,n),a=[],s=0;s<o.length;s++){for(var l=o[s],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[i]?u.push(h.properties[i]):u.push(0),!0===r&&(h.properties.matrixPosition=[s,c])}a.push(u)}return a}function sortPointsByLatLng(e,t){var i={};featureEach(e,(function(e){var t=getCoords(e)[1];i[t]||(i[t]=[]),i[t].push(e)}));var n=Object.keys(i).map((function(e){var t=i[e].sort((function(e,t){return getCoords(e)[0]-getCoords(t)[0]}));return t})),r=n.sort((function(e,i){return t?getCoords(e[0])[1]-getCoords(i[0])[1]:getCoords(i[0])[1]-getCoords(e[0])[1]}));return r}function isolines(e,t,i){if(!isObject$1(i=i||{}))throw new Error("options is invalid");const n=i.zProperty||"elevation",r=i.commonProperties||{},o=i.breaksProperties||[];if(collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!isObject$1(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");const a=gridToMatrix(e,{zProperty:n,flip:!0});return featureCollection(rescaleIsolines(createIsoLines(a,t,n,r,o),a,e))}function createIsoLines(e,t,i,n,r){const o=[];for(let a=0;a<t.length;a++){const s=+t[a],l=__spreadValues$2(__spreadValues$2({},n),r[a]);l[i]=s;const u=multiLineString(isoLines(e,s,{linearRing:!1,noFrame:!0}),l);o.push(u)}return o}function rescaleIsolines(e,t,i){const n=bbox$1(i),r=n[2]-n[0],o=n[3]-n[1],a=n[0],s=n[1],l=t[0].length-1,u=t.length-1,c=r/l,h=o/u,g=e=>{e[0]=e[0]*c+a,e[1]=e[1]*h+s};return e.forEach((e=>{coordEach(e,g)})),e}function kinks(e){let t,i;const n={type:"FeatureCollection",features:[]};if(i="Feature"===e.type?e.geometry:e,"LineString"===i.type)t=[i.coordinates];else if("MultiLineString"===i.type)t=i.coordinates;else if("MultiPolygon"===i.type)t=[].concat(...i.coordinates);else{if("Polygon"!==i.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=i.coordinates}return t.forEach((e=>{t.forEach((t=>{for(let i=0;i<e.length-1;i++)for(let r=i;r<t.length-1;r++){if(e===t){if(1===Math.abs(i-r))continue;if(0===i&&r===e.length-2&&e[i][0]===e[e.length-1][0]&&e[i][1]===e[e.length-1][1])continue}const o=lineIntersects(e[i][0],e[i][1],e[i+1][0],e[i+1][1],t[r][0],t[r][1],t[r+1][0],t[r+1][1]);o&&n.features.push(point([o[0],o[1]]))}}))})),n}function lineIntersects(e,t,i,n,r,o,a,s){let l,u,c,h,g;const d={x:null,y:null,onLine1:!1,onLine2:!1};return l=(s-o)*(i-e)-(a-r)*(n-t),0===l?null!==d.x&&null!==d.y&&d:(u=t-o,c=e-r,h=(a-r)*u-(s-o)*c,g=(i-e)*u-(n-t)*c,u=h/l,c=g/l,d.x=e+u*(i-e),d.y=t+u*(n-t),u>=0&&u<=1&&(d.onLine1=!0),c>=0&&c<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}function length(e,t={}){return segmentReduce(e,((e,i)=>{const n=i.geometry.coordinates;return e+distance$1(n[0],n[1],t)}),0)}function lineArc(e,t,i,n,r={}){const o=r.steps||64,a=convertAngleTo360$1(i),s=convertAngleTo360$1(n),l=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(a===s)return lineString(circle(e,t,r).geometry.coordinates[0],l);const u=a,c=a<s?s:s+360;let h=u;const g=[];let d=0;const p=(c-u)/o;for(;h<=c;)g.push(destination(e,t,h,r).geometry.coordinates),d++,h=u+d*p;return lineString(g,l)}function convertAngleTo360$1(e){let t=e%360;return t<0&&(t+=360),t}function lineSliceAlong(e,t,i,n){if(!isObject$1(n=n||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===e.type)r=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");r=e.coordinates}for(var a,s,l,u=r.length,c=0,h=0;h<r.length&&!(t>=c&&h===r.length-1);h++){if(c>t&&0===o.length){if(!(a=t-c))return o.push(r[h]),lineString(o);s=bearing(r[h],r[h-1])-180,l=destination(r[h],a,s,n),o.push(l.geometry.coordinates)}if(c>=i)return(a=i-c)?(s=bearing(r[h],r[h-1])-180,l=destination(r[h],a,s,n),o.push(l.geometry.coordinates),lineString(o)):(o.push(r[h]),lineString(o));if(c>=t&&o.push(r[h]),h===r.length-1)return lineString(o);c+=distance$1(r[h],r[h+1],n)}if(c<t&&r.length===u)throw new Error("Start position is beyond line");var g=r[r.length-1];return lineString([g,g])}function lineChunk(e,t,i){if(!isObject$1(i=i||{}))throw new Error("options is invalid");var n=i.units,r=i.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var o=[];return flattenEach(e,(function(e){r&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),sliceLineSegments(e,t,n,(function(e){o.push(e)}))})),featureCollection(o)}function sliceLineSegments(e,t,i,n){var r=length(e,{units:i});if(r<=t)return n(e);var o=r/t;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++){n(lineSliceAlong(e,t*a,t*(a+1),{units:i}),a)}}function ab(e){var t=e[0],i=e[1];return[i[0]-t[0],i[1]-t[1]]}function crossProduct(e,t){return e[0]*t[1]-t[0]*e[1]}function add(e,t){return[e[0]+t[0],e[1]+t[1]]}function sub(e,t){return[e[0]-t[0],e[1]-t[1]]}function scalarMult(e,t){return[e*t[0],e*t[1]]}function intersectSegments(e,t){var i=e[0],n=ab(e),r=t[0],o=ab(t),a=crossProduct(n,o);return add(i,scalarMult(crossProduct(sub(r,i),o)/a,n))}function isParallel(e,t){return 0===crossProduct(ab(e),ab(t))}function intersection(e,t){return!isParallel(e,t)&&intersectSegments(e,t)}function lineOffset(e,t,i){if(!isObject$1(i=i||{}))throw new Error("options is invalid");var n=i.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var r=getType$1(e),o=e.properties;switch(r){case"LineString":return lineOffsetFeature(e,t,n);case"MultiLineString":var a=[];return flattenEach(e,(function(e){a.push(lineOffsetFeature(e,t,n).geometry.coordinates)})),multiLineString(a,o);default:throw new Error("geometry "+r+" is not supported")}}function lineOffsetFeature(e,t,i){var n=[],r=lengthToDegrees(t,i),o=getCoords(e),a=[];return o.forEach((function(e,t){if(t!==o.length-1){var i=processSegment(e,o[t+1],r);if(n.push(i),t>0){var s=n[t-1],l=intersection(i,s);!1!==l&&(s[1]=l,i[0]=l),a.push(s[0]),t===o.length-2&&(a.push(i[0]),a.push(i[1]))}2===o.length&&(a.push(i[0]),a.push(i[1]))}})),lineString(a,e.properties)}function processSegment(e,t,i){var n=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),r=e[0]+i*(t[1]-e[1])/n,o=t[0]+i*(t[1]-e[1])/n;return[[r,e[1]+i*(e[0]-t[0])/n],[o,t[1]+i*(e[0]-t[0])/n]]}function lineSlice(e,t,i){var n=getCoords(i);if("LineString"!==getType$1(i))throw new Error("line must be a LineString");for(var r,o=nearestPointOnLine(i,e),a=nearestPointOnLine(i,t),s=[(r=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],l=r[0].properties.index+1;l<r[1].properties.index+1;l++)s.push(n[l]);return s.push(r[1].geometry.coordinates),lineString(s,i.properties)}function square(e){var t=e[0],i=e[1],n=e[2],r=e[3];if(distance$1(e.slice(0,2),[n,i])>=distance$1(e.slice(0,2),[t,r])){var o=(i+r)/2;return[t,o-(n-t)/2,n,o+(n-t)/2]}var a=(t+n)/2;return[a-(r-i)/2,i,a+(r-i)/2,r]}function truncate(e,t){if(!isObject$1(t=null!=t?t:{}))throw new Error("options is invalid");var i=t.precision,n=t.coordinates,r=t.mutate;if(i=null==i||isNaN(i)?6:i,n=null==n||isNaN(n)?3:n,!e)throw new Error("<geojson> is required");if("number"!=typeof i)throw new Error("<precision> must be a number");if("number"!=typeof n)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(e=JSON.parse(JSON.stringify(e)));var o=Math.pow(10,i);return coordEach(e,(function(e){truncateCoords(e,o,n)})),e}function truncateCoords(e,t,i){e.length>i&&e.splice(i,e.length);for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]*t)/t;return e}function lineSplit(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var i=getType$1(e),n=getType$1(t);if("LineString"!==i)throw new Error("line must be LineString");if("FeatureCollection"===n)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===n)throw new Error("splitter cannot be a GeometryCollection");var r=truncate(t,{precision:7});switch(n){case"Point":return splitLineWithPoint(e,r);case"MultiPoint":return splitLineWithPoints(e,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return splitLineWithPoints(e,lineIntersect(e,r,{ignoreSelfIntersections:!0}))}}function splitLineWithPoints(e,t){var i=[],n=geojsonRbush();return flattenEach(t,(function(t){if(i.forEach((function(e,t){e.id=t})),i.length){var r=n.search(t);if(r.features.length){var o=findClosestFeature(t,r);i=i.filter((function(e){return e.id!==o.id})),n.remove(o),featureEach(splitLineWithPoint(o,t),(function(e){i.push(e),n.insert(e)}))}}else(i=splitLineWithPoint(e,t).features).forEach((function(e){e.bbox||(e.bbox=square(bbox$1(e)))})),n.load(featureCollection(i))})),featureCollection(i)}function splitLineWithPoint(e,t){var i=[],n=getCoords(e)[0],r=getCoords(e)[e.geometry.coordinates.length-1];if(pointsEquals(n,getCoord(t))||pointsEquals(r,getCoord(t)))return featureCollection([e]);var o=geojsonRbush(),a=lineSegment(e);o.load(a);var s=o.search(t);if(!s.features.length)return featureCollection([e]);var l=findClosestFeature(t,s),u=featureReduce(a,(function(e,n,r){var o=getCoords(n)[1],a=getCoord(t);return r===l.id?(e.push(a),i.push(lineString(e)),pointsEquals(a,o)?[a]:[a,o]):(e.push(o),e)}),[n]);return u.length>1&&i.push(lineString(u)),featureCollection(i)}function findClosestFeature(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var i,n=1/0;return featureEach(t,(function(t){var r=nearestPointOnLine(t,e).properties.dist;r<n&&(i=t,n=r)})),i}function pointsEquals(e,t){return e[0]===t[0]&&e[1]===t[1]}function lineToPolygon(e,t={}){var i,n,r,o=t.properties,a=null==(i=t.autoComplete)||i,s=null==(n=t.orderCoords)||n;if(null!=(r=t.mutate)&&r||(e=clone$2(e)),"FeatureCollection"===e.type){var l=[];return e.features.forEach((function(e){l.push(getCoords(lineStringToPolygon(e,{},a,s)))})),multiPolygon(l,o)}return lineStringToPolygon(e,o,a,s)}function lineStringToPolygon(e,t,i,n){t=t||("Feature"===e.type?e.properties:{});var r=getGeom(e),o=r.coordinates,a=r.type;if(!o.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return i&&(o=autoCompleteCoords(o)),polygon([o],t);case"MultiLineString":var s=[],l=0;return o.forEach((function(e){if(i&&(e=autoCompleteCoords(e)),n){var t=calculateArea(bbox$1(lineString(e)));t>l?(s.unshift(e),l=t):s.push(e)}else s.push(e)})),polygon(s,t);default:throw new Error("geometry type "+a+" is not supported")}}function autoCompleteCoords(e){var t=e[0],i=t[0],n=t[1],r=e[e.length-1],o=r[0],a=r[1];return i===o&&n===a||e.push(t),e}function calculateArea(e){var t=e[0],i=e[1],n=e[2],r=e[3];return Math.abs(t-n)*Math.abs(i-r)}function mask(e,t,i){var n;const r=null!=(n=null==i?void 0:i.mutate)&&n;let o=t;t&&!1===r&&(o=clone$2(t));const a=createMask(o);let s=null;return s="FeatureCollection"===e.type?unionFc(e):"Feature"===e.type?createGeomFromPolygonClippingOutput(union(e.geometry.coordinates)):createGeomFromPolygonClippingOutput(union(e.coordinates)),s.geometry.coordinates.forEach((function(e){a.geometry.coordinates.push(e[0])})),a}function unionFc(e){return createGeomFromPolygonClippingOutput(2===e.features.length?union(e.features[0].geometry.coordinates,e.features[1].geometry.coordinates):union.apply(polyclip,e.features.map((function(e){return e.geometry.coordinates}))))}function createGeomFromPolygonClippingOutput(e){return multiPolygon(e)}function createMask(e){let t=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return e&&(t="Feature"===e.type?e.geometry.coordinates:e.coordinates),polygon(t)}function midpoint(e,t){return destination(e,distance$1(e,t)/2,bearing(e,t))}function moranIndex(e,t){var i,n;const r=t.inputField,o=t.threshold||1e5,a=t.p||2,s=null!=(i=t.binary)&&i,l=distanceWeight(e,{alpha:t.alpha||-1,binary:s,p:a,standardization:null==(n=t.standardization)||n,threshold:o}),u=[];featureEach(e,(e=>{const t=e.properties||{};u.push(t[r])}));const c=mean(u),h=variance(u);let g=0,d=0,p=0,m=0;const f=l.length;for(let e=0;e<f;e++){let t=0;for(let i=0;i<f;i++)g+=l[e][i]*(u[e]-c)*(u[i]-c),d+=l[e][i],p+=Math.pow(l[e][i]+l[i][e],2),t+=l[e][i]+l[i][e];m+=Math.pow(t,2)}p*=.5;const C=g/d/h,y=-1/(f-1),v=(f*f*p-f*m+d*d*3)/((f-1)*(f+1)*(d*d))-y*y,A=Math.sqrt(v);return{expectedMoranIndex:y,moranIndex:C,stdNorm:A,zNorm:(C-y)/A}}function mean(e){let t=0;for(const i of e)t+=i;return t/e.length}function variance(e){const t=mean(e);let i=0;for(const n of e)i+=Math.pow(n-t,2);return i/e.length}var __defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(e,t,i)=>t in e?__defProp$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues$1=(e,t)=>{for(var i in t||(t={}))__hasOwnProp$1.call(t,i)&&__defNormalProp$1(e,i,t[i]);if(__getOwnPropSymbols$1)for(var i of __getOwnPropSymbols$1(t))__propIsEnum$1.call(t,i)&&__defNormalProp$1(e,i,t[i]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));function nearestPoint(e,t,i={}){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");let n=1/0,r=0;featureEach(t,((t,o)=>{const a=distance$1(e,t,i);a<n&&(r=o,n=a)}));const o=clone$2(t.features[r]);return __spreadProps(__spreadValues$1({},o),{properties:__spreadProps(__spreadValues$1({},o.properties),{featureIndex:r,distanceToPoint:n})})}function nearestNeighborAnalysis(e,t){const i=(t=t||{}).studyArea||bboxPolygon(bbox$1(e)),n=t.properties||{},r=t.units||"kilometers",o=[];featureEach(e,(e=>{o.push(centroid(e))}));const a=o.length,s=o.map(((e,t)=>distance$1(e,nearestPoint(e,featureCollection(o.filter(((e,i)=>i!==t)))).geometry.coordinates,{units:r}))).reduce(((e,t)=>e+t),0)/a,l=a/convertArea(area(i),"meters",r),u=1/(2*Math.sqrt(l)),c=.26136/Math.sqrt(a*l);return n.nearestNeighborAnalysis={units:r,arealUnits:r+"²",observedMeanDistance:s,expectedMeanDistance:u,nearestNeighborIndex:s/u,numberOfPoints:a,zScore:(s-u)/c},i.properties=n,i}function pointToLineDistance(e,t,i={}){var n,r;const o=null!=(n=i.method)?n:"geodesic",a=null!=(r=i.units)?r:"kilometers";if(!e)throw new Error("pt is required");if(Array.isArray(e)?e=point(e):"Point"===e.type?e=feature(e):featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=lineString(t):"LineString"===t.type?t=feature(t):featureOf(t,"LineString","line");let s=1/0;const l=e.geometry.coordinates;return segmentEach(t,(e=>{if(e){const t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],n=distanceToSegment(l,t,i,{method:o});n<s&&(s=n)}})),convertLength(s,"degrees",a)}function distanceToSegment(e,t,i,n){if("geodesic"===n.method){return nearestPointOnLine(lineString([t,i]).geometry,e,{units:"degrees"}).properties.dist}const r=[i[0]-t[0],i[1]-t[1]],o=dot([e[0]-t[0],e[1]-t[1]],r);if(o<=0)return rhumbDistance(e,t,{units:"degrees"});const a=dot(r,r);if(a<=o)return rhumbDistance(e,i,{units:"degrees"});const s=o/a;return rhumbDistance(e,[t[0]+s*r[0],t[1]+s*r[1]],{units:"degrees"})}function dot(e,t){return e[0]*t[0]+e[1]*t[1]}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e};function nearestPointToLine(e,t,i={}){const n=i.units,r=i.properties||{},o=normalize$1(e);if(!o.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==getType$1(t))throw new Error("line must be a LineString");let a=1/0,s=null;return featureEach(o,(e=>{const i=pointToLineDistance(e,t,{units:n});i<a&&(a=i,s=e)})),s&&(s.properties=__spreadValues(__spreadValues(__spreadValues({},{dist:a}),s.properties),r)),s}function normalize$1(e){const t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return geomEach(e,(e=>{"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((e=>"Point"===e.geometry.type)),e;default:throw new Error("points must be a Point Collection")}}function planepoint(e,t){const i=getCoord(e),n=getGeom(t).coordinates[0];if(n.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");const r="Feature"===t.type&&t.properties||{},o=r.a,a=r.b,s=r.c,l=i[0],u=i[1],c=n[0][0],h=n[0][1],g=void 0!==o?o:n[0][2],d=n[1][0],p=n[1][1],m=void 0!==a?a:n[1][2],f=n[2][0],C=n[2][1],y=void 0!==s?s:n[2][2];return(y*(l-c)*(u-p)+g*(l-d)*(u-C)+m*(l-f)*(u-h)-m*(l-c)*(u-C)-y*(l-d)*(u-h)-g*(l-f)*(u-p))/((l-c)*(u-p)+(l-d)*(u-C)+(l-f)*(u-h)-(l-c)*(u-C)-(l-d)*(u-h)-(l-f)*(u-p))}function pointOnFeature(e){const t=normalize(e),i=center(t);let n=!1,r=0;for(;!n&&r<t.features.length;){const e=t.features[r].geometry;let o,a,s,l,u,c,h=!1;if("Point"===e.type)i.geometry.coordinates[0]===e.coordinates[0]&&i.geometry.coordinates[1]===e.coordinates[1]&&(n=!0);else if("MultiPoint"===e.type){let t=!1,r=0;for(;!t&&r<e.coordinates.length;)i.geometry.coordinates[0]===e.coordinates[r][0]&&i.geometry.coordinates[1]===e.coordinates[r][1]&&(n=!0,t=!0),r++}else if("LineString"===e.type){let t=0;for(;!h&&t<e.coordinates.length-1;)o=i.geometry.coordinates[0],a=i.geometry.coordinates[1],s=e.coordinates[t][0],l=e.coordinates[t][1],u=e.coordinates[t+1][0],c=e.coordinates[t+1][1],pointOnSegment(o,a,s,l,u,c)&&(h=!0,n=!0),t++}else if("MultiLineString"===e.type){let t=0;for(;t<e.coordinates.length;){h=!1;let r=0;const g=e.coordinates[t];for(;!h&&r<g.length-1;)o=i.geometry.coordinates[0],a=i.geometry.coordinates[1],s=g[r][0],l=g[r][1],u=g[r+1][0],c=g[r+1][1],pointOnSegment(o,a,s,l,u,c)&&(h=!0,n=!0),r++;t++}}else"Polygon"!==e.type&&"MultiPolygon"!==e.type||booleanPointInPolygon(i,e)&&(n=!0);r++}if(n)return i;{const e=featureCollection([]);for(let i=0;i<t.features.length;i++)e.features=e.features.concat(explode(t.features[i]).features);return point(nearestPoint(i,e).geometry.coordinates)}}function normalize(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?featureCollection([feature(e)]):featureCollection([e]):e}function pointOnSegment(e,t,i,n,r,o){return Math.sqrt((r-i)*(r-i)+(o-n)*(o-n))===Math.sqrt((e-i)*(e-i)+(t-n)*(t-n))+Math.sqrt((r-e)*(r-e)+(o-t)*(o-t))}function pointsWithinPolygon(e,t){const i=[];return featureEach(e,(function(e){let n=!1;if("Point"===e.geometry.type)geomEach(t,(function(t){booleanPointInPolygon(e,t)&&(n=!0)})),n&&i.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var r=[];geomEach(t,(function(t){coordEach(e,(function(e){booleanPointInPolygon(e,t)&&(n=!0,r.push(e))}))})),n&&i.push(multiPoint(r,e.properties))}})),featureCollection(i)}function pointToPolygonDistance(e,t,i={}){var n,r;const o=null!=(n=i.method)?n:"geodesic",a=null!=(r=i.units)?r:"kilometers";if(!e)throw new Error("point is required");if(!t)throw new Error("polygon or multi-polygon is required");const s=getGeom(t);if("MultiPolygon"===s.type){const i=s.coordinates.map((t=>pointToPolygonDistance(e,polygon(t),{method:o,units:a})));return Math.min(...i.map(Math.abs))*(booleanPointInPolygon(e,t)?-1:1)}if(s.coordinates.length>1){const[t,...i]=s.coordinates.map((t=>pointToPolygonDistance(e,polygon([t]),{method:o,units:a})));if(t>=0)return t;const n=Math.min(...i);return n<0?Math.abs(n):Math.min(n,Math.abs(t))}const l=polygonToLine(s);let u=1/0;return flattenEach(l,(t=>{u=Math.min(u,pointToLineDistance(e,t,{method:o,units:a}))})),booleanPointInPolygon(e,s)?-u:u}function mathSign(e){return(e>0)-(e<0)||+e}function orientationIndex(e,t,i){const n=t[0]-e[0],r=t[1]-e[1],o=i[0]-t[0];return mathSign(n*(i[1]-t[1])-o*r)}function envelopeIsEqual(e,t){const i=e.geometry.coordinates[0].map((e=>e[0])),n=e.geometry.coordinates[0].map((e=>e[1])),r=t.geometry.coordinates[0].map((e=>e[0])),o=t.geometry.coordinates[0].map((e=>e[1]));return Math.max.apply(null,i)===Math.max.apply(null,r)&&Math.max.apply(null,n)===Math.max.apply(null,o)&&Math.min.apply(null,i)===Math.min.apply(null,r)&&Math.min.apply(null,n)===Math.min.apply(null,o)}function envelopeContains(e,t){return t.geometry.coordinates[0].every((t=>booleanPointInPolygon(point(t),e)))}function coordinatesEqual(e,t){return e[0]===t[0]&&e[1]===t[1]}var Node=class e{static buildId(e){return e.join(",")}constructor(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}removeInnerEdge(e){this.innerEdges=this.innerEdges.filter((t=>t.from.id!==e.from.id))}removeOuterEdge(e){this.outerEdges=this.outerEdges.filter((t=>t.to.id!==e.to.id))}addOuterEdge(e){this.outerEdges.push(e),this.outerEdgesSorted=!1}sortOuterEdges(){this.outerEdgesSorted||(this.outerEdges.sort(((e,t)=>{const i=e.to,n=t.to;if(i.coordinates[0]-this.coordinates[0]>=0&&n.coordinates[0]-this.coordinates[0]<0)return 1;if(i.coordinates[0]-this.coordinates[0]<0&&n.coordinates[0]-this.coordinates[0]>=0)return-1;if(i.coordinates[0]-this.coordinates[0]===0&&n.coordinates[0]-this.coordinates[0]===0)return i.coordinates[1]-this.coordinates[1]>=0||n.coordinates[1]-this.coordinates[1]>=0?i.coordinates[1]-n.coordinates[1]:n.coordinates[1]-i.coordinates[1];const r=orientationIndex(this.coordinates,i.coordinates,n.coordinates);if(r<0)return 1;if(r>0)return-1;return Math.pow(i.coordinates[0]-this.coordinates[0],2)+Math.pow(i.coordinates[1]-this.coordinates[1],2)-(Math.pow(n.coordinates[0]-this.coordinates[0],2)+Math.pow(n.coordinates[1]-this.coordinates[1],2))})),this.outerEdgesSorted=!0)}getOuterEdges(){return this.sortOuterEdges(),this.outerEdges}getOuterEdge(e){return this.sortOuterEdges(),this.outerEdges[e]}addInnerEdge(e){this.innerEdges.push(e)}},Edge=class e{getSymetric(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric}constructor(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}deleteEdge(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}isEqual(e){return this.from.id===e.from.id&&this.to.id===e.to.id}toString(){return`Edge { ${this.from.id} -> ${this.to.id} }`}toLineString(){return lineString([this.from.coordinates,this.to.coordinates])}compareTo(e){return orientationIndex(e.from.coordinates,e.to.coordinates,this.to.coordinates)}},EdgeRing=class{constructor(){this.edges=[],this.polygon=void 0,this.envelope=void 0}push(e){this.edges.push(e),this.polygon=this.envelope=void 0}get(e){return this.edges[e]}get length(){return this.edges.length}forEach(e){this.edges.forEach(e)}map(e){return this.edges.map(e)}some(e){return this.edges.some(e)}isValid(){return!0}isHole(){const e=this.edges.reduce(((e,t,i)=>(t.from.coordinates[1]>this.edges[e].from.coordinates[1]&&(e=i),e)),0),t=(0===e?this.length:e)-1,i=(e+1)%this.length,n=orientationIndex(this.edges[t].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===n?this.edges[t].from.coordinates[0]>this.edges[i].from.coordinates[0]:n>0}toMultiPoint(){return multiPoint(this.edges.map((e=>e.from.coordinates)))}toPolygon(){if(this.polygon)return this.polygon;const e=this.edges.map((e=>e.from.coordinates));return e.push(this.edges[0].from.coordinates),this.polygon=polygon([e])}getEnvelope(){return this.envelope?this.envelope:this.envelope=envelope(this.toPolygon())}static findEdgeRingContaining(e,t){const i=e.getEnvelope();let n,r;return t.forEach((t=>{const o=t.getEnvelope();if(r&&(n=r.getEnvelope()),!envelopeIsEqual(o,i)&&envelopeContains(o,i)){const i=e.map((e=>e.from.coordinates));let a;for(const e of i)t.some((t=>coordinatesEqual(e,t.from.coordinates)))||(a=e);a&&t.inside(point(a))&&(r&&!envelopeContains(n,o)||(r=t))}})),r}inside(e){return booleanPointInPolygon(e,this.toPolygon())}};function validateGeoJson(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error(`Invalid input type '${e.type}'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature`)}var Graph$1=class e{static fromGeoJson(t){validateGeoJson(t);const i=new e;return flattenEach(t,(e=>{featureOf(e,"LineString","Graph::fromGeoJson"),coordReduce(e,((e,t)=>{if(e){const n=i.getNode(e),r=i.getNode(t);i.addEdge(n,r)}return t}))})),i}getNode(e){const t=Node.buildId(e);let i=this.nodes[t];return i||(i=this.nodes[t]=new Node(e)),i}addEdge(e,t){const i=new Edge(e,t),n=i.getSymetric();this.edges.push(i),this.edges.push(n)}constructor(){this.edges=[],this.nodes={}}deleteDangles(){Object.keys(this.nodes).map((e=>this.nodes[e])).forEach((e=>this._removeIfDangle(e)))}_removeIfDangle(e){if(e.innerEdges.length<=1){const t=e.getOuterEdges().map((e=>e.to));this.removeNode(e),t.forEach((e=>this._removeIfDangle(e)))}}deleteCutEdges(){this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((e=>{e.label===e.symetric.label&&(this.removeEdge(e.symetric),this.removeEdge(e))}))}_computeNextCWEdges(e){void 0===e?Object.keys(this.nodes).forEach((e=>this._computeNextCWEdges(this.nodes[e]))):e.getOuterEdges().forEach(((t,i)=>{e.getOuterEdge((0===i?e.getOuterEdges().length:i)-1).symetric.next=t}))}_computeNextCCWEdges(e,t){const i=e.getOuterEdges();let n,r;for(let e=i.length-1;e>=0;--e){let o,a,s=i[e],l=s.symetric;s.label===t&&(o=s),l.label===t&&(a=l),o&&a&&(a&&(r=a),o&&(r&&(r.next=o,r=void 0),n||(n=o)))}r&&(r.next=n)}_findLabeledEdgeRings(){const e=[];let t=0;return this.edges.forEach((i=>{if(i.label>=0)return;e.push(i);let n=i;do{n.label=t,n=n.next}while(!i.isEqual(n));t++})),e}getEdgeRings(){this._computeNextCWEdges(),this.edges.forEach((e=>{e.label=void 0})),this._findLabeledEdgeRings().forEach((e=>{this._findIntersectionNodes(e).forEach((t=>{this._computeNextCCWEdges(t,e.label)}))}));const e=[];return this.edges.forEach((t=>{t.ring||e.push(this._findEdgeRing(t))})),e}_findIntersectionNodes(e){const t=[];let i=e;do{let n=0;i.from.getOuterEdges().forEach((t=>{t.label===e.label&&++n})),n>1&&t.push(i.from),i=i.next}while(!e.isEqual(i));return t}_findEdgeRing(e){let t=e;const i=new EdgeRing;do{i.push(t),t.ring=i,t=t.next}while(!e.isEqual(t));return i}removeNode(e){e.getOuterEdges().forEach((e=>this.removeEdge(e))),e.innerEdges.forEach((e=>this.removeEdge(e))),delete this.nodes[e.id]}removeEdge(e){this.edges=this.edges.filter((t=>!t.isEqual(e))),e.deleteEdge()}};function polygonize(e){const t=Graph$1.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();const i=[],n=[];return t.getEdgeRings().filter((e=>e.isValid())).forEach((e=>{e.isHole()?i.push(e):n.push(e)})),i.forEach((e=>{EdgeRing.findEdgeRingContaining(e,n)&&n.push(e)})),featureCollection(n.map((e=>e.toPolygon())))}function polygonSmooth(e,t){(t=t||{}).iterations=t.iterations||1;const{iterations:i}=t,n=[];if(!e)throw new Error("inputPolys is required");return geomEach(e,(function(e,t,r){if("Polygon"===e.type){let t=[[]];for(let n=0;n<i;n++){let i=[],r=e;n>0&&(r=polygon(t).geometry),processPolygon$2(r,i),t=i.slice(0)}n.push(polygon(t,r))}else{if("MultiPolygon"!==e.type)throw new Error("geometry is invalid, must be Polygon or MultiPolygon");{let t=[[[]]];for(let n=0;n<i;n++){let i=[],r=e;n>0&&(r=multiPolygon(t).geometry),processMultiPolygon(r,i),t=i.slice(0)}n.push(multiPolygon(t,r))}}})),featureCollection(n)}function processPolygon$2(e,t){var i,n;coordEach(e,(function(e,r,o,a,s){if(n!==s)t.push([]);else{var l=i[0],u=i[1],c=e[0],h=e[1];t[s].push([.75*l+.25*c,.75*u+.25*h]),t[s].push([.25*l+.75*c,.25*u+.75*h])}i=e,n=s}),!1),t.forEach((function(e){e.push(e[0])}))}function processMultiPolygon(e,t){let i,n,r;coordEach(e,(function(e,o,a,s,l){if(n!==s)t.push([[]]);else if(r!==l)t[s].push([]);else{var u=i[0],c=i[1],h=e[0],g=e[1];t[s][l].push([.75*u+.25*h,.75*c+.25*g]),t[s][l].push([.25*u+.75*h,.25*c+.75*g])}i=e,n=s,r=l}),!1),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}function polygonTangents(e,t){const i=getCoords(e),n=getCoords(t);let r,o=[],a=[];const s=bbox$1(t);let l=0,u=null;i[0]>s[0]&&i[0]<s[2]&&i[1]>s[1]&&i[1]<s[3]&&(u=nearestPoint(e,explode(t)),l=u.properties.featureIndex);switch(getType$1(t)){case"Polygon":o=n[0][l],a=n[0][0],null!==u&&u.geometry.coordinates[1]<i[1]&&(a=n[0][l]),r=isLeft(n[0][0],n[0][n[0].length-1],i),[o,a]=processPolygon$1(n[0],i,r,o,a);break;case"MultiPolygon":for(var c=0,h=0,g=0,d=0;d<n[0].length;d++){c=d;for(var p=!1,m=0;m<n[0][d].length;m++){if(h=m,g===l){p=!0;break}g++}if(p)break}o=n[0][c][h],a=n[0][c][h],r=isLeft(n[0][0][0],n[0][0][n[0][0].length-1],i),n.forEach((function(e){[o,a]=processPolygon$1(e[0],i,r,o,a)}))}return featureCollection([point(o),point(a)])}function processPolygon$1(e,t,i,n,r){for(let o=0;o<e.length;o++){const a=e[o];let s=e[o+1];o===e.length-1&&(s=e[0]);const l=isLeft(a,s,t);i<=0&&l>0?isBelow(t,a,n)||(n=a):i>0&&l<=0&&(isAbove(t,a,r)||(r=a)),i=l}return[n,r]}function isAbove(e,t,i){return isLeft(e,t,i)>0}function isBelow(e,t,i){return isLeft(e,t,i)<0}function isLeft(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function toMercator(e,t={}){return convert(e,"mercator",t)}function toWgs84(e,t={}){return convert(e,"wgs84",t)}function convert(e,t,i={}){var n=(i=i||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&isNumber(e[0])?e="mercator"===t?convertToMercator(e):convertToWgs84(e):(!0!==n&&(e=clone$2(e)),coordEach(e,(function(e){var i="mercator"===t?convertToMercator(e):convertToWgs84(e);e[0]=i[0],e[1]=i[1]}))),e}function convertToMercator(e){var t=Math.PI/180,i=6378137,n=20037508.342789244,r=[i*(Math.abs(e[0])<=180?e[0]:e[0]-360*sign(e[0]))*t,i*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function convertToWgs84(e){var t=180/Math.PI,i=6378137;return[e[0]*t/i,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/i)))*t]}function sign(e){return e<0?-1:e>0?1:0}var index$1=Object.freeze({__proto__:null,toMercator:toMercator,toWgs84:toWgs84});function quadratAnalysis(e,t){const i=(t=t||{}).studyBbox||bbox$1(e),n=t.confidenceLevel||20,r=e.features,o=r.length,a=area(bboxPolygon(i)),s=squareGrid(i,Math.sqrt(a/o*2),{units:"meters"}).features,l={};for(let e=0;e<s.length;e++)l[e]={box:bbox$1(s[e]),cnt:0};let u=0;for(const e of r)for(const t of Object.keys(l)){const i=l[t].box;if(inBBox(getCoord(e),i)){l[t].cnt+=1,u+=1;break}}let c=0;for(const e of Object.keys(l)){const t=l[e].cnt;t>c&&(c=t)}const h=[],g=Object.keys(l).length,d=u/g;let p=0;for(let e=0;e<c+1;e++)p+=Math.exp(-d)*Math.pow(d,e)/factorial(e),h.push(p);const m=[];let f=0;for(let e=0;e<c+1;e++){for(const t of Object.keys(l))l[t].cnt===e&&(f+=1);const t=f/g;m.push(t)}let C=0;for(let e=0;e<c+1;e++){const t=Math.abs(h[e]-m[e]);t>C&&(C=t)}const y=K_TABLE[n]/Math.sqrt(g),v={criticalValue:y,isRandom:!0,maxAbsoluteDifference:C,observedDistribution:m};return C>y&&(v.isRandom=!1),v}var K_TABLE={20:1.07275,15:1.13795,10:1.22385,5:1.3581,2:1.51743,1:1.62762};function inBBox(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function factorial(e){const t=[];return function e(i){return 0===i||1===i?1:t[i]>0?t[i]:t[i]=e(i-1)*i}(e)}function randomPosition(e){return checkBBox(e),randomPositionUnchecked(e)}function randomPositionUnchecked(e){return Array.isArray(e)?coordInBBox(e):e&&e.bbox?coordInBBox(e.bbox):[lon(),lat()]}function checkBBox(e){null!=e&&(Array.isArray(e)?validateBBox(e):null!=e.bbox&&validateBBox(e.bbox))}function randomPoint(e,t={}){checkBBox(t.bbox),null==e&&(e=1);const i=[];for(let n=0;n<e;n++)i.push(point(randomPositionUnchecked(t.bbox)));return featureCollection(i)}function randomPolygon(e,t={}){checkBBox(t.bbox),null==e&&(e=1),void 0!==t.bbox&&null!==t.bbox||(t.bbox=[-180,-90,180,90]),isNumber(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),isNumber(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);const i=Math.abs(t.bbox[0]-t.bbox[2]),n=Math.abs(t.bbox[1]-t.bbox[3]),r=Math.min(i/2,n/2);if(t.max_radial_length>r)throw new Error("max_radial_length is greater than the radius of the bbox");const o=[t.bbox[0]+t.max_radial_length,t.bbox[1]+t.max_radial_length,t.bbox[2]-t.max_radial_length,t.bbox[3]-t.max_radial_length],a=[];for(let i=0;i<e;i++){let e=[];const i=[...Array(t.num_vertices+1)].map(Math.random);i.forEach(((e,t,i)=>{i[t]=t>0?e+i[t-1]:e})),i.forEach((n=>{n=2*n*Math.PI/i[i.length-1];const r=Math.random();e.push([r*(t.max_radial_length||10)*Math.sin(n),r*(t.max_radial_length||10)*Math.cos(n)])})),e[e.length-1]=e[0],e=e.reverse().map(vertexToCoordinate(randomPositionUnchecked(o))),a.push(polygon([e]))}return featureCollection(a)}function randomLineString(e,t={}){if(!isObject$1(t=t||{}))throw new Error("options is invalid");const i=t.bbox;checkBBox(i);let n=t.num_vertices,r=t.max_length,o=t.max_rotation;null==e&&(e=1),(!isNumber(n)||void 0===n||n<2)&&(n=10),isNumber(r)&&void 0!==r||(r=1e-4),isNumber(o)&&void 0!==o||(o=Math.PI/8);const a=[];for(let t=0;t<e;t++){const e=[randomPositionUnchecked(i)];for(let t=0;t<n-1;t++){const i=(0===t?2*Math.random()*Math.PI:Math.tan((e[t][1]-e[t-1][1])/(e[t][0]-e[t-1][0])))+(Math.random()-.5)*o*2,n=Math.random()*r;e.push([e[t][0]+n*Math.cos(i),e[t][1]+n*Math.sin(i)])}a.push(lineString(e))}return featureCollection(a)}function vertexToCoordinate(e){return t=>[t[0]+e[0],t[1]+e[1]]}function rnd(){return Math.random()-.5}function lon(){return 360*rnd()}function lat(){return 180*rnd()}function coordInBBox(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var index=Object.freeze({__proto__:null,randomLineString:randomLineString,randomPoint:randomPoint,randomPolygon:randomPolygon,randomPosition:randomPosition});function rewind(e,t={}){var i,n;if(!isObject$1(t=t||{}))throw new Error("options is invalid");const r=null!=(i=t.mutate)&&i,o=null!=(n=t.reverse)&&n;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof o)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");r||"Point"===e.type||"MultiPoint"===e.type||(e=clone$2(e));const a=[];switch(e.type){case"GeometryCollection":return geomEach(e,(function(e){rewindFeature(e,o)})),e;case"FeatureCollection":return featureEach(e,(function(e){featureEach(rewindFeature(e,o),(function(e){a.push(e)}))})),featureCollection(a)}return rewindFeature(e,o)}function rewindFeature(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return geomEach(e,(function(e){rewindFeature(e,t)})),e;case"LineString":return rewindLineString(getCoords(e),t),e;case"Polygon":return rewindPolygon(getCoords(e),t),e;case"MultiLineString":return getCoords(e).forEach((function(e){rewindLineString(e,t)})),e;case"MultiPolygon":return getCoords(e).forEach((function(e){rewindPolygon(e,t)})),e;case"Point":case"MultiPoint":return e}}function rewindLineString(e,t){booleanClockwise(e)===t&&e.reverse()}function rewindPolygon(e,t){booleanClockwise(e[0])!==t&&e[0].reverse();for(let i=1;i<e.length;i++)booleanClockwise(e[i])===t&&e[i].reverse()}function sample(e,t){if(!e)throw new Error("fc is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return featureCollection(getRandomSubarray(e.features,t))}function getRandomSubarray(e,t){for(var i,n,r=e.slice(0),o=e.length,a=o-t;o-- >a;)i=r[n=Math.floor((o+1)*Math.random())],r[n]=r[o],r[o]=i;return r.slice(a)}function sector$1(e,t,i,n,r={}){if(!isObject$1(r=r||{}))throw new Error("options is invalid");const o=r.properties;if(!e)throw new Error("center is required");if(null==i)throw new Error("bearing1 is required");if(null==n)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(convertAngleTo360(i)===convertAngleTo360(n))return circle(e,t,r);const a=getCoords(e),s=lineArc(e,t,i,n,r),l=[[a]];return coordEach(s,(function(e){l[0].push(e)})),l[0].push(a),polygon(l,o)}function convertAngleTo360(e){let t=e%360;return t<0&&(t+=360),t}function transformScale(e,t,i){if(!isObject$1(i=i||{}))throw new Error("options is invalid");const n=i.origin||"centroid",r=i.mutate||!1;if(!e)throw new Error("geojson required");if("number"!=typeof t||t<=0)throw new Error("invalid factor");const o=Array.isArray(n)||"object"==typeof n;return!0!==r&&(e=clone$2(e)),"FeatureCollection"!==e.type||o?scale(e,t,n):(featureEach(e,(function(i,r){e.features[r]=scale(i,t,n)})),e)}function scale(e,t,i){const n="Point"===getType$1(e),r=defineOrigin(e,i);return 1===t||n||(coordEach(e,(function(e){const i=rhumbDistance(r,e),n=rhumbBearing(r,e),o=getCoords(rhumbDestination(r,i*t,n));e[0]=o[0],e[1]=o[1],3===e.length&&(e[2]*=t)})),delete e.bbox),e}function defineOrigin(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return getCoord(t);const i=e.bbox?e.bbox:bbox$1(e,{recompute:!0}),n=i[0],r=i[1],o=i[2],a=i[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return point([n,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return point([o,r]);case"nw":case"northwest":case"westnorth":case"topleft":return point([n,a]);case"ne":case"northeast":case"eastnorth":case"topright":return point([o,a]);case"center":return center(e);case void 0:case null:case"centroid":return centroid(e);default:throw new Error("invalid origin")}}function pathTo(e){for(var t=e,i=[];t.parent;)i.unshift(t),t=t.parent;return i}function getHeap(){return new BinaryHeap((function(e){return e.f}))}var astar={search:function(e,t,i,n){var r;e.cleanDirty();var o=(n=n||{}).heuristic||astar.heuristics.manhattan,a=null!=(r=n.closest)&&r,s=getHeap(),l=t;for(t.h=o(t,i),s.push(t);s.size()>0;){var u=s.pop();if(u===i)return pathTo(u);u.closed=!0;for(var c=e.neighbors(u),h=0,g=c.length;h<g;++h){var d=c[h];if(!d.closed&&!d.isWall()){var p=u.g+d.getCost(u),m=d.visited;(!m||p<d.g)&&(d.visited=!0,d.parent=u,d.h=d.h||o(d,i),d.g=p,d.f=d.g+d.h,e.markDirty(d),a&&(d.h<l.h||d.h===l.h&&d.g<l.g)&&(l=d),m?s.rescoreElement(d):s.push(d))}}}return a?pathTo(l):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var i=Math.sqrt(2),n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return 1*(n+r)+(i-2)*Math.min(n,r)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function Graph(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var i=0;i<e.length;i++){this.grid[i]=[];for(var n=0,r=e[i];n<r.length;n++){var o=new GridNode(i,n,r[n]);this.grid[i][n]=o,this.nodes.push(o)}}this.init()}function GridNode(e,t,i){this.x=e,this.y=t,this.weight=i}function BinaryHeap(e){this.content=[],this.scoreFunction=e}function shortestPath(e,t,i={}){if(!isObject$1(i=i||{}))throw new Error("options is invalid");let n=i.obstacles||featureCollection([]),r=i.resolution||100;if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(r&&(!isNumber(r)||r<=0))throw new Error("options.resolution must be a number, greater than 0");const o=getCoord(e),a=getCoord(t);if(e=point(o),t=point(a),"FeatureCollection"===n.type){if(0===n.features.length)return lineString([o,a])}else{if("Polygon"!==n.type)throw new Error("invalid obstacles");n=featureCollection([feature(getGeom(n))])}const s=n;s.features.push(e),s.features.push(t);const l=bbox$1(transformScale(bboxPolygon(bbox$1(s)),1.15)),[u,c,h,g]=l,d=distance$1([u,c],[h,c],i)/r;s.features.pop(),s.features.pop();const p=d/distance$1([u,c],[h,c],i)*(h-u),m=d/distance$1([u,c],[u,g],i)*(g-c),f=h-u,C=g-c,y=Math.floor(f/p),v=Math.floor(C/m),A=(f-y*p)/2,I=[],w=[];let b,E,x=1/0,_=1/0,k=g-(C-v*m)/2,P=0;for(;k>=c;){const i=[],r=[];let o=u+A,a=0;for(;o<=h;){const s=point([o,k]),l=isInside(s,n);i.push(l?0:1),r.push(o+"|"+k);const u=distance$1(s,e);!l&&u<x&&(x=u,b={x:a,y:P});const c=distance$1(s,t);!l&&c<_&&(_=c,E={x:a,y:P}),o+=p,a++}w.push(i),I.push(r),k-=m,P++}const M=new Graph(w,{diagonal:!0}),S=M.grid[b.y][b.x],D=M.grid[E.y][E.x],T=astar.search(M,S,D),R=[o];return T.forEach((function(e){const t=I[e.x][e.y].split("|");R.push([+t[0],+t[1]])})),R.push(a),cleanCoords(lineString(R))}function isInside(e,t){for(let i=0;i<t.features.length;i++)if(booleanPointInPolygon(e,t.features[i]))return!0;return!1}function getSqDist(e,t){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function getSqSegDist(e,t,i){var n=t[0],r=t[1],o=i[0]-n,a=i[1]-r;if(0!==o||0!==a){var s=((e[0]-n)*o+(e[1]-r)*a)/(o*o+a*a);s>1?(n=i[0],r=i[1]):s>0&&(n+=o*s,r+=a*s)}return(o=e[0]-n)*o+(a=e[1]-r)*a}function simplifyRadialDist(e,t){for(var i,n=e[0],r=[n],o=1,a=e.length;o<a;o++)getSqDist(i=e[o],n)>t&&(r.push(i),n=i);return n!==i&&r.push(i),r}function simplifyDPStep(e,t,i,n,r){for(var o,a=n,s=t+1;s<i;s++){var l=getSqSegDist(e[s],e[t],e[i]);l>a&&(o=s,a=l)}a>n&&(o-t>1&&simplifyDPStep(e,t,o,n,r),r.push(e[o]),i-o>1&&simplifyDPStep(e,o,i,n,r))}function simplifyDouglasPeucker(e,t){var i=e.length-1,n=[e[0]];return simplifyDPStep(e,0,i,t,n),n.push(e[i]),n}function simplify(e,t,i){if(e.length<=2)return e;var n=void 0!==t?t*t:1;return e=simplifyDouglasPeucker(e=i?e:simplifyRadialDist(e,n),n)}function simplify2(e,t={}){var i,n,r;if(!isObject$1(t=null!=t?t:{}))throw new Error("options is invalid");const o=null!=(i=t.tolerance)?i:1,a=null!=(n=t.highQuality)&&n,s=null!=(r=t.mutate)&&r;if(!e)throw new Error("geojson is required");if(o&&o<0)throw new Error("invalid tolerance");return!0!==s&&(e=clone$2(e)),geomEach(e,(function(e){simplifyGeom(e,o,a)})),e}function simplifyGeom(e,t,i){const n=e.type;if("Point"===n||"MultiPoint"===n)return e;if(cleanCoords(e,{mutate:!0}),"GeometryCollection"!==n)switch(n){case"LineString":e.coordinates=simplify(e.coordinates,t,i);break;case"MultiLineString":e.coordinates=e.coordinates.map((e=>simplify(e,t,i)));break;case"Polygon":e.coordinates=simplifyPolygon(e.coordinates,t,i);break;case"MultiPolygon":e.coordinates=e.coordinates.map((e=>simplifyPolygon(e,t,i)))}return e}function simplifyPolygon(e,t,i){return e.map((function(e){if(e.length<4)throw new Error("invalid polygon");let n=t,r=simplify(e,n,i);for(;!checkValidity(r);)n-=.01*n,r=simplify(e,n,i);return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r}))}function checkValidity(e){return!(e.length<3)&&!(3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}function standardDeviationalEllipse(e,t){var i;if(!isObject$1(t=t||{}))throw new Error("options is invalid");const n=t.steps||64,r=t.weight,o=t.properties||{};if(!isNumber(n))throw new Error("steps must be a number");if(!isObject$1(o))throw new Error("properties must be a number");const a=coordAll(e).length,s=centerMean(e,{weight:r});let l=0,u=0,c=0;featureEach(e,(function(e){var t;const i=r&&(null==(t=e.properties)?void 0:t[r])||1,n=getDeviations(getCoords(e),getCoords(s));l+=Math.pow(n.x,2)*i,u+=Math.pow(n.y,2)*i,c+=n.x*n.y*i}));const h=l-u,g=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),d=2*c,p=Math.atan((h+g)/d),m=180*p/Math.PI;let f=0,C=0,y=0;featureEach(e,(function(e){var t;const i=r&&(null==(t=e.properties)?void 0:t[r])||1,n=getDeviations(getCoords(e),getCoords(s));f+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*i,C+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*i,y+=i}));const v=Math.sqrt(2*f/y),A=Math.sqrt(2*C/y),I=ellipse(s,v,A,{units:"degrees",angle:m,steps:n,properties:o}),w=pointsWithinPolygon(e,featureCollection([I])),b={meanCenterCoordinates:getCoords(s),semiMajorAxis:v,semiMinorAxis:A,numberOfFeatures:a,angle:m,percentageWithinEllipse:100*coordAll(w).length/a};return I.properties=null!=(i=I.properties)?i:{},I.properties.standardDeviationalEllipse=b,I}function getDeviations(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}function tag(e,t,i,n){return e=clone$2(e),t=clone$2(t),featureEach(e,(function(e){e.properties||(e.properties={}),featureEach(t,(function(t){e.properties&&t.properties&&void 0===e.properties[n]&&booleanPointInPolygon(e,t)&&(e.properties[n]=t.properties[i])}))})),e}Graph.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)astar.cleanNode(this.nodes[e])},Graph.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)astar.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},Graph.prototype.markDirty=function(e){this.dirtyNodes.push(e)},Graph.prototype.neighbors=function(e){var t=[],i=e.x,n=e.y,r=this.grid;return r[i-1]&&r[i-1][n]&&t.push(r[i-1][n]),r[i+1]&&r[i+1][n]&&t.push(r[i+1][n]),r[i]&&r[i][n-1]&&t.push(r[i][n-1]),r[i]&&r[i][n+1]&&t.push(r[i][n+1]),this.diagonal&&(r[i-1]&&r[i-1][n-1]&&t.push(r[i-1][n-1]),r[i+1]&&r[i+1][n-1]&&t.push(r[i+1][n-1]),r[i-1]&&r[i-1][n+1]&&t.push(r[i-1][n+1]),r[i+1]&&r[i+1][n+1]&&t.push(r[i+1][n+1])),t},Graph.prototype.toString=function(){for(var e,t,i,n,r=[],o=this.grid,a=0,s=o.length;a<s;a++){for(e=[],i=0,n=(t=o[a]).length;i<n;i++)e.push(t[i].weight);r.push(e.join(" "))}return r.join("\n")},GridNode.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},GridNode.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},GridNode.prototype.isWall=function(){return 0===this.weight},BinaryHeap.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),i=this.content.pop();t!==this.content.length-1&&(this.content[t]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var i=(e+1>>1)-1,n=this.content[i];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[i]=t,this.content[e]=n,e=i}},bubbleUp:function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i);;){var r,o=e+1<<1,a=o-1,s=null;if(a<t){var l=this.content[a];(r=this.scoreFunction(l))<n&&(s=a)}if(o<t){var u=this.content[o];this.scoreFunction(u)<(null===s?n:r)&&(s=o)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=i,e=s}}};var earcut$1={exports:{}},hasRequiredEarcut;function requireEarcut(){if(hasRequiredEarcut)return earcut$1.exports;function e(e,i,r){r=r||2;var o,a,s,c,h,d,p,m=i&&i.length,f=m?i[0]*r:e.length,C=t(e,0,f,r,!0),y=[];if(!C||C.next===C.prev)return y;if(m&&(C=function(e,i,n,r){var o,a,s,c=[];for(o=0,a=i.length;o<a;o++)(s=t(e,i[o]*r,o<a-1?i[o+1]*r:e.length,r,!1))===s.next&&(s.steiner=!0),c.push(g(s));for(c.sort(l),o=0;o<c.length;o++)n=u(c[o],n);return n}(e,i,C,r)),e.length>80*r){o=s=e[0],a=c=e[1];for(var v=r;v<f;v+=r)(h=e[v])<o&&(o=h),(d=e[v+1])<a&&(a=d),h>s&&(s=h),d>c&&(c=d);p=0!==(p=Math.max(s-o,c-a))?32767/p:0}return n(C,y,r,o,a,p,0),y}function t(e,t,i,n,r){var o,a;if(r===x(e,t,i,n)>0)for(o=t;o<i;o+=n)a=w(o,e[o],e[o+1],a);else for(o=i-n;o>=t;o-=n)a=w(o,e[o],e[o+1],a);return a&&f(a,a.next)&&(b(a),a=a.next),a}function i(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!f(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{if(b(n),(n=t=n.prev)===n.next)break;i=!0}}while(i||n!==t);return t}function n(e,t,l,u,c,g,d){if(e){!d&&g&&function(e,t,i,n){var r=e;do{0===r.z&&(r.z=h(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,o,a,s,l,u=1;do{for(i=e,e=null,o=null,a=0;i;){for(a++,n=i,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,s--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(a>1)}(r)}(e,u,c,g);for(var p,m,f=e;e.prev!==e.next;)if(p=e.prev,m=e.next,g?o(e,u,c,g):r(e))t.push(p.i/l|0),t.push(e.i/l|0),t.push(m.i/l|0),b(e),e=m.next,f=m.next;else if((e=m)===f){d?1===d?n(e=a(i(e),t,l),t,l,u,c,g,2):2===d&&s(e,t,l,u,c,g):n(i(e),t,l,u,c,g,1);break}}}function r(e){var t=e.prev,i=e,n=e.next;if(m(t,i,n)>=0)return!1;for(var r=t.x,o=i.x,a=n.x,s=t.y,l=i.y,u=n.y,c=r<o?r<a?r:a:o<a?o:a,h=s<l?s<u?s:u:l<u?l:u,g=r>o?r>a?r:a:o>a?o:a,p=s>l?s>u?s:u:l>u?l:u,f=n.next;f!==t;){if(f.x>=c&&f.x<=g&&f.y>=h&&f.y<=p&&d(r,s,o,l,a,u,f.x,f.y)&&m(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function o(e,t,i,n){var r=e.prev,o=e,a=e.next;if(m(r,o,a)>=0)return!1;for(var s=r.x,l=o.x,u=a.x,c=r.y,g=o.y,p=a.y,f=s<l?s<u?s:u:l<u?l:u,C=c<g?c<p?c:p:g<p?g:p,y=s>l?s>u?s:u:l>u?l:u,v=c>g?c>p?c:p:g>p?g:p,A=h(f,C,t,i,n),I=h(y,v,t,i,n),w=e.prevZ,b=e.nextZ;w&&w.z>=A&&b&&b.z<=I;){if(w.x>=f&&w.x<=y&&w.y>=C&&w.y<=v&&w!==r&&w!==a&&d(s,c,l,g,u,p,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,b.x>=f&&b.x<=y&&b.y>=C&&b.y<=v&&b!==r&&b!==a&&d(s,c,l,g,u,p,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;w&&w.z>=A;){if(w.x>=f&&w.x<=y&&w.y>=C&&w.y<=v&&w!==r&&w!==a&&d(s,c,l,g,u,p,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=I;){if(b.x>=f&&b.x<=y&&b.y>=C&&b.y<=v&&b!==r&&b!==a&&d(s,c,l,g,u,p,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function a(e,t,n){var r=e;do{var o=r.prev,a=r.next.next;!f(o,a)&&C(o,r,r.next,a)&&A(o,a)&&A(a,o)&&(t.push(o.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),b(r),b(r.next),r=e=a),r=r.next}while(r!==e);return i(r)}function s(e,t,r,o,a,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&p(l,u)){var c=I(l,u);return l=i(l,l.next),c=i(c,c.next),n(l,t,r,o,a,s,0),void n(c,t,r,o,a,s,0)}u=u.next}l=l.next}while(l!==e)}function l(e,t){return e.x-t.x}function u(e,t){var n=function(e,t){var i,n=t,r=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a&&(a=s,i=n.x<n.next.x?n:n.next,s===r))return i}n=n.next}while(n!==t);if(!i)return null;var l,u=i,h=i.x,g=i.y,p=1/0;n=i;do{r>=n.x&&n.x>=h&&r!==n.x&&d(o<g?r:a,o,h,g,o<g?a:r,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(r-n.x),A(n,e)&&(l<p||l===p&&(n.x>i.x||n.x===i.x&&c(i,n)))&&(i=n,p=l)),n=n.next}while(n!==u);return i}(e,t);if(!n)return t;var r=I(n,e);return i(r,r.next),i(n,n.next)}function c(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function h(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function g(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function d(e,t,i,n,r,o,a,s){return(r-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(n-s)>=(i-a)*(t-s)&&(i-a)*(o-s)>=(r-a)*(n-s)}function p(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&C(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(A(e,t)&&A(t,e)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||f(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function f(e,t){return e.x===t.x&&e.y===t.y}function C(e,t,i,n){var r=v(m(e,t,i)),o=v(m(e,t,n)),a=v(m(i,n,e)),s=v(m(i,n,t));return r!==o&&a!==s||(!(0!==r||!y(e,i,t))||(!(0!==o||!y(e,n,t))||(!(0!==a||!y(i,e,n))||!(0!==s||!y(i,t,n)))))}function y(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function v(e){return e>0?1:e<0?-1:0}function A(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function I(e,t){var i=new E(e.i,e.x,e.y),n=new E(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function w(e,t,i,n){var r=new E(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function b(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function E(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function x(e,t,i,n){for(var r=0,o=t,a=i-n;o<i;o+=n)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}return hasRequiredEarcut=1,earcut$1.exports=e,earcut$1.exports.default=e,e.deviation=function(e,t,i,n){var r=t&&t.length,o=r?t[0]*i:e.length,a=Math.abs(x(e,0,o,i));if(r)for(var s=0,l=t.length;s<l;s++){var u=t[s]*i,c=s<l-1?t[s+1]*i:e.length;a-=Math.abs(x(e,u,c,i))}var h=0;for(s=0;s<n.length;s+=3){var g=n[s]*i,d=n[s+1]*i,p=n[s+2]*i;h+=Math.abs((e[g]-e[p])*(e[d+1]-e[g+1])-(e[g]-e[d])*(e[p+1]-e[g+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},e.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)i.vertices.push(e[r][o][a]);r>0&&(n+=e[r-1].length,i.holes.push(n))}return i},earcut$1.exports}var earcutExports=requireEarcut(),earcut=getDefaultExportFromCjs(earcutExports);function tesselate(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");const t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=processPolygon(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(processPolygon(e))})),t}function processPolygon(e){const t=flattenCoords(e),i=earcut(t.vertices,t.holes,2),n=[],r=[];i.forEach((function(e,n){const o=i[n];r.push([t.vertices[2*o],t.vertices[2*o+1]])}));for(var o=0;o<r.length;o+=3){const e=r.slice(o,o+3);e.push(r[o]),n.push(polygon([e]))}return n}function flattenCoords(e){const t=e[0][0].length,i={vertices:[],holes:[],dimensions:t};let n=0;for(let r=0;r<e.length;r++){for(let n=0;n<e[r].length;n++)for(let o=0;o<t;o++)i.vertices.push(e[r][n][o]);r>0&&(n+=e[r-1].length,i.holes.push(n))}return i}function transformTranslate(e,t,i,n){if(!isObject$1(n=n||{}))throw new Error("options is invalid");var r=n.units,o=n.zTranslation,a=n.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===t&&0===o)return e;if(null==i||isNaN(i))throw new Error("direction is required");return t<0&&(t=-t,i+=180),!1!==a&&void 0!==a||(e=clone$2(e)),coordEach(e,(function(e){var n=getCoords(rhumbDestination(e,t,i,{units:r}));e[0]=n[0],e[1]=n[1],o&&3===e.length&&(e[2]+=o)})),e}function union2(e,t={}){const i=[];if(geomEach(e,(e=>{i.push(e.coordinates)})),i.length<2)throw new Error("Must have at least 2 geometries");const n=union(i[0],...i.slice(1));return 0===n.length?null:1===n.length?polygon(n[0],t.properties):multiPolygon(n,t.properties)}function geojsonPolygonSelfIntersections(e,t,i){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===i&&(i=1);var n=e.geometry.coordinates,r=[],o={};if(i){for(var a=[],s=0;s<n.length;s++)for(var l=0;l<n[s].length-1;l++)a.push(m(s,l));var u=new RBush;u.load(a)}for(var c=0;c<n.length;c++)for(var h=0;h<n[c].length-1;h++){if(i)u.search(m(c,h)).forEach((function(e){var t=e.ring,i=e.edge;p(c,h,t,i)}));else for(var g=0;g<n.length;g++)for(var d=0;d<n[g].length-1;d++)p(c,h,g,d)}return t||(r={type:"Feature",geometry:{type:"MultiPoint",coordinates:r}}),r;function p(e,i,a,s){var l,u,c=n[e][i],h=n[e][i+1],g=n[a][s],d=n[a][s+1],p=intersect(c,h,g,d);if(null!==p&&(l=h[0]!==c[0]?(p[0]-c[0])/(h[0]-c[0]):(p[1]-c[1])/(h[1]-c[1]),u=d[0]!==g[0]?(p[0]-g[0])/(d[0]-g[0]):(p[1]-g[1])/(d[1]-g[1]),!(l>=1||l<=0||u>=1||u<=0))){var m=p,f=!o[m];f&&(o[m]=!0),t?r.push(t(p,e,i,c,h,l,a,s,g,d,u,f)):r.push(p)}}function m(e,t){var i,r,o,a,s=n[e][t],l=n[e][t+1];return s[0]<l[0]?(i=s[0],r=l[0]):(i=l[0],r=s[0]),s[1]<l[1]?(o=s[1],a=l[1]):(o=l[1],a=s[1]),{minX:i,minY:o,maxX:r,maxY:a,ring:e,edge:t}}}function intersect(e,t,i,n){if(equalArrays(e,i)||equalArrays(e,n)||equalArrays(t,i)||equalArrays(n,i))return null;var r=e[0],o=e[1],a=t[0],s=t[1],l=i[0],u=i[1],c=n[0],h=n[1],g=(r-a)*(u-h)-(o-s)*(l-c);return 0===g?null:[((r*s-o*a)*(l-c)-(r-a)*(l*h-u*c))/g,((r*s-o*a)*(u-h)-(o-s)*(l*h-u*c))/g]}function equalArrays(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]instanceof Array&&t[i]instanceof Array){if(!equalArrays(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function simplepolygon(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,i=[],n=0;n<t;n++){var r=e.geometry.coordinates[n];equalArrays2(r[0],r[r.length-1])||r.push(r[0]);for(var o=0;o<r.length-1;o++)i.push(r[o])}if(!isUnique(i))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var a=i.length,s=geojsonPolygonSelfIntersections(e,(function(e,t,i,n,r,o,a,s,l,u,c,h){return[e,t,i,n,r,o,a,s,l,u,c,h]})),l=s.length;if(0==l){var u=[];for(n=0;n<t;n++)u.push(polygon([e.geometry.coordinates[n]],{parent:-1,winding:windingOfRing(e.geometry.coordinates[n])}));var c=featureCollection(u);return O(),F(),c}var h=[],g=[];for(n=0;n<t;n++){h.push([]);for(o=0;o<e.geometry.coordinates[n].length-1;o++)h[n].push([new PseudoVtx(e.geometry.coordinates[n][modulo(o+1,e.geometry.coordinates[n].length-1)],1,[n,o],[n,modulo(o+1,e.geometry.coordinates[n].length-1)],void 0)]),g.push(new Isect(e.geometry.coordinates[n][o],[n,modulo(o-1,e.geometry.coordinates[n].length-1)],[n,o],void 0,void 0,!1,!0))}for(n=0;n<l;n++)h[s[n][1]][s[n][2]].push(new PseudoVtx(s[n][0],s[n][5],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0)),s[n][11]&&g.push(new Isect(s[n][0],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0,void 0,!0,!0));var d=g.length;for(n=0;n<h.length;n++)for(o=0;o<h[n].length;o++)h[n][o].sort((function(e,t){return e.param<t.param?-1:1}));var p=[];for(n=0;n<d;n++)p.push({minX:g[n].coord[0],minY:g[n].coord[1],maxX:g[n].coord[0],maxY:g[n].coord[1],index:n});var m=new RBush;m.load(p);for(n=0;n<h.length;n++)for(o=0;o<h[n].length;o++)for(var f=0;f<h[n][o].length;f++){y=f==h[n][o].length-1?h[n][modulo(o+1,e.geometry.coordinates[n].length-1)][0].coord:h[n][o][f+1].coord;var C=m.search({minX:y[0],minY:y[1],maxX:y[0],maxY:y[1]})[0];h[n][o][f].nxtIsectAlongEdgeIn=C.index}for(n=0;n<h.length;n++)for(o=0;o<h[n].length;o++)for(f=0;f<h[n][o].length;f++){var y=h[n][o][f].coord,v=(C=m.search({minX:y[0],minY:y[1],maxX:y[0],maxY:y[1]})[0]).index;v<a?g[v].nxtIsectAlongRingAndEdge2=h[n][o][f].nxtIsectAlongEdgeIn:equalArrays2(g[v].ringAndEdge1,h[n][o][f].ringAndEdgeIn)?g[v].nxtIsectAlongRingAndEdge1=h[n][o][f].nxtIsectAlongEdgeIn:g[v].nxtIsectAlongRingAndEdge2=h[n][o][f].nxtIsectAlongEdgeIn}var A=[];for(n=0,o=0;o<t;o++){var I=n;for(f=0;f<e.geometry.coordinates[o].length-1;f++)g[n].coord[0]<g[I].coord[0]&&(I=n),n++;var w=g[I].nxtIsectAlongRingAndEdge2;for(f=0;f<g.length;f++)if(g[f].nxtIsectAlongRingAndEdge1==I||g[f].nxtIsectAlongRingAndEdge2==I){var b=f;break}var E=isConvex([g[b].coord,g[I].coord,g[w].coord],!0)?1:-1;A.push({isect:I,parent:-1,winding:E})}A.sort((function(e,t){return g[e.isect].coord>g[t.isect].coord?-1:1}));for(u=[];A.length>0;){var x=A.pop(),_=x.isect,k=x.parent,P=x.winding,M=u.length,S=[g[_].coord],D=_;if(g[_].ringAndEdge1Walkable)var T=g[_].ringAndEdge1,R=g[_].nxtIsectAlongRingAndEdge1;else T=g[_].ringAndEdge2,R=g[_].nxtIsectAlongRingAndEdge2;for(;!equalArrays2(g[_].coord,g[R].coord);){S.push(g[R].coord);var L=void 0;for(n=0;n<A.length;n++)if(A[n].isect==R){L=n;break}if(null!=L&&A.splice(L,1),equalArrays2(T,g[R].ringAndEdge1)){if(T=g[R].ringAndEdge2,g[R].ringAndEdge2Walkable=!1,g[R].ringAndEdge1Walkable){var N={isect:R};isConvex([g[D].coord,g[R].coord,g[g[R].nxtIsectAlongRingAndEdge2].coord],1==P)?(N.parent=k,N.winding=-P):(N.parent=M,N.winding=P),A.push(N)}D=R,R=g[R].nxtIsectAlongRingAndEdge2}else{if(T=g[R].ringAndEdge1,g[R].ringAndEdge1Walkable=!1,g[R].ringAndEdge2Walkable){N={isect:R};isConvex([g[D].coord,g[R].coord,g[g[R].nxtIsectAlongRingAndEdge1].coord],1==P)?(N.parent=k,N.winding=-P):(N.parent=M,N.winding=P),A.push(N)}D=R,R=g[R].nxtIsectAlongRingAndEdge1}}S.push(g[R].coord),u.push(polygon([S],{index:M,parent:k,winding:P,netWinding:void 0}))}c=featureCollection(u);function O(){for(var e=[],t=0;t<c.features.length;t++)-1==c.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var i=-1,n=1/0,r=0;r<c.features.length;r++)e[t]!=r&&booleanPointInPolygon(c.features[e[t]].geometry.coordinates[0][0],c.features[r],{ignoreBoundary:!0})&&area(c.features[r])<n&&(i=r);c.features[e[t]].properties.parent=i}}function F(){for(var e=0;e<c.features.length;e++)if(-1==c.features[e].properties.parent){var t=c.features[e].properties.winding;c.features[e].properties.netWinding=t,B(e,t)}}function B(e,t){for(var i=0;i<c.features.length;i++)if(c.features[i].properties.parent==e){var n=t+c.features[i].properties.winding;c.features[i].properties.netWinding=n,B(i,n)}}return O(),F(),c}var PseudoVtx=function(e,t,i,n,r){this.coord=e,this.param=t,this.ringAndEdgeIn=i,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=r},Isect=function(e,t,i,n,r,o,a){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=i,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};function isConvex(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function windingOfRing(e){for(var t=0,i=0;i<e.length-1;i++)e[i][0]<e[t][0]&&(t=i);if(isConvex([e[modulo(t-1,e.length-1)],e[t],e[modulo(t+1,e.length-1)]],!0))var n=1;else n=-1;return n}function equalArrays2(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]instanceof Array&&t[i]instanceof Array){if(!equalArrays2(e[i],t[i]))return!1}else if(e[i]!=t[i])return!1;return!0}function modulo(e,t){return(e%t+t)%t}function isUnique(e){for(var t={},i=1,n=0,r=e.length;n<r;++n){if(Object.prototype.hasOwnProperty.call(t,e[n])){i=0;break}t[e[n]]=1}return i}function unkinkPolygon(e){var t=[];return flattenEach(e,(function(e){"Polygon"===e.geometry.type&&featureEach(simplepolygon(e),(function(i){t.push(polygon(i.geometry.coordinates,e.properties))}))})),featureCollection(t)}function constant(e){return function(){return e}}function x(e){return e[0]}function y(e){return e[1]}function RedBlackTree(){this._=null}function RedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function RedBlackRotateLeft(e,t){var i=t,n=t.R,r=i.U;r?r.L===i?r.L=n:r.R=n:e._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function RedBlackRotateRight(e,t){var i=t,n=t.L,r=i.U;r?r.L===i?r.L=n:r.R=n:e._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function RedBlackFirst(e){for(;e.L;)e=e.L;return e}function createEdge(e,t,i,n){var r=[null,null],o=edges.push(r)-1;return r.left=e,r.right=t,i&&setEdgeEnd(r,e,t,i),n&&setEdgeEnd(r,t,e,n),cells[e.index].halfedges.push(o),cells[t.index].halfedges.push(o),r}function createBorderEdge(e,t,i){var n=[t,i];return n.left=e,n}function setEdgeEnd(e,t,i,n){e[0]||e[1]?e.left===i?e[1]=n:e[0]=n:(e[0]=n,e.left=t,e.right=i)}function clipEdge(e,t,i,n,r){var o,a=e[0],s=e[1],l=a[0],u=a[1],c=0,h=1,g=s[0]-l,d=s[1]-u;if(o=t-l,g||!(o>0)){if(o/=g,g<0){if(o<c)return;o<h&&(h=o)}else if(g>0){if(o>h)return;o>c&&(c=o)}if(o=n-l,g||!(o<0)){if(o/=g,g<0){if(o>h)return;o>c&&(c=o)}else if(g>0){if(o<c)return;o<h&&(h=o)}if(o=i-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(e[0]=[l+c*g,u+c*d]),h<1&&(e[1]=[l+h*g,u+h*d]),!0)}}}}}function connectEdge(e,t,i,n,r){var o=e[1];if(o)return!0;var a,s,l=e[0],u=e.left,c=e.right,h=u[0],g=u[1],d=c[0],p=c[1],m=(h+d)/2,f=(g+p)/2;if(p===g){if(m<t||m>=n)return;if(h>d){if(l){if(l[1]>=r)return}else l=[m,i];o=[m,r]}else{if(l){if(l[1]<i)return}else l=[m,r];o=[m,i]}}else if(s=f-(a=(h-d)/(p-g))*m,a<-1||a>1)if(h>d){if(l){if(l[1]>=r)return}else l=[(i-s)/a,i];o=[(r-s)/a,r]}else{if(l){if(l[1]<i)return}else l=[(r-s)/a,r];o=[(i-s)/a,i]}else if(g<p){if(l){if(l[0]>=n)return}else l=[t,a*t+s];o=[n,a*n+s]}else{if(l){if(l[0]<t)return}else l=[n,a*n+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function clipEdges(e,t,i,n){for(var r,o=edges.length;o--;)connectEdge(r=edges[o],e,t,i,n)&&clipEdge(r,e,t,i,n)&&(Math.abs(r[0][0]-r[1][0])>epsilon||Math.abs(r[0][1]-r[1][1])>epsilon)||delete edges[o]}function createCell(e){return cells[e.index]={site:e,halfedges:[]}}function cellHalfedgeAngle(e,t){var i=e.site,n=t.left,r=t.right;return i===r&&(r=n,n=i),r?Math.atan2(r[1]-n[1],r[0]-n[0]):(i===n?(n=t[1],r=t[0]):(n=t[0],r=t[1]),Math.atan2(n[0]-r[0],r[1]-n[1]))}function cellHalfedgeStart(e,t){return t[+(t.left!==e.site)]}function cellHalfedgeEnd(e,t){return t[+(t.left===e.site)]}function sortCellHalfedges(){for(var e,t,i,n,r=0,o=cells.length;r<o;++r)if((e=cells[r])&&(n=(t=e.halfedges).length)){var a=new Array(n),s=new Array(n);for(i=0;i<n;++i)a[i]=i,s[i]=cellHalfedgeAngle(e,edges[t[i]]);for(a.sort((function(e,t){return s[t]-s[e]})),i=0;i<n;++i)s[i]=t[a[i]];for(i=0;i<n;++i)t[i]=s[i]}}function clipCells(e,t,i,n){var r,o,a,s,l,u,c,h,g,d,p,m,f=cells.length,C=!0;for(r=0;r<f;++r)if(o=cells[r]){for(a=o.site,s=(l=o.halfedges).length;s--;)edges[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=cellHalfedgeEnd(o,edges[l[s]]))[0],m=d[1],h=(c=cellHalfedgeStart(o,edges[l[++s%u]]))[0],g=c[1],(Math.abs(p-h)>epsilon||Math.abs(m-g)>epsilon)&&(l.splice(s,0,edges.push(createBorderEdge(a,d,Math.abs(p-e)<epsilon&&n-m>epsilon?[e,Math.abs(h-e)<epsilon?g:n]:Math.abs(m-n)<epsilon&&i-p>epsilon?[Math.abs(g-n)<epsilon?h:i,n]:Math.abs(p-i)<epsilon&&m-t>epsilon?[i,Math.abs(h-i)<epsilon?g:t]:Math.abs(m-t)<epsilon&&p-e>epsilon?[Math.abs(g-t)<epsilon?h:e,t]:null))-1),++u);u&&(C=!1)}if(C){var y,v,A,I=1/0;for(r=0,C=null;r<f;++r)(o=cells[r])&&(A=(y=(a=o.site)[0]-e)*y+(v=a[1]-t)*v)<I&&(I=A,C=o);if(C){var w=[e,t],b=[e,n],E=[i,n],x=[i,t];C.halfedges.push(edges.push(createBorderEdge(a=C.site,w,b))-1,edges.push(createBorderEdge(a,b,E))-1,edges.push(createBorderEdge(a,E,x))-1,edges.push(createBorderEdge(a,x,w))-1)}}for(r=0;r<f;++r)(o=cells[r])&&(o.halfedges.length||delete cells[r])}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(e,t){var i,n,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;i=e}else this._?(e=RedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,i=e):(t.P=t.N=null,this._=t,i=null);for(t.L=t.R=null,t.U=i,t.C=!0,e=t;i&&i.C;)i===(n=i.U).L?(r=n.R)&&r.C?(i.C=r.C=!1,n.C=!0,e=n):(e===i.R&&(RedBlackRotateLeft(this,i),i=(e=i).U),i.C=!1,n.C=!0,RedBlackRotateRight(this,n)):(r=n.L)&&r.C?(i.C=r.C=!1,n.C=!0,e=n):(e===i.L&&(RedBlackRotateRight(this,i),i=(e=i).U),i.C=!1,n.C=!0,RedBlackRotateLeft(this,n)),i=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,i,n,r=e.U,o=e.L,a=e.R;if(i=o?a?RedBlackFirst(a):o:a,r?r.L===e?r.L=i:r.R=i:this._=i,o&&a?(n=i.C,i.C=e.C,i.L=o,o.U=i,i!==a?(r=i.U,i.U=e.U,e=i.R,r.L=e,i.R=a,a.U=i):(i.U=r,r=i,e=i.R)):(n=e.C,e=i),e&&(e.U=r),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,RedBlackRotateLeft(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,RedBlackRotateRight(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,RedBlackRotateLeft(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,RedBlackRotateRight(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,RedBlackRotateLeft(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,RedBlackRotateRight(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}};var circlePool=[],firstCircle;function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(e){var t=e.P,i=e.N;if(t&&i){var n=t.site,r=e.site,o=i.site;if(n!==o){var a=r[0],s=r[1],l=n[0]-a,u=n[1]-s,c=o[0]-a,h=o[1]-s,g=2*(l*h-u*c);if(!(g>=-epsilon2)){var d=l*l+u*u,p=c*c+h*h,m=(h*d-u*p)/g,f=(l*p-c*d)/g,C=circlePool.pop()||new Circle;C.arc=e,C.site=r,C.x=m+a,C.y=(C.cy=f+s)+Math.sqrt(m*m+f*f),e.circle=C;for(var y=null,v=circles._;v;)if(C.y<v.y||C.y===v.y&&C.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}circles.insert(y,C),y||(firstCircle=C)}}}}function detachCircle(e){var t=e.circle;t&&(t.P||(firstCircle=t.N),circles.remove(t),circlePool.push(t),RedBlackNode(t),e.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(e){var t=beachPool.pop()||new Beach;return t.site=e,t}function detachBeach(e){detachCircle(e),beaches.remove(e),beachPool.push(e),RedBlackNode(e)}function removeBeach(e){var t=e.circle,i=t.x,n=t.cy,r=[i,n],o=e.P,a=e.N,s=[e];detachBeach(e);for(var l=o;l.circle&&Math.abs(i-l.circle.x)<epsilon&&Math.abs(n-l.circle.cy)<epsilon;)o=l.P,s.unshift(l),detachBeach(l),l=o;s.unshift(l),detachCircle(l);for(var u=a;u.circle&&Math.abs(i-u.circle.x)<epsilon&&Math.abs(n-u.circle.cy)<epsilon;)a=u.N,s.push(u),detachBeach(u),u=a;s.push(u),detachCircle(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],setEdgeEnd(u.edge,l.site,u.site,r);l=s[0],(u=s[h-1]).edge=createEdge(l.site,u.site,null,r),attachCircle(l),attachCircle(u)}function addBeach(e){for(var t,i,n,r,o=e[0],a=e[1],s=beaches._;s;)if((n=leftBreakPoint(s,a)-o)>epsilon)s=s.L;else{if(!((r=o-rightBreakPoint(s,a))>epsilon)){n>-epsilon?(t=s.P,i=s):r>-epsilon?(t=s,i=s.N):t=i=s;break}if(!s.R){t=s;break}s=s.R}createCell(e);var l=createBeach(e);if(beaches.insert(t,l),t||i){if(t===i)return detachCircle(t),i=createBeach(t.site),beaches.insert(l,i),l.edge=i.edge=createEdge(t.site,l.site),attachCircle(t),void attachCircle(i);if(i){detachCircle(t),detachCircle(i);var u=t.site,c=u[0],h=u[1],g=e[0]-c,d=e[1]-h,p=i.site,m=p[0]-c,f=p[1]-h,C=2*(g*f-d*m),y=g*g+d*d,v=m*m+f*f,A=[(f*y-d*v)/C+c,(g*v-m*y)/C+h];setEdgeEnd(i.edge,u,p,A),l.edge=createEdge(u,e,null,A),i.edge=createEdge(e,p,null,A),attachCircle(t),attachCircle(i)}else l.edge=createEdge(t.site,l.site)}}function leftBreakPoint(e,t){var i=e.site,n=i[0],r=i[1],o=r-t;if(!o)return n;var a=e.P;if(!a)return-1/0;var s=(i=a.site)[0],l=i[1],u=l-t;if(!u)return s;var c=s-n,h=1/o-1/u,g=c/u;return h?(-g+Math.sqrt(g*g-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+n:(n+s)/2}function rightBreakPoint(e,t){var i=e.N;if(i)return leftBreakPoint(i,t);var n=e.site;return n[1]===t?n[0]:1/0}var epsilon=1e-6,epsilon2=1e-12,beaches,cells,circles,edges;function triangleArea(e,t,i){return(e[0]-i[0])*(t[1]-e[1])-(e[0]-t[0])*(i[1]-e[1])}function lexicographic(e,t){return t[1]-e[1]||t[0]-e[0]}function Diagram(e,t){var i,n,r,o=e.sort(lexicographic).pop();for(edges=[],cells=new Array(e.length),beaches=new RedBlackTree,circles=new RedBlackTree;;)if(r=firstCircle,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===i&&o[1]===n||(addBeach(o),i=o[0],n=o[1]),o=e.pop();else{if(!r)break;removeBeach(r.arc)}if(sortCellHalfedges(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];clipEdges(a,s,l,u),clipCells(a,s,l,u)}this.edges=edges,this.cells=cells,beaches=circles=edges=cells=null}function voronoi(){var e=x,t=y,i=null;function n(n){return new Diagram(n.map((function(i,r){var o=[Math.round(e(i,r,n)/epsilon)*epsilon,Math.round(t(i,r,n)/epsilon)*epsilon];return o.index=r,o.data=i,o})),i)}return n.polygons=function(e){return n(e).polygons()},n.links=function(e){return n(e).links()},n.triangles=function(e){return n(e).triangles()},n.x=function(t){return arguments.length?(e="function"==typeof t?t:constant(+t),n):e},n.y=function(e){return arguments.length?(t="function"==typeof e?e:constant(+e),n):t},n.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],n):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},n.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],n):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},n}function coordsToPolygon(e){return(e=e.slice()).push(e[0]),polygon([e])}function voronoi2(e,t){if(!isObject$1(t=t||{}))throw new Error("options is invalid");const i=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(i))throw new Error("bbox is invalid");return collectionOf(e,"Point","points"),featureCollection(voronoi().x((e=>e.geometry.coordinates[0])).y((e=>e.geometry.coordinates[1])).extent([[i[0],i[1]],[i[2],i[3]]]).polygons(e.features).map((function(t,i){return Object.assign(coordsToPolygon(t),{properties:cloneProperties(e.features[i].properties)})})))}Diagram.prototype={constructor:Diagram,polygons:function(){var e=this.edges;return this.cells.map((function(t){var i=t.halfedges.map((function(i){return cellHalfedgeStart(t,e[i])}));return i.data=t.site.data,i}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(i,n){if(o=(r=i.halfedges).length)for(var r,o,a,s=i.site,l=-1,u=t[r[o-1]],c=u.left===s?u.right:u.left;++l<o;)a=c,c=(u=t[r[l]]).left===s?u.right:u.left,a&&c&&n<a.index&&n<c.index&&triangleArea(s,a,c)<0&&e.push([s.data,a.data,c.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,i){for(var n,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var l=e-r.site[0],u=t-r.site[1],c=l*l+u*u;do{r=o.cells[n=a],a=null,r.halfedges.forEach((function(i){var n=o.edges[i],s=n.left;if(s!==r.site&&s||(s=n.right)){var l=e-s[0],u=t-s[1],h=l*l+u*u;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=n,null==i||c<=i*i?r.site:null}};var turf$1=Object.freeze({__proto__:null,along:along,angle:angle$1,area:area,bbox:bbox$1,bboxClip:bboxClip,bboxPolygon:bboxPolygon,bearing:bearing,bezierSpline:bezierSpline,booleanClockwise:booleanClockwise,booleanConcave:booleanConcave,booleanContains:booleanContains,booleanCrosses:booleanCrosses,booleanDisjoint:booleanDisjoint,booleanEqual:booleanEqual,booleanIntersects:booleanIntersects,booleanOverlap:booleanOverlap,booleanParallel:booleanParallel,booleanPointInPolygon:booleanPointInPolygon,booleanPointOnLine:booleanPointOnLine,booleanTouches:booleanTouches,booleanValid:booleanValid,booleanWithin:booleanWithin,buffer:buffer$1,center:center,centerMean:centerMean,centerMedian:centerMedian,centerOfMass:centerOfMass,centroid:centroid,circle:circle,cleanCoords:cleanCoords,clusters:index$2,clustersDbscan:clustersDbscan,clustersKmeans:clustersKmeans,collect:collect,combine:combine,concave:concave,convex:convex,destination:destination,difference:difference2,dissolve:dissolve,distance:distance$1,distanceWeight:distanceWeight,ellipse:ellipse,envelope:envelope,explode:explode,flatten:flatten,flip:flip,geojsonRbush:geojsonRbush,greatCircle:greatCircle,helpers:index$5,hexGrid:hexGrid,interpolate:interpolate,intersect:intersect$1,invariant:index$4,isobands:isobands,isolines:isolines,kinks:kinks,length:length,lineArc:lineArc,lineChunk:lineChunk,lineIntersect:lineIntersect,lineOffset:lineOffset,lineOverlap:lineOverlap,lineSegment:lineSegment,lineSlice:lineSlice,lineSliceAlong:lineSliceAlong,lineSplit:lineSplit,lineToPolygon:lineToPolygon,mask:mask,meta:index$3,midpoint:midpoint,moranIndex:moranIndex,nearestPoint:nearestPoint,nearestPointOnLine:nearestPointOnLine,nearestPointToLine:nearestPointToLine,planepoint:planepoint,pointGrid:pointGrid,pointOnFeature:pointOnFeature,pointToLineDistance:pointToLineDistance,pointToPolygonDistance:pointToPolygonDistance,pointsWithinPolygon:pointsWithinPolygon,polygonSmooth:polygonSmooth,polygonTangents:polygonTangents,polygonToLine:polygonToLine,polygonize:polygonize,projection:index$1,random:index,rectangleGrid:rectangleGrid,rewind:rewind,rhumbBearing:rhumbBearing,rhumbDestination:rhumbDestination,rhumbDistance:rhumbDistance,sample:sample,sector:sector$1,shortestPath:shortestPath,simplify:simplify2,square:square,squareGrid:squareGrid,standardDeviationalEllipse:standardDeviationalEllipse,tag:tag,tesselate:tesselate,tin:tin,transformRotate:transformRotate,transformScale:transformScale,transformTranslate:transformTranslate,triangleGrid:triangleGrid,truncate:truncate,union:union2,unkinkPolygon:unkinkPolygon,voronoi:voronoi2,clone:clone$2,cloneProperties:cloneProperties,applyFilter:applyFilter,clusterEach:clusterEach,clusterReduce:clusterReduce,createBins:createBins,filterProperties:filterProperties,getCluster:getCluster,propertiesContainsFilter:propertiesContainsFilter,areaFactors:areaFactors,azimuthToBearing:azimuthToBearing,bearingToAzimuth:bearingToAzimuth,convertArea:convertArea,convertLength:convertLength,degreesToRadians:degreesToRadians,earthRadius:earthRadius,factors:factors,feature:feature,featureCollection:featureCollection,geometry:geometry$1,geometryCollection:geometryCollection,isNumber:isNumber,isObject:isObject$1,lengthToDegrees:lengthToDegrees,lengthToRadians:lengthToRadians,lineString:lineString,lineStrings:lineStrings,multiLineString:multiLineString,multiPoint:multiPoint,multiPolygon:multiPolygon,point:point,points:points,polygon:polygon,polygons:polygons,radiansToDegrees:radiansToDegrees,radiansToLength:radiansToLength,round:round,validateBBox:validateBBox,validateId:validateId,collectionOf:collectionOf,containsNumber:containsNumber,featureOf:featureOf,geojsonType:geojsonType,getCoord:getCoord,getCoords:getCoords,getGeom:getGeom,getType:getType$1,coordAll:coordAll,coordEach:coordEach,coordReduce:coordReduce,featureEach:featureEach,featureReduce:featureReduce,findPoint:findPoint,findSegment:findSegment,flattenEach:flattenEach,flattenReduce:flattenReduce,geomEach:geomEach,geomReduce:geomReduce,lineEach:lineEach,lineReduce:lineReduce,propEach:propEach,propReduce:propReduce,segmentEach:segmentEach,segmentReduce:segmentReduce,nearestNeighborAnalysis:nearestNeighborAnalysis,toMercator:toMercator,toWgs84:toWgs84,quadratAnalysis:quadratAnalysis,randomLineString:randomLineString,randomPoint:randomPoint,randomPolygon:randomPolygon,randomPosition:randomPosition}),arr=[];class road{constructor(e,t){this.viewer=e,this.config=t}creatRoad(){var e=this.config.line,t=this.config.width,i=this.config.opacity,n=this.config.attribute||{};arr=[];var r=buffer$1(e,t/15*15,{units:"meters"}).geometry.coordinates[0],o=[];r.forEach((e=>{o.push(e[0]),o.push(e[1])}));var a=viewer.entities.add({nam:"road",attribute:n,polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArray(o),material:new Cesium.Color(81/255,81/255,81/255,i)}}),s=buffer$1(e,t/15*14.3,{units:"meters"}),l=buffer$1(e,t/15*14.1,{units:"meters"}),u=s.geometry.coordinates[0],c=l.geometry.coordinates[0],h=[];u.forEach((e=>{h.push(e[0]),h.push(e[1])}));var g=[];c.forEach((e=>{g.push(e[0]),g.push(e[1])}));var d=viewer.entities.add({nam:"road",attribute:n,polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArray(h),holes:[{positions:Cesium.Cartesian3.fromDegreesArray(g)}]},material:new Cesium.ImageMaterialProperty({image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAABtCAIAAAAzuOjIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADmSURBVHhe7dAxAQAwEAOh+jedavibQQJv3FkrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmuFtcJaYa2wVlgrrBXWCmt32wf4gRUduYLTeAAAAABJRU5ErkJggg==",transparent:i,repeat:new Cesium.Cartesian2(50/t*15,50/t*15)})}}),p=buffer$1(e,t/15*7.5,{units:"meters"}),m=buffer$1(e,t/15*7,{units:"meters"}),f=p.geometry.coordinates[0],C=m.geometry.coordinates[0],y=[],v=[];f.forEach((e=>{y.push(e[0]),y.push(e[1])})),C.forEach((e=>{v.push(e[0]),v.push(e[1])}));var A=viewer.entities.add({nam:"road",attribute:n,polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArray(y),holes:[{positions:Cesium.Cartesian3.fromDegreesArray(v)}]},material:new Cesium.ImageMaterialProperty({image:"data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCADTAMsDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD57ak3GpVXdTxDQAxYM81IMLSs20YqvJJWoD5JKpySHPWpslqVYN3NABH90U6jG3ijNABRRRQBKp+Wm7OaFNSY4rNgIp20jfNSN1pVpAM6NSjrQw+ajvQA8U6minUAIyjrUMjbaWSXDYpVUSUARpKfWrcS7sZpn2fvS7tlAD5IRuFOMOFpscu7rU24MvWgDOuF2mqm41ozqGqv5IoAY24NwanhLdzQyg09CBQAkkgFQeYuelSyRE81B5JzTAsIy46U2STHSnJGcVHJGaLgNfJXIqEbt3Wr4izGKjMNFwCEcDNJLTx8oqOQ5ouA2OJmbOa0Ibc7RVOFiKtrMVWkASW9MEVQzXJz1qNbgk9aAL7Kqx9Oazp2IbirHnZWq7/M1ABGx7mlkZuxoQYp7LmgCFFLcmpQpWnIoVaXcPSgBVY+tLUTSCkMooAkfO3jiqkkkm7hqtRnetJ5WT0oAhi3t1OasbTUiQ4FNPBoAhDZppfbVhYvlqGaOgB5mG0VF5w3U4wnaKiEJ3UAWkkGKjkkFOjjOKjkjNAE8co2intjFZyybXxVvzMrQAkjU1fmqKRuamg5oAnj2r1HNTMybaoMreYcGhg+OtAD5mUt0pY1U44qoUcnrVq3hY45oAa/+swKeI6R0KzYNW40G2gCm3y01Wp9zwTVUPzQBYZqZuNOQbhmneXQBXYmmEGrot804WtAEdtxHzT9/NEi+WuKpyTENQBprINtRt941UhmzVjdQAxi471XZn3cmrrAVAyjmgCVJBtGaerL6VSLEGnLIaANBXWl+Ru1UBIad5xoAjkjHmnFPXNLt3c1KqcUAQtHTOV6cVa2VEyc0AU2MhfOakUSHvT+A1Sx4oAi8tqX96vQ1Z49KQlaAKpd92Seacsz460j4LUBaAHbi/XmjyxSqtPAoAiJKtxUqNTGXmmbsGgC1v44pjO/Y1GsmanjXdQBGAzLzUDxc1dYBeKrsw3UANji9Kk2N60+LFS8UAV9xNRMTVjy6b5VMBnl55pvl1P0qNmpAM2+1JgUNJTDJQBOp4qVW4qor1Kr0AT7qjZuaQtUTNQAvllmzUscZqJZhU0cwoAk8s00xGneePWkacetAEDLhqAKczbmyKAtAAq08LQtPoAiZahdTVputJ5eaAKqqRVmOTbTHTbVaSQrQBYuJueKqeZ81PXMi5poj+agCzBJU26o7ePirPl+1AEayCpVK4qssZqdVOK6EgImZdxo+Wgwncad5J9KmwIiYJULbasNCagaE5pWOiKTHqgxmkI9KeowoFGKBySIWzUbZqwVppSg5pAIx5YPeoOd2BV0L+7FReV81ADolyvNMmBHSp0XbTJFzQBHHkrT+aci/LTttADPmpdzU7bRtoAj87DYNTCQYqrIp8zipFRttABJKKYvlv1FMkU0RqaALCrGpAHSpNkeOlMWImnMpxQBBJN5Z+WkF02OtJJETTPIaiwFgXC+tSLdL61+jf8Awwv8Ov8AoX2/8Drn/wCOUv8Awwx8O/8AoX2/8Drn/wCOVadieZH5y+cOtO89fWv0Z/4Yb+Hn/Qvt/wCB1z/8cpf+GG/h7/0AG/8AA25/+OVIlJH5xNOtQtOtfpF/ww38PD/zL7f+B1z/APHKaf2F/h0f+Zeb/wADrn/45SNo1Yo/N3zR60eZ71+kf/DDHw7/AOhfb/wOuf8A45S/8MM/Dv8A6F9v/A65/wDjlA3Viz83N1FfpH/ww38PP+hfb/wOuf8A45S/8MN/D3/oAN/4G3P/AMcpmLkmfm8r9qf71+j3/DDfw9/6ADf+B1z/APHKX/hh/wCH3/QAb/wNuf8A45SDmR+bzNtpVO6v0f8A+GHPh6f+YA3/AIG3P/xylH7Dvw9XpoDf+Btz/wDHKA5kfm+WApNwr9IP+GHfh6f+YA3/AIG3P/xyj/hhz4e/9ABv/A25/wDjlAcyPzf3CjcK/SD/AIYc+Hv/AEAG/wDA25/+OUf8MOfD3/oAN/4G3P8A8coDmR+bEkoElSLMNtfpA37C/wAOmOT4fbP/AF/XP/xyl/4YY+Hf/Qvt/wCB1z/8coDmR+bMkoJojmWv0lP7C3w6PXw83/gdc/8AxygfsK/DodPDzf8Agdc//HKA5kfnKswC1FJdD1r9If8Ahhv4ef8AQvt/4HXP/wAcpp/YV+HTdfDzf+B1z/8AHKA5kfm39oHrTvOWv0h/4YV+HP8A0Lzf+B1z/wDHKX/hhb4df9C83/gdc/8AxymHMj6tooopGIUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//2Q==",transparent:i,repeat:new Cesium.Cartesian2(50/t*15,50/t*15)}),outline:!1}});u=(s=buffer$1(e,t/15*.6,{units:"meters"})).geometry.coordinates[0],h=[];u.forEach((e=>{h.push(e[0]),h.push(e[1])}));var I=viewer.entities.add({nam:"road",attribute:n,polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArray(h),material:new Cesium.ImageMaterialProperty({image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAABtCAIAAAAzuOjIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADrSURBVHhe7dAxEQAgDAAx9FUzK77Q0J9zFwU57w5b1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXCWmGtsFZYK6wV1gprhbXC2t6dD6oqpjxl/Rb7AAAAAElFTkSuQmCC",transparent:i,repeat:new Cesium.Cartesian2(50,50)})}});arr.push(a,d,A,I)}change(e){this.clear(),this.config.width=e.width,this.config.opacity=e.opacity,this.creatRoad()}clearAll(){var e=viewer.entities._entities._array;for(let t=0;t<e.length;t++)(e[t]._nam="road")&&(viewer.entities.remove(e[t]),t--);this.config.width=20,this.config.line=[]}clear(){for(let e=0;e<arr.length;e++)viewer.entities.remove(arr[e])}}class sector{constructor(e,t){return this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.config.position[0],i=e.config.position[1],n=e.config.radius;let r=6356725,o=[];o.push(t),o.push(i);for(let a=0;a<=e.config.radian;a++){let e=n*Math.sin(a*Math.PI/180),s=n*Math.cos(a*Math.PI/180),l=r+21412*(90-i)/90,u=t+e/(l*Math.cos(i*Math.PI/180))*180/Math.PI,c=i+s/l*180/Math.PI;o.push(u),o.push(c)}var a=e.viewer.entities.add({polygon:{hierarchy:new Cesium.PolygonHierarchy(Cesium.Cartesian3.fromDegreesArray(o)),height:e.config.height,extrudedHeight:e.config.extrudedHeight,outline:!0,outlineColor:Cesium.Color.WHITE.withAlpha(0),outlineWidth:1,material:Cesium.Color.WHITE.withAlpha(.5)}});console.log(a);var s=e.config.heading,l=e.config.pitch,u=e.config.roll;e.config.scale;s=Cesium.Math.toRadians(Number(s||0)),l=Cesium.Math.toRadians(Number(l||0)),u=Cesium.Math.toRadians(Number(u||0));return new Cesium.HeadingPitchRoll(s,l,u),e.viewer.zoomTo(a),a}}class loadWKT{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.config.data,i=WKT__default.default.parse(t);console.log(i);var n=e.viewer.dataSources.add(Cesium.GeoJsonDataSource.load(i,e.config.style));return e.viewer.zoomTo(n),n}}class textEntity{constructor(e,t){this.viewer=e;return this.config=Object.assign({type:"polygon",text:"ljdy",fontSize:12,color:"#6495ED",zoomTo:!1,height:0},t),this.loadData()}loadData(){var e,t=this,i=t.viewer.entities;function n(e){const t=e.text;var i=document.createElement("canvas");const n=(t+"").length*e.fontSize;i.width=n,i.height=e.fontSize;var r=i.getContext("2d");return r.fillStyle=e.color,r.font="bold "+e.fontSize+"px 微软雅黑",r.textBaseline="hanging",r.fillText(t,0,0),i}return t.config.DSentities&&(i=t.config.DSentities),"polygon"==t.config.type&&(e=i.add({polygon:{hierarchy:t.config.positions,height:t.config.height,material:new Cesium.ImageMaterialProperty({image:n({text:t.config.text,fontSize:t.config.fontSize,color:t.config.color}),transparent:!0,color:Cesium.Color.WHITE}),classificationType:Cesium.ClassificationType.BOTH}})),"wall"==t.config.type&&(e=i.add({wall:{positions:new Cesium.CallbackProperty((e=>t.config.positions),!1),minimumHeights:new Cesium.CallbackProperty((e=>t.config.minimumHeights),!1),maximumHeights:new Cesium.CallbackProperty((e=>t.config.maximumHeights),!1),material:new Cesium.ImageMaterialProperty({image:n({text:t.config.text,fontSize:t.config.fontSize,color:t.config.color}),transparent:!0,color:Cesium.Color.WHITE}),outline:!1,outlineWidth:10,outlineColor:Cesium.Color.AQUA}})),t.config.zoomTo&&t.viewer.zoomTo(e),e}}class geojsonToTile{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=new Cesium.VectorTileImageryProvider({source:e.config.data});t.readyPromise.then((function(){e.viewer.imageryLayers.addImageryProvider(t)}))}}class globePM{constructor(e,t){this.viewer=e,this.config=t,this.dataSource=new Cesium.CustomDataSource,this.viewer.dataSources.add(this.dataSource),this.helper=null,this.loadData()}loadData(){var e,t,i,n,r,o=this,a=this.config.pixelRadius||10,s=null,l=[],u=null,c=!1,h=1e3;o.viewer.scene.globe.depthTestAgainstTerrain=!1,navigator.geolocation&&navigator.geolocation.getCurrentPosition(d),function(){var e,t,i=500;e=document.createElement("canvas"),e.width=i,e.height=i,t=e.getContext("2d"),t.beginPath();var n=t.createLinearGradient(0,0,i,0);n.addColorStop(.05,"rgb(0, 228, 0)"),n.addColorStop(.15,"rgb(256, 256, 0)"),n.addColorStop(.25,"rgb(256, 126, 0)"),n.addColorStop(.35,"rgb(256, 0, 0)"),n.addColorStop(.5,"rgb(153, 0, 76)"),n.addColorStop(.8,"rgb(126, 0, 35)"),t.fillStyle=n,t.rect(0,0,i,i),t.fill(),s=t.getImageData(0,0,i,1)}();var g=o.viewer.cesiumWidget.clock;function d(e){o.viewer.scene.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e.coords.longitude,e.coords.latitude,6378137)})}o.helper=new Cesium.EventHelper,o.helper.add(g.onTick,(function(){if(n=(new Date).getTime(),0==c){var g=o.viewer.camera.computeViewRectangle();if(!g.equals(u)){function d(h){i=n=(new Date).getTime(),r=new Worker(o.config.urlJs);var d={bounds:h,imgData:s.data};r.postMessage(d),c=!0,r.onmessage=function(n){t=n.data.entityTable;var h=n.data.date;if(0!=t.length&&h>i){for(var d=t.length-1;d>=0;d--){new Cesium.Color(t[d].color.red,t[d].color.green,t[d].color.blue,.1);var p=l[t[d].aqiValue];if(null==p){var m=document.createElement("canvas");m.width=2*a,m.height=2*a,(e=m.getContext("2d")).fillStyle="#ffffff00",e.globalAlpha=0,e.fillRect(0,0,2*a,2*a);var f=s.data[4*t[d].aqiValue],C=s.data[4*t[d].aqiValue+1],y=s.data[4*t[d].aqiValue+2];e.globalAlpha=1,e.beginPath(),e.arc(a,a,a,0,2*Math.PI,!0),e.closePath();var v="rgb("+f+","+C+","+y+")";e.fillStyle=v,e.fill(),p=l[t[d].aqiValue]=m}o.dataSource.entities.add({position:Cesium.Cartesian3.fromDegrees(t[d].lon,t[d].lat),billboard:{image:p.toDataURL(),show:!0},name:t[d].name,description:t[d].description})}u=g}c=!1,r.terminate()}}d(180*g.south/Math.PI+","+180*g.west/Math.PI+","+180*g.north/Math.PI+","+180*g.east/Math.PI)}}else n-i>h&&(c=!1,h+=1e3,r.terminate())}))}}class flowLine{constructor(e,t){return this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.config.material||Cesium.Color.WHITE,i=e.config.width||10,n=e.config.clamp,r=e.config.positions,o=e.viewer.entities.add({polyline:{positions:r,width:i,material:t,clampToGround:n}});return e.config.zoomTo&&e.viewer.zoomTo(o),o}}class dynamicWall{constructor(e,t){this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=1,i=0,n=e.viewer.entities.add({name:"动态立体墙",wall:{show:!0,positions:Cesium.Cartesian3.fromDegreesArrayHeights(e.config.positions),material:new Cesium.ImageMaterialProperty({image:e.config.image,transparent:!0,color:new Cesium.CallbackProperty((function(){return i%2==0?t-=.005:t+=.005,(t<=.3||t>=1)&&i++,Cesium.Color.WHITE.withAlpha(t)}),!1)})}});e.viewer.zoomTo(n)}}class spreadWall{constructor(e,t){return this.viewer=e,this.config=t,this.loadData()}loadData(){var e=this,t=e.config.height||200,i=e.config.miniScale||.1,n=1,r=i,o=e.config.speed||10,a=e.config.material||Cesium.Color.WHITE,s=e.viewer.entities.add({name:"扩散",wall:{show:!0,positions:new Cesium.CallbackProperty((function(){e.config.zoom||(n-=1/(1e3/o))<i&&(n=1),e.config.zoom&&((i+=1/(1e3/o))>=1&&(i=r),n=i);var a=transformScale(polygon(e.config.positions),n),s=[];for(let e=0;e<a.geometry.coordinates[0].length;e++)a.geometry.coordinates[0][e].forEach((function(e){s.push(e)})),s.push(t);return Cesium.Cartesian3.fromDegreesArrayHeights(s)}),!1),material:a}});return e.config.zoomTo&&e.viewer.zoomTo(s),s}}class loadHtml{constructor(e){this.info=e,this.loadData()}loadData(){var e=this;e.viewer=e.info.viewer,e.geometry=e.info.geometry,e.id="popup_"+e.__proto__.id++,e.ctn=$("<div class='bx-popup-ctn' id =  '"+e.id+"'>"),$(e.viewer.container).append(e.ctn),e.ctn.append(e.createHtml(e.info.htmlContent)),e.render(e.geometry),e.eventListener=e.viewer.clock.onTick.addEventListener((function(t){e.render(e.geometry)}))}render(e){var t=this,i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t.viewer.scene,e);t.ctn.css({left:i.x-t.ctn.get(0).offsetWidth/2,top:i.y-t.ctn.get(0).offsetHeight-10,position:"absolute"})}createHtml(e){return e}}class pointCluster{constructor(e){this.options={dataOrUrl:"",pixelRange:15,enabled:!0,colorArr:[{num:1,size:48,color:"#e6a23cbb"}],img:"",accuracy:function(e){return e}},this.options=Object.assign(this.options,e),this.viewer=e.viewer,this.dataSources=null,this.clustericon={},this.options.dataOrUrl&&""!=this.options.dataOrUrl&&this.loadjson()}loadjson(){var e=this;(new Cesium.GeoJsonDataSource).load(e.options.dataOrUrl).then((t=>{e.showcluster(t)}))}showcluster(e){var t=this;this.dataSources=e,this.viewer.dataSources.add(this.dataSources);var i,n=this.options.pixelRange,r=this.options.enabled;this.dataSources.clustering.enabled=r,this.dataSources.clustering.pixelRange=n,this.dataSources.clustering.minimumClusterSize=1,function(){Cesium.defined(i)?(i(),i=void 0):i=t.dataSources.clustering.clusterEvent.addEventListener((function(e,i){i.label.show=!1,i.billboard.show=!0,i.billboard.id=i.label.id,i.billboard.verticalOrigin=Cesium.VerticalOrigin.CENTER;for(var n=-1,r=0;r<t.options.colorArr.length;r++)e.length>t.options.colorArr[r].num&&(n=r);i.billboard.image=-1==n?t.options.img:t.drawImage(e.length,t.options.colorArr[n].size,t.options.colorArr[n].color)}));var e=t.dataSources.clustering.pixelRange;t.dataSources.clustering.pixelRange=0,t.dataSources.clustering.pixelRange=e}()}drawImage(e,t,i){if(e=this.options.accuracy(e),this.clustericon[e+"_"+t+"_"+i])return this.clustericon[e+"_"+t+"_"+i];var n=document.createElement("canvas");n.height=t,n.width=t;var r=n.getContext("2d");r.beginPath(),r.arc(t/2,t/2,t/2,0,2*Math.PI,!0),r.fillStyle=i,r.closePath(),r.fill(),r.font="16px bold 楷体",r.fillStyle="#ffffff";var o=(t-9*(e+"").length)/2;r.fillText(e,o,t/2+6);var a=n.toDataURL();return this.clustericon[e+"_"+t+"_"+i]=a,a}remove(){this.viewer.dataSources.remove(this.dataSources),this.dataSources=null,this.clustericon={}}}var fenceimg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTAtMjZUMTU6MjQ6MjUrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTEwLTI2VDE1OjMwOjM0KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTEwLTI2VDE1OjMwOjM0KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI4MmRmMTVhLWM4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";class TetrahedronPrimitive{constructor(e){this.show=!0,this._command=void 0,this._enuMatrix=void 0,this._scaleMatrix=void 0,this._localPosition=e.position,this._createCommand=createCommand,this._angle=0,this._distance=Cesium.defaultValue(e.distance,1),this._setInterval=void 0,this._viewer=e.viewer,this._speed=Cesium.defaultValue(e.speed,1),this._color=Cesium.defaultValue(e.color,new Cesium.Color(1,1,0,.8)),this._color2=Cesium.defaultValue(e.color2,new Cesium.Color(1,0,0,.8)),this._scale=Cesium.defaultValue(e.scale,new Cesium.Cartesian3(10,10,15)),this._texture=void 0,this._imageUrl=Cesium.defaultValue(e.imageUrl,fenceimg),this._modelMatrix=computeModelMatrix(this),this._height=computeHeight(this),createTexture(this)}update(e){this.show&&(Cesium.defined(this._command)||(this._command=this._createCommand(e.context,this),this._command.pickId="v_pickColor"),Cesium.defined(this._command)&&e.commandList.push(this._command))}isDestroyed(){return!1}destroy(){return Cesium.defined(this._command)&&(this._command.shaderProgram=this._command.shaderProgram&&this._command.shaderProgram.destroy()),destroyObject(this)}startAnimate(){let e=this;this._setInterval=setInterval((function(){e._angle=e._angle+.01,e._height=0;let t=new Cesium.Cartesian3(0,0,e._height);Cesium.Matrix4.multiplyByTranslation(e._modelMatrix,t,e._modelMatrix);let i=Cesium.Matrix4.fromRotationTranslation(Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(e._speed)));Cesium.Matrix4.multiply(e._modelMatrix,i,e._modelMatrix)}),5)}closeAnimate(){clearInterval(this._setInterval)}}function createCommand(e,t){var i=creaateVertexShader(),n=createFragmentShader(t),r=Cesium.Appearance.getDefaultRenderState(!1,!0,void 0),o=Cesium.RenderState.fromCache(r),a=new Cesium.ShaderSource({sources:[i]}),s=new Cesium.ShaderSource({sources:[n]}),l={color:function(){return t._color},myImage:function(){return Cesium.defined(t._texture)?t._texture:t._viewer.scene.context.defaultTexture}};var u=Cesium.ShaderProgram.fromCache({context:e,vertexShaderSource:a,fragmentShaderSource:s,attributeLocations:{position:0,textureCoordinates:1}});return new Cesium.DrawCommand({vertexArray:createVertexArray(e),primitiveType:Cesium.PrimitiveType.TRIANGLES,renderState:o,shaderProgram:u,uniformMap:l,owner:this,pass:Cesium.Pass.TRANSLUCENT,modelMatrix:t._modelMatrix})}function createVertexArray(e){var t=cereatePositionsAndIndice(),i=new Cesium.Geometry({attributes:{position:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t.positions}),textureCoordinates:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:t.sts})},indices:t.indices,primitiveType:Cesium.PrimitiveType.TRIANGLES,boundingSphere:Cesium.BoundingSphere.fromVertices(t.positions)}),n=Cesium.GeometryPipeline.computeNormal(i);return Cesium.VertexArray.fromGeometry({context:e,geometry:n,attributeLocations:{position:0,textureCoordinates:1},bufferUsage:Cesium.BufferUsage.STATIC_DRAW})}function cereatePositionsAndIndice(){var e=new Float64Array(15);e[0]=0,e[1]=1,e[2]=0,e[3]=-1,e[4]=0,e[5]=0,e[6]=0,e[7]=-1,e[8]=0,e[9]=1,e[10]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=-1;var t=new Uint16Array(18);return t[0]=4,t[1]=2,t[2]=3,t[3]=4,t[4]=3,t[5]=0,t[6]=4,t[7]=0,t[8]=1,t[9]=4,t[10]=1,t[11]=2,t[12]=1,t[13]=2,t[14]=3,t[15]=1,t[16]=3,t[17]=0,{indices:t,positions:e,sts:new Float32Array([0,0,1,0,1,1,0,1,.5,.5])}}function creaateVertexShader(){return"\n      attribute vec3 position;\n      attribute vec3 normal;\n      attribute vec2 st;\n      attribute float batchId;\n      varying vec3 v_positionEC;\n      varying vec3 v_normalEC;\n      varying vec2 v_st;\n      varying vec4 v_pickColor;\n      void main()\n      {\n          v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n          v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n          v_st = st;\n          //v_pickColor = czm_batchTable_pickColor(batchId);\n          gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n      }\n      "}function createFragmentShader(e){return`\n      varying vec3 v_positionEC;\n      varying vec3 v_normalEC;\n      varying vec2 v_st;\n      uniform vec4 color;\n      varying vec4 v_pickColor;\n      uniform sampler2D myImage;\n      void main()\n      {\n          vec3 positionToEyeEC = -v_positionEC;\n          vec3 normalEC = normalize(v_normalEC);\n      #ifdef FACE_FORWARD\n          normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n      #endif\n          czm_materialInput materialInput;\n          materialInput.normalEC = normalEC;\n          materialInput.positionToEyeEC = positionToEyeEC;\n          materialInput.st = v_st;\n          vec2 st = materialInput.st;\n          czm_material material = czm_getDefaultMaterial(materialInput);\n          float dt_a11 = fract(czm_frameNumber / 100.0) * 3.14159265 * 2.0;\n          float dt_a12 = sin(dt_a11);\n          float vst=smoothstep(0.7, 1.0, dt_a12)+0.4;\n          vec4 colorImage = texture2D(myImage, vec2(fract(st.s- czm_frameNumber*0.003), st.t));\n          material.alpha =mix(0.1,1.0,clamp((1.0-st.t) * color.a,0.0,1.0)) +(1.0-sign(st.t-czm_frameNumber*0.001))*0.2*(1.0-colorImage.r)+0.4 ;\n          material.diffuse =(1.0-colorImage.a)*vec3(${e._color2.red},${e._color2.green},${e._color2.blue})+colorImage.rgb*vec3(${e._color.red},${e._color.green},${e._color.blue});\n       #ifdef FLAT\n          gl_FragColor = vec4(material.diffuse + material.emission, ${e._color.alpha});\n       #else\n          gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n      #endif\n      }\n      `}function createTexture(e){Cesium.Resource.createIfNeeded(e._imageUrl).fetchImage().then((function(t){var i,n=e._viewer.scene.context;i=Cesium.defined(t.internalFormat)?new Cesium.Texture({context:n,pixelFormat:t.internalFormat,width:t.naturalWidth,height:t.naturalHeight,source:{arrayBufferView:t.bufferView}}):new Cesium.Texture({context:n,source:t}),e._texture=i}))}function computeModelMatrix(e){let t=Cesium.Transforms.eastNorthUpToFixedFrame(e._localPosition),i=Cesium.Matrix4.fromScale(e._scale),n=Cesium.Matrix4.multiply(t,i,new Cesium.Matrix4);return e._scaleMatrix=i,e._enuMatrix=t,n}function computeHeight(e){let t=Cesium.Cartesian3.fromElements(0,0,e._distance,new Cesium.Cartesian3),i=Cesium.Matrix4.multiplyByPoint(e._enuMatrix,t,new Cesium.Cartesian3),n=Cesium.Matrix4.multiplyByPoint(e._viewer.scene.camera._viewMatrix,i,new Cesium.Cartesian3),r=Cesium.Matrix4.multiplyByPoint(e._viewer.scene.camera.frustum.projectionMatrix,n,new Cesium.Cartesian3);return Cesium.Cartesian3.normalize(r,new Cesium.Cartesian3).z}let customizeStripeMaterail=function(e,t,i,n){this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,this._time=(new Date).getTime(),this.customizeStripeMaterailType="PolylineTrailLink"+Math.random(),this.customizeStripeMaterailImage=n;var r=Object.assign({speed:"10",count:"1",direction:"+",freely:"cross"},i);this.customizeStripeMaterailSource=stripeMaterail(r.speed,r.count,r.freely,r.direction),this.color=void 0===e?Cesium.Color.YELLOW:e,this.duration=void 0===t?3e3:t,Cesium.Material._materialCache.addMaterial(this.customizeStripeMaterailType,{fabric:{type:this.customizeStripeMaterailType,uniforms:{color:new Cesium.Color(1,0,0,.5),image:this.customizeStripeMaterailImage,time:0},source:this.customizeStripeMaterailSource},translucent:function(e){return!0}})};function stripeMaterail(e,t,i,n){-1==e.toString().indexOf(".")&&(e+=".0"),-1==t.toString().indexOf(".")&&(t+=".0");var r="czm_material czm_getMaterial(czm_materialInput materialInput)\n        {\n            float time = czm_frameNumber/"+e+";\n            czm_material material = czm_getDefaultMaterial(materialInput);\n            vec2 st = materialInput.st;\n        \n       ";return r="vertical"==i?r+"vec4 colorImage = texture2D(image, vec2(fract("+t+"*st.t"+n+" time), fract(st.s)));\n ":r+"vec4 colorImage = texture2D(image, vec2(fract( "+t+"*st.s "+n+" time), fract(st.t)));\n ",r+="     material.diffuse = colorImage.rgb;\n                        material.alpha = colorImage.a;\n                        \n                        return material;\n                        }\n                        "}Object.defineProperties(customizeStripeMaterail.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")}),customizeStripeMaterail.prototype.getType=function(e){return this.customizeStripeMaterailType},customizeStripeMaterail.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),t.image=this.customizeStripeMaterailImage,t.time=((new Date).getTime()-this._time)%this.duration/this.duration,t},customizeStripeMaterail.prototype.equals=function(e){return this===e||e instanceof customizeStripeMaterail&&this._color===e._color};class parabola{constructor(e){this.viewer=e,this.Entity=null}draw(e){var t={attribute:{},startPoint:void 0,endPoint:void 0,step:80,width:10,heightProportion:.125,materialLine:Cesium.Color.BLUE},i=Object.assign(t,e);this._parabola(i.startPoint.concat(i.endPoint),i.step,i.heightProportion,i.width,i.materialLine,i.attribute)}_parabola(e,t,i,n,r,o){let a=[e[0],e[1],0],s=[e[2],e[3]],l=(s[0]-a[0])/t,u=(s[1]-a[1])/t,c=l*Math.abs(111e3*Math.cos(e[1])),h=111e3*u,g=[0,0,0],d=(t*Math.sqrt(c*c+h*h)*i).toFixed(5),p=(1e4*Math.sqrt(l*l+u*u)).toFixed(5),m=d/(p*p);function f(e,t){return t-m*e*e}let C=[];C=C.concat(a);for(var y=1;y<=t;y++){g[0]=a[0]+l,g[1]=a[1]+u;let e=p*(2*y/t-1);g[2]=f(e,d).toFixed(5),C=C.concat(g),a[0]=g[0],a[1]=g[1],a[2]=g[2]}this.Entity=this.viewer.entities.add({attribute:o,polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(C),width:n,material:r}})}customGetEntity(){return this.Entity}}var DataSource={LoadGeojson:LoadGeojson,LoadPolylineVolume:LoadPolylineVolume,LoadKml:LoadKml,LoadCzml:LoadCzml,Entity:Entity,EllipsoidFadeMaterialProperty:EllipsoidFadeMaterialProperty,PolylineTrailLinkMaterialProperty:PolylineTrailLinkMaterialProperty,RadarPrimitiveMaterialProperty:RadarPrimitiveMaterialProperty,DrawSector:DrawSector,ShpVector:ShpVector,LoadWMS:LoadWMS,LoadWMTS:LoadWMTS,LoadWFS:LoadWFS,customPrimitive:customPrimitive,LoadCorridor:LoadCorridor,LoadGif:LoadGif,divPoint:divPoint,barChart:barChart,haloLine:haloLine,activeLine:activeLine,shinePoint:shinePoint,rampWall:rampWall,OSMBuilding:OSMBuilding,globeBuilding:globeBuilding,road:road,sector:sector,loadWKT:loadWKT,textEntity:textEntity,geojsonToTile:geojsonToTile,globePM:globePM,flowLine:flowLine,dynamicWall:dynamicWall,pointCluster:pointCluster,spreadWall:spreadWall,TetrahedronPrimitive:TetrahedronPrimitive,loadHtml:loadHtml,customizeStripeMaterail:customizeStripeMaterail,parabola:parabola};const Cesium$1=window.Cesium,BoxGeometry=Cesium$1.BoxGeometry,Cartesian3=Cesium$1.Cartesian3,defaultValue=Cesium$1.defaultValue,defined=Cesium$1.defined,destroyObject$1=Cesium$1.destroyObject,DeveloperError$1=Cesium$1.DeveloperError,GeometryPipeline=Cesium$1.GeometryPipeline,Matrix3=Cesium$1.Matrix3,Matrix4=Cesium$1.Matrix4,Transforms=Cesium$1.Transforms,VertexFormat=Cesium$1.VertexFormat,BufferUsage=Cesium$1.BufferUsage,CubeMap=Cesium$1.CubeMap,DrawCommand=Cesium$1.DrawCommand,loadCubeMap=Cesium$1.loadCubeMap,RenderState=Cesium$1.RenderState,VertexArray=Cesium$1.VertexArray,BlendingState=Cesium$1.BlendingState,SceneMode=Cesium$1.SceneMode,ShaderProgram=Cesium$1.ShaderProgram,ShaderSource=Cesium$1.ShaderSource,skyboxMatrix3=new Matrix3;class SkyBoxOnGround{constructor(e){Cesium$1.defined(Cesium$1.Matrix4.getRotation)||(Cesium$1.Matrix4.getRotation=Cesium$1.Matrix4.getMatrix3),this.sources=e.sources,this._sources=void 0,this.show=defaultValue(e.show,!0),this._command=new DrawCommand({modelMatrix:Matrix4.clone(Matrix4.IDENTITY),owner:this}),this._cubeMap=void 0,this._attributeLocations=void 0,this._useHdr=void 0}update(e,t){const i=this;if(!this.show)return;if(e.mode!==SceneMode.SCENE3D&&e.mode!==SceneMode.MORPHING)return;if(!e.passes.render)return;const n=e.context;if(this._sources!==this.sources){this._sources=this.sources;const e=this.sources;if(!(defined(e.positiveX)&&defined(e.negativeX)&&defined(e.positiveY)&&defined(e.negativeY)&&defined(e.positiveZ)&&defined(e.negativeZ)))throw new DeveloperError$1("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");if(typeof e.positiveX!=typeof e.negativeX||typeof e.positiveX!=typeof e.positiveY||typeof e.positiveX!=typeof e.negativeY||typeof e.positiveX!=typeof e.positiveZ||typeof e.positiveX!=typeof e.negativeZ)throw new DeveloperError$1("this.sources properties must all be the same type.");"string"==typeof e.positiveX?loadCubeMap(n,this._sources).then((function(e){i._cubeMap=i._cubeMap&&i._cubeMap.destroy(),i._cubeMap=e})):(this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),this._cubeMap=new CubeMap({context:n,source:e}))}const r=this._command;if(r.modelMatrix=Transforms.eastNorthUpToFixedFrame(e.camera._positionWC),!defined(r.vertexArray)){r.uniformMap={u_cubeMap:function(){return i._cubeMap},u_rotateMatrix:function(){return Matrix4.getRotation(r.modelMatrix,skyboxMatrix3)}};const e=BoxGeometry.createGeometry(BoxGeometry.fromDimensions({dimensions:new Cartesian3(2,2,2),vertexFormat:VertexFormat.POSITION_ONLY})),t=this._attributeLocations=GeometryPipeline.createAttributeLocations(e);r.vertexArray=VertexArray.fromGeometry({context:n,geometry:e,attributeLocations:t,bufferUsage:BufferUsage._DRAW}),r.renderState=RenderState.fromCache({blending:BlendingState.ALPHA_BLEND})}if(!defined(r.shaderProgram)||this._useHdr!==t){const e=new ShaderSource({defines:[t?"HDR":""],sources:["uniform samplerCube u_cubeMap;\n        varying vec3 v_texCoord;\n        void main()\n        {\n        vec4 color = textureCube(u_cubeMap, normalize(v_texCoord));\n        gl_FragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\n        }\n        "]});r.shaderProgram=ShaderProgram.fromCache({context:n,vertexShaderSource:"attribute vec3 position;\n        varying vec3 v_texCoord;\n        uniform mat3 u_rotateMatrix;\n        void main()\n        {\n        vec3 p = czm_viewRotation * u_rotateMatrix * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));\n        gl_Position = czm_projection * vec4(p, 1.0);\n        v_texCoord = position.xyz;\n        }\n        ",fragmentShaderSource:e,attributeLocations:this._attributeLocations}),this._useHdr=t}return defined(this._cubeMap)?r:void 0}isDestroyed(){return!1}destroy(){const e=this._command;return e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),e.shaderProgram=e.shaderProgram&&e.shaderProgram.destroy(),this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),destroyObject$1(this)}}class SkyBox{constructor(e){this.viewer=e,this.sources={}}customSkyBox(e){this.viewer.scene.skyBox=new Cesium.SkyBox({sources:e})}SkyBoxOnGround(e){var t=this,i=e.height?e.height:"225705",n=t.viewer.scene.skyBox,r=new SkyBoxOnGround({sources:e.sources});t.viewer.scene.postRender.addEventListener((()=>{var e=t.viewer.camera.position;Cesium.Cartographic.fromCartesian(e).height<i?(t.viewer.scene.skyBox=r,t.viewer.scene.skyAtmosphere.show=!1):(t.viewer.scene.skyBox=n,t.viewer.scene.skyAtmosphere.show=!0)}))}}class DownloadImg{constructor(e){this.viewer=e}_printTheMaps(e){var t=document.createElementNS("http://www.w3.org/1999/xhtml","a");t.href=e,t.download="场景出图"+(new Date).getTime()+".png";var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}examineImg(){new Image;return this.viewer.render(),this.viewer.scene.canvas.toDataURL("image/png")}exportImg(){var e=new Image;this.viewer.render(),e=this.viewer.scene.canvas.toDataURL("image/png"),this._printTheMaps(e)}exportThumbnail(e=615,t=300){var i=new Image,n=this.viewer.scene.canvas.width,r=this.viewer.scene.canvas.height;this.viewer.scene.canvas.width=e,this.viewer.scene.canvas.height=t,this.viewer.render(),i=this.viewer.scene.canvas.toDataURL("image/png"),this.viewer.scene.canvas.width=n,this.viewer.scene.canvas.height=r,this.viewer.render(),this._printTheMaps(i)}}class tooltip{constructor(e){this.viewer=e,this.init()}init(){var e=this.viewer,t=this;$("#"+e._container.id).append('<div id="tooltip-view" class="cesium-popup" style="display:none;">     <div class="cesium-popup-content-wrapper  cesium-popup-background">         <div id="tooltip-content" class="cesium-popup-content cesium-popup-color"></div>     </div>     <div class="cesium-popup-tip-container"><div class="cesium-popup-tip  cesium-popup-background"></div></div></div> '),this.handler=new Cesium.ScreenSpaceEventHandler(e.scene.canvas),this.handler.setInputAction((function(i){$(".cesium-viewer").css("cursor","");var n=i.endPosition,r=e.scene.pick(n);if(r&&Cesium.defined(r.id)){var o=r.id;if((o.popup||o.cursorCSS)&&$(".cesium-viewer").css("cursor",o.cursorCSS||"pointer"),!o.tooltip)return void t.close();if(o.billboard||o.label||o.point){if(t.lastEntity==o)return;t.lastEntity=o}var a=getCurrentMousePosition$3(e,e.scene,n);t.show(o,a,n)}else if(r&&Cesium.defined(r.primitive)){var s=r.primitive;if((s.popup||s.cursorCSS)&&$(".cesium-viewer").css("cursor",s.cursorCSS||"pointer"),!s.tooltip)return void t.close();a=getCurrentMousePosition$3(e,e.scene,n);t.show(s,a,n)}else t.close()}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}show(e,t,i){if(null!=e&&null!=e.tooltip)if(null==i&&(i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene,t)),null!=i){var n,r=$("#tooltip-view");if("function"==typeof(n="object"==typeof e.tooltip?e.tooltip.html:e.tooltip)&&(n=n(e)),n){$("#tooltip-content").html(n),r.show();var o=i.x-r.width()/2,a=i.y-r.height(),s=e.tooltip;s&&"object"==typeof s&&s.anchor?(o+=s.anchor[0],a+=s.anchor[1]):a-=10,r.css("transform","translate3d("+o+"px,"+a+"px, 0)")}}else this.close()}close(){$("#tooltip-content").empty(),$("#tooltip-view").hide(),this.lastEntity=null}destroy(){this.close(),this.handler.destroy()}}var DynamicProperty=function(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new Cesium.Event,this._constant=!1,this.setValue(e)};Object.defineProperties(DynamicProperty.prototype,{isConstant:{get:function(){return this._constant},set:function(e){this._constant!==e&&(this._constant=e,this._definitionChanged.raiseEvent(this))}},definitionChanged:{get:function(){return this._definitionChanged}}}),DynamicProperty.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value},DynamicProperty.prototype.setValue=function(e){var t=this._value;if(t!==e){var i=Cesium.defined(e),n=i&&"function"==typeof e.clone,r=i&&"function"==typeof e.equals;this._hasClone=n,this._hasEquals=r,(!r||!e.equals(t))&&(this._value=n?e.clone():e,this._definitionChanged.raiseEvent(this))}},DynamicProperty.prototype.equals=function(e){return this===e||e instanceof DynamicProperty&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))},DynamicProperty.prototype.valueOf=function(e){return this._value},DynamicProperty.prototype.toString=function(e){return String(this._value)};var drawutils={createDragger:function(e,t){var i;if(t.dragger)i=t.dragger;else{var n=Cesium.defaultValue(t.position,Cesium.Cartesian3.ZERO);if(t.dragIcon)i=e.entities.add({position:n,billboard:{scale:1,image:t.dragIcon,heightReference:t.clampToGround?Cesium.HeightReference.CLAMP_TO_GROUND:Cesium.HeightReference.NONE}});else{var r="2"===t.drawPointType?"#FFB243":"#3388FF";i=e.entities.add({position:n,point:{scale:1,color:new Cesium.Color.fromCssColorString(r).withAlpha(.7),pixelSize:10,outlineColor:new Cesium.Color.fromCssColorString("#ffffff"),outlineWidth:2,scaleByDistance:new Cesium.NearFarScalar(1e3,1,1e6,.4),heightReference:t.clampToGround?Cesium.HeightReference.CLAMP_TO_GROUND:Cesium.HeightReference.NONE}}),t.PdisableDepthTestDistance&&(i.point.disableDepthTestDistance=Number.POSITIVE_INFINITY)}}return i._isDragger=!0,i.onDrag=Cesium.defaultValue(t.onDrag,null),i.horizontal=Cesium.defaultValue(t.horizontal,!0),i.vertical=Cesium.defaultValue(t.vertical,!1),i.verticalCtrl=Cesium.defaultValue(t.vertical,!1),i},getCoordinates:function(e){for(var t=[],i=0;i<e.length;i++){var n=Cesium.Cartographic.fromCartesian(e[i]),r=Number(Cesium.Math.toDegrees(n.longitude).toFixed(6)),o=Number(Cesium.Math.toDegrees(n.latitude).toFixed(6)),a=Number(n.height.toFixed(1));t.push([r,o,a])}return t},getMaxHeightForPositions:function(e,t){null==t&&(t=0);var i=t;if(null==e||0==e.length)return i;e[0];for(var n=0;n<e.length;n++){var r=Cesium.Cartographic.fromCartesian(e[n]);r.height>i&&(i=r.height)}return i},getPositionsWithHeight:function(e,t){if(e instanceof Array){for(var i=[],n=0;n<e.length;n++){var r=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e[n]),o={lon:Cesium.Math.toDegrees(r.longitude),lat:Cesium.Math.toDegrees(r.latitude),hgt:Math.ceil(Number(r.height)+Number(t))},a=[o.lon,o.lat,o.hgt];i=i.concat(a)}return Cesium.Cartesian3.fromDegreesArrayHeights(i)}r=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e);var s=Cesium.Math.toDegrees(r.longitude),l=Cesium.Math.toDegrees(r.latitude);return Cesium.Cartesian3.fromDegrees(s,l,Number(r.height)+Number(t))},getZHeightPosition:function(e,t){var i=Cesium.Cartographic.fromCartesian(e),n=Number(Cesium.Math.toDegrees(i.longitude)),r=Number(Cesium.Math.toDegrees(i.latitude)),o=Number(i.height.toFixed(2)),a=Cesium.Cartographic.fromCartesian(t),s=Number(Cesium.Math.toDegrees(a.longitude)),l=Number(Cesium.Math.toDegrees(a.latitude)),u=Number(a.height.toFixed(2));return o>u?Cesium.Cartesian3.fromDegrees(s,l,o):Cesium.Cartesian3.fromDegrees(n,r,u)},getHDistance:function(e,t){var i=this.getZHeightPosition(e,t),n=Cesium.Cartographic.fromCartesian(t),r=Cesium.Cartographic.fromCartesian(i),o=Cesium.Cartesian3.distance(e,i);return Math.abs(Number(r.height)-Number(n.height))<.01&&(o=Cesium.Cartesian3.distance(t,i)),o},getMidPosition:function(e,t){var i=Cesium.Cartographic.fromCartesian(e),n=Number(Cesium.Math.toDegrees(i.longitude)),r=Number(Cesium.Math.toDegrees(i.latitude)),o=Number(i.height.toFixed(2)),a=Cesium.Cartographic.fromCartesian(t),s=(n+Number(Cesium.Math.toDegrees(a.longitude)))/2,l=(r+Number(Cesium.Math.toDegrees(a.latitude)))/2,u=(o+Number(a.height.toFixed(2)))/2;return Cesium.Cartesian3.fromDegrees(s,l,u)},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getPositionsFromJson:function(e){if(!e)return null;switch(e.type){case"Point":var t=e.coordinates;return 1==t.length&&this.isArray(t[0])&&(t=t[0]),this.lonLatToCartesian(t);case"MultiPoint":case"LineString":return this.lonLatsToCartesians(e.coordinates);case"MultiLineString":case"Polygon":case"zhijiantou":case"qianjijiantou":case"gongjijiantou":return this.lonLatsToCartesians(e.coordinates[0]);case"MultiPolygon":return this.lonLatsToCartesians(e.coordinates[0][0]);default:throw new Error("Invalid GeoJSON object.")}},lonLatToCartesian:function(e){return Cesium.Cartesian3.fromDegrees(Number(e[0]),Number(e[1]),Number(e[2]||0))},lonLatsToCartesians:function(e){for(var t=[],i=0;i<e.length;i++){var n=[Number(e[i][0]),Number(e[i][1]),Number(e[i][2]||0)];t=t.concat(n)}return Cesium.Cartesian3.fromDegreesArrayHeights(t)},normalizeJsonData:function(e){var t,i={};if(i.type="FeatureCollection",i.features=[],(t="string"==typeof e?JSON.parse(e):e)instanceof Array){for(var n=0;n<t.length;n++){var r={type:"Feature"};r.properties=t[n].properties||t[n].PROPERTIES,r.geometry=t[n].geometry||t[n].GEOMETRY,i.features.push(r)}return JSON.stringify(i)}if(e.features&&e.features instanceof Array)return e},normalizeBusinessData:function(e){var t={};try{t=JSON.parse(e)}catch(e){return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!")}for(var i=t.features,n=[],r=0;r<i.length;r++){var o=i[r],a={dataID:o.properties.attr.id,dataType:o.properties.attr.type,properties:o.properties,geometry:o.geometry};n.push(a)}return JSON.stringify(n)}},_drawutils$v=drawutils,PointEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],_drawutils$v.createDragger(this.dataSource,{dragger:t,onDrag:function(e,i){var n=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(i,t.position._value,n),t.position._value=i,t.changeEditing()}})};PointEditor.prototype.updateDraggers=function(){},PointEditor.prototype.destroy=function(){this.draggers=[]};var _DynamicProperty$d=DynamicProperty,_drawutils$u=drawutils,_Editor$8=PointEditor,BillboardControl={typename:"billboard",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({billboard:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={scale:1,rotation:0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,scaleByDistance:null,distanceDisplayCondition:null}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"opacity":t.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(n||1));break;case"rotation":t.rotation=Cesium.Math.toRadians(n)||0;break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}return t},getEditor:function(e,t,i){return new _Editor$8(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$d(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$u.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_DynamicProperty$c=DynamicProperty,_drawutils$t=drawutils,_Editor$7=PointEditor,LabelControl={typename:"label",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({label:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={scale:1,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"font_style":case"font_weight":case"font_size":case"font_family":case"text":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":case"background_opacity":break;case"color":t.fillColor=new Cesium.Color.fromCssColorString(n||"#ffffff").withAlpha(Number(e.style.opacity||1));break;case"border":t.style=n?Cesium.LabelStyle.FILL_AND_OUTLINE:Cesium.LabelStyle.FILL;break;case"border_color":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.opacity||1));break;case"border_width":t.outlineWidth=n;break;case"background":t.showBackground=n;break;case"background_color":t.backgroundColor=new Cesium.Color.fromCssColorString(n||"#000000").withAlpha(Number(e.style.background_opacity||e.style.opacity||.5));break;case"pixelOffset":t.pixelOffset=new Cesium.Cartesian2(e.style.pixelOffset[0],e.style.pixelOffset[1]);break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}t.text=(e.style.text||"文字").replace(new RegExp("<br />","gm"),"\n");var r=(e.style.font_style||"normal")+" small-caps "+(e.style.font_weight||"normal")+" "+(e.style.font_size||"25")+"px "+(e.style.font_family||"楷体");return t.font=r,t},getEditor:function(e,t,i){return new _Editor$7(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$c(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$t.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$s=drawutils,EllipseEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.options=i,this.draggers=[],this.heightDraggers=[],this.initDraggers()};EllipseEditor.prototype.initDraggers=function(){var e=this,t=_drawutils$s.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:this.entity.position._value,clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=new Cesium.Cartesian3;if(Cesium.Cartesian3.subtract(i,e.entity.position._value,n),!e.entity.attribute.style.clampToGround){var r=Cesium.Cartographic.fromCartesian(i);e.entity.ellipse.height=new Cesium.ConstantProperty(r.height),e.entity.attribute.style.height=Number(r.height.toFixed(2))}e.entity.position._value=i;var o=new Cesium.Cartesian3;Cesium.Cartesian3.add(t.majorDragger.position._value,n,o),t.majorDragger.position=new Cesium.ConstantProperty(o),Cesium.Cartesian3.add(t.minorDragger.position._value,n,o),t.minorDragger.position=new Cesium.ConstantProperty(o),null!=e.entity.attribute.style.extrudedHeight&&e.updateHeightDraggers(),e.entity.changeEditing()}});this.draggers.push(t);var i=Cesium.EllipseGeometryLibrary.computeEllipsePositions({center:this.entity.position._value,semiMinorAxis:this.entity.ellipse.semiMinorAxis._value,semiMajorAxis:this.entity.ellipse.semiMajorAxis._value,rotation:Cesium.Math.toRadians(Number(this.entity.attribute.style.rotation||0)),granularity:2},!0,!1),n=new Cesium.Cartesian3(i.positions[0],i.positions[1],i.positions[2]),r=_drawutils$s.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:n,clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartesian3.distance(e.entity.position._value,i),r=Number(n.toFixed(2));e.entity.ellipse.semiMajorAxis=new Cesium.ConstantProperty(r),e.entity.attribute.style.radius?(e.entity.attribute.style.radius=r,e.entity.ellipse.semiMinorAxis=new Cesium.ConstantProperty(r)):e.entity.attribute.style.semiMajorAxis=r,null!=e.entity.attribute.style.extrudedHeight&&e.updateHeightDraggers(),e.entity.changeEditing()}});t.majorDragger=r,this.draggers.push(r);var o=new Cesium.Cartesian3(i.positions[3],i.positions[4],i.positions[5]),a=_drawutils$s.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:o,clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartesian3.distance(e.entity.position._value,i),r=Number(n.toFixed(2));e.entity.ellipse.semiMinorAxis=new Cesium.ConstantProperty(r),e.entity.attribute.style.radius?(e.entity.attribute.style.radius=r,e.entity.ellipse.semiMajorAxis=new Cesium.ConstantProperty(r)):e.entity.attribute.style.semiMinorAxis=r,null!=e.entity.attribute.style.extrudedHeight&&e.updateHeightDraggers(),e.entity.changeEditing()}});t.minorDragger=a,this.draggers.push(a),null!=this.entity.attribute.style.extrudedHeight&&this.initHeightDraggers()},EllipseEditor.prototype.initHeightDraggers=function(){var e=this,t=Number(this.entity.attribute.style.extrudedHeight)-Number(this.entity.attribute.style.height),i=_drawutils$s.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:_drawutils$s.getPositionsWithHeight(this.entity.position._value,t),clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(i,n){var r=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(n,e.entity.position._value,r);var o=Cesium.Cartographic.fromCartesian(n),a=Number(o.height.toFixed(2));e.entity.position._value=n,e.entity.ellipse.extrudedHeight=new Cesium.ConstantProperty(Number(a)+Number(t)),e.entity.ellipse.height=new Cesium.ConstantProperty(o.height),e.entity.attribute.style.extrudedHeight=Number(a)+Number(t),e.entity.attribute.style.height=a,e.updateDraggers(),e.entity.changeEditing()}});this.heightDraggers.push(i);var n=Cesium.EllipseGeometryLibrary.computeEllipsePositions({center:this.entity.position._value,semiMinorAxis:this.entity.ellipse.semiMinorAxis._value,semiMajorAxis:this.entity.ellipse.semiMajorAxis._value,rotation:Cesium.Math.toRadians(Number(this.entity.attribute.style.rotation||0)),granularity:2},!0,!1),r=new Cesium.Cartesian3(n.positions[0],n.positions[1],n.positions[2]),o=_drawutils$s.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:_drawutils$s.getPositionsWithHeight(r,t),clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartographic.fromCartesian(i);e.entity.ellipse.extrudedHeight=new Cesium.ConstantProperty(n.height),e.entity.attribute.style.extrudedHeight=Number(n.height.toFixed(2)),e.updateHeightDraggers(),e.entity.changeEditing()},vertical:!0,horizontal:!1});this.heightDraggers.push(o);var a=new Cesium.Cartesian3(n.positions[3],n.positions[4],n.positions[5]),s=_drawutils$s.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:_drawutils$s.getPositionsWithHeight(a,t),clampToGround:this.entity.attribute.style.clampToGround,onDrag:function(t,i){var n=Cesium.Cartographic.fromCartesian(i);e.entity.ellipse.extrudedHeight=new Cesium.ConstantProperty(n.height),e.entity.attribute.style.extrudedHeight=Number(n.height.toFixed(2)),e.updateHeightDraggers(),e.entity.changeEditing()},vertical:!0,horizontal:!1});this.heightDraggers.push(s)},EllipseEditor.prototype.updateDraggers=function(){this.destroy(),this.initDraggers()},EllipseEditor.prototype.updateHeightDraggers=function(){for(var e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[],this.initHeightDraggers()},EllipseEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);if(this.draggers=[],null!=this.entity.attribute.style.extrudedHeight){for(e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]}};var _DynamicProperty$b=DynamicProperty,_drawutils$r=drawutils,_Editor$6=EllipseEditor,EllipseControl={typename:"ellipse",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({ellipse:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0}),e.style.clampToGround&&(e.style.hasOwnProperty("height")&&delete e.style.height,e.style.hasOwnProperty("extrudedHeight")&&delete e.style.extrudedHeight),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"rotation":t.rotation=Cesium.Math.toRadians(n);break;case"radius":t.semiMinorAxis=Number(n),t.semiMajorAxis=Number(n)}}return t},getEditor:function(e,t,i){return new _Editor$6(e,t,i)},setPositions:function(e,t){e.position=new _DynamicProperty$b(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$r.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$q=drawutils,PolylineEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=t.polyline.positions._value,r=[],o=[],a=0;a<n.length;a++)if(r.push(n[a]),o.push("1"),a<n.length-1){var s=Cesium.Cartesian3.midpoint(n[a],n[a+1],new Cesium.Cartesian3);r.push(s),o.push("2")}for(a=0;a<r.length;a++){var l=r[a],u=_drawutils$q.createDragger(this.dataSource,{dragIcon:i.dragIcon,clampToGround:this.entity._attribute.style.clampToGround,PdisableDepthTestDistance:this.entity._attribute.style.PdisableDepthTestDistance,position:l,drawPointType:o[a],onDrag:function(e,i){r[e.index]=i;var n=[];"2"===o[e.index]?n.push(e.index):e.index>0&&e.index<r.length-1&&(n.push(e.index-1),n.push(e.index+1));for(var a=[],s=0;s<o.length;s++)("1"===o[s]||"2"===o[s]&&n.indexOf(s)>=0)&&a.push(r[s]);t.polyline.positions=a,t.changeEditing()}});u.index=a,this.draggers.push(u)}};PolylineEditor.prototype.updateDraggers=function(){for(var e=this.entity.polyline.positions.getValue(),t=0;t<this.draggers.length;t++){var i=e[t];this.draggers[t].position=i}},PolylineEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$a=DynamicProperty,_drawutils$p=drawutils,_Editor$5=PolylineEditor,PolylineControl={typename:"polyline",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polyline:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={followSurface:!0,positions:new _DynamicProperty$a([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;case"lineType":case"color":case"opacity":case"outline":case"outlineWidth":case"outlineColor":case"outlineOpacity":}}var r=new Cesium.Color.fromCssColorString(e.style.color||"#FFFF00").withAlpha(Number(e.style.opacity||1));switch(e.style.lineType){default:case"solid":e.style.outline?t.material=new Cesium.PolylineOutlineMaterialProperty({color:r,outlineWidth:Number(e.style.outlineWidth||1),outlineColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=r;break;case"dash":e.style.outline?t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||e.style.outlineWidth||16,color:r,gapColor:new Cesium.Color.fromCssColorString(e.style.outlineColor||"#FFFF00").withAlpha(Number(e.style.outlineOpacity||e.style.opacity||1))}):t.material=new Cesium.PolylineDashMaterialProperty({dashLength:e.style.dashLength||16,color:r});break;case"glow":t.material=new Cesium.PolylineGlowMaterialProperty({glowPower:e.style.glowPower||.1,color:r});break;case"arrow":t.material=new Cesium.PolylineArrowMaterialProperty(r)}return t},getEditor:function(e,t,i){return new _Editor$5(e,t,i)},setPositions:function(e,t){e.polyline.positions.setValue(t)},getPositions:function(e){return e.polyline.positions._value},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$p.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"LineString",coordinates:t}}}},_drawutils$o=drawutils,zhijiantouExtrudedEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=t.polygon.hierarchy._value;for(r=3;r<o.length;r+=4){var a=o[r];if(null!=t.polygon.height){var s=Cesium.Cartographic.fromCartesian(a);s.height+=t.polygon.height._value,a=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height)}var l=_drawutils$o.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){var r;e.positions[e.index]=i;var o=Cesium.Cartographic.fromCartesian(i),a=[Cesium.Math.toDegrees(o.longitude),Cesium.Math.toDegrees(o.latitude),o.height];if(3==e.index){var s=Cesium.Cartographic.fromCartesian(e.positions[7]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(l,a)}else{s=Cesium.Cartographic.fromCartesian(e.positions[3]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(a,l)}t.polygon.hierarchy.setValue(r),n.updateDraggers(),t.changeEditing()}});l.index=r,l.positions=o,this.draggers.push(l)}if(t.polygon.extrudedHeight)for(r=3;r<o.length;r+=4){var u=o[r],c=Cesium.Cartographic.fromCartesian(u);c.height=t.polygon.extrudedHeight._value;var h=Cesium.Cartesian3.fromRadians(c.longitude,c.latitude,c.height);l=_drawutils$o.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:h,onDrag:function(e,i){for(var r=n.entity.polygon.hierarchy._value,o=r[0],a=3;a<r.length;a+=4){var s=Cesium.Cartographic.fromCartesian(o),l=Cesium.Cartographic.fromCartesian(r[a]);Number(l.height)>Number(s.height)&&(o=r[a])}var u=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(u.height));var c=Number(u.height)-Number(Cesium.Cartographic.fromCartesian(o).height);t.attribute.style.extrudedHeight=Number(c.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});l.index=r,this.heightDraggers.push(l)}};zhijiantouExtrudedEditor.prototype.updateDraggers=function(){var e=this.entity.polygon.hierarchy._value,t=this.entity.polygon.extrudedHeight._value,i=0;null!=this.entity.polygon.height&&(i=this.entity.polygon.height._value);for(var n=[e[3],e[7]],r=0;r<this.heightDraggers.length;r++){var o=n[r],a=this.heightDraggers[r],s=Cesium.Cartographic.fromCartesian(o);s.height=t;var l=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height);a.position=l;var u=this.draggers[r],c=Cesium.Cartographic.fromCartesian(o);c.height+=i,l=Cesium.Cartesian3.fromRadians(c.longitude,c.latitude,c.height),u.position=l}},zhijiantouExtrudedEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$n=drawutils,zhijiantouEditor=function(e,t,i){var n=this;this.dataSource=e,this.entity=t,this.draggers=[];for(var r=t.polygon.hierarchy._value,o=3;o<r.length;o+=4){var a=r[o],s=_drawutils$n.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){var r;e.positions[e.index]=i;var o=Cesium.Cartographic.fromCartesian(i),a=[Cesium.Math.toDegrees(o.longitude),Cesium.Math.toDegrees(o.latitude),o.height];if(3==e.index){var s=Cesium.Cartographic.fromCartesian(e.positions[7]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(l,a)}else{s=Cesium.Cartographic.fromCartesian(e.positions[3]),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];r=plotUtil.algorithm.fineArrow(a,l)}t.polygon.hierarchy.setValue(r),n.updateDraggers(),t.changeEditing()}});s.index=o,s.positions=r,this.draggers.push(s)}};zhijiantouEditor.prototype.updateDraggers=function(){var e=this.entity.polygon.hierarchy._value;this.draggers[0].position=e[3],this.draggers[1].position=e[7]},zhijiantouEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$9=DynamicProperty,_drawutils$m=drawutils,_Editor1$4=zhijiantouExtrudedEditor,_Editor2$4=zhijiantouEditor,zhijiantouControl={typename:"zhijiantou",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){if(console.log("什么鬼"),(e=e||{}).style=e.style||{},null==t){t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:[{x:838969.7608726949,y:-482155.5435189371,z:6283169.900670157},{x:838969.769522942,y:-482155.5461352871,z:6283169.899323423},{x:838969.76835682,y:-482155.5455395757,z:6283169.899523497},{x:838969.7723827895,y:-482155.5471197159,z:6283169.898869078},{x:838969.7716160297,y:-482155.5477297623,z:6283169.898924275},{x:838969.7712502722,y:-482155.5472960521,z:6283169.899005845},{x:838969.7662860398,y:-482155.5471567013,z:6283169.899674887},{x:838969.763579368,y:-482155.5453378196,z:6283169.900172522}]}}for(var i in e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||e.style.color||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$m.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$4(e,t,i):new _Editor2$4(e,t,i)},twopointTo8point:function(e){var t=Cesium.Cartographic.fromCartesian(e[0]),i=[Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude),t.height],n=Cesium.Cartographic.fromCartesian(e[1]),r=[Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height];return plotUtil.algorithm.fineArrow(r,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$9(t),e.attribute.style.extrudedHeight){var i=_drawutils$m.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy;return t.positions&&this.isArray(t.positions)?t.positions:t},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e)._value;return _drawutils$m.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e),i=[];return i.push(t[3]),i.push(t[7]),{type:"Feature",properties:e.attribute,geometry:{type:"zhijiantou",coordinates:[i]}}}},_drawutils$l=drawutils,qianjiExtrudedEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];for(var n=this,r=0,o=[],a=JSON.parse(t.attribute.kzpoint),s=0;s<a.length;s++)o.push(Cesium.Cartesian3.fromDegrees(a[s][0],a[s][1],a[s][2]));for(r=0;r<o.length;r++){var l=o[r];if(null!=t.polygon.height){var u=Cesium.Cartographic.fromCartesian(l);u.height+=t.polygon.height._value,l=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height)}var c=_drawutils$l.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:l,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];e.positions[e.index]=i,a[e.index]=o;var s=plotUtil.algorithm.doubleArrow(a);t.polygon.hierarchy.setValue(s.polygonalPoint),t.attribute.kzpoint=JSON.stringify(s.controlPoint),n.updateDraggers(),t.changeEditing()}});c.index=r,c.positions=o,this.draggers.push(c)}if(t.polygon.extrudedHeight)for(r=0;r<o.length;r++){var h=o[r],g=Cesium.Cartographic.fromCartesian(h);g.height=t.polygon.extrudedHeight._value;var d=Cesium.Cartesian3.fromRadians(g.longitude,g.latitude,g.height);c=_drawutils$l.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:d,onDrag:function(e,i){for(var r=o,a=r[0],s=0;s<r.length;s++){var l=Cesium.Cartographic.fromCartesian(a),u=Cesium.Cartographic.fromCartesian(r[s]);Number(u.height)>Number(l.height)&&(a=r[s])}var c=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(c.height));var h=Number(c.height)-Number(Cesium.Cartographic.fromCartesian(a).height);t.attribute.style.extrudedHeight=Number(h.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});c.index=r,this.heightDraggers.push(c)}};qianjiExtrudedEditor.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++)e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=this.entity.polygon.extrudedHeight._value,r=0;null!=this.entity.polygon.height&&(r=this.entity.polygon.height._value);for(var o=0;o<this.heightDraggers.length;o++){var a=e[o],s=this.heightDraggers[o],l=Cesium.Cartographic.fromCartesian(a);l.height=n;var u=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height);s.position=u;var c=this.draggers[o],h=Cesium.Cartographic.fromCartesian(a);h.height+=r,u=Cesium.Cartesian3.fromRadians(h.longitude,h.latitude,h.height),c.position=u}},qianjiExtrudedEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$k=drawutils,qianjijiantouEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=[],r=JSON.parse(t.attribute.kzpoint),o=0;o<r.length;o++)n.push(Cesium.Cartesian3.fromDegrees(r[o][0],r[o][1],r[o][2]));for(var a=0;a<n.length;a++){var s=n[a],l=_drawutils$k.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:s,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){var n=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height];e.positions[e.index]=i,r[e.index]=o;var a=plotUtil.algorithm.doubleArrow(r);t.polygon.hierarchy.setValue(a.polygonalPoint),t.attribute.kzpoint=JSON.stringify(a.controlPoint),t.changeEditing()}});l.index=a,l.positions=n,this.draggers.push(l)}};qianjijiantouEditor.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++){e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=e[i];this.draggers[i].position=n}},qianjijiantouEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$8=DynamicProperty,_drawutils$j=drawutils,_Editor1$3=qianjiExtrudedEditor,_Editor2$3=qianjijiantouEditor,qianjijiantouControl={typename:"qianjijiantou",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:new _DynamicProperty$8([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||e.style.color||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$j.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$3(e,t,i):new _Editor2$3(e,t,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$8(t),e.attribute.style.extrudedHeight){var i=_drawutils$j.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy;return t.positions&&this.isArray(t.positions)?t.positions:t},qianjipoints:function(e,t){for(var i=[],n=0;n<t.length;n++){var r=Cesium.Cartographic.fromCartesian(t[n]),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];i.push(o)}var a=plotUtil.algorithm.doubleArrow(i);return e.attribute.kzpoint=JSON.stringify(a.controlPoint),a.polygonalPoint},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e)._value;return _drawutils$j.getCoordinates(t)},toGeoJSON:function(e){var t=JSON.parse(e.attribute.kzpoint);return{type:"Feature",properties:e.attribute,geometry:{type:"qianjijiantou",coordinates:[t]}}}},_drawutils$i=drawutils,gongjiExtrudedEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];for(var n=this,r=0,o=[],a=JSON.parse(t.attribute.kzpoint),s=0;s<a.length;s++)o.push(Cesium.Cartesian3.fromDegrees(a[s][0],a[s][1],a[s][2]));for(r=0;r<o.length;r++){var l=o[r];if(null!=t.polygon.height){var u=Cesium.Cartographic.fromCartesian(l);u.height+=t.polygon.height._value,l=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height)}var c=_drawutils$i.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:l,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];e.positions[e.index]=i,a[e.index]=o;var s=plotUtil.algorithm.tailedAttackArrow(a);t.polygon.hierarchy.setValue(s.polygonalPoint),t.attribute.kzpoint=JSON.stringify(s.controlPoint),n.updateDraggers(),t.changeEditing()}});c.index=r,c.positions=o,this.draggers.push(c)}if(t.polygon.extrudedHeight)for(r=0;r<o.length;r++){var h=o[r],g=Cesium.Cartographic.fromCartesian(h);g.height=t.polygon.extrudedHeight._value;var d=Cesium.Cartesian3.fromRadians(g.longitude,g.latitude,g.height);c=_drawutils$i.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:d,onDrag:function(e,i){for(var r=o,a=r[0],s=0;s<r.length;s++){var l=Cesium.Cartographic.fromCartesian(a),u=Cesium.Cartographic.fromCartesian(r[s]);Number(u.height)>Number(l.height)&&(a=r[s])}var c=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(c.height));var h=Number(c.height)-Number(Cesium.Cartographic.fromCartesian(a).height);t.attribute.style.extrudedHeight=Number(h.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});c.index=r,this.heightDraggers.push(c)}};gongjiExtrudedEditor.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++)e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=this.entity.polygon.extrudedHeight._value,r=0;null!=this.entity.polygon.height&&(r=this.entity.polygon.height._value);for(var o=0;o<this.heightDraggers.length;o++){var a=e[o],s=this.heightDraggers[o],l=Cesium.Cartographic.fromCartesian(a);l.height=n;var u=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height);s.position=u;var c=this.draggers[o],h=Cesium.Cartographic.fromCartesian(a);h.height+=r,u=Cesium.Cartesian3.fromRadians(h.longitude,h.latitude,h.height),c.position=u}},gongjiExtrudedEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$h=drawutils,gongjijiantouEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=[],r=JSON.parse(t.attribute.kzpoint),o=0;o<r.length;o++)n.push(Cesium.Cartesian3.fromDegrees(r[o][0],r[o][1],r[o][2]));for(var a=0;a<n.length;a++){var s=n[a],l=_drawutils$h.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:s,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){var n=Cesium.Cartographic.fromCartesian(i),o=[Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height];e.positions[e.index]=i,r[e.index]=o;var a=plotUtil.algorithm.tailedAttackArrow(r);t.polygon.hierarchy.setValue(a.polygonalPoint),t.attribute.kzpoint=JSON.stringify(a.controlPoint),t.changeEditing()}});l.index=a,l.positions=n,this.draggers.push(l)}};gongjijiantouEditor.prototype.updateDraggers=function(){for(var e=[],t=JSON.parse(this.entity.attribute.kzpoint),i=0;i<t.length;i++){e.push(Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],t[i][2]));var n=e[i];this.draggers[i].position=n}},gongjijiantouEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$7=DynamicProperty,_drawutils$g=drawutils,_Editor1$2=gongjiExtrudedEditor,_Editor2$2=gongjijiantouEditor,gongjijiantouControl={typename:"gongjijiantou",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:new _DynamicProperty$7([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||e.style.color||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$g.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$2(e,t,i):new _Editor2$2(e,t,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$7(t),e.attribute.style.extrudedHeight){var i=_drawutils$g.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy;return t.positions&&this.isArray(t.positions)?t.positions:t},gongjipoints:function(e,t){for(var i=[],n=0;n<t.length;n++){var r=Cesium.Cartographic.fromCartesian(t[n]),o=[Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),r.height];i.push(o)}var a=plotUtil.algorithm.tailedAttackArrow(i);return e.attribute.kzpoint=JSON.stringify(a.controlPoint),a.polygonalPoint},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$g.getCoordinates(t)},toGeoJSON:function(e){var t=JSON.parse(e.attribute.kzpoint);return{type:"Feature",properties:e.attribute,geometry:{type:"gongjijiantou",coordinates:[t]}}}},_drawutils$f=drawutils,PolylineVolumeEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=t.polylineVolume.positions.getValue(),r=0;r<n.length;r++){var o=n[r],a=_drawutils$f.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:o,onDrag:function(e,i){n[e.index]=i,t.polylineVolume.positions=n,t.changeEditing()}});a.index=r,this.draggers.push(a)}};PolylineVolumeEditor.prototype.updateDraggers=function(){for(var e=this.entity.polylineVolume.positions.getValue(),t=0;t<this.draggers.length;t++){var i=e[t];this.draggers[t].position=i}},PolylineVolumeEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$6=DynamicProperty,_drawutils$e=drawutils,_Editor$4=PolylineVolumeEditor,PolylineVolumeControl={typename:"polylineVolume",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polylineVolume:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={positions:new _DynamicProperty$6([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":case"radius":case"shape":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1))}}switch(e.style.radius=e.style.radius||10,e.style.shape){default:case"pipeline":t.shape=this._getCorridorShape1(e.style.radius);break;case"circle":t.shape=this._getCorridorShape2(e.style.radius);break;case"star":t.shape=this._getCorridorShape3(e.style.radius)}return t},_getCorridorShape1:function(e){for(var t=e/3,i=[],n=0;n<=360;n++){var r=Cesium.Math.toRadians(n);i.push(new Cesium.Cartesian2(e*Math.cos(r),e*Math.sin(r)))}for(n=360;n>=0;n--){r=Cesium.Math.toRadians(n);i.push(new Cesium.Cartesian2((e-t)*Math.cos(r),(e-t)*Math.sin(r)))}return i},_getCorridorShape2:function(e){for(var t=[],i=0;i<=360;i++){var n=Cesium.Math.toRadians(i);t.push(new Cesium.Cartesian2(e*Math.cos(n),e*Math.sin(n)))}return t},_getCorridorShape3:function(e,t){t=t||6;for(var i=Math.PI/t,n=2*t,r=new Array(n),o=0;o<n;o++){var a=o%2==0?e:e/3;r[o]=new Cesium.Cartesian2(Math.cos(o*i)*a,Math.sin(o*i)*a)}return r},getEditor:function(e,t,i){return new _Editor$4(e,t,i)},setPositions:function(e,t){e.polylineVolume.positions.setValue(t)},getPositions:function(e){return e.polylineVolume.positions.getValue()},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$e.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"LineString",coordinates:t}}}},_drawutils$d=drawutils,PolygonExtrudedEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=t.polygon.hierarchy._value;for(r=0;r<o.length;r++){var a=o[r];if(null!=t.polygon.height){var s=Cesium.Cartographic.fromCartesian(a);s.height+=t.polygon.height._value,a=Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height)}var l=_drawutils$d.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){e.positions[e.index]=i;for(var r=t.polygon.hierarchy._value,o=r[0],a=1;a<r.length;a++){var s=Cesium.Cartographic.fromCartesian(o),l=Cesium.Cartographic.fromCartesian(r[a]);Number(l.height)>Number(s.height)&&(o=r[a])}var u=Number(t.polygon.extrudedHeight)-Number(Cesium.Cartographic.fromCartesian(o).height);t.attribute.style.extrudedHeight=Number(u.toFixed(2)),n.updateDraggers(),t.changeEditing()}});l.index=r,l.positions=o,this.draggers.push(l)}if(t.polygon.extrudedHeight)for(r=0;r<o.length;r++){var u=o[r],c=Cesium.Cartographic.fromCartesian(u);c.height=t.polygon.extrudedHeight._value;var h=Cesium.Cartesian3.fromRadians(c.longitude,c.latitude,c.height);l=_drawutils$d.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:h,onDrag:function(e,i){for(var r=n.entity.polygon.hierarchy._value,o=r[0],a=1;a<r.length;a++){var s=Cesium.Cartographic.fromCartesian(o),l=Cesium.Cartographic.fromCartesian(r[a]);Number(l.height)>Number(s.height)&&(o=r[a])}var u=Cesium.Cartographic.fromCartesian(i);t.polygon.extrudedHeight=new Cesium.ConstantProperty(Number(u.height));var c=Number(u.height)-Number(Cesium.Cartographic.fromCartesian(o).height);t.attribute.style.extrudedHeight=Number(c.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});l.index=r,this.heightDraggers.push(l)}};PolygonExtrudedEditor.prototype.updateDraggers=function(){var e=this.entity.polygon.hierarchy._value,t=this.entity.polygon.extrudedHeight._value,i=0;null!=this.entity.polygon.height&&(i=this.entity.polygon.height._value);for(var n=0;n<this.heightDraggers.length;n++){var r=e[n],o=this.heightDraggers[n],a=Cesium.Cartographic.fromCartesian(r);a.height=t;var s=Cesium.Cartesian3.fromRadians(a.longitude,a.latitude,a.height);o.position=s;var l=this.draggers[n],u=Cesium.Cartographic.fromCartesian(r);u.height+=i,s=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height),l.position=s}},PolygonExtrudedEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$c=drawutils,PolygonEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=t.polygon.hierarchy._value,r=0;r<n.length;r++){var o=n[r],a=_drawutils$c.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:o,clampToGround:t.attribute.style.hasOwnProperty("clampToGround")?t.attribute.style.clampToGround:!t.attribute.style.perPositionHeight,onDrag:function(e,i){e.positions[e.index]=i,t.changeEditing()}});a.index=r,a.positions=n,this.draggers.push(a)}};PolygonEditor.prototype.updateDraggers=function(){for(var e=this.entity.polygon.hierarchy._value,t=0;t<this.draggers.length;t++){var i=e[t];this.draggers[t].position=i}},PolygonEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$5=DynamicProperty,_drawutils$b=drawutils,_Editor1$1=PolygonExtrudedEditor,_Editor2$1=PolygonEditor,PolygonControl={typename:"polygon",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({polygon:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0,classificationType:Cesium.ClassificationType.BOTH,hierarchy:Cesium.Cartesian3.fromDegreesArray([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extrudedHeight":var r=_drawutils$b.getMaxHeightForPositions(t.hierarchy._value);t.extrudedHeight=Number(n)+r;break;case"clampToGround":t.perPositionHeight=!n}}return null==e.style.color&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.polygon.extrudedHeight?new _Editor1$1(e,t,i):new _Editor2$1(e,t,i)},setPositions:function(e,t){if(e.polygon.hierarchy=new _DynamicProperty$5(t),e.attribute.style.extrudedHeight){var i=_drawutils$b.getMaxHeightForPositions(t);e.polygon.extrudedHeight=i+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){var t=e.polygon.hierarchy._value;return t.positions&&this.isArray(t.positions)?t.positions:t},isArray:function(e){return"object"==typeof e&&e.constructor==Array},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$b.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);if(t.length>0){var i=t[0],n=t[t.length-1];i[0]==n[0]&&i[1]==n[1]&&i[2]==n[2]||t.push(i)}return{type:"Feature",properties:e.attribute,geometry:{type:"Polygon",coordinates:[t]}}}},_drawutils$a=drawutils,EllipsoidEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.options=i,this.draggers=[],this.initDraggers()};EllipsoidEditor.prototype.initDraggers=function(){var e=this,t=this.entity.position._value,i=Number(this.entity.attribute.style.heightRadii)||0,n=Cesium.Cartographic.fromCartesian(t);n.height+=i;var r=Cesium.Cartesian3.fromRadians(n.longitude,n.latitude,n.height),o=_drawutils$a.createDragger(this.dataSource,{dragIcon:this.options.dragIcon,position:r,onDrag:function(t,i){var n=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(i,e.entity.position._value,n);var r=Cesium.Cartographic.fromCartesian(i),o=Number(e.entity.attribute.style.heightRadii)||0;r.height-=o;var a=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,r.height);e.entity.position._value=a,e.entity.changeEditing()}});this.draggers.push(o)},EllipsoidEditor.prototype.updateDraggers=function(){this.destroy(),this.initDraggers()},EllipsoidEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _DynamicProperty$4=DynamicProperty,_drawutils$9=drawutils,_Editor$3=EllipsoidEditor,EllipsoidControl={typename:"ellipsoid",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({ellipsoid:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={fill:!0}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":case"widthRadii":case"heightRadii":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"extentRadii":var r=e.style.extentRadii||100,o=e.style.widthRadii||100,a=e.style.heightRadii||100;t.radii=new Cesium.Cartesian3(r,o,a)}}return t},getEditor:function(e,t,i){return new _Editor$3(e,t,i)},setPositions:function(e,t){e.position=new _DynamicProperty$4(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$9.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_DynamicProperty$3=DynamicProperty,_drawutils$8=drawutils,_Editor$2=PointEditor,PointControl={typename:"point",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({point:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={animate:!1}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":case"scaleByDistance_near":case"scaleByDistance_nearValue":case"scaleByDistance_far":case"scaleByDistance_farValue":case"distanceDisplayCondition_far":case"distanceDisplayCondition_near":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":if(e.style.animate){let i=1,n=!0;t.color=new Cesium.CallbackProperty((function(){return n?(i-=.15,i<=0&&(n=!1)):(i+=.15,i>=1&&(n=!0)),new Cesium.Color.fromCssColorString(e.style.color||"#FFFF00").withAlpha(i)}),!1)}else t.color=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"scaleByDistance":t.scaleByDistance=n?new Cesium.NearFarScalar(Number(e.style.scaleByDistance_near||1e3),Number(e.style.scaleByDistance_nearValue||1),Number(e.style.scaleByDistance_far||1e6),Number(e.style.scaleByDistance_farValue||.1)):null;break;case"distanceDisplayCondition":t.distanceDisplayCondition=n?new Cesium.DistanceDisplayCondition(Number(e.style.distanceDisplayCondition_near||0),Number(e.style.distanceDisplayCondition_far||1e5)):null}}return e.style.outline||(t.outlineWidth=0),t},getEditor:function(e,t,i){return new _Editor$2(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$3(t)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$8.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$7=drawutils,RectangleExtrudedEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=this.getDraggersPositions();for(r=0;r<o.length;r++){var a=o[r];if(null!=t.rectangle.height)(l=Cesium.Cartographic.fromCartesian(a)).height+=t.rectangle.height._value,a=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height);var s=_drawutils$7.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,clampToGround:t.attribute.style.clampToGround,onDrag:function(e,i){var r;e.positions[e.index]=i,r=0==e.index?Cesium.Rectangle.fromCartesianArray([i,e.positions[1]]):Cesium.Rectangle.fromCartesianArray([i,e.positions[0]]),t.rectangle.coordinates.setValue(r),n.updateDraggers(),t.changeEditing()}});s.index=r,s.positions=o,this.draggers.push(s)}if(t.rectangle.extrudedHeight)for(r=0;r<o.length;r++){var l,u=o[r];(l=Cesium.Cartographic.fromCartesian(u)).height+=t.rectangle.extrudedHeight._value;a=Cesium.Cartesian3.fromRadians(l.longitude,l.latitude,l.height),s=_drawutils$7.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i);t.rectangle.extrudedHeight=new Cesium.ConstantProperty(r.height);var o=Number(r.height)-Number(t.rectangle.height);t.attribute.style.extrudedHeight=Number(o.toFixed(2)),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});s.index=r,this.heightDraggers.push(s)}};RectangleExtrudedEditor.prototype.updateDraggers=function(){var e=this.getDraggersPositions(),t=this.entity.rectangle.extrudedHeight._value,i=0;null!=this.entity.rectangle.height&&(i=this.entity.rectangle.height._value);for(var n=0;n<this.heightDraggers.length;n++){var r=e[n],o=this.heightDraggers[n],a=Cesium.Cartographic.fromCartesian(r);a.height+=t;var s=Cesium.Cartesian3.fromRadians(a.longitude,a.latitude,a.height);o.position=s;var l=this.draggers[n],u=Cesium.Cartographic.fromCartesian(r);u.height+=i,s=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height),l.position=s}},RectangleExtrudedEditor.prototype.getDraggersPositions=function(){var e=this.entity.rectangle.coordinates._value,t=Cesium.Rectangle.northwest(e),i=Cesium.Rectangle.southeast(e);return Cesium.Cartesian3.fromRadiansArray([t.longitude,t.latitude,i.longitude,i.latitude])},RectangleExtrudedEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _drawutils$6=drawutils,RectangleEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[];for(var n=this.getDraggersPositions(),r=0;r<n.length;r++){var o=n[r];if(null!=t.rectangle.height){var a=Cesium.Cartographic.fromCartesian(o);a.height+=t.rectangle.height._value,o=Cesium.Cartesian3.fromRadians(a.longitude,a.latitude,a.height)}var s=_drawutils$6.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:o,clampToGround:t.attribute.style.clampToGround,onDrag:function(e,i){var n;e.positions[e.index]=i,n=0==e.index?Cesium.Rectangle.fromCartesianArray([i,e.positions[1]]):Cesium.Rectangle.fromCartesianArray([i,e.positions[0]]),t.rectangle.coordinates.setValue(n),that.updateDraggers(),t.changeEditing()}});s.index=r,s.positions=n,this.draggers.push(s)}};RectangleEditor.prototype.updateDraggers=function(){var e=this.getDraggersPositions(),t=0;null!=this.entity.rectangle.height&&(t=this.entity.rectangle.height._value);for(var i=0;i<this.draggers.length;i++){var n=e[i];if(!this.entity.attribute.style.clampToGround){var r=this.draggers[i],o=Cesium.Cartographic.fromCartesian(n);o.height+=t,r.position=Cesium.Cartesian3.fromRadians(o.longitude,o.latitude,o.height)}}},RectangleEditor.prototype.getDraggersPositions=function(){var e=this.entity.rectangle.coordinates._value,t=Cesium.Rectangle.northwest(e),i=Cesium.Rectangle.southeast(e);return Cesium.Cartesian3.fromRadiansArray([t.longitude,t.latitude,i.longitude,i.latitude])},RectangleEditor.prototype.destroy=function(){for(var e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);this.draggers=[]};var _drawutils$5=drawutils,_Editor1=RectangleExtrudedEditor,_Editor2=RectangleEditor,RectangleControl={typename:"rectangle",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({rectangle:i,attribute:t})},attribute2Entity:function(e,t){((e=e||{}).style=e.style||{},t)||(t={fill:!0,closeTop:!0,closeBottom:!0,coordinates:Cesium.Rectangle.fromDegrees(78.654473,34.878143,78.654673,34.878316)});for(var i in e.style.clampToGround&&(e.style.hasOwnProperty("height")&&delete e.style.height,e.style.hasOwnProperty("extrudedHeight")&&delete e.style.extrudedHeight),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"height":t.height=Number(n),e.style.extrudedHeight&&(t.extrudedHeight=Number(e.style.extrudedHeight)+Number(n));break;case"extrudedHeight":t.extrudedHeight=Number(t.height)+Number(n);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1));break;case"image":t.material=new Cesium.ImageMaterialProperty({image:e.style.image,color:new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(e.style.opacity||1))});break;case"rotation":t.rotation=Cesium.Math.toRadians(n),e.style.stRotation||(t.stRotation=Cesium.Math.toRadians(n));break;case"stRotation":t.stRotation=Cesium.Math.toRadians(n)}}return null==t.material&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return t.rectangle.extrudedHeight?new _Editor1(e,t,i):new _Editor2(e,t,i)},setPositions:function(e,t){t instanceof Array&&(t=Cesium.Rectangle.fromCartesianArray(t)),e.rectangle.coordinates.setValue(t)},getPositions:function(e){return e.rectangle.coordinates},getCoordinates:function(e){var t=this.getDiagonalPositions(e);return _drawutils$5.getCoordinates(t)},getDiagonalPositions:function(e){var t=e.rectangle.coordinates._value,i=Cesium.Rectangle.northwest(t),n=Cesium.Rectangle.southeast(t);return Cesium.Cartesian3.fromRadiansArray([i.longitude,i.latitude,n.longitude,n.latitude])},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"MultiPoint",coordinates:t}}}},_DynamicProperty$2=DynamicProperty,_drawutils$4=drawutils,_Editor$1=PointEditor,ModelControl={typename:"model",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({model:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},null==t&&(t={}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"silhouette":case"silhouetteColor":case"silhouetteAlpha":case"silhouetteSize":case"fill":case"color":case"opacity":break;case"modelUrl":t.uri=n}}return e.style.silhouette?(t.silhouetteColor=new Cesium.Color.fromCssColorString(e.style.silhouetteColor||"#FFFFFF").withAlpha(Number(e.style.silhouetteAlpha||1)),t.silhouetteSize=Number(e.style.silhouetteSize||1)):t.silhouetteSize=0,e.style.fill?t.color=new Cesium.Color.fromCssColorString(e.style.color||"#FFFFFF").withAlpha(Number(e.style.opacity||1)):t.color=new Cesium.Color.fromCssColorString("#FFFFFF").withAlpha(Number(e.style.opacity||1)),t},attribute2Model:function(e,t){var i=Cesium.Math.toRadians(Number(t.attribute.style.heading||0)),n=Cesium.Math.toRadians(Number(t.attribute.style.pitch||0)),r=Cesium.Math.toRadians(Number(t.attribute.style.roll||0)),o=new Cesium.HeadingPitchRoll(i,n,r);t.orientation&&(t.orientation=Cesium.Transforms.headingPitchRollQuaternion(t.position._value,o))},getEditor:function(e,t,i){return new _Editor$1(e,t)},setPositions:function(e,t){e.position=new _DynamicProperty$2(t);var i=Cesium.Math.toRadians(Number(e.attribute.style.heading||0)),n=Cesium.Math.toRadians(Number(e.attribute.style.pitch||0)),r=Cesium.Math.toRadians(Number(e.attribute.style.roll||0)),o=new Cesium.HeadingPitchRoll(i,n,r);e.orientation=Cesium.Transforms.headingPitchRollQuaternion(e.position._value,o)},getPositions:function(e){return[e.position._value]},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$4.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"Point",coordinates:t[0]}}}},_drawutils$3=drawutils,WallEditor=function(e,t,i){this.dataSource=e,this.entity=t,this.draggers=[],this.heightDraggers=[];var n=this,r=0,o=t.wall.positions._value;for(r=0;r<o.length;r++){var a=o[r],s=_drawutils$3.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){e.positions[e.index]=i,n.updateDraggers(),t.changeEditing()}});s.index=r,s.positions=o,this.draggers.push(s)}if(t.wall.maximumHeights)for(r=0;r<o.length;r++){var l=o[r],u=Cesium.Cartographic.fromCartesian(l.clone());u.height=t.wall.maximumHeights._value[r];a=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height),s=_drawutils$3.createDragger(this.dataSource,{dragIcon:i.dragIcon,position:a,onDrag:function(e,i){var r=Cesium.Cartographic.fromCartesian(i),o=n.entity.wall.minimumHeights._value,a=Number(r.height)-Number(o[e.index]);t.attribute.style.extrudedHeight=a.toFixed(2),n.updateDraggers(),t.changeEditing()},vertical:!0,horizontal:!1});s.index=r,this.heightDraggers.push(s)}};WallEditor.prototype.updateDraggers=function(){for(var e=this.entity.wall.positions._value,t=this.entity.wall.minimumHeights._value,i=this.entity.wall.maximumHeights._value,n=0;n<this.heightDraggers.length;n++){var r=e[n].clone(),o=this.heightDraggers[n],a=Cesium.Cartographic.fromCartesian(r);t[n]=a.height,i[n]=Number(a.height)+Number(this.entity.attribute.style.extrudedHeight),o.position=_drawutils$3.getPositionsWithHeight(r,this.entity.attribute.style.extrudedHeight),this.draggers[n].position=r}},WallEditor.prototype.destroy=function(){var e=0;for(e=0;e<this.draggers.length;e++)this.dataSource.entities.remove(this.draggers[e]);for(this.draggers=[],e=0;e<this.heightDraggers.length;e++)this.dataSource.entities.remove(this.heightDraggers[e]);this.heightDraggers=[]};var _DynamicProperty$1=DynamicProperty,_drawutils$2=drawutils,_Editor=WallEditor,WallControl={typename:"wall",startDraw:function(e,t){var i=this.attribute2Entity(t);return e.entities.add({wall:i,attribute:t})},attribute2Entity:function(e,t){for(var i in(e=e||{}).style=e.style||{},t||(t={fill:!0,minimumHeights:[],maximumHeights:[],positions:new _DynamicProperty$1([])}),e.style){var n=e.style[i];switch(i){default:t[i]=n;break;case"opacity":case"outlineOpacity":break;case"outlineColor":t.outlineColor=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(e.style.outlineOpacity||e.style.opacity||1);break;case"color":t.material=new Cesium.Color.fromCssColorString(n||"#FFFF00").withAlpha(Number(e.style.opacity||1))}}return null==t.material&&(t.material=Cesium.Color.fromRandom({minimumGreen:.75,maximumBlue:.75,alpha:Number(e.style.opacity||1)})),t},getEditor:function(e,t,i){return new _Editor(e,t,i)},setPositions:function(e,t){if(e.wall.positions=new _DynamicProperty$1(t),e.wall.maximumHeights&&e.wall.minimumHeights)for(var i=0;i<t.length;i++){var n=Cesium.Cartographic.fromCartesian(t[i]);e.wall.minimumHeights._value[i]=Number(n.height),e.wall.maximumHeights._value[i]=Number(n.height)+Number(e.attribute.style.extrudedHeight)}},getPositions:function(e){return e.wall.positions._value},setMaximumHeights:function(e,t){e.wall.maximumHeights=new _DynamicProperty$1(t)},getMaximumHeights:function(e){return e.wall.maximumHeights._value},setMinimumHeights:function(e,t){e.wall.minimumHeights=new _DynamicProperty$1(t)},getMinimumHeights:function(e){return e.wall.minimumHeights._value},getCoordinates:function(e){var t=this.getPositions(e);return _drawutils$2.getCoordinates(t)},toGeoJSON:function(e){var t=this.getCoordinates(e);return{type:"Feature",properties:e.attribute,geometry:{type:"LineString",coordinates:t}}}},_latlng=latlng$1,_drawutils$1=drawutils,EventControl=function(e){this.viewer=e};EventControl.prototype.setCursor=function(e){let t="";"crosshair"==e&&(t="crosshair"),document.getElementById(this.viewer._container.id).style.cursor=t},EventControl.prototype.createDrawPointHandler=function(e){this.setCursor("crosshair");var t=this;e.inProgress=!0;var i=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return i.setInputAction((function(n){var r=_latlng.getCurrentMousePosition(t.viewer.scene,n.position,e);r&&(t.setCursor(),e.updatePositions(r),e.inProgress=!1,e.stopDrawing(),e.startEditing(),i.destroy(),t.drawHandler=null)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),this.drawHandler=i,i},EventControl.prototype.createDrawPolylineHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return n.lastPointTemporary=!1,n.setInputAction((function(r){var o=_latlng.getCurrentMousePosition(i.viewer.scene,r.position,e);o&&(n.lastPointTemporary&&t.pop(),e.attribute&&e.attribute.addHeight&&(o=_drawutils$1.getPositionsWithHeight(o,e.attribute.addHeight)),t.push(o),n.lastPointTemporary=!1,e.attribute&&e.attribute.minMaxPoints&&(t.length==e.attribute.minMaxPoints.min&&t.length==e.attribute.minMaxPoints.max||e.attribute.minMaxPoints.isSuper&&4==t.length)&&(e.inProgress=!1,n.destroy(),i.drawHandler=null,e.stopDrawing(),e.startEditing(),i.setCursor()),e.changeDrawing())}),Cesium.ScreenSpaceEventType.LEFT_CLICK),n.setInputAction((function(r){if(r.endPosition){var o=_latlng.getCurrentMousePosition(i.viewer.scene,r.endPosition,e);o&&(n.lastPointTemporary&&t.pop(),t.push(o),n.lastPointTemporary=!0,e.moveDrawing())}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),n.setInputAction((function(r){e.inProgress=!1,n.destroy(),i.drawHandler=null,t.pop(),e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=n,n},EventControl.prototype.createDrawPolygonHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return n.lastPointTemporary=!1,n.setInputAction((function(r){var o=_latlng.getCurrentMousePosition(i.viewer.scene,r.position,e);if(o){if(n.lastPointTemporary&&t.pop(),t.push(o),e.polygon.hierarchy=t,e.attribute.style.extrudedHeight){var a=_drawutils$1.getMaxHeightForPositions(t);e.polygon.extrudedHeight=a+Number(e.attribute.style.extrudedHeight)}n.lastPointTemporary=!1,e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),n.setInputAction((function(r){if(r.endPosition){var o=_latlng.getCurrentMousePosition(i.viewer.scene,r.endPosition,e);if(o){if(n.lastPointTemporary&&t.pop(),t.push(o),e.polygon.hierarchy=t,e.attribute.style.extrudedHeight){var a=_drawutils$1.getMaxHeightForPositions(t);e.polygon.extrudedHeight=a+Number(e.attribute.style.extrudedHeight)}n.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),n.setInputAction((function(r){e.inProgress=!1,n.destroy(),i.drawHandler=null,t.pop(),e.polygon.hierarchy=t,e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=n,n},EventControl.prototype.createzhijiantouPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=[],r=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return r.lastPointTemporary=!1,r.setInputAction((function(o){var a=_latlng.getCurrentMousePosition(i.viewer.scene,o.position,e);if(a){r.lastPointTemporary&&n.pop();var s=Cesium.Cartographic.fromCartesian(a),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];if(n.push(l),1==n.length&&!e.attribute.style.clampToGround){var u=Number(Cesium.Cartographic.fromCartesian(a).height.toFixed(2));e.polygon.height=u,e.attribute.style.height=u,e.attribute.style.extrudedHeight&&(e.polygon.extrudedHeight=u+Number(e.attribute.style.extrudedHeight))}2==n.length&&t.setValue(plotUtil.algorithm.fineArrow(n[0],n[1])),r.lastPointTemporary=!1,e.changeDrawing(),2==n.length&&(e.inProgress=!1,r.destroy(),i.drawHandler=null,e.stopDrawing(),e.startEditing(),i.setCursor())}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.setInputAction((function(o){if(o.endPosition){var a=_latlng.getCurrentMousePosition(i.viewer.scene,o.endPosition,e);if(a){r.lastPointTemporary&&n.pop();var s=Cesium.Cartographic.fromCartesian(a),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];n.push(l),2==n.length&&t.setValue(plotUtil.algorithm.fineArrow(n[0],n[1])),r.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),this.drawHandler=r,r},EventControl.prototype.createqianjijiantouPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this,n=[],r=[];e.inProgress=!0;var o=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return o.lastPointTemporary=!1,o.setInputAction((function(a){var s=_latlng.getCurrentMousePosition(i.viewer.scene,a.position,e);if(s){o.lastPointTemporary&&(n.pop(),r.pop());var l=Cesium.Cartographic.fromCartesian(s),u=[Cesium.Math.toDegrees(l.longitude),Cesium.Math.toDegrees(l.latitude),l.height];if(e.attribute.style.extrudedHeight){var c=_drawutils$1.getMaxHeightForPositions(r);e.polygon.extrudedHeight=c+Number(e.attribute.style.extrudedHeight)}if(n.length<3&&(n.push(u),r.push(s)),n.length>=2){var h=plotUtil.algorithm.doubleArrow(n);t.setValue(h.polygonalPoint);var g=JSON.stringify(h.controlPoint);e.attribute.kzpoint=g}o.lastPointTemporary=!1,e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction((function(a){if(a.endPosition){var s=_latlng.getCurrentMousePosition(i.viewer.scene,a.endPosition,e),l=Cesium.Cartographic.fromCartesian(s),u=[Cesium.Math.toDegrees(l.longitude),Cesium.Math.toDegrees(l.latitude),l.height];if(s){if(o.lastPointTemporary&&(n.pop(),r.pop()),e.attribute.style.extrudedHeight){var c=_drawutils$1.getMaxHeightForPositions(r);e.polygon.extrudedHeight=c+Number(e.attribute.style.extrudedHeight)}if(s.y+=1+Math.random(),3==n.length&&(n.pop(),n.push(u),r.pop(),r.push(s)),n.length<=2&&(n.push(u),r.push(s)),n.length>=2){var h=plotUtil.algorithm.doubleArrow(n),g=h?h.polygonalPoint:null;t.setValue(g)}o.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction((function(t){e.inProgress=!1,o.destroy(),i.drawHandler=null,n.pop(),r.pop(),e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=o,o},EventControl.prototype.creategongjijiantouPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this,n=[],r=[];e.inProgress=!0;var o=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return o.lastPointTemporary=!1,o.setInputAction((function(o){var a=_latlng.getCurrentMousePosition(i.viewer.scene,o.position,e);if(a){var s=Cesium.Cartographic.fromCartesian(a),l=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude),s.height];if(e.attribute.style.extrudedHeight){var u=_drawutils$1.getMaxHeightForPositions(r);e.polygon.extrudedHeight=u+Number(e.attribute.style.extrudedHeight)}if(n.length<3&&n.push(l),n.length>=2){n.push(l);var c=plotUtil.algorithm.tailedAttackArrow(n);t.setValue(c.polygonalPoint);var h=JSON.stringify(c.controlPoint);e.attribute.kzpoint=h}r.push(a),e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction((function(a){if(a.endPosition){var s=_latlng.getCurrentMousePosition(i.viewer.scene,a.endPosition,e),l=Cesium.Cartographic.fromCartesian(s),u=[Cesium.Math.toDegrees(l.longitude),Cesium.Math.toDegrees(l.latitude),l.height];if(s){if(r.pop(),r.push(s),e.attribute.style.extrudedHeight){var c=_drawutils$1.getMaxHeightForPositions(r);e.polygon.extrudedHeight=c+Number(e.attribute.style.extrudedHeight)}if(n.length>=3&&(n.pop(),n.push(u)),2==n.length&&n.push(u),n.length>2){var h=plotUtil.algorithm.tailedAttackArrow(n),g=h?h.polygonalPoint:null;t.setValue(g)}o.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction((function(t){e.inProgress=!1,o.destroy(),i.drawHandler=null,n.pop(),r.pop(),e.stopDrawing(),e.startEditing(),i.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=o,o},EventControl.prototype.createTwoPointsModelHandler=function(e,t){this.setCursor("crosshair");var i=this;e.inProgress=!0;var n=[],r=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return r.lastPointTemporary=!1,r.setInputAction((function(o){var a=_latlng.getCurrentMousePosition(i.viewer.scene,o.position,e);if(a){if(r.lastPointTemporary&&n.pop(),n.push(a),1==n.length&&!e.attribute.style.clampToGround){var s=Number(Cesium.Cartographic.fromCartesian(a).height.toFixed(2));e.rectangle.height=s,e.attribute.style.height=s,e.attribute.style.extrudedHeight&&(e.rectangle.extrudedHeight=s+Number(e.attribute.style.extrudedHeight))}if(2==n.length){var l=Cesium.Rectangle.fromCartesianArray(n);t.setValue(l)}r.lastPointTemporary=!1,e.changeDrawing(),2==n.length&&(e.inProgress=!1,r.destroy(),i.drawHandler=null,e.stopDrawing(),e.startEditing(),i.setCursor())}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.setInputAction((function(o){if(o.endPosition){var a=_latlng.getCurrentMousePosition(i.viewer.scene,o.endPosition,e);if(a){if(r.lastPointTemporary&&n.pop(),n.push(a),2==n.length){var s=Cesium.Rectangle.fromCartesianArray(n);t.setValue(s)}r.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),this.drawHandler=r,r},EventControl.prototype.createDrawWallHandler=function(e,t,i,n){this.setCursor("crosshair");var r=this;e.inProgress=!0;var o=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);return o.lastPointTemporary=!1,o.setInputAction((function(a){var s=_latlng.getCurrentMousePosition(r.viewer.scene,a.position,e);if(s){o.lastPointTemporary&&(t.pop(),i.pop(),n.pop()),t.push(s);var l=Cesium.Cartographic.fromCartesian(s),u=Number(l.height.toFixed(2)),c=Number(u)+Number(e.attribute.style.extrudedHeight);i.push(u),n.push(c),o.lastPointTemporary=!1,e.changeDrawing()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),o.setInputAction((function(a){if(a.endPosition){var s=_latlng.getCurrentMousePosition(r.viewer.scene,a.endPosition,e);if(s){o.lastPointTemporary&&(t.pop(),i.pop(),n.pop()),t.push(s);var l=Cesium.Cartographic.fromCartesian(s),u=Number(l.height.toFixed(2)),c=Number(u)+Number(e.attribute.style.extrudedHeight);i.push(u),n.push(c),o.lastPointTemporary=!0,e.moveDrawing()}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),o.setInputAction((function(a){e.inProgress=!1,o.destroy(),r.drawHandler=null,t.pop(),i.pop(),n.pop(),e.stopDrawing(),e.startEditing(),r.setCursor()}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.drawHandler=o,o},EventControl.prototype.destroyDrawHandler=function(){this.setCursor(),this.drawHandler&&(this.setCursor(),this.drawHandler.destroy(),this.drawHandler=null)},EventControl.prototype.createEditSelectHandler=function(e){var t=this,i=new Cesium.ScreenSpaceEventHandler(this.viewer.canvas);i.setInputAction((function(i){var n=t.viewer.scene.pick(i.position),r=null;if(Cesium.defined(n)){var o=Cesium.defaultValue(n.id,n.primitive.id);if(o instanceof Cesium.Entity)Cesium.defaultValue(o.inProgress,!1)||(r=o)}e(r)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),this.selectHandler=i},EventControl.prototype.createEditDraggerHandler=function(){var e=new Cesium.ScreenSpaceEventHandler(this.viewer.canvas);e.dragger=null;var t=this;e.setInputAction((function(i){var n=t.viewer.scene.pick(i.position);if(Cesium.defined(n)){var r=n.id;r&&Cesium.defaultValue(r._isDragger,!1)&&(r.billboard&&(r.billboard.scale_src=r.billboard.scale._value,r.billboard.scale._value=1.2*r.billboard.scale_src),e.dragger=r,t.viewer.scene.screenSpaceCameraController.enableRotate=!1,t.viewer.scene.screenSpaceCameraController.enableTilt=!1,t.viewer.scene.screenSpaceCameraController.enableTranslate=!1)}}),Cesium.ScreenSpaceEventType.LEFT_DOWN),e.setInputAction((function(i){var n=t.viewer.scene.pick(i.position);if(Cesium.defined(n)){var r=n.id;r&&Cesium.defaultValue(r._isDragger,!1)&&(r.billboard&&(r.billboard.scale_src=r.billboard.scale._value,r.billboard.scale._value=1.2*r.billboard.scale_src),e.dragger=r,t.viewer.scene.screenSpaceCameraController.enableRotate=!1,t.viewer.scene.screenSpaceCameraController.enableTilt=!1,t.viewer.scene.screenSpaceCameraController.enableTranslate=!1)}}),Cesium.ScreenSpaceEventType.LEFT_DOWN,Cesium.KeyboardEventModifier.CTRL),e.setInputAction((function(n){if(e.dragger){if(e.dragger.horizontal){var r;if(e.dragger.model){var o=t.viewer.scene,a=o.pick(n.endPosition);if(Cesium.defined(a)&&a.id==e.dragger){var s=o.camera.getPickRay(n.endPosition);r=o.globe.pick(s,o)}}null==r&&(r=_latlng.getCurrentMousePosition(t.viewer.scene,n.endPosition)),r&&(e.dragger.position=r,e.dragger.onDrag&&e.dragger.onDrag(e.dragger,r))}if(e.dragger.vertical){var l=n.endPosition.y-n.startPosition.y,u=e.dragger.position._value,c=new Cesium.EllipsoidTangentPlane(u);i.center=u,i.radius=1;var h=t.viewer.scene.frameState.camera.getPixelSize(i,t.viewer.scene.frameState.context.drawingBufferWidth,t.viewer.scene.frameState.context.drawingBufferHeight),g=new Cesium.Cartesian3;Cesium.Cartesian3.multiplyByScalar(c.zAxis,-l*h,g);var d=Cesium.Cartesian3.clone(u);Cesium.Cartesian3.add(u,g,d),e.dragger.position=d,e.dragger.onDrag&&e.dragger.onDrag(e.dragger,d)}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE);var i=new Cesium.BoundingSphere;e.setInputAction((function(n){if(e.dragger&&e.dragger.verticalCtrl){var r=n.endPosition.y-n.startPosition.y,o=e.dragger.position._value,a=new Cesium.EllipsoidTangentPlane(o);i.center=o,i.radius=1;var s=t.viewer.scene.frameState.camera.getPixelSize(i,t.viewer.scene.frameState.context.drawingBufferWidth,t.viewer.scene.frameState.context.drawingBufferHeight),l=new Cesium.Cartesian3;Cesium.Cartesian3.multiplyByScalar(a.zAxis,-r*s,l);var u=Cesium.Cartesian3.clone(o);Cesium.Cartesian3.add(o,l,u),e.dragger.position=u,e.dragger.onDrag&&e.dragger.onDrag(e.dragger,u)}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE,Cesium.KeyboardEventModifier.CTRL),e.setInputAction((function(){e.dragger&&(e.dragger.billboard&&(e.dragger.billboard.scale._value=e.dragger.billboard.scale_src),e.dragger=null,t.viewer.scene.screenSpaceCameraController.enableRotate=!0,t.viewer.scene.screenSpaceCameraController.enableTilt=!0,t.viewer.scene.screenSpaceCameraController.enableTranslate=!0)}),Cesium.ScreenSpaceEventType.LEFT_UP),e.setInputAction((function(){e.dragger&&(e.dragger.billboard&&(e.dragger.billboard.scale._value=e.dragger.billboard.scale_src),e.dragger=null,t.viewer.scene.screenSpaceCameraController.enableRotate=!0,t.viewer.scene.screenSpaceCameraController.enableTilt=!0,t.viewer.scene.screenSpaceCameraController.enableTranslate=!0)}),Cesium.ScreenSpaceEventType.LEFT_UP,Cesium.KeyboardEventModifier.CTRL),this.draggerHandler=e},EventControl.prototype.destroyEditHandler=function(){this.selectHandler&&(this.selectHandler.destroy(),this.selectHandler=null),this.draggerHandler&&(this.draggerHandler.destroy(),this.draggerHandler=null)};var _BillboardControl$1=BillboardControl,_LabelControl$1=LabelControl,_EllipseControl$1=EllipseControl,_PolylineControl$1=PolylineControl,_zhijiantouControl$1=zhijiantouControl,_qianjijiantouControl$1=qianjijiantouControl,_gongjijiantouControl$1=gongjijiantouControl,_PolylineVolumeControl$1=PolylineVolumeControl,_PolygonControl$1=PolygonControl,_EllipsoidControl$1=EllipsoidControl,_PointControl$1=PointControl,_RectangleControl$1=RectangleControl,_ModelControl$1=ModelControl,_WallControl$1=WallControl,_EventControl=EventControl,_util=util$1,_drawutils=drawutils,draw=function(t){var i={billboard:_BillboardControl$1,label:_LabelControl$1,ellipse:_EllipseControl$1,polyline:_PolylineControl$1,zhijiantou:_zhijiantouControl$1,qianjijiantou:_qianjijiantouControl$1,gongjijiantou:_gongjijiantouControl$1,polylineVolume:_PolylineVolumeControl$1,polygon:_PolygonControl$1,ellipsoid:_EllipsoidControl$1,wall:_WallControl$1,point:_PointControl$1,rectangle:_RectangleControl$1,model:_ModelControl$1},n=t.viewer;n.scene;var r=t.dragIcon,o=new Cesium.CustomDataSource;n.dataSources.add(o);var a,s=null,l=[],u=new _EventControl(n);function c(e){null!=a&&a==e||(a=e,e?(u.createEditSelectHandler((function(e){s&&s.inProgress||(e!==s?(s&&s.stopEditing&&(s.stopEditing(),s=null),(s=e)&&s.startEditing&&s.startEditing()):t.onStopEditing&&"function"==typeof t.onStopEditing&&t.onStopEditing(e))})),u.createEditDraggerHandler()):(h(),u.destroyEditHandler()))}function h(e){return u.destroyDrawHandler(),s&&s.inProgress&&(s.stopDrawing(e),o.entities.remove(s),y(l,s)),s&&s.stopEditing&&(s.stopEditing(e),s=null),this}function g(e){e.startDrawing=function(){document.getElementsByClassName("cesium-viewer")[0].style.cursor="crosshair";t.onStartDrawing&&"function"==typeof t.onStartDrawing&&t.onStartDrawing(this)},e.changeDrawing=function(){t.onChangeDrawing&&"function"==typeof t.onChangeDrawing&&t.onChangeDrawing(this)},e.moveDrawing=function(){t.onMoveDrawing&&"function"==typeof t.onMoveDrawing&&t.onMoveDrawing(this)},e.stopDrawing=function(){document.getElementsByClassName("cesium-viewer")[0].style.cursor="";t.onStopDrawing&&"function"==typeof t.onStopDrawing&&t.onStopDrawing(this)},e.startEditing=function(){if(a){var e=this;if(s=e,null==e.editor){var n=e.attribute.type;e.editor=i[n].getEditor(o,e,{dragIcon:r})}t.onStartEditing&&"function"==typeof t.onStartEditing&&t.onStartEditing(e)}},e.stopEditing=function(e){var i=this;i.editor&&(i.editor.destroy(),i.editor=null),!e&&t.onStopEditing&&"function"==typeof t.onStopEditing&&t.onStopEditing(i)},e.changeEditing=function(){t.onChangeEditing&&"function"==typeof t.onChangeEditing&&t.onChangeEditing(this)},e.updatePositions=function(e){var t=this,n=t.attribute.type;if("ellipse"==n&&!t.attribute.style.clampToGround){var r=Cesium.Cartographic.fromCartesian(e).height;if(t.attribute.style.height=Number(r.toFixed(2)),t.ellipse.height?t.ellipse.height._value=t.attribute.style.height:t.ellipse.height=t.attribute.style.height,t.attribute.style.extrudedHeight){var o=Number(r)+Number(t.attribute.style.extrudedHeight);t.ellipse.extrudedHeight._value=Number(o.toFixed(2)),t.attribute.style.extrudedHeight=Number(o.toFixed(2))}}i[n].setPositions(s,e)}}function d(){h(),o.entities.removeAll(),l=[]}c(t.hasEdit);var p={label:{edittype:"label",name:"文字",style:{text:"文字",color:"#ffffff",opacity:1,font_family:"楷体",font_size:30,border:!0,border_color:"#000000",border_width:3,background:!1,background_color:"#000000",background_opacity:.5,font_weight:"normal",font_style:"normal",scaleByDistance:!1,scaleByDistance_far:1e6,scaleByDistance_farValue:.1,scaleByDistance_near:1e3,scaleByDistance_nearValue:1,distanceDisplayCondition:!1,distanceDisplayCondition_far:1e4,distanceDisplayCondition_near:0},attr:{id:"",name:"",remark:""}},point:{edittype:"point",name:"像素点",style:{pixelSize:10,color:"#3388ff",opacity:1,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,outlineWidth:2,scaleByDistance:!1,scaleByDistance_far:1e6,scaleByDistance_farValue:.1,scaleByDistance_near:1e3,scaleByDistance_nearValue:1,distanceDisplayCondition:!1,distanceDisplayCondition_far:1e4,distanceDisplayCondition_near:0},attr:{id:"",name:"",remark:""}},imagepoint:{edittype:"imagepoint",name:"图标点标记",style:{image:"",opacity:1,scale:1,rotation:0,scaleByDistance:!1,scaleByDistance_far:1e6,scaleByDistance_farValue:.1,scaleByDistance_near:1e3,scaleByDistance_nearValue:1,distanceDisplayCondition:!1,distanceDisplayCondition_far:1e4,distanceDisplayCondition_near:0},attr:{id:"",name:"",remark:""}},model:{edittype:"model",name:"模型",style:{modelUrl:"",scale:1,heading:0,pitch:0,roll:0,fill:!1,color:"#3388ff",opacity:1,silhouette:!1,silhouetteColor:"#ffffff",silhouetteSize:2,silhouetteAlpha:.8},attr:{id:"",name:"",remark:""}},polyline:{edittype:"polyline",name:"线",position:{minCount:2},style:{lineType:"solid",color:"#3388ff",width:4,clampToGround:!1,outline:!1,outlineColor:"#ffffff",outlineWidth:2,opacity:1},attr:{id:"",name:"",remark:""}},polylineVolume:{edittype:"polylineVolume",name:"管道线",position:{height:!0,minCount:2},style:{color:"#00FF00",radius:10,shape:"pipeline",outline:!1,outlineColor:"#ffffff",opacity:1},attr:{id:"",name:"",remark:""}},polygon:{edittype:"polygon",name:"面",position:{height:!0,minCount:3},style:{color:"#3388ff",opacity:.6,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,clampToGround:!1},attr:{id:"",name:"",remark:""}},polygon_clampToGround:{edittype:"polygon_clampToGround",name:"贴地面",position:{height:!1,minCount:3},style:{color:"#ffff00",opacity:.6,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,clampToGround:!0},attr:{id:"",name:"",remark:""}},extrudedPolygon:{edittype:"extrudedPolygon",name:"拉伸面",position:{height:!0,minCount:3},style:{color:"#00FF00",opacity:.6,outline:!0,outlineColor:"#ffffff",outlineOpacity:1,extrudedHeight:100,perPositionHeight:!0},attr:{id:"",name:"",remark:""}},rectangle:{edittype:"rectangle",name:"矩形",position:{height:!1,minCount:2,maxCount:2},style:{height:0,color:"#3388ff",rotation:0,opacity:.6,clampToGround:!1},attr:{id:"",name:"",remark:""}},rectangle_clampToGround:{edittype:"rectangle_clampToGround",name:"贴地矩形",position:{height:!1,minCount:2,maxCount:2},style:{color:"#ffff00",rotation:0,opacity:.6,clampToGround:!0},attr:{id:"",name:"",remark:""}},rectangleImg:{edittype:"rectangleImg",name:"贴地图片",position:{height:!1,minCount:2,maxCount:2},style:{image:"",rotation:0,opacity:1,clampToGround:!0},attr:{id:"",name:"",remark:""}},extrudedRectangle:{edittype:"extrudedRectangle",name:"拉伸矩形",position:{height:!1,minCount:2,maxCount:2},style:{color:"#00FF00",outline:!0,outlineColor:"#ffffff",rotation:0,opacity:.6,extrudedHeight:40,height:0},attr:{id:"",name:"",remark:""}},ellipse:{edittype:"ellipse",name:"椭圆",position:{height:!1},style:{semiMinorAxis:500,semiMajorAxis:500,height:0,opacity:.6,fill:!0,color:"#3388ff",outline:!0,outlineColor:"#ffffff",rotation:0,clampToGround:!1},attr:{id:"",name:"",remark:""}},ellipse_clampToGround:{edittype:"ellipse_clampToGround",name:"椭圆",position:{height:!1},style:{semiMinorAxis:500,semiMajorAxis:500,opacity:.6,fill:!0,color:"#ffff00",outline:!0,outlineColor:"#ffffff",rotation:0,clampToGround:!0},attr:{id:"",name:"",remark:""}},extrudedEllipse:{edittype:"extrudedEllipse",name:"圆柱体",position:{height:!1},style:{semiMinorAxis:100,semiMajorAxis:100,opacity:.6,fill:!0,color:"#00FF00",outline:!0,outlineColor:"#ffffff",extrudedHeight:100,height:0,rotation:0},attr:{id:"",name:"",remark:""}},ellipsoid:{edittype:"ellipsoid",name:"球体",style:{extentRadii:100,widthRadii:100,heightRadii:100,color:"#00FF00",outline:!0,outlineColor:"#ffffff",fill:!0,opacity:.6},attr:{id:"",name:"",remark:""}},wall:{edittype:"wall",name:"墙体",position:{height:!0,minCount:2},style:{color:"#00FF00",outline:!0,outlineColor:"#ffffff",opacity:.6,extrudedHeight:40},attr:{id:"",name:"",remark:""}}};function m(e){if(!e.properties||!e.properties.type)return e;var t=e.properties.edittype||e.properties.type,i=p[t];if(!i)return e;var n=C(e);if(e.properties.style){var r={};for(var o in e.properties.style){if(null!=(s=e.properties.style[o])&&""!=s)i.style[o]!=s&&(r[o]=s)}n.properties.style=r}if(e.properties.attr){var a={};for(var o in e.properties.attr){var s;if(null!=(s=e.properties.attr[o])&&""!=s)i.attr[o]!=s&&(a[o]=s)}n.properties.attr=a}return n}function f(e){var t=p[e.edittype||e.type];if(t){for(var i in e.style=e.style||{},t.style){null==e.style[i]&&(e.style[i]=t.style[i])}for(var i in e.attr=e.attr||{},t.attr){null==e.attr[i]&&(e.attr[i]=t.attr[i])}}return e}function C(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=C(e[i]);return t}if("object"==typeof e){t={};for(var r in e)"_layer"!=r&&"_layers"!=r&&"_parent"!=r&&e.hasOwnProperty(r)&&(t[r]=C(e[r]));return t}return e}function y(e,t){for(var i=0;i<e.length;i++)if(e[i]==t){e.splice(i,1);break}}return{startDraw:function(e){if(h(),null==e||null==e.type)throw"请传入需要绘制的类型参数";var t=e.type;if(null==i[t])throw"传入的["+t+"]类型参数有误";e.style=e.style||{},e.attr=e.attr||{},e=f(e);var n=i[t].startDraw(o,e);switch(t){case"label":case"point":case"billboard":case"model":case"ellipse":case"ellipsoid":u.createDrawPointHandler(n);break;case"polyline":case"polylineVolume":u.createDrawPolylineHandler(n,i[t].getPositions(n));break;case"polygon":u.createDrawPolygonHandler(n,i[t].getPositions(n));break;case"zhijiantou":u.createzhijiantouPointsModelHandler(n,i[t].getPositions(n));break;case"qianjijiantou":u.createqianjijiantouPointsModelHandler(n,i[t].getPositions(n));break;case"gongjijiantou":u.creategongjijiantouPointsModelHandler(n,i[t].getPositions(n));break;case"rectangle":case"extrudedRectangle":case"measureHeight":u.createTwoPointsModelHandler(n,i[t].getPositions(n));break;case"wall":var r=i[t].getPositions(n),a=i[t].getMinimumHeights(n),c=i[t].getMaximumHeights(n);u.createDrawWallHandler(n,r,a,c)}return g(n),l.push(n),n.startDrawing(),s=n,n},stopDraw:h,updateAttribute:function(e,n){if(null!=n&&(s=n),null!=s&&null!=e){e.style=e.style||{},e.attr=e.attr||{};var r=s.attribute.type;return"zhijiantou"==r||"qianjijiantou"==r||"gongjijiantou"==r?i[r].attribute2Entity(e,s.polygon):i[r].attribute2Entity(e,s[r]),"model"==r&&i[r].attribute2Model(e,s),s.attribute=e,"ellipse"!=r&&"polygon"!=r&&"wall"!=r&&"rectangle"!=r&&"zhijiantou"!=r&&"qianjijiantou"!=r&&"gongjijiantou"!=r||s.editor.updateDraggers(n),t.tooltip&&(s.attribute.attr&&s.attribute.attr.name?s.tooltip=s.attribute.attr.name:s.tooltip=null),s}},updateGeometry:function(e,t){if(null==t&&(t=s),null!=t&&null!=e){if("zhijiantou"==(n=t.attribute.type)?i[n].setPositions(t,i[n].twopointTo8point(e)):"qianjijiantou"==n?i[n].setPositions(t,i[n].qianjipoints(t,e)):"gongjijiantou"==n?i[n].setPositions(t,i[n].gongjipoints(t,e)):i[n].setPositions(t,e),t.editor&&t.editor.destroy){t.editor.destroy();var n=t.attribute.type;t.editor=i[n].getEditor(o,t,{dragIcon:r})}return t}},toGeoJSON:function(e){if(null==e){if(0==l.length)return null;for(var t=[],n=0;n<l.length;n++){var r=(e=l[n]).attribute.type;o=m(o=i[r].toGeoJSON(e)),t.push(o)}return o={type:"FeatureCollection",features:t}}var o;return r=e.attribute.type,o=m(o=i[r].toGeoJSON(e))},jsonToEntity:function(e,r,a){var s=e;try{_util.isString(e)&&(s=JSON.parse(e))}catch(e){return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!")}r&&d();for(var u=[],c=s.features,h=0;h<c.length;h++){var p=c[h];if(!p.properties||!p.properties.type)switch(p.properties=p.properties||{},p.geometry.type){case"MultiPolygon":case"Polygon":p.properties.type="polygon";break;case"MultiLineString":case"LineString":p.properties.type="polyline";break;case"MultiPoint":case"Point":p.properties.type="point"}var m=p.properties.type;if(null==i[m])throw"数据无法识别或者数据的["+m+"]类型参数有误";p.properties.style=p.properties.style||{},p.properties=f(p.properties);var C=i[m].startDraw(o,p.properties),y=_drawutils.getPositionsFromJson(p.geometry);"zhijiantou"==m?i[m].setPositions(C,i[m].twopointTo8point(y)):"qianjijiantou"==m?i[m].setPositions(C,i[m].qianjipoints(C,y)):"gongjijiantou"==m?i[m].setPositions(C,i[m].gongjipoints(C,y)):i[m].setPositions(C,y),g(C),t.tooltip&&(C.attribute.attr&&C.attribute.attr.name?C.tooltip=C.attribute.attr.name:C.tooltip=null),l.push(C),u.push(C)}return a&&n.flyTo(u),u},markersInfoToEntity:function(t,n,r){var a=t;try{_util.isString(t)&&(a=JSON.parse(t))}catch(e){return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!")}if(a instanceof Array){r&&d();for(var s=0;s<a.length;s++){var u=a[s];if(!u.x||!u.y)return void haoutil.alert(e.name+": "+e.message+" \n请确认json文件格式正确!!!");var c={id:u.id||u.ID||"",name:u.name||u.NAME||"",remark:u.remark||u.REMA||""},h={type:n.type||"billboard",attr:c,style:n.style},p=Cesium.Cartesian3.fromDegrees(u.x,u.y,u.z||0),m=i[h.type].startDraw(o,h);i[h.type].setPositions(m,p),g(m),l.push(m)}return l}haoutil.alert("请确认json文件格式正确!!!")},deleteEntity:function(e){null!=e&&(e.stopEditing(!0),y(l,e),o.entities.remove(e))},deleteCurrentEntity:function(){s&&(s.stopEditing(!0),y(l,s),o.entities.remove(s),s=null)},deleteAll:d,setVisible:function(e){$j(l).each((function(t,i){e?o.entities.contains(i)||o.entities.add(i):o.entities.contains(i)&&o.entities.remove(i)}))},hasDraw:function(){return l.length>0},hasEdit:c,getEntitys:function(){return l},getDataSource:function(){return o},getEntityById:function(e){for(var t=0;t<l.length;t++){var i=l[t];if(e==i.attribute.attr.id)return i}return null},getCurrentEntity:function(){return s},getCoordinates:function(e){var t=e.attribute.type;return i[t].getCoordinates(e)},getPositions:function(e){var t=e.attribute.type;return i[t].getPositions(e)},setPositions:function(e,t){var n=e.attribute.type;t=i[n].setPositions(e,t)}}};class Popup$1{constructor(e){this.options=e,this.viewer=e.viewer,this.className=e.className,this.html=e.html||null,this.id=0,this.ctnList={}}add(e){var t=this,i=e.geometry,n="popup_"+(e.id||(65536*(1+Math.random())|0).toString(16)+t.id++),r=document.createElement("div");r.className="bx-popup-ctn"+(this.className?" "+this.className:" bx-popup-ctn1"),r.id=n,document.getElementById(t.viewer.container.id).appendChild(r);var o=e.content;return r.innerHTML=t.createHtml(o.header,o.content,e.isclose),t.ctnList[n]=[i,r],t.render(),t.eventListener||(t.eventListener=function(e){t.render()},t.viewer.clock.onTick.addEventListener(t.eventListener)),!1===e.isclose||r.getElementsByClassName("bx-popup-close")&&r.getElementsByClassName("bx-popup-close").length>0&&(r.getElementsByClassName("bx-popup-close")[0].onclick=function(){t.close(r)}),n}render(){var e=this;for(var t in e.ctnList){var i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(e.viewer.scene,e.ctnList[t][0]);i&&i.x&&i.y&&(Math.abs(i.x)>2*window.innerWidth||Math.abs(i.y)>2*window.innerHeight?e.ctnList[t][1].style.display="none":(e.options.offset?(i.x+=e.options.offset.left?e.options.offset.left:0,i.y+=e.options.offset.top?e.options.offset.top:0):(i.x+=e.viewer.container.offsetLeft,i.y+=e.viewer.container.offsetTop),e.ctnList[t][1].style.display="",e.ctnList[t][1].style.left=i.x+"px",e.ctnList[t][1].style.top=i.y+"px"))}}createHtml(e,t,i){return this.html?this.html(e,t):`\n            ${!1===i?"":'<div class="bx-popup-close"><i class="iconfont_RJ icon-guanbi"></i></div>'}\n            <div class="divpoint-wrap">\n            <div class="divpoint-border">\n            <div class="divpoint-center">\n            <div class="bx-popup-header-ctn">\n            ${e}\n            </div>\n            <div class="bx-popup-content-ctn" >\n            <div class="bx-popup-content" >\n            ${t}\n            </div>\n            </div>\n            </div>\n            </div>\n            </div>\n            <div class="directional"></div>\n            `}close(e){e.remove(),delete this.ctnList[e.id],0==Object.keys(this.ctnList).length&&(this.viewer.clock.onTick.removeEventListener(this.eventListener),this.eventListener=null)}closeAll(e){for(var t in this.ctnList)this.ctnList[t][1].remove();this.ctnList={},this.viewer.clock.onTick.removeEventListener(this.eventListener),this.eventListener=null}}class Tooltip{constructor(e){this.options={color:"rgb(32, 160, 255)",stroke:"rgb(56, 218, 255)",opacity:.6,textcolor:"white",strokewidth:3,lineheight:25,fontSize:"14px",x:15,y:50,defaultHeight:200,width:200},this.options=Object.assign(this.options,e),this.tooltipEntitylist={},this.viewer=e.viewer,this.dataSource=new Cesium.CustomDataSource("tooltipname"),this.viewer.dataSources.add(this.dataSource)}add(e){var t=this,i=e.header,n=e.content.split("<br/>"),r=t.options.x,o=t.options.y,a=t.options.defaultHeight,s=e.width||t.options.width;a=n.length*t.options.lineheight+10,i&&""!=i&&(a+=27);for(var l="",u=0;u<n.length;u++)l+='<tspan x="'+r+'" y="'+o+'">'+n[u]+"</tspan>",o+=t.options.lineheight;var c=`data:image/svg+xml,\n                <svg width="${s+10}" height="${a+30}" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                    \n    <path d=" M${s+5} 15 Q${s+5} 5 ${s+5-10} 5 L15 5 Q5 5 5 15 L5 ${a-10+5} Q5 ${a+5} 15 ${a+5} L${s/2-10+5} ${a+5} ${s/2+5} ${a+20+5} ${s/2+10+5} ${a+5} ${s-10+5} ${a+5} Q${s+5} ${a+5} ${s+5} ${a-10+5} Z"\n     fill="${t.options.color}" stroke="${t.options.stroke}" style="${t.options.strokewidth}:3;opacity:${t.options.opacity};stroke-opacity:0.8"></path>\n    <path d=" M${s+5} 15 Q${s+5} 5 ${s+5-10} 5 L15 5 Q5 5 5 15 L5 30 ${s+5} 30 Z" \n    fill="${t.options.color}" style="opacity:0.5;"></path>\n<text x="15" y="22" fill="${t.options.textcolor}" style="font-size:${t.options.fontSize}; font-weight: 600;">${i}</text>\n         <text fill="${t.options.textcolor}" style="font-size: ${t.options.fontSize};">\n            ${l}\n      </text>\n\n    </svg>\n    `,h={position:e.position,billboard:{image:c,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM}},g=t.dataSource.entities.add(h),d=e.id||Cesium.createGuid(),p={id:d,entity:g,clear:function(){t.cleartooltip(d)}};t.tooltipEntitylist[d]=p}cleartooltip(e){var t=this;e?(t.dataSource.entities.remove(t.tooltipEntitylist[e].entity),delete t.tooltipEntitylist[e]):(t.dataSource.entities.removeAll(),t.tooltipEntitylist={})}}function cjquery(e){var t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,i=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(t.test(e)){var n=t.exec(e);return document.getElementById(n[2])}if(i.test(e)){for(var r=i.exec(e),o=document.getElementsByTagName("*"),a=[],s=0,l=o.length;s<l;s++)o[s].className.match(new RegExp("(\\s|^)"+r[2]+"(\\s|$)"))&&a.push(o[s]);return a}}var $j$1=function(Obj){return Obj.slideDown=function(){if(this.style.display="block",this.clientHeight<this.scrollHeight){this.style.height=10+this.clientHeight+"px";var e=this;setTimeout((function(){e.slideDown()}),10)}else this.style.height=this.scrollHeight+"px"},Obj.slideUp=function(){if(this.clientHeight>0){this.style.height=this.clientHeight-10+"px";var e=this;setTimeout((function(){e.slideUp()}),10)}else this.style.height=0,this.style.display="none"},Obj.attr=function(){return 1==arguments.length?eval("this."+arguments[0]):2==arguments.length?(eval("this."+arguments[0]+"="+arguments[1]),this):void 0},Obj.val=function(){return 0==arguments.length?this.value:1==arguments.length?(this.value=arguments[0],this):void 0},Obj.html=function(){return 0==arguments.length?this.innerHTML:1==arguments.length?(this.innerHTML=arguments[0],this):void 0},Obj.css=function(){return 1==arguments.length?eval("this.style."+arguments[0]):2==arguments.length?(eval("this.style."+arguments[0]+"='"+arguments[1]+"'"),this):void 0},Obj.append=function(e){return this.innerHTML+=e,this},Obj.prepend=function(e){return this.innerHTML=arguments[0]+this.innerHTML,this},Obj.after=function(e){return this.outerHTML+=arguments[0],this},Obj.before=function(e){return this.outerHTML=arguments[0]+this.outerHTML,this},Obj.empty=function(){return this.innerHTML="",this},Obj.replaceWith=function(e){return this.outerHTML=arguments[0],this},Obj.hasClass=function(e){return!!this.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},Obj.addClass=function(e){return this.hasClass(e)||(this.className+=" "+e),this},Obj.removeClass=function(e){return this.hasClass(e)&&(this.className=this.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ")),this},Obj.siblings=function(){for(var e=this.parentNode.children,t=[],i=0,n=e.length;i<n;i++)e[i]!=this&&t.push(e[i]);return t},Obj.userChildren=function(){for(var e=this.childNodes,t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t},Obj.each=function(e){var t=this,i=function(){switch(t.constructor){case Object:return"Object";case Array:return"Array";case NodeList:return"NodeList";default:return"null"}}();if("Array"===i||"NodeList"===i)[].every.call(t,(function(t,i){return!1!==e.call(t,i,t)}));else if("Object"===i)for(var n in t)if(!1===e.call(t[n],n,t[n]))break},object};window.$j=$j$1;var win=window,doc=win.document,docElem=doc.documentElement,easyDialog=function(){var e=doc.body,t=!-[1],i=t&&/msie 6/.test(navigator.userAgent.toLowerCase()),n=1,r="cache"+(+new Date+"").slice(-8),o={},a=function(){};a.prototype={getOptions:function(e){var t,i={},n={container:null,overlay:!0,drag:!0,fixed:!0,follow:null,followX:0,followY:0,autoClose:0,lock:!1,callback:null,offset:null,shadeClose:!1,area:"500px"};for(t in n)i[t]=void 0!==e[t]?e[t]:n[t];return a.data("options",i),i},setBodyBg:function(){"fixed"!==e.currentStyle.backgroundAttachment&&(e.style.backgroundImage="url(about:blank)",e.style.backgroundAttachment="fixed")},appendIframe:function(e){e.innerHTML='<iframe style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;border:0 none;filter:alpha(opacity=0)"></iframe>'},setFollow:function(e,t,i,n){t="string"==typeof t?doc.getElementById(t):t;var r=e.style;r.position="absolute",r.left=a.getOffset(t,"left")+i+"px",r.top=a.getOffset(t,"top")+n+"px"},setPosition:function(e,t,n){var r=e.style;r.position=i?"absolute":t?"fixed":"absolute",r.top="auto",r.right="auto",r.bottom="auto",r.left="auto",n?"object"==typeof n?(r.top=n[0],r.left=n[1]):"t"===n?(r.top="10px",r.left="50%"):"r"===n?(r.top="50%",r.right="10px"):"b"===n?(r.bottom="10px",r.left="50%"):"l"===n&&(r.top="50%",r.left="10px"):t?(i?r.setExpression("top",'fuckIE6=document.documentElement.scrollTop+document.documentElement.clientHeight/2+"px"'):r.top="50%",r.left="50%"):(i&&r.removeExpression("top"),r.top=docElem.clientHeight/2+a.getScroll("top")+"px",r.left=docElem.clientWidth/2+a.getScroll("left")+"px")},createOverlay:function(){var t=doc.createElement("div"),n=t.style;return n.cssText="margin:0;padding:0;border:none;width:100%;height:100%;background:#333;opacity:0.6;filter:alpha(opacity=60);z-index:9999;position:fixed;top:0;left:0;",i&&(e.style.height="100%",n.position="absolute",n.setExpression("top",'fuckIE6=document.documentElement.scrollTop+"px"')),t.id="overlay",t},createDialogBox:function(){var e=doc.createElement("div");return e.style.cssText="margin:0;padding:0;border:none;z-index:10000;",e.id="easyDialogBox",e},createDialogWrap:function(e,t){t=t?" "+t:"";var i=e.header?'<h4 class="easyDialog_title" id="easyDialogTitle"><a href="javascript:void(0)" title="关闭窗口" class="close_btn" id="closeBtn">&times;</a>'+e.header+"</h4>":"",n="function"==typeof e.yesFn?'<button class="btn_highlight" id="easyDialogYesBtn">'+("string"==typeof e.yesText?e.yesText:"确定")+"</button>":"",r="function"==typeof e.noFn||!0===e.noFn?'<button class="btn_normal" id="easyDialogNoBtn">'+("string"==typeof e.noText?e.noText:"取消")+"</button>":"",o=""===n&&""===r?"":'<div class="easyDialog_footer">'+r+n+"</div>",a=['<div class="easyDialog_content">',i,'<div class="eDialog_cen">','<div class="easyDialog_text">'+(e.icon?'<i class="icon icon-dialog-'+e.icon+'"></i>':"")+('<span class="easyDialog_details">'+e.content+"</span>")+"</div>",o,"</div>","</div>"].join(""),s=doc.getElementById("easyDialogWrapper");return s||((s=doc.createElement("div")).id="easyDialogWrapper",s.className="easyDialog_wrapper"+t),s.innerHTML=a.replace(/<[\/]*script[\s\S]*?>/gi,""),s}},a.data=function(e,t,i){if("string"==typeof e)return void 0!==t&&(o[e]=t),o[e];if("object"==typeof e){var a=e===win?0:9===e.nodeType?1:e[r]?e[r]:e[r]=++n,s=o[a]?o[a]:o[a]={};return void 0!==i&&(s[t]=i),s[t]}},a.removeData=function(e,t){if("string"==typeof e)delete o[e];else if("object"==typeof e){var i=e===win?0:9===e.nodeType?1:e[r];if(void 0===i)return;var n=function(){if(delete o[i],!(i<=1))try{delete e[r]}catch(t){e.removeAttribute(r)}};t?(delete o[i][t],function(e){var t;for(t in e)return!1;return!0}(o[i])&&n()):n()}},a.event={bind:function(e,t,i){var n=a.data(e,"e"+t)||a.data(e,"e"+t,[]);if(n.push(i),1===n.length){var r=this.eventHandler(e);a.data(e,t+"Handler",r),e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)}},unbind:function(e,t,i){var n=a.data(e,"e"+t);if(n){if(i)for(var r=n.length-1,o=n[r];r>=0;r--)o===i&&n.splice(r,1);else n=void 0;if(!n||!n.length){var s=a.data(e,t+"Handler");e.addEventListener?e.removeEventListener(t,s,!1):e.attachEvent&&e.detachEvent("on"+t,s),a.removeData(e,t+"Handler"),a.removeData(e,"e"+t)}}},eventHandler:function(e){return function(t){for(var i,n=(t=a.event.fixEvent(t||win.event)).type,r=a.data(e,"e"+n),o=0;i=r[o++];)!1===i.call(e,t)&&(t.preventDefault(),t.stopPropagation())}},fixEvent:function(e){if(e.target)return e;var t,i={};for(t in i.target=e.srcElement||document,i.preventDefault=function(){e.returnValue=!1},i.stopPropagation=function(){e.cancelBubble=!0},e)i[t]=e[t];return i}},a.capitalize=function(e){var t=e.charAt(0);return t.toUpperCase()+e.replace(t,"")},a.getScroll=function(t){var i=this.capitalize(t);return docElem["scroll"+i]||e["scroll"+i]},a.getOffset=function(t,i){var n=this.capitalize(i),r=docElem["client"+n]||e["client"+n]||0,o=this.getScroll(i),a=t.getBoundingClientRect();return Math.round(a[i])+o-r},a.drag=function(e,n){var r="getSelection"in win?function(){win.getSelection().removeAllRanges()}:function(){try{doc.selection.empty()}catch(e){}},o=this,s=o.event,l=!1,u=t?e:doc,c="fixed"===n.style.position,h=a.data("options").fixed;s.bind(e,"mousedown",(function(r){l=!0;var p=o.getScroll("top"),m=o.getScroll("left"),f=c?0:m,C=c?0:p;a.data("dragData",{x:r.clientX-o.getOffset(n,"left")+(c?m:0),y:r.clientY-o.getOffset(n,"top")+(c?p:0),el:f,et:C,er:f+docElem.clientWidth-n.offsetWidth,eb:C+docElem.clientHeight-n.offsetHeight}),t&&(i&&h&&n.style.removeExpression("top"),e.setCapture()),s.bind(u,"mousemove",g),s.bind(u,"mouseup",d),t&&s.bind(e,"losecapture",d),r.stopPropagation(),r.preventDefault()}));var g=function(e){if(l){r();var t=a.data("dragData"),i=e.clientX-t.x,o=e.clientY-t.y,s=t.et,u=t.er,c=t.eb,h=t.el,g=n.style;g.marginLeft=g.marginTop="0px",g.left=(i<=h?h:i>=u?u:i)+"px",g.top=(o<=s?s:o>=c?c:o)+"px",e.stopPropagation()}},d=function(r){if(l=!1,t&&s.unbind(e,"losecapture",d),s.unbind(u,"mousemove",g),s.unbind(u,"mouseup",d),t&&(e.releaseCapture(),i&&h)){var a=parseInt(n.style.top)-o.getScroll("top");n.style.setExpression("top","fuckIE6=document.documentElement.scrollTop+"+a+'+"px"')}r.stopPropagation()}};var s,l=function(e){27===e.keyCode&&c.close()},u=function(){s&&(clearTimeout(s),s=void 0)},c={open:function(){var t,n,r,o,c=new a,h=c.getOptions(arguments[0]||{}),g=a.event,d=docElem.clientWidth,p=docElem.clientHeight,m=this;if(u(),h.overlay&&((t=doc.getElementById("overlay"))||(t=c.createOverlay(),e.appendChild(t),i&&c.appendIframe(t)),t.style.display="block"),i&&c.setBodyBg(),(n=doc.getElementById("easyDialogBox"))||(n=c.createDialogBox(),e.appendChild(n)),h.area&&("object"==typeof h.area?(n.style.width=h.area[0],n.style.height=h.area[1]):(n.style.width=h.area,n.style.height="auto")),h.follow){var f=function(){c.setFollow(n,h.follow,h.followX,h.followY)};f(),g.bind(win,"resize",f),a.data("follow",f),t&&(t.style.display="none"),h.fixed=!1}else c.setPosition(n,h.fixed,h.offset);n.style.display="block",r="string"==typeof h.container?doc.getElementById(h.container):c.createDialogWrap(h.container,h.className),(o=n.getElementsByTagName("*")[0])?o&&r!==o&&(o.style.display="none",e.appendChild(o),n.appendChild(r)):n.appendChild(r),r.style.display="block";var C=r.offsetWidth,y=r.offsetHeight,v=C>d,A=y>p;r.style.marginTop=r.style.marginRight=r.style.marginBottom=r.style.marginLeft="0px",h.follow?n.style.marginLeft=n.style.marginTop="0px":h.offset&&"object"!=typeof h.offset?("l"!=h.offset&&"r"!=h.offset?n.style.marginLeft="-"+(v?d/2:C/2)+"px":n.style.marginLeft="0px","t"!=h.offset&&"b"!=h.offset?n.style.marginTop="-"+(A?p/2:y/2)+"px":n.style.marginTop="0px"):(n.style.marginLeft="-"+(v?d/2:C/2)+"px",n.style.marginTop="-"+(A?p/2:y/2)+"px"),i&&!h.overlay&&(n.style.width=C+"px",n.style.height=y+"px");var I=doc.getElementById("closeBtn"),w=doc.getElementById("easyDialogTitle"),b=doc.getElementById("easyDialogYesBtn"),E=doc.getElementById("easyDialogNoBtn");if(b&&g.bind(b,"click",(function(e){!1!==h.container.yesFn.call(m,e)&&m.close()})),E){var x=function(e){!0!==h.container.noFn&&!1===h.container.noFn.call(m,e)||m.close()};g.bind(E,"click",x),I&&g.bind(I,"click",x)}else I&&g.bind(I,"click",m.close);if(h.lock||g.bind(doc,"keyup",l),h.overlay&&h.shadeClose&&g.bind(t,"click",m.close),h.autoClose&&"number"==typeof h.autoClose&&(s=setTimeout(m.close,h.autoClose,!1)),h.drag&&w&&!v&&!A&&(w.style.cursor="move",a.drag(w,n)),!h.follow&&!h.fixed){var _=function(){c.setPosition(n,!1,h.offset)};v||A||g.bind(win,"resize",_),a.data("resize",_)}a.data("dialogElements",{overlay:t,dialogBox:n,closeBtn:I,dialogTitle:w,dialogYesBtn:b,dialogNoBtn:E})},close:function(){var e=a.data("options"),t=a.data("dialogElements"),n=a.event;u(),e.overlay&&t.overlay&&(t.overlay.style.display="none"),t.dialogBox.style.display="none",i&&t.dialogBox.style.removeExpression("top"),t.closeBtn&&n.unbind(t.closeBtn,"click"),t.overlay&&n.unbind(t.overlay,"click"),t.dialogTitle&&n.unbind(t.dialogTitle,"mousedown"),t.dialogYesBtn&&n.unbind(t.dialogYesBtn,"click"),t.dialogNoBtn&&n.unbind(t.dialogNoBtn,"click"),e.follow||e.fixed||(n.unbind(win,"resize",a.data("resize")),a.removeData("resize")),e.follow&&(n.unbind(win,"resize",a.data("follow")),a.removeData("follow")),e.lock||n.unbind(doc,"keyup",l),"function"==typeof e.callback&&e.callback.call(c),a.removeData("options"),a.removeData("dialogElements");var r=document.getElementsByName("eload");r&&r.length>0&&r.parentNode.removeChild(r)},load:function(){var t=document.createElement("div");return t.className="eload",t.innerHTML='<div class="load-container load1"><div class="loader">加载中</div></div>',e.appendChild(t),{name:"加载中",remove:function(){t.parentNode.removeChild(t)}}},msg:function(){var e={};arguments[1]&&"object"==typeof arguments[1]&&(e=arguments[1]),e.overlay||(e.overlay=!1),win.XLGlobe.eDialog.open({container:{icon:e.icon?e.icon:"",content:arguments[0]},offset:e.offset?e.offset:null,overlay:e.overlay,area:e.area,autoClose:e.autoClose?e.autoClose:2e3})}};return c},loaded=function(){win.XLGlobe||(win.XLGlobe={}),win.XLGlobe.eDialog=easyDialog()},doScrollCheck=function(){if(!doc.body){try{docElem.doScroll("left")}catch(e){return void setTimeout(doScrollCheck,1)}loaded()}};if(doc.body)loaded();else if(doc.addEventListener){var d1=function(){doc.removeEventListener("DOMContentLoaded",d1,!1),loaded()};doc.addEventListener("DOMContentLoaded",d1,!1),win.addEventListener("load",loaded,!1)}else if(doc.attachEvent){var d2=function(){"complete"===doc.readyState&&(doc.detachEvent("onreadystatechange",d2),loaded())};doc.attachEvent("onreadystatechange",d2),win.attachEvent("onload",loaded);var toplevel=!1;try{toplevel=null==win.frameElement}catch(e){}docElem.doScroll&&toplevel&&doScrollCheck()}var notice={},dragBox=function(e,t){function i(e,t){return parseInt(window.getComputedStyle(e)[t])}var n,r,o=!1,a=i(t,"left"),s=i(t,"top");e.addEventListener("mousedown",(function(e){o=!0,n=e.clientX,r=e.clientY}),!1),document.addEventListener("mousemove",(function(e){if(!0===o){var i=e.clientX,l=e.clientY,u=i-n,c=l-r;t.style.left=a+u+"px",t.style.top=s+c+"px"}})),e.addEventListener("mouseup",(function(e){o=!1,a=i(t,"left"),s=i(t,"top")}),!1)},Utils={latlng:latlng$1,tooltip:tooltip,Popup:Popup$1,Tooltip:Tooltip,util:util$1,draw:draw,pointconvert:pointconvert$2,cjquery:cjquery};Utils.notice=notice,Utils.DragBox=dragBox;class BookmarkWidget{constructor(e,t){var i=this;this.viewer=e,this.options={quality:.8},this.options=Object.assign(this.options,t);var n=document.createElement("div");n.setAttribute("class","Bookmark");var r=document.createElement("div");r.setAttribute("class","Bookmark_title"),r.innerText="书签视角",n.appendChild(r);var o=document.createElement("div");n.appendChild(o),document.getElementsByTagName("body")[0].appendChild(n),Utils.DragBox(r,n);var a=document.createElement("div");a.setAttribute("class","Bookmark_add"),o.appendChild(a);var s=document.createElement("input");s.setAttribute("class","Bookmark_add_input"),s.setAttribute("placeholder","输入名称"),a.appendChild(s);var l=document.createElement("button");l.setAttribute("class","Bookmark_add_btn"),l.innerText="添加",a.appendChild(l),l.onclick=function(e){i._add(e.target.previousSibling.value)};var u=document.createElement("div");u.setAttribute("class","Bookmark_container"),o.appendChild(u);var c=document.createElement("div");c.setAttribute("class","Bookmark_container_body"),u.appendChild(c);var h=document.createElement("table");h.setAttribute("class","Bookmark_container_body_table"),h.setAttribute("id","table"),c.appendChild(h);var g=document.createElement("thead");h.appendChild(g),g.style.display="none";var d=document.createElement("tr");g.appendChild(d);var p=document.createElement("th");d.appendChild(p);var m=document.createElement("tbody");h.appendChild(m),this.bookmarkLis=null==localStorage.getItem("XLGlobe_bookmark")?[]:JSON.parse(localStorage.getItem("XLGlobe_bookmark")),this._applyColours()}_add(e){if(""!=e){var t=!1;if(this.bookmarkLis.forEach((i=>{i.name!=e||(t=!0)})),t)XLGlobe.eDialog.msg("该名称已存在，请更改。",{offset:"t"});else{var i=Utils.latlng.getCameraView(this.viewer),n=this.viewer.scene.canvas.width,r=this.viewer.scene.canvas.height,o=new Image;this.viewer.scene.canvas.width=202,this.viewer.scene.canvas.height=156,this.viewer.render(),o=this.viewer.scene.canvas.toDataURL("image/png"),this.viewer.scene.canvas.width=n,this.viewer.scene.canvas.height=r,this.viewer.render();var a={};a.name=e,a.id=(new Date).getTime(),a.icon=o,a.data={heading:i.heading,pitch:i.pitch,roll:i.roll,x:i.x,y:i.y,z:i.z},this.bookmarkLis.push(a),this._applyColours(),localStorage.setItem("XLGlobe_bookmark",JSON.stringify(this.bookmarkLis))}}else XLGlobe.eDialog.msg("请输入名称",{offset:"t"})}_applyColours(){var e=this;document.getElementById("table").getElementsByTagName("tbody")[0].innerHTML="";var t=document.createElement("tr");if(this.bookmarkLis.length>0)this.bookmarkLis.forEach(((i,n)=>{var r=document.createElement("td");r.style.textAlign="center",t.appendChild(r),r.setAttribute("index",n),r.onclick=function(){e.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(i.data.x,i.data.y,i.data.z),orientation:{heading:Cesium.Math.toRadians(i.data.heading),pitch:Cesium.Math.toRadians(i.data.pitch),roll:Cesium.Math.toRadians(i.data.roll)}})};var o=document.createElement("div");o.setAttribute("class","Bookmark_container_item"),r.appendChild(o);var a=document.createElement("img");a.setAttribute("src",i.icon),o.appendChild(a);var s=document.createElement("div");s.setAttribute("class","Bookmark_container_item_title"),s.innerText=i.name;var l=document.createElement("a");l.setAttribute("class","remove"),l.innerText="删除",l.onclick=function(t){e.bookmarkLis.splice(t.target.parentElement.parentElement.parentElement.getAttribute("index"),1),localStorage.setItem("XLGlobe_bookmark",JSON.stringify(e.bookmarkLis)),e._applyColours()},s.appendChild(l),o.appendChild(s)}));else{var i=document.createElement("td");i.setAttribute("colspan","1"),i.innerText="没有找到匹配的记录",t.appendChild(i)}document.getElementById("table").getElementsByTagName("tbody")[0].appendChild(t)}}class Rotate{constructor(e,t){this.viewer=e,this.options=t||{},this.onTickCallback=""}startRotate(){this.viewer.clock.multiplier=this.options.speed?this.options.speed:200,this.viewer.clock.shouldAnimate=!0,this.previousTime=this.viewer.clock.currentTime.secondsOfDay;var e=this;this.onTickCallback=function(){var t=e.viewer.clock.currentTime.secondsOfDay,i=(t-e.previousTime)/1e3;e.previousTime=t,e.viewer.scene.camera.rotate(Cesium.Cartesian3.UNIT_Z,-1*i)},e.viewer.clock.onTick.addEventListener(this.onTickCallback)}stopRotate(){this.viewer.clock.multiplier=0,this.viewer.clock.onTick.removeEventListener(this.onTickCallback)}}class HistoryCamera{constructor(e,t){var i=this;this.viewer=e,this.historyCamera=[];var n=this.viewer.camera.pickEllipsoid(new Cesium.Cartesian2(this.viewer.canvas.clientWidth/2,this.viewer.canvas.clientHeight/2)),r=Cesium.Ellipsoid.WGS84.cartesianToCartographic(n),o=180*r.longitude/Math.PI,a=180*r.latitude/Math.PI,s=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(this.viewer.camera.position).height;this.historyCamera.push({index:this.historyCamera.length+1,heading:this.viewer.camera.heading,pitch:this.viewer.camera.pitch,roll:this.viewer.camera.roll,x:o,y:a,z:s}),this.obj={},Object.defineProperty(this.obj,"index",{set:function(e){return t({total:i.historyCamera.length,index:e})}}),this.index=this.historyCamera.length,this.obj.index=this.index,this.ifAdd=!0}addHistoryCamera(){var e=this;this.viewer.scene.camera.moveEnd.addEventListener((function(){if(e.ifAdd){var t=e.viewer.camera.pickEllipsoid(new Cesium.Cartesian2(e.viewer.canvas.clientWidth/2,e.viewer.canvas.clientHeight/2)),i=Cesium.Ellipsoid.WGS84.cartesianToCartographic(t),n=180*i.longitude/Math.PI,r=180*i.latitude/Math.PI,o=e.viewer.scene.globe.ellipsoid.cartesianToCartographic(e.viewer.camera.position).height;e.historyCamera.push({index:e.historyCamera.length+1,heading:e.viewer.camera.heading,pitch:e.viewer.camera.pitch,roll:e.viewer.camera.roll,x:n,y:r,z:o}),e.index=e.historyCamera.length,e.obj.index=e.index}}))}upCamera(e){if(1==this.index)return e?e("当前已是第一条记录了"):void XLGlobe.eDialog.msg("当前已是第一条记录了",{offset:"t"});this.ifAdd=!1,this.index=this.index-1,this.obj.index=this.index,this.historyCamera.forEach((e=>{this.index==e.index&&this._flyTo(e.x,e.y,e.z,e.heading,e.pitch,e.roll)}))}nextCamera(e){if(this.index==this.historyCamera.length)return e?e("当前已是最后一条记录了"):void XLGlobe.eDialog.msg("当前已是最后一条记录了",{offset:"t"});this.ifAdd=!1,this.index=this.index+1,this.obj.index=this.index,this.historyCamera.forEach((e=>{this.index==e.index&&this._flyTo(e.x,e.y,e.z,e.heading,e.pitch,e.roll)}))}presentCamera(e){if(this.index==this.historyCamera.length)return e?e("当前已是最后一条记录了"):void XLGlobe.eDialog.msg("当前已是最后一条记录了",{offset:"t"});var t=this.historyCamera[this.historyCamera.length-1];this.ifAdd=!1,this.index=t.index,this.obj.index=this.index,this._flyTo(t.x,t.y,t.z,t.heading,t.pitch,t.roll)}_flyTo(e,t,i,n,r,o){var a=this;a.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e,t,i),orientation:{heading:n,pitch:r,roll:o},complete:function(){setTimeout((function(){a.ifAdd=!0}),1500)}})}}class LimitCamera{constructor(e){this.viewer=e,this.flyTo=""}startLimitCamera(){var e=this.viewer.camera.pickEllipsoid(new Cesium.Cartesian2(this.viewer.canvas.clientWidth/2,this.viewer.canvas.clientHeight/2)),t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e),i=180*t.longitude/Math.PI,n=180*t.latitude/Math.PI,r=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(this.viewer.camera.position).height,o=this;this.flyTo=function(){o.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(i,n,r),orientation:{heading:o.viewer.camera.heading,pitch:o.viewer.camera.pitch,roll:o.viewer.camera.roll},duration:1})},this.viewer.scene.camera.moveEnd.addEventListener(this.flyTo)}endLimitCamera(){this.viewer.scene.camera.moveEnd.removeEventListener(this.flyTo)}}class CameraFlight{constructor(e){this.viewer=e,this.ifPointRaoDian=!1,this.ifCameraSituFlight=!1}startPointRaoDian(e){this.ifPointRaoDian=!1;var t=Cesium.Math.toRadians(e.pitch?e.pitch:-30),i=360/(e.angle?e.angle:10),n=e.distance?e.distance:20,r=Cesium.JulianDate.fromDate(new Date);this.viewer.clock.startTime=r.clone(),this.viewer.clock.currentTime=r.clone(),this.viewer.clock.clockRange=Cesium.ClockRange.CLAMPED,this.viewer.clock.clockStep=Cesium.ClockStep.SYSTEM_CLOCK;var o=this.viewer.camera.heading,a=this,s=function(){var r=Cesium.JulianDate.secondsDifference(a.viewer.clock.currentTime,a.viewer.clock.startTime),l=Cesium.Math.toRadians(r*i)+o;a.viewer.scene.camera.setView({destination:e.position,orientation:{heading:l,pitch:t}}),a.viewer.scene.camera.moveBackward(n),a.ifPointRaoDian&&a.viewer.clock.onTick.removeEventListener(s)};a.viewer.clock.onTick.addEventListener(s)}endPausePointRaoDian(){this.ifPointRaoDian=!0}startCameraSituFlight(e){this.ifCameraSituFlight=!1;var t=this,i=(e=e||{},Cesium.Math.toRadians(e.pitch?e.pitch:-30)),n=360/(e.angle?e.angle:10),r=Cesium.JulianDate.fromDate(new Date);t.viewer.clock.startTime=r.clone(),t.viewer.clock.currentTime=r.clone(),t.viewer.clock.clockRange=Cesium.ClockRange.CLAMPED,t.viewer.clock.clockStep=Cesium.ClockStep.SYSTEM_CLOCK;var o=this.viewer.camera.heading,a=function(){var e=Cesium.JulianDate.secondsDifference(t.viewer.clock.currentTime,t.viewer.clock.startTime),r=Cesium.Math.toRadians(e*n)+o;t.viewer.scene.camera.setView({orientation:{heading:r,pitch:i}}),t.ifCameraSituFlight&&t.viewer.clock.onTick.removeEventListener(a)};t.viewer.clock.onTick.addEventListener(a)}endCameraSituFlight(){this.ifCameraSituFlight=!0}}class KeyboardRoam{constructor(e,t){this.viewer=e,this.options=t||{},this.distance=(this.options.distance?this.options.distance:100)/100,this.flags={lookUp:!1,lookDown:!1,lookLeft:!1,lookRight:!1,rotateUp:!1,rotateDown:!1,moveForward:!1,moveBackward:!1,rotateLeft:!1,rotateRight:!1,moveUp:!1,moveDown:!1,moveLeft:!1,moveRight:!1,rotateCW:!1,rotateCCW:!1,rotationUp:!1,rotationDown:!1},this.viewer.scene.globe.depthTestAgainsTerrain=!0,this._registerKeyboardEvents()}_getFlagForKeyCode(e){switch(e){case 87:return"rotateUp";case 83:return"rotateDown";case 68:return"rotateLeft";case 65:return"rotateRight";case 81:return"moveUp";case 69:return"moveDown";case 38:return"lookUp";case 40:return"lookDown";case 37:return"lookLeft";case 39:return"lookRight";case 73:return"moveForward";case 75:return"moveBackward";case 74:return"rotateCW";case 76:return"rotateCCW";case 85:return"rotationUp";case 79:return"rotationDown";default:return}}_registerKeyboardEvents(){var e=this;document.addEventListener("keydown",(function(t){var i=e._getFlagForKeyCode(t.keyCode);void 0!==i&&(e.flags[i]=!0)}),!1),document.addEventListener("keyup",(function(t){var i=e._getFlagForKeyCode(t.keyCode);void 0!==i&&(e.flags[i]=!1)}),!1),e.viewer.clock.onTick.addEventListener((function(t){var i=e.viewer.camera,n=e.viewer.scene.globe.ellipsoid.cartesianToCartographic(i.position).height/100,r=e.viewer.camera.pickEllipsoid(new Cesium.Cartesian2(e.viewer.canvas.clientWidth/2,e.viewer.canvas.clientHeight/2));if(r)var o=Cesium.Ellipsoid.WGS84.cartesianToCartographic(r),a=Cesium.Cartesian3.fromDegrees(180*o.longitude/Math.PI,180*o.latitude/Math.PI),s=Cesium.Cartesian3.distance(new Cesium.Cartesian3(i.position.x,i.position.y,i.position.z),new Cesium.Cartesian3(a.x,a.y,a.z));else s=0;e.flags.lookUp&&i.lookUp(Cesium.Math.toRadians(.1)),e.flags.lookDown&&i.lookDown(Cesium.Math.toRadians(.1)),e.flags.lookLeft&&i.look(i.position,-Cesium.Math.toRadians(.1)),e.flags.lookRight&&i.look(i.position,Cesium.Math.toRadians(.1)),e.flags.rotateUp&&i.rotateUp(Cesium.Math.toRadians(e.distance/1e5)),e.flags.rotateDown&&i.rotateDown(Cesium.Math.toRadians(e.distance/1e5)),e.flags.rotateLeft&&i.rotateLeft(Cesium.Math.toRadians(e.distance/1e5)),e.flags.rotateRight&&i.rotateRight(Cesium.Math.toRadians(e.distance/1e5)),e.flags.moveForward&&i.moveForward(n),e.flags.moveBackward&&i.moveBackward(n),e.flags.moveUp&&i.moveUp(e.distance),e.flags.moveDown&&i.moveDown(e.distance),e.flags.rotateCW&&i.rotate(i.position,Cesium.Math.toRadians(.5)),e.flags.rotateCCW&&i.rotate(i.position,-Cesium.Math.toRadians(.5)),e.flags.rotationUp&&(i.setView({destination:a,orientation:{pitch:i.pitch-Cesium.Math.toRadians(1)}}),i.moveBackward(s)),e.flags.rotationDown&&(i.setView({destination:a,orientation:{pitch:i.pitch+Cesium.Math.toRadians(1)>-.35574061988871986?-.35574061988871986:i.pitch+Cesium.Math.toRadians(1)}}),i.moveBackward(s))}))}}class Roaming{constructor(e,t){this.viewer=e,this.pause=!0,t=t||{},this.Lines=[],this.entity=void 0,this.start=void 0,this.stop=void 0,this.time=t.time?t.time:360,this.multiplier=t.multiplier?t.multiplier:1,this.isPattern=!0,this.data={},this.ifClockLoop=!1}_ComputeRoamingLineProperty(e,t){let i=new Cesium.SampledPositionProperty,n=e.length,r=t,o=Cesium.JulianDate.now();this.start=o;let a=Cesium.JulianDate.addSeconds(o,t,new Cesium.JulianDate);this.stop=a,this.viewer.clock.startTime=o.clone(),this.viewer.clock.stopTime=a.clone(),this.viewer.clock.currentTime=o.clone(),this.ifClockLoop?this.viewer.clock.clockRange=Cesium.ClockRange.LOOP_STOP:(this.viewer.clock.clockRange=Cesium.ClockRange.CLAMPED,this.viewer.clock.clockStep=Cesium.ClockStep.SYSTEM_CLOCK),this.viewer.clock.shouldAnimate=!0,this.viewer.clock.multiplier=this.multiplier;for(let s=0;s<n;s++){t=Cesium.JulianDate.addSeconds(o,s*r/n,new Cesium.JulianDate);s==n-1&&(t=a);let l=e[s];this.ifTileset&&(l=this.viewer.scene.clampToHeight(l)),i.addSample(t,l)}return i}cameraRoaming(e){this.Lines=e;var t=this._ComputeRoamingLineProperty(this.Lines,this.time);this._InitRoaming(t,this.start,this.stop)}_InitRoaming(e,t,i){this.entity=this.viewer.entities.add({availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:t,stop:i})]),position:e,orientation:new Cesium.VelocityOrientationProperty(e)}),this.entity.position.setInterpolationOptions({interpolationDegree:100,interpolationAlgorithm:Cesium.HermitePolynomialApproximation}),this.viewer.trackedEntity=this.entity;var n=this.viewer.camera,r=this,o=function(){if(r.entity){var e=r.entity.position.getValue(r.viewer.clock.currentTime);e&&n.lookAt(e,{heading:Cesium.Math.toRadians(117.7),pitch:Cesium.Math.toRadians(0),range:100}),r.viewer.clock.shouldAnimate&&e&&r._realTimeData(e)}else r.viewer.scene.preUpdate.removeEventListener(o)};r.viewer.scene.preUpdate.addEventListener(o)}modelRoaming(e){this.modelData={},this.Lines=e.Lines;var t={show:!1,material:Cesium.Color.RED},i={show:!1,topRadius:0,bottomRadius:100,material:Cesium.Color.RED.withAlpha(.3),heightReference:Cesium.HeightReference.CLAMP_TO_GROUND};this.ifAffixedTo=!!e.ifAffixedTo&&e.ifAffixedTo,this.ifClockLoop=!!e.ifClockLoop&&e.ifClockLoop,this.interpolation=!!e.interpolation&&e.interpolation,this.showLabel=!!e.showLabel&&e.showLabel,this.ifTileset=!!e.ifTileset&&e.ifTileset,this.modelData.model=Object.assign({minimumPixelSize:64},e.model),this.modelData.path=Object.assign({show:!1},e.path),this.modelData.label=Object.assign({show:!1},e.label),this.modelData.polyline=Object.assign(t,e.polyline),this.modelData.cylinder=Object.assign(i,e.cylinder),this.modelData.polyline.positions=new Cesium.CallbackProperty((function(){}),!1),this.modelData.cylinder.length=new Cesium.CallbackProperty((function(){}),!1);var n=this._ComputeRoamingLineProperty(this.Lines,this.time);this._modelInitRoaming(n,this.start,this.stop,e.model,e.path)}_modelInitRoaming(e,t,i){var n=this;this.entity=this.viewer.entities.add({availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:t,stop:i})]),position:e,orientation:new Cesium.VelocityOrientationProperty(e),model:this.modelData.model,label:this.modelData.label,path:this.modelData.path}),!n.ifAffixedTo&&n.interpolation&&this.entity.position.setInterpolationOptions({interpolationDegree:5,interpolationAlgorithm:Cesium.LagrangePolynomialApproximation}),n.polyline=n.viewer.entities.add({polyline:n.modelData.polyline}),n.cylinder=n.viewer.entities.add({position:e,orientation:new Cesium.VelocityOrientationProperty(e),cylinder:this.modelData.cylinder});var r=[],o=function(){if(n.entity){if(n.viewer.clock.shouldAnimate){var e=n.entity.position.getValue(n.viewer.clock.currentTime);if(n.modelData.polyline.show&&(r.push(e),n.modelData.polyline.positions._callback=function(){return r}),n.ifAffixedTo){var t=n.viewer.scene.globe.ellipsoid.cartesianToCartographic(e);let i=n.viewer.terrainProvider.availability?n.viewer.terrainProvider:Cesium.createWorldTerrain();Cesium.sampleTerrainMostDetailed(i,[Cesium.Cartographic.fromDegrees(t.longitude/Math.PI*180,t.latitude/Math.PI*180)]).then((function(e){n.entity.position.addSample(n.viewer.clock.currentTime,Cesium.Cartesian3.fromRadians(e[0].longitude,e[0].latitude,e[0].height))}))}n.ifTileset&&n.entity.position.addSample(n.viewer.clock.currentTime,n.viewer.scene.clampToHeight(e,[n.entity])),n.modelData.cylinder.show&&(n.modelData.cylinder.length._callback=function(){return n.viewer.scene.globe.ellipsoid.cartesianToCartographic(e).height}),e&&n._realTimeData(e)}}else n.viewer.scene.preUpdate.removeEventListener(o)};n.viewer.scene.preUpdate.addEventListener(o),n.changingView(1)}PauseOrContinue(e){this.viewer.clock.shouldAnimate=e}ChangeRoamingSpeed(e){this.viewer.clock.multiplier=e}EndRoaming(){void 0!==this.entity&&(this.viewer.entities.remove(this.entity),this.viewer.entities.remove(this.polyline),this.viewer.entities.remove(this.cylinder),this.entity=void 0,this.polyline=void 0,this.cylinder=void 0,this.PauseOrContinue(!1))}getData(e){var t=this;Object.defineProperty(this.data,"shouldAnimate",{set:function(i){return e(t.data)}})}changingView(e,t){t=t||{};this.viewer.trackedEntity=void 0,1==e?this.viewer.trackedEntity=this.entity:2==e?this.viewer.zoomTo(this.viewer.entities,new Cesium.HeadingPitchRange(0,Cesium.Math.toRadians(-90))):3==e?this.viewer.zoomTo(this.viewer.entities,new Cesium.HeadingPitchRange(Cesium.Math.toRadians(-90),Cesium.Math.toRadians(-15),8e3)):4==e&&this.viewer.zoomTo(this.viewer.entities,new Cesium.HeadingPitchRange(Cesium.Math.toRadians(t.heading?t.heading:0),Cesium.Math.toRadians(t.pitch?t.pitch:0),t.range?t.range:0))}_realTimeData(e){var t=this;t.data.shouldAnimate=t.viewer.clock.shouldAnimate,t.data.totalLength=t._disTance(t.Lines),t.data.totalTime=t._formateSeconds(t.time);var i=Cesium.JulianDate.secondsDifference(t.viewer.clock.currentTime,t.viewer.clock.startTime);t.data.delTime=t._formateSeconds(i),t.data.roamingLength=(t.data.totalLength/t.time*i).toFixed(3);var n=t.viewer.scene.globe.ellipsoid.cartesianToCartographic(e);t.data.longitude=(n.longitude/Math.PI*180).toFixed(6),t.data.latitude=(n.latitude/Math.PI*180).toFixed(6);let r=t.viewer.terrainProvider.availability?t.viewer.terrainProvider:Cesium.createWorldTerrain();Cesium.sampleTerrainMostDetailed(r,[Cesium.Cartographic.fromDegrees(n.longitude/Math.PI*180,n.latitude/Math.PI*180)]).then((function(e){t.data.roamingElevation=(e[0].height+n.height).toFixed(2),t.data.terrainHeight=e[0].height.toFixed(2),t.data.liftoffHeight=(t.data.roamingElevation-t.data.terrainHeight).toFixed(2)})),t.data.progress=(t.data.roamingLength/t.data.totalLength*100).toFixed(0)+"%"}_disTance(e){for(var t=0,i=0;i<e.length-1;i++){var n=Cesium.Cartographic.fromCartesian(e[i]),r=Cesium.Cartographic.fromCartesian(e[i+1]),o=new Cesium.EllipsoidGeodesic;o.setEndPoints(n,r);var a=o.surfaceDistance;t+=a=Math.sqrt(Math.pow(a,2)+Math.pow(r.height-n.height,2))}return t.toFixed(3)}_formateSeconds(e){let t=parseInt(e),i=0,n=0,r="";return t>=60&&(i=parseInt(t/60),t=parseInt(t%60),i>=60&&(n=parseInt(i/60),i=parseInt(i%60))),n=0==n.toString()?"":n.toString()+"小时",i=0==i.toString()?"":i.toString()+"分钟",t=0==t.toString()?"":t.toString()+"秒",r=`${n+i+t}`,""==r?"0秒":r}}class RoamLineWidget{constructor(e,t){var i=this;this.drawnLine,this.activeLine,this.handler,this.activeShape,this.roaming,this.roamOBJ={name:"",id:"",geometry:{coordinates:[],type:"LineString"},attr:{name:"",id:"",model:"",showLine:!1,showShadow:!1,showLabel:!1,clockLoop:!1,interpolation:!1,clampToGround:!1,remark:"",cameraType:""}};this.startRoam=!1,this.viewer=e,this.options=t||{},this.roamData=[],this.preserveCustomFn=this.options.preserveCustomFn,this.httpRequestParams=Object.assign({method:"POST",headers:{"content-type":"application/json"},cache:"no-cache"},this.options.httpRequestParams);var n=document.createElement("div");n.setAttribute("class","roamWidget");var r=document.createElement("div");r.setAttribute("class","roamWidget_title"),r.innerText="飞行漫游(含编辑)",n.appendChild(r),Utils.DragBox(r,n);var o=document.createElement("div");o.setAttribute("class","roamWidget_box"),n.appendChild(o);var a=document.createElement("div");o.appendChild(a),document.getElementsByTagName("body")[0].appendChild(n);var s=document.createElement("div");s.setAttribute("class","buts"),a.appendChild(s);var l=document.createElement("div");s.appendChild(l),l.setAttribute("class","butsBox");var u=document.createElement("button");u.setAttribute("class","addBut"),u.innerHTML="<span class='iconfont_RJ icon-xinzeng'></span>新增路线";var c=document.createElement("div");c.setAttribute("class","roamWidget_tooltip");var h=document.createElement("div");h.setAttribute("class","roamWidget_tooltip_arrow"),c.appendChild(h);var g=document.createElement("div");g.setAttribute("class","roamWidget_tooltip_inner"),c.appendChild(g),g.innerHTML="单击 开始绘制",l.appendChild(u);var d=document.createElement("button");d.setAttribute("class","saveBut"),d.innerHTML="<span class='iconfont_RJ icon-save01'></span>保存路线",l.appendChild(d);var p=document.createElement("div");p.setAttribute("class","tableBox");var m=document.createElement("div");m.setAttribute("class","tableHeaderBox"),m.innerHTML="<table class='table table-hover'><thead><tr><th><div class='th-inner sortable both' style='text-align: left;'>名称</div><div class='fht-cell' style='width: 166px;'></div></th><th><div class='th-inner' style='text-align: center; width: 80px;'>操作</div><div class='fht-cell'></div></th></tr></thead></table>",p.appendChild(m),a.appendChild(p);var f=document.createElement("div");f.setAttribute("class","tableBodyBox");var C=document.createElement("table");if(C.setAttribute("id","table"),C.setAttribute("class","table table-hover"),f.appendChild(C),p.appendChild(f),null==localStorage.getItem("XLGlobe_RoamLineWidget")){if(i.options.url){async function w(){let e=await fetch(i.options.url,i.httpRequestParams).then((e=>e.json()));i.roamData=e,C.innerHTML=i._addFlightTable(),localStorage.setItem("XLGlobe_RoamLineWidget",JSON.stringify(i.roamData))}w()}}else i.roamData=JSON.parse(localStorage.getItem("XLGlobe_RoamLineWidget"));C.innerHTML=i._addFlightTable();var y=document.createElement("ul");y.setAttribute("class","ul"),o.appendChild(y),y.innerHTML="<li class='cur'><div class='bdt'><div class='open'><i class='tree_icon'>-</i>属性信息</div><div class='mp_attr'><table id='talbe_attr'><tbody><tr id='plot_attr_attr_tr_name'><td class='nametd'>名称</td><td><input id='plot_attr_attr_name' type='text' class='mp_input'></td></tr><tr id='plot_attr_attr_tr_model'><td class='nametd'>漫游模型</td><td><div class='mp_select'><div class='mp_select_text'>无</div><ul class='mp_select_ul'><li data-value=''>无</li><li data-value='model_man'>行人</li><li data-value='model_car'>小汽车</li><li data-value='model_air'>民航飞机</li><li data-value='model_zhanji'>军用飞机</li><li data-value='model_weixin'>航天卫星</li></ul></div></td></tr><tr id='plot_attr_attr_tr_clampToGround'><td class='nametd'>是否贴地漫游</td><td><div class='radio radio-info radio-inline'><input type='radio' id='plot_attr_attr_clampToGround_1' value='1' name='plot_attr_attr_clampToGround'><label for='plot_attr_attr_clampToGround_1'> 是</label></div><div class='radio radio-info radio-inline'><input type='radio' id='plot_attr_attr_clampToGround_2' value='2'  name='plot_attr_attr_clampToGround' checked='checked' '=''><label for='plot_attr_attr_clampToGround_2' > 否 </label></div></div></td></tr><tr id='plot_attr_attr_tr_interpolation'><td class='nametd'>是否弧形插值</td><td> <div class='radio radio-info radio-inline'><input type='radio' id='plot_attr_attr_interpolation_1' value='1' name='plot_attr_attr_interpolation'><label for='plot_attr_attr_interpolation_1'> 是</label></div><div class='radio radio-info radio-inline'><input type='radio' id='plot_attr_attr_interpolation_2' value='2' name='plot_attr_attr_interpolation' checked='checked' /><label for='plot_attr_attr_interpolation_2'> 否 </label></div> </td> </tr>  </tr><tr id='plot_attr_attr_tr_showLabel'> <td class='nametd'>显示注记</td> <td> <div class='radio radio-info radio-inline'> <input type='radio' id='plot_attr_attr_showLabel_1' value='1' name='plot_attr_attr_showLabel'> <label for='plot_attr_attr_showLabel_1'> 是</label> </div><div class='radio radio-info radio-inline'><input type='radio'  id='plot_attr_attr_showLabel_2' value='2' name='plot_attr_attr_showLabel'  checked='checked' /><label for='plot_attr_attr_showLabel_2'> 否 </label> </div> </td> </tr> <tr id='plot_attr_attr_tr_showLine'> <td class='nametd'>显示路线</td> <td> <div class='radio radio-info radio-inline'> <input type='radio' id='plot_attr_attr_showLine_1' value='1' name='plot_attr_attr_showLine'><label for='plot_attr_attr_showLine_1'> 是</label> </div><div class='radio radio-info radio-inline'> <input type='radio' id='plot_attr_attr_showLine_2' value='2' name='plot_attr_attr_showLine' checked='checked' /> <label for='plot_attr_attr_showLine_2'> 否 </label> </div> </td> </tr> <tr id='plot_attr_attr_tr_showShadow'> <td class='nametd'>显示投影</td> <td><div class='radio radio-info radio-inline'> <input type='radio'id='plot_attr_attr_showShadow_1' value='1'  name='plot_attr_attr_showShadow'> <label for='plot_attr_attr_showShadow_1'> 是</label> </div><div class='radio radio-info radio-inline'><input type='radio' id='plot_attr_attr_showShadow_2' value='2' name='plot_attr_attr_showShadow' checked='checked' /><label for='plot_attr_attr_showShadow_2'> 否 </label> </div> </td> </tr><tr id='plot_attr_attr_tr_cameraType'><td class='nametd'>视角</td><td><div class='mp_select'><div class='mp_select_text' data-value='gs'>跟随视角</div><ul class='mp_select_ul'><li data-value=''>无</li><li data-value='gs'>跟随视角</li><li data-value='dy'>上方视角</li><li data-value='sd'>侧方视角</li></ul></div> </td></tr> <tr id='plot_attr_attr_tr_followedX' style='display: none;'> <td class='nametd'>锁定视角距离</td><td><input id='plot_attr_attr_followedX' type='number' value='50' class='mp_input'></td></tr><tr id='plot_attr_attr_tr_followedZ' style='display: none;'><td class='nametd'>锁定视角高度</td> <td><input id='plot_attr_attr_followedZ' type='number' value='10' class='mp_input'></td> </tr><tr id='plot_attr_attr_tr_clockLoop'><td class='nametd'>是否循环漫游</td><td><div class='radio radio-info radio-inline'><input type='radio'  id='plot_attr_attr_clockLoop_1' value='1' name='plot_attr_attr_clockLoop'><label  for='plot_attr_attr_clockLoop_1'> 是</label></div><div class='radio radio-info radio-inline'><input type='radio' id='plot_attr_attr_clockLoop_2' value='2'  name='plot_attr_attr_clockLoop' checked='checked' /><label for='plot_attr_attr_clockLoop_2'> 否 </label></div></td> </tr><tr id='plot_attr_attr_tr_remark'> <td class='nametd'>备注</td><td><textarea id='plot_attr_attr_remark' class='mp_input' style='height:50px;resize: none;color:#fff;'></textarea></td> </tr> </tbody> </table> </div>  </div> <div style='margin-top:10px;text-align:center'><button id='btnFlyStart' type='button' class='btn btn-primary'>开始漫游</button> <button id='btnDelete' type='button' class='btn btn-danger'>删除路线</button></div>  </div> </li>";var v=document.createElement("ul");v.setAttribute("class","mp_tab_con"),o.appendChild(v);var A=document.createElement("ul");A.setAttribute("class","mp_tab_tit"),n.appendChild(A),A.innerHTML="<li id='tab_plot' class='cur'>路线</li><li id='tab_latlng' class='disabled'>坐标</li><li id='tab_attr' class='disabled'>属性</li>";var I=document.createElement("div");I.setAttribute("class","roamPopup"),I.setAttribute("id","roamPopup"),document.getElementsByTagName("body")[0].appendChild(I),I.innerHTML='<div class="rightbottom"><div class="rightbottom-title" id="rightbottom-title" style="cursor: move;">漫游路线 <i id="close">X</i></div><div class="mp_head2"><div class="btn-group" role="group"><button id="btnFlyStop" title="停止漫游" class="btn btn-primary btn-sm"><span class="fa fa-play-circle-o"></span> 停止漫游</button></div></div><table class="mp_table"><tbody><tr><td class="nametd">路线名称</td><td id="td_name"></td></tr><tr><tr><td class="nametd">总长度</td><td id="td_alllength"></td></tr><tr><td class="nametd">已漫游长度</td><td id="td_length"></td></tr><tr><td class="nametd">总时长</td><td id="td_alltimes"></td></tr><tr><td class="nametd">已漫游时间</td><td id="td_times"></td></tr><tr><td class="nametd">经度</td><td id="td_jd"></td></tr><tr><td class="nametd">经度</td><td id="td_wd"></td></tr><tr><td class="nametd">漫游高程</td><td id="td_gd"></td></tr><tr><td class="nametd">地面高程</td><td id="td_dmhb"></td></tr><tr id="tr_ldgd"><td class="nametd">离地距离</td><td id="td_ldgd"></td></tr><tr><td colspan="2" style="width:100%;text-align:center"><div class="progress"><div class="progress-bar progress-bar-success" id="progressbar" role="progressbar" aria-valuenow="32" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">0%</div></div></td></tr></tbody></table></div>',Utils.DragBox(document.getElementById("rightbottom-title"),I),p.style.height=document.documentElement.clientHeight-90-r.clientHeight-s.clientHeight-A.clientHeight+"px",y.style.height=document.documentElement.clientHeight-90-r.clientHeight-A.clientHeight+"px",v.style.height=document.documentElement.clientHeight-90-r.clientHeight-A.clientHeight+"px",document.getElementById("close").onclick=function(){i._Delete()},document.getElementById("btnFlyStop").onclick=function(){i._Delete()},i._gelegate("click",C,"span",(function(e){let t,n,r=e.parentNode.parentNode.id;i.roamData.forEach(((e,i)=>{if(e.id==r)return n=e,void(t=i)})),Cesium.defined(i.handler)&&(i.viewer.entities.remove(i.activeShape),i.activeShape=void 0,i.handler.destroy(),i.handler=void 0,document.getElementsByTagName("body")[0].removeChild(c),i.viewer.scene.canvas.style.cursor=""),Cesium.defined(i.activeLine)&&(i._restoreRoamOBJ(),i.viewer.entities.remove(i.activeLine),i.activeLine=void 0),Cesium.defined(i.drawnLine)&&(i.startRoam||(i._addRoamOBJ(),i._addRoamData(),C.innerHTML=i._addFlightTable()),i.viewer.entities.remove(i.drawnLine),i.drawnLine=void 0),1==e.getAttribute("data-value")?(I.style.display="block",i.activeLine=i._drawPolyline(i._fromDegrees(n.geometry.coordinates)),i._modelRoaming(n)):2==e.getAttribute("data-value")?(i._Delete(),i.activeLine=i._drawPolyline(i._fromDegrees(n.geometry.coordinates)),i.viewer.flyTo(i.activeLine),i._clickAdditive(n.attr),i.roamOBJ=n,A.childNodes.forEach((e=>{e.classList.remove("disabled","cur"),"tab_attr"==e.id&&(e.classList.add("cur"),a.style.display="none",y.style.display="block")}))):(i._Delete(),i.roamData.splice(t,1),localStorage.setItem("XLGlobe_RoamLineWidget",JSON.stringify(i.roamData)),C.innerHTML=i._addFlightTable())})),i._gelegate("change",v,"input",(function(e){let t=i.roamOBJ.geometry.coordinates[e.getAttribute("data-index")];"jd"==e.getAttribute("data-type")?t[0]=parseFloat(e.value):"wd"==e.getAttribute("data-type")?t[1]=parseFloat(e.value):"height"==e.getAttribute("data-type")&&(t[2]=parseFloat(e.value)),Cesium.defined(i.activeLine)&&i.activeLine.polyline.positions.setValue(i._fromDegrees(i.roamOBJ.geometry.coordinates)),Cesium.defined(i.drawnLine)&&i.drawnLine.polyline.positions.setValue(i._fromDegrees(i.roamOBJ.geometry.coordinates))}));for(let b=0;b<y.getElementsByClassName("mp_select").length;b++){const E=y.getElementsByClassName("mp_select")[b];E.onclick=function(){E.classList.contains("mp_selected")?E.classList.remove("mp_selected"):E.classList.add("mp_selected")}}for(let x=0;x<y.getElementsByClassName("mp_select_ul").length;x++){const _=y.getElementsByClassName("mp_select_ul")[x];_.childNodes.forEach((e=>{e.onclick=function(){_.previousElementSibling.setAttribute("data-value",e.getAttribute("data-value")),_.previousElementSibling.innerText=e.innerText}}))}document.getElementsByName("plot_attr_attr_clampToGround").forEach((e=>{e.onclick=function(){i.roamOBJ.attr.clampToGround=1==e.value}})),document.getElementsByName("plot_attr_attr_interpolation").forEach((e=>{e.onclick=function(){i.roamOBJ.attr.interpolation=1==e.value}})),document.getElementsByName("plot_attr_attr_showLabel").forEach((e=>{e.onclick=function(){i.roamOBJ.attr.showLabel=1==e.value}})),document.getElementsByName("plot_attr_attr_showLine").forEach((e=>{e.onclick=function(){i.roamOBJ.attr.showLine=1==e.value}})),document.getElementsByName("plot_attr_attr_showShadow").forEach((e=>{e.onclick=function(){i.roamOBJ.attr.showShadow=1==e.value}})),document.getElementsByName("plot_attr_attr_clockLoop").forEach((e=>{e.onclick=function(){i.roamOBJ.attr.clockLoop=1==e.value}})),document.getElementById("btnFlyStart").onclick=function(){Cesium.defined(i.activeLine)?(i._addRoamOBJ(),i._modelRoaming(i.roamOBJ),C.innerHTML=i._addFlightTable(),localStorage.setItem("XLGlobe_RoamLineWidget",JSON.stringify(i.roamData))):(i._addRoamOBJ(),i._modelRoaming(i.roamOBJ),i._addRoamData(),C.innerHTML=i._addFlightTable()),i.startRoam=!0,A.childNodes.forEach((e=>{"tab_plot"==e.id?(y.style.display="none",v.style.display="none",a.style.display="block",e.classList.add("cur")):e.classList.add("disabled")})),I.style.display="block"},document.getElementById("btnDelete").onclick=function(){if(i._Delete(),Cesium.defined(i.activeLine)){let e;i.viewer.entities.remove(i.activeLine),i.activeLine=void 0,i.roamData.forEach(((t,n)=>{t.id!=i.roamOBJ.id||(e=n)})),i.roamData.splice(e,1),localStorage.setItem("XLGlobe_RoamLineWidget",JSON.stringify(i.roamData)),C.innerHTML=i._addFlightTable()}Cesium.defined(i.drawnLine)&&(i.viewer.entities.remove(i.drawnLine),i.drawnLine=void 0),A.childNodes.forEach((e=>{"tab_plot"==e.id?(y.style.display="none",v.style.display="none",a.style.display="block",e.classList.add("cur")):e.classList.add("disabled")}))},i.viewer.scene.canvas.onclick=function(){Cesium.defined(i.activeLine)&&(i._addRoamOBJ(),C.innerHTML=i._addFlightTable(),localStorage.setItem("XLGlobe_RoamLineWidget",JSON.stringify(i.roamData))),A.childNodes.forEach((e=>{"tab_plot"==e.id?(y.style.display="none",v.style.display="none",a.style.display="block",e.classList.add("cur")):e.classList.add("disabled")}))},A.childNodes.forEach((e=>{e.onclick=function(){for(let t=0;t<e.parentNode.children.length;t++){e.parentNode.children[t].classList.remove("cur")}if(e.classList.add("cur"),"tab_plot"==e.id&&(y.style.display="none",v.style.display="none",a.style.display="block"),"tab_latlng"==e.id){let e='<li class="cur"><div class="mp_tree"><div><div class="open"><i class="tree_icon">-</i>坐标列表</div><div id="view_latlngs" class="local">';i.roamOBJ.geometry.coordinates.forEach(((t,i)=>{e+=`<div><div class="open"><i class="tree_icon">-</i>第${i+1}点</div><div class="mp_attr"><table><tbody><tr> <td class="nametd">经度：</td> <td><input type="number" class="mp_input plot_latlngs" data-type="jd" data-index="${i}" value="${t[0]}"></td>  </tr> <tr>  <td class="nametd">纬度：</td> <td><input type="number" class="mp_input plot_latlngs" data-type="wd" data-index="${i}" value="${t[1]}"></td> </tr> <tr>  <td class="nametd">高程：</td> <td><input type="number" class="mp_input plot_latlngs" data-type="height" data-index="${i}" value="${t[2]}"></td> </tr></tbody></table> </div> </div></div></div>`})),e+="</div></div></li>",v.innerHTML=e,y.style.display="none",a.style.display="none",v.style.display="block"}"tab_attr"==e.id&&(a.style.display="none",v.style.display="none",y.style.display="block")}})),u.onclick=function(){Cesium.defined(i.activeLine)&&(i._restoreRoamOBJ(),i.viewer.entities.remove(i.activeLine),i.activeLine=void 0),Cesium.defined(i.drawnLine)&&(i.startRoam||(i._addRoamOBJ(),i._addRoamData(),C.innerHTML=i._addFlightTable()),A.childNodes.forEach((e=>{"tab_plot"==e.id?(y.style.display="none",v.style.display="none",a.style.display="block",e.classList.add("cur")):e.classList.add("disabled")})),i.startRoam=!1,i.viewer.entities.remove(i.drawnLine),i.drawnLine=void 0),Cesium.defined(i.activeShape)&&(i.viewer.entities.remove(i.activeShape),i.activeShape=void 0),Cesium.defined(i.handler)&&(i.handler.destroy(),i.handler=null),c.style.left="-100000px",c.style.top="-100000px",document.getElementsByTagName("body")[0].appendChild(c),i.viewer.scene.canvas.style.cursor="crosshair";var e=[];i.handler=new Cesium.ScreenSpaceEventHandler(i.viewer.scene.canvas),i.handler.setInputAction((function(t){let n=i.viewer.scene.pickPosition(t.position);if(Cesium.defined(n)){if(0===e.length){e.push(n);var r=new Cesium.CallbackProperty((function(){return e}),!1);i.activeShape=i._drawPolyline(r)}g.innerHTML="单击增加点，右键结束",e.push(n)}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),i.handler.setInputAction((function(t){if(c.style.left=t.endPosition.x+20+"px",c.style.top=t.endPosition.y-10+"px",Cesium.defined(i.activeShape)){var n=i.viewer.scene.pickPosition(t.endPosition);Cesium.defined(n)&&(e.pop(),e.push(n))}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),i.handler.setInputAction((function(t){e.length>2&&(e.pop(),i.drawnLine=i._drawPolyline(e),i.viewer.entities.remove(i.activeShape),i.activeShape=void 0,e.forEach((e=>{var t=i.viewer.scene.globe.ellipsoid.cartesianToCartographic(e);i.roamOBJ.geometry.coordinates.push([parseFloat((t.longitude/Math.PI*180).toFixed(6)),parseFloat((t.latitude/Math.PI*180).toFixed(6)),parseFloat(i.viewer.scene.globe.ellipsoid.cartesianToCartographic(e).height.toFixed(2))])})),e=[],i.handler.destroy(),i.handler=null,document.getElementsByTagName("body")[0].removeChild(c),i.viewer.scene.canvas.style.cursor="",i._clickAdditive(),A.childNodes.forEach((e=>{e.classList.remove("disabled","cur"),"tab_attr"==e.id&&(e.classList.add("cur"),a.style.display="none",y.style.display="block")})))}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},d.onclick=function(){if(i.preserveCustomFn)i.preserveCustomFn(i.roamData);else{const e=JSON.stringify(i.roamData),t=new Blob([e],{type:"application/json"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="漫游路线数据",n.click(),URL.revokeObjectURL(n.href),n.remove()}}}_modelRoaming(e){this._Delete(),this.roaming=new XLGlobe.Scene.Roaming(this.viewer,{time:100});var t=this;let i=function(e){switch(e){case"model_man":return t.options.modelurl&&t.options.modelurl.model_man?t.options.modelurl.model_man:"../data/Scene/Man.glb";case"model_car":return t.options.modelurl&&t.options.modelurl.model_car?t.options.modelurl.model_car:"../data/gltf/qiche.gltf";case"model_air":return t.options.modelurl&&t.options.modelurl.model_air?t.options.modelurl.model_air:"../data/gltf/feiji.glb";case"model_zhanji":return t.options.modelurl&&t.options.modelurl.model_zhanji?t.options.modelurl.model_zhanji:"../data/Scene/zhanji.glb";case"model_weixin":return t.options.modelurl&&t.options.modelurl.model_weixin?t.options.modelurl.model_weixin:"../data/gltf/weixin.gltf";case"gs":return 1;case"dy":return 2;case"sd":return 3;default:return""}};this.roaming.modelRoaming({Lines:this._fromDegrees(e.geometry.coordinates),model:{uri:i(e.attr.model)?i(e.attr.model):"../data/Scene/Man.glb",color:i(e.attr.model)?Cesium.Color.fromAlpha(Cesium.Color.WHITE,parseFloat(1)):Cesium.Color.fromAlpha(Cesium.Color.WHITE,parseFloat(0))},ifClockLoop:e.attr.clockLoop,ifAffixedTo:e.attr.clampToGround,interpolation:e.attr.interpolation,label:{show:e.attr.showLabel,text:e.name,showBackground:!0,eyeOffset:new Cesium.Cartesian3(0,2,0)},cylinder:{show:e.attr.showShadow},polyline:{show:e.attr.showLine,clampToGround:e.attr.clampToGround}}),this.roaming.changingView(i(e.attr.cameraType)),this._getData(e)}_Delete(){Cesium.defined(this.roaming)&&(this.roaming.EndRoaming(),this.roaming=void 0,document.getElementById("roamPopup").style.display="none")}_getData(e){Cesium.defined(this.roaming)&&this.roaming.getData((function(t){document.getElementById("td_name").innerText=e.name,document.getElementById("td_alllength").innerText=(t.totalLength/1e3).toFixed(2)+"公里",document.getElementById("td_length").innerText=(t.roamingLength/1e3).toFixed(2)+"公里",document.getElementById("td_alltimes").innerText=t.totalTime,document.getElementById("td_times").innerText=t.delTime,document.getElementById("td_jd").innerText=t.longitude,document.getElementById("td_wd").innerText=t.latitude,document.getElementById("td_gd").innerText=t.roamingElevation+"米",document.getElementById("td_dmhb").innerText=t.terrainHeight+"米",document.getElementById("td_ldgd").innerText=t.liftoffHeight+"米";let i=document.getElementById("progressbar");i.innerText=t.progress,i.style.width=t.progress}))}_addFlightTable(){let e="<table class='table table-hover'><thead><tr><th><div class='th-inner sortable both' style='text-align: left;'></div><div class='fht-cell' style='width: 166px;'></div></th><th><div class='th-inner' style='text-align: center; width: 80px;'></div><div class='fht-cell'></div></th></tr></thead> <tbody>";return this.roamData.length>0?this.roamData.forEach((t=>{e+=`<tr id='${t.id}'> <td style='text-align: left;'>${t.name}</td> <td style='text-align: center; width: 80px;'><span class='fly iconfont_RJ icon-feihang' data-value='1' title='飞行'></span>&nbsp;&nbsp;<span data-value='2'  title='编辑' class='edit iconfont_RJ icon-bianji'></span>&nbsp;&nbsp;<span title='删除' data-value='3'  class='remove iconfont_RJ icon-shanchu'></span></td> </tr>`})):e+='<tr class="no-records-found"><td colspan="2">没有找到匹配的记录</td></tr>',e+="</tbody></table>",e}_drawPolyline(e,t){t=t||{};return this.viewer.entities.add({name:"线几何对象",polyline:{positions:e,width:t.width?t.width:8,material:new Cesium.PolylineGlowMaterialProperty({color:t.color?new Cesium.Color.fromCssColorString(t.color):Cesium.Color.GOLD}),depthFailMaterial:new Cesium.PolylineGlowMaterialProperty({color:t.color?new Cesium.Color.fromCssColorString(t.color):Cesium.Color.GOLD})}})}_addRoamOBJ(){let e=document.getElementById("plot_attr_attr_name").value,t=(new Date).getTime();e=e||"线路"+t;let i=document.getElementById("plot_attr_attr_tr_model").childNodes[1].childNodes[0].childNodes[0];i=i.getAttribute("data-value")?i.getAttribute("data-value"):"";let n=document.getElementById("plot_attr_attr_tr_cameraType").childNodes[1].childNodes[0].childNodes[0];n=n.getAttribute("data-value")?n.getAttribute("data-value"):"";let r=document.getElementById("plot_attr_attr_remark").value;this.roamOBJ.name=e,Cesium.defined(this.activeLine)||(this.roamOBJ.id=t,this.roamOBJ.attr.id=t),this.roamOBJ.attr.name=e,this.roamOBJ.attr.model=i,this.roamOBJ.attr.cameraType=n,this.roamOBJ.attr.remark=r}_clickAdditive(e){e=e||{};let t=function(e){switch(e){case"model_man":return"行人";case"model_car":return"小汽车";case"model_air":return"民航飞机";case"model_zhanji":return"军用飞机";case"model_weixin":return"航天卫星";case"gs":return"跟随视角";case"dy":return"上方视角";case"sd":return"侧方视角";default:return"无"}};document.getElementById("plot_attr_attr_name").value=e.name?e.name:"";let i=document.getElementById("plot_attr_attr_tr_model").childNodes[1].childNodes[0].childNodes[0];i.innerText=t(e.model),i.setAttribute("data-value",e.model?e.model:"");let n=document.getElementById("plot_attr_attr_tr_cameraType").childNodes[1].childNodes[0].childNodes[0];n.innerText=t(e.cameraType),n.setAttribute("data-value",e.cameraType?e.cameraType:""),document.getElementById("plot_attr_attr_remark").value=e.remark?e.remark:"",document.getElementsByName("plot_attr_attr_clampToGround").forEach((t=>{e.clampToGround?1==t.value&&(t.checked=!0):2==t.value&&(t.checked=!0)})),document.getElementsByName("plot_attr_attr_interpolation").forEach((t=>{e.interpolation?1==t.value&&(t.checked=!0):2==t.value&&(t.checked=!0)})),document.getElementsByName("plot_attr_attr_showLabel").forEach((t=>{e.showLabel?1==t.value&&(t.checked=!0):2==t.value&&(t.checked=!0)})),document.getElementsByName("plot_attr_attr_showLine").forEach((t=>{e.showLine?1==t.value&&(t.checked=!0):2==t.value&&(t.checked=!0)})),document.getElementsByName("plot_attr_attr_showShadow").forEach((t=>{e.showShadow?1==t.value&&(t.checked=!0):2==t.value&&(t.checked=!0)})),document.getElementsByName("plot_attr_attr_clockLoop").forEach((t=>{e.clockLoop?1==t.value&&(t.checked=!0):2==t.value&&(t.checked=!0)}))}_addRoamData(){this.roamData.push(this.roamOBJ),localStorage.setItem("XLGlobe_RoamLineWidget",JSON.stringify(this.roamData)),this._restoreRoamOBJ()}_gelegate(e,t,i,n){t.addEventListener(e,(function(e){i!=e.target.tagName.toLowerCase()&&i!=e.target.className||n(e.target)}))}_fromDegrees(e){var t=[];return e.forEach((e=>{t.push(Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]))})),t}_restoreRoamOBJ(){this.roamOBJ={name:"",id:"",geometry:{coordinates:[],type:"LineString"},attr:{name:"",id:"",model:"",showLine:!1,showShadow:!1,showLabel:!1,clockLoop:!1,interpolation:!1,clampToGround:!1,remark:"",cameraType:""}}}}class weatherEffects{constructor(e,t){this.viewer=e;var i=t||{};this.name=i.name,this.type=i.type;let n=this.getStage(),r=null;if(null==n)switch(this.type){case"snow":r=this.fs_snow();break;case"rain":r=this.fs_rain();break;case"fog":r=this.fs_fog()}n=new Cesium.PostProcessStage({name:this.name,fragmentShader:r,uniforms:{color:Cesium.Color.fromAlpha(Cesium.Color.BLACK,parseFloat(1))}}),e.scene.postProcessStages.add(n)}removePostProcessStage(){let e=this.getStage();e&&this.viewer.scene.postProcessStages.remove(e)}getStage(){let e=null,t=this.viewer.scene.postProcessStages;for(let i=0;i<t._stages.length;i++){let n=t.get(i);if(null!=n&&n.name==this.name){e=n;break}}return e}fs_snow(){return"uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nfloat snow(vec2 uv,float scale)\n{\n    float time = czm_frameNumber / 60.0;\n    float w=smoothstep(1.,0.,-uv.y*(scale/10.));if(w<.1)return 0.;\n    uv+=time/scale;uv.y+=time*2./scale;uv.x+=sin(uv.y+time*.5)/scale;\n    uv*=scale;vec2 s=floor(uv),f=fract(uv),p;float k=3.,d;\n    p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;d=length(p);k=min(d,k);\n    k=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n    return k*w;\n}\nvoid main(void){\n     vec2 resolution = czm_viewport.zw;\n     vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n     vec3 finalColor=vec3(0);\n     float c = 0.0;\n     c+=snow(uv,30.)*.0;\n     c+=snow(uv,20.)*.0;\n     c+=snow(uv,15.)*.0;\n     c+=snow(uv,10.);\n     c+=snow(uv,8.);\n     c+=snow(uv,6.);\n     c+=snow(uv,5.);\n     finalColor=(vec3(c));\n     gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(finalColor,1), 0.5);\n}"}fs_rain(){return"uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\n\tfloat hash(float x){\n\t     return fract(sin(x*133.3)*13.13);\n\t }\n\tvoid main(void){\n\t     float time = czm_frameNumber / 60.0;\n\t     vec2 resolution = czm_viewport.zw; \n\t     vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n\t     vec3 c=vec3(.6,.7,.8); \n\t     float a=-.4;\n\t     float si=sin(a),co=cos(a);\n\t     uv*=mat2(co,-si,si,co);\n\t     uv*=length(uv+vec2(0,4.9))*.3+1.;\n\t     float v=1.-sin(hash(floor(uv.x*100.))*2.);\n\t     float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n\t     c*=v*b; \n\t     gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.5); \n\t}"}fs_fog(){return"uniform sampler2D colorTexture;\n  uniform sampler2D depthTexture;\n  varying vec2 v_textureCoordinates;\n  void main(void)\n  {\n      vec4 origcolor=texture2D(colorTexture, v_textureCoordinates);\n      vec4 fogcolor=vec4(0.8,0.8,0.8,0.5);\n      float depth = czm_readDepth(depthTexture, v_textureCoordinates);\n      vec4 depthcolor=texture2D(depthTexture, v_textureCoordinates);\n      float f=(depthcolor.r-0.22)/0.2;\n      if(f<0.0) f=0.0;\n      else if(f>1.0) f=1.0;\n      gl_FragColor = mix(origcolor,fogcolor,0.8);\n   }"}}class WaterReflection{constructor(e,t){var i={baseWaterColor:Cesium.Color.BLACK.withAlpha(.4),blendColor:Cesium.Color.BLACK.withAlpha(.4),normalMap:Cesium.buildModuleUrl("Assets/Textures/waterNormals.jpg"),frequency:1e4,animationSpeed:.1,amplitude:1};this.viewer=e,this.opt=Object.assign(i,t),this._addPrimitives()}_addPrimitives(){this.viewer.scene.globe.enableLighting=!0,this.viewer.shadows=!0,this.viewer.scene.primitives.add(new Cesium.Primitive({show:!0,geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolygonGeometry({polygonHierarchy:new Cesium.PolygonHierarchy(this.opt.PolygonHierarchy)})}),appearance:new Cesium.EllipsoidSurfaceAppearance({material:new Cesium.Material({fabric:{type:"Water",uniforms:{baseWaterColor:this.opt.baseWaterColor,blendColor:this.opt.blendColor,normalMap:this.opt.normalMap,frequency:this.opt.frequency,animationSpeed:this.opt.animationSpeed,amplitude:this.opt.amplitude}}}),vertexShader:["attribute vec3 position;","attribute vec2 st;","uniform mat4 u_modelViewMatrix;","uniform mat4 u_invWorldViewMatrix;","uniform int u_clampToGroud;","uniform vec3 u_camPos;","uniform vec3 u_scale;","varying vec3 vToEye;","varying vec2 vUv;","varying vec4 vCoord;","void main(void)","{"," vec4 positionW = u_modelViewMatrix * vec4(position.xyz, 1.0);"," vec4 eyep = czm_modelView * positionW;"," gl_Position = czm_projection * eyep; "," if (u_clampToGroud == 1)"," {","  vToEye = (u_camPos - position.xyz) * u_scale;"," } else {","  vec4 pos = u_modelViewMatrix * vec4(position.xyz,1.0);","  vToEye = vec3(u_invWorldViewMatrix*vec4(pos.xyz,0.0));","  vCoord = gl_Position;"," }"," vUv = st;","}"].join("\n"),fragmentShader:["uniform sampler2D tReflectionMap;","uniform sampler2D tRefractionMap;","uniform sampler2D tNormalMap0;","uniform sampler2D tNormalMap1;","uniform sampler2D tFlowMap;","uniform vec3 color;","uniform float reflectivity;","uniform vec4 config;","varying vec4 vCoord;","varying vec2 vUv;","varying vec3 vToEye;","void main() {","\tfloat flowMapOffset0 = config.x;","\tfloat flowMapOffset1 = config.y;","\tfloat halfCycle = config.z;","\tfloat scale = config.w;","\tvec3 toEye = normalize( vToEye );","\tvec2 flow;","\tflow = texture2D( tFlowMap, vUv ).rg;","\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );","\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );","\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;","\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );","\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );","\tfloat theta = max( dot( toEye, normal ), 0.0 );","\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );","\tvec3 coord = vCoord.xyz / vCoord.w;"," vec2 coord1 = gl_FragCoord.xy / czm_viewport.zw;","\tvec2 uv = coord1.xy + coord.z * normal.xz * 0.05;","\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );","\tvec4 refractColor = texture2D( tRefractionMap, uv );","\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );"," gl_FragColor = refractColor;","}"].join("\n")})}))}}class ParticalSystem{constructor(e,t){t=null==t;var i=this;if(this.viewer=e,this.primitiveData=[],t){var n=document.createElement("div");n.setAttribute("class","ParticalSystem"),n.setAttribute("id","ParticalSystem"),n.style.left=document.getElementsByTagName("body")[0].clientWidth-280+"px",document.getElementsByTagName("body")[0].appendChild(n);var r=document.createElement("div");r.setAttribute("class","title"),r.innerText="粒子效果",n.appendChild(r);var o=document.createElement("div");o.setAttribute("class","btn"),n.appendChild(o),Utils.DragBox(r,n);var a=document.createElement("div");a.setAttribute("class","btn"),a.innerText="雨",o.appendChild(a),a.onclick=function(){i.addWeather({type:"rain"})};var s=document.createElement("div");s.setAttribute("class","btn"),s.innerText="雪",o.appendChild(s),s.onclick=function(){i.addWeather({type:"snow"})};var l=document.createElement("div");l.setAttribute("class","btn"),l.innerText="添加火焰",o.appendChild(l),l.onclick=function(){i.addeEvent(c)};var u=document.createElement("div");u.setAttribute("class","btn btn-danger"),u.innerText="清除",o.appendChild(u),u.onclick=function(){i.remove()};var c=document.createElement("div");c.setAttribute("class","roamWidget_tooltip");var h=document.createElement("div");h.setAttribute("class","roamWidget_tooltip_arrow"),c.appendChild(h);var g=document.createElement("div");g.setAttribute("class","roamWidget_tooltip_inner"),c.appendChild(g),g.innerHTML="单击 添加粒子"}}addWeather(e){var t=this;t.viewer.clock.shouldAnimate=!0,Cesium.defined(t.rainSystem)&&this.viewer.scene.primitives.remove(t.rainSystem);var i=e.rainParticleSize?e.rainParticleSize:15,n=e.rainRadius?e.rainRadius:1e5,r=function(e,i){o=Cesium.Cartesian3.normalize(e.position,o),o=Cesium.Cartesian3.multiplyByScalar(o,Cesium.Math.randomBetween(-30,-300),o),e.position=Cesium.Cartesian3.add(e.position,o,e.position);var r=Cesium.Cartesian3.distance(t.viewer.scene.camera.position,e.position);e.endColor.alpha=r>n?0:t.rainSystem.endColor.alpha/(r/n+.1)},o=new Cesium.Cartesian3;"rain"==e.type?t.rainSystem=new Cesium.ParticleSystem({modelMatrix:new Cesium.Matrix4.fromTranslation(t.viewer.scene.camera.position),speed:-1,lifetime:15,emitter:new Cesium.SphereEmitter(n),startScale:1,endScale:0,image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xOdTWsmQAAANMSURBVFhH7dc9j41BGMbx3bVrNwQJEq+dlwpB+AB0FEoaJQU+goSOEC3fAAndNgpaGq0CBRWV0ImIOK7fyT2bk33snuMUu4qd5J9M5r7ua56ZuWfO7sRa++9br9drTIapMB1mwmyYK/SNidHQ9vPGbs2gzNaF9WFD2BK2hR1hV6FvTIyGVs54H9KSgtVYGdOtYXfYFw6F4+FkoW9MjIZWjlweo39EE1eilWwKO8OBcCKcDufChXCx0DcmRkMrRy6P0T+ihG1yW7onHA6nwvlwNVwPt8K9Qt+YGA2tHLk8Fj5i2UYQnJut8/UMjoYz4VK4Ee6HR2E+PCv0jYnR0MqRy4MXz35NLNkEg+JxfrbQKhhdCXfCw/A8vA5vwttC35gYDa0cuTx48eRds/2lJegLbZcico620moYPgkvw7vwKXwJ3wp9Y2I0tHLk8uDFk/dkTddtCTonX6qSFZPztKVWxfhD+Bq+h5/hV6FvTIyGVo5cHrx48p6q6botQQ+JonGdVLSicq621upM8COY9PcijInR0MqRy4MXT97TNV23JahQPCjutGulshWX87XFVjk4eWuDH0FDK0cuD148ec/UdN2WoCfVq+ZhcbddLxWuyJyzrV48eWttnIZWjlwevHjynq3pui1B77qn1evmgXHHXTOVrtja6pdqYjS0cuTy4MWT91xN122CJVq1D1j1I1CE28NgET4OCupzGLUIaeXIHSxC3ssWYbuG+4Orcy08CC/C+zDqNaSVI5cHL55Dr2F7iLzfHg9bdzO4Tq/Cx2ACq7TVJoW+MTEaWjlyefDiOfQhGnyKDwZffjncDU8DY6uzxc5ZsUHfmBgNrRy5PHiN9BTDD8bG4AfkSDgbvGYMrcrWOl9FptKhb0yMhlaOXB68eA79MWq7oBg3h73hWGBkNbbUuSouFe6aQd+YGA2tHLk8eA3/OdYIglpwJRUNA6uwlc5TUans28Edh74xMRpaOXJ58Br+B4lGVLSP8PW20DkqJuaulYk8MNA3JkZDK0fuwuQYqTVxJdo656eIVLLr5E57WLxu0DcmRkMrR+6/Td5aSwrOTfGoYNfIlnpQvGqeVugbE6OhldM/c4zdmkGZWc3K/GOy1lamTUz8Af7rUXt1Ah4SAAAAAElFTkSuQmCC",emissionRate:9e3,startColor:new Cesium.Color(.27,.5,.7,0),endColor:new Cesium.Color(.27,.5,.7,.98),imageSize:new Cesium.Cartesian2(i,2*i),updateCallback:r}):"snow"==e.type&&(t.rainSystem=new Cesium.ParticleSystem({modelMatrix:new Cesium.Matrix4.fromTranslation(t.viewer.scene.camera.position),minimumSpeed:-1,maximumSpeed:0,lifetime:15,emitter:new Cesium.SphereEmitter(n),startScale:.5,endScale:1,image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xOdTWsmQAAAxDSURBVHhe7dsJjG1FEQbgx1ORRXZBBBEkLAKiEQg+IIBBFpVFUNSASIgYEIn7vhNXFI1CNODKoiIoUYJbUCERcCEmBldUIBE0BFQ2FQSR9/y/Q9fJvTN3nsydYWbAqeRPn9NdXVW9VVf3uXfJIi3SIi3SfNKKFSuWtcf/H0qjVxnAmfXcih9eNNDQwtLgEQ3rBPe21LuyIf4m5qFFAw2oxj4Sli9f/qhg1Tw/GvK8T1K0X+B9VTx57viDoU5p4hcmlZHN4BphDdLg1ZKunnSN4DGQ97WCd+R5RUu7/GCNxquOulDyFmZnNKMGR7sb5TRAg9cM1s7zOsF6wQbBYyH5FwU64NstTxkeS2LtYM08k2HGkDk0K5r6+SNGNNQIGfHVkhpFI6zR6+d9w2DjPG+S9AlJn9jwp7zrgBu9tzI8Gwcb5nn9gIy18k4m2YMzYv5mQylnSAyzbrsRZ2ywbmBEHxdsGmye8i2TbhVsG2yX9z2CnpL3zFa2VV7xbh6oSwZZZJLdzYikdM5PJ5RSBjRDjIx1bbRMY0ZvFjwp2Dpl2yfdMXh6sEuwa/LeEPSUvDe1Mjw7JkudrQMyyCKTbMuDr+Aj5r4TShnFMcB0ZIiRsXY3CozaFsE2wVOCnQIN3iPp3sE+Aa9/btBT8r7ayvbOK95dA3XJIItMsumgy7IoRzk3nVBKKKQ4qClvnVvjmyU1zXcIGL9boNH7BQcGhwYvCF4UXBXenvL+m1aGB6866pJB1g5hI5sOuviHbkkED34nlPCmqGt8Ut7dtGSQNWuknhoYvb2C/YODw3d40iODY4Jjg+OCu5LfU97vbmV4jkyWOgcHZJBFJtl00EXnBuFjA1se3E5ogrvGBzXtjcLjA+u0pjvn9qykBwUacVSgYScErw5eH5wcnkmU/I81HrzqqEvGQSkm09KgY7uATrq7mZDywR1idjuAwGBpFInkyuFZh0aBIQzaOTgtODo4NDxHJNWIEwONfkvwzuCk4MKUT6LkX9R48Kqj7rEpIsvSOCDYM3hO8JHAkmDDeuFhUznG2Y0TmkA9KyAR2FBY017jjQrDjkn+bUnPCYzia4O3Bu8JPhB8ODDKPw/fJEr+LxsPXnXUJeP44OiwmA2fCG4Jnh/QbYsVN7CJbWxk69Jm/swogobWfWCr44kFMvbtavyzAwZ+Mbwa88fg1EBjTgkY/sng9OBmPBMp+X9tPHjVUfddwRsDHXJ14zs7oJNuNrCFTWwb8getGeNThBh9IWite07PdmT6PS3YPTA1eXAO7FXB9eFn6L3BTwKN/kzw+YDx/1E+ilJm9uD9VPDxwIy4OHBqVH59YBehk242sIVNbCt/wOaZzYII6EY/QvWonq2pb0+21dnfOSfr09p/ZfDmwCh2BqM8m7LfCb4UfLdlj6SUfz/QSTrra8FfWpGy+4IPBuVn6LY7sGWLvNdSGNoaW3OmTyoHjrE1+g4w4nVbkelnezoweZyUdVpTlYO6MvmDlKzlvwt+0d5HUivX8N+qcH/u/ZTXHwV0HJ9XOsULbGDLNsljm7CZrTULxusAFYPy/LX2haPdlpeyZUnt0db9ywLOynr9UGDtfy64LXxDlLx+ZoyilP8t+Ed77Sl5twb8Ah100Un3/ilmi22YbWzsfEEw/o6gUlCe3xZTa198rsdFaQIVe7XtisfmtKzbM4Kzgu8FQ6M4LkXMNwKy6aCLTrrZwBY2sa3zBanivFA7wtgd0E3/pM7mjqe8ra3HuhPPGwF7vT3b1DdCnNcXAutdfP/78M2IIsPSIZNsOuiiU4zABmEzm9jmWO34LUIcfxmopHKErB44gXEwjqlOaiIy6+8lgf1e4GJkbF88+NnhOT/pD4JfBSud9iuj1L0nySVJdSjZdNBFJ91s4IfYxLYtA47aMnCzNHYHdOs/qbUk6tskMMUcV005nt+2J3QVvX024MF/HdjPp9zqxiHymtyrgm8F/AzdbGALm9jGRrbWbtD5gdasB04qpbKtpFv/SXlYQYcz+2GB7eibwdXBv1I+5xS9dwVmmF2Dc9w32DZFbO38QFJtmF4HpELvACPAdDLd3x8ISG5M/oKl2PfnwB0jP2GH0BHTc4SYg92Dc4Kx1+8CIfafFezWmve/KczdDEgPCoA4P2uM4+HURsbxC4Vi303BxXk0A54bCN7GmgHVAWJrW6CTn5DTDc1RyXOq4/SuyzNPPecU3fcE1+aRL7JEnxew0QmRzRURjtcBAR/QhcCB/XX7YFngICIUtQ1VAPTl4LLgmmBSBDgbRG7A6doWRZpvD9hwRIoPCNjmMlW80oXEeZ9+MIS5VRrsADezfRAUOJG52nKb+75AlPbpQAxwXtILg8sD2+ItyRuLUtex+rI8XpDUIYkOuuikmw1sGQyG2Dp+B6BUGNoGm9DaBt3eOv5WFOiWx5Jw7D0z+ErAYOGrW55/Rs5YlLp3BjqTTLLpoIvOLhoM2MImtrGRreNvgyiVVknlwUCo7gAmBkKvCezBzu2OwUJWy0EY/PXgmsiYEUXGH5pMsumgi066JwZCdTcwGAhNb/SRSoFQmBBfZaYKhd0BlB+oUNj2aRnYNWbjMESM+4TBUJhOuieFwknFLmx2hzGzs0DQHYYizJVT3QFaa3UUfnlQy+CjQR2GjNio4/BKd4yUW/N3tteeknd7YPrTUdOf7u5IHNT6Z+NGqeIAN+PDUN0GWUuunwePw77lHRK8NHA0fVtQs8Bx+GepN0TJuy64vL2OpJRfEfAbdpOJFyI/Deigi0662cCWweOwDzW1/qfvAJFKwdCFSN5NrfoGIB6wHb4w4IheF7w7ODkYuvfL89+DSwM+QeNWdieonAPlQ4Tet7ciZa7E+AC66KSbDWzpLkTCVifB/iAUTL8DkIrByq7EOB4fQHz1eUVgWzI9bwhfGWwbPC+vfIJGadytyidS8u/Ak0e8lpBLFfv9lcF9jcelqLVPJ91sYMvsXokhlYNRl6JmgYjrGYETmNOhi8oTU35BwNCbA1uXfZtPcNvrTH9uMPKSJPnXNh686qjrY4s7xtPDUrfN5NJJNxvY0o1+MHuXoigCJl6L6+HOFyTPlbRPYaIwzsjUvCPPpu57A8uBT+AYeXA3vfbyK8IziZL/48aDVx11yTgpxS5AnP/NJs5Vh9PNhlr7FfzU6M/840iEDM2CpNZXfRh5cmD61ecqI1cOynLgEzgtnltjrF+e/PzImkTJd67Hg1cddckgi0x7vnUvNUPoZkP/YSRiZm/0iyKomwURrGddNtZScBcv9vZd0PV0fRA1OnyCGaFD+AWNMZVFcULZu1O3p7z/u+XjwauOumSQRSbZOpqunVPNjy4Gvwfw/LM3+kURVrOAV62l0H0Zzrs7OJ0gDN0zz7yy9clJ2aeNnD1b4CJ60zBxvFNkT3m/oZXhwauOumSQdVjYyDbbdsmzg5mgZ+gLcVI2zt7oFxFIcBT4RuiiVCc4I/hRU3XCTklFZJyT62rT1V6tETy30FXDfD26JLw95f2HrQwPXnXUJYOsfcNGNh3VeHd/3eewgE2zO/UHidAGS2HwBxIcj1HwucxBhFPimf3UxYgJVExdIau1q2G+Ip2R8p7yzuMrw4NXnUNSRIatjkyy6aCLTtty9wOJQOO7bQ+a2bNLTXj5g1G/EuGMHEZsSxyUAEWUJlR1dvA9T8NeHByX557yfkISZQ42eNVRt/+JTEA2HXQ57U1s/PhBzwMlCpqi6oRaDpwQT2w7EicIlupXI/2PpJL6oOmjipG9KSly3S1P2VQ/kiJz05TR0f1IKqhpPzeNL6KoKaSYAd3uEGNskaalEXImZ/RUP5PzPe/SpMj612BleCb9TC7vZFpu/c/kgrlvfBGFTTGnYyYwyHTkjY1QdYQZ4YTGaZnC1rAfSmrgKUmRz11Ocsrw4FXHiHcNT9qNelI6qvF0z33jiyhuYEi3JJL2HRE4k/MPpq2GTPyp7OF5t/5dafU/lQ3wqqNu9wtRMgPbXI165+2hmTN/1AzpZkMMtA93MyJgtOnKWWmIUdQoU9moCmL8isRoy1OGZ1111M1zP+JJa4+fv1GfihjUUMui64ygmxVJR/1cHhx+jHCXj6fxdqMdVKP7hkNTuzCpjGwGM9yUtUQm/mFCI/caeK8Gd/zBQ6fRU1EZP4B+hoxA39hCE/PwoomNLLTiRVqkRVqkRZobWrLkv2pLYf4WcPZRAAAAAElFTkSuQmCC",emissionRate:7e3,startColor:Cesium.Color.WHITE.withAlpha(0),endColor:Cesium.Color.WHITE.withAlpha(1),minimumImageSize:new Cesium.Cartesian2(i,i),maximumImageSize:new Cesium.Cartesian2(2*i,2*i),updateCallback:r})),this.viewer.scene.primitives.add(t.rainSystem)}addPartical(e){var t=5,i=1,n=3,r=1,o=4,a=1,s=2,l=50;this.viewer.clock.shouldAnimate=!0;var u,c,h,g=viewer.entities.add({position:e.position,label:{text:e.text?e.text:""}});u=new Cesium.ParticleSystem({image:"data:image/png;base64,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",startColor:Cesium.Color.RED.withAlpha(.7),endColor:Cesium.Color.YELLOW.withAlpha(.3),startScale:a,endScale:s,minimumParticleLife:i,maximumParticleLife:n,minimumSpeed:r,maximumSpeed:o,imageSize:new Cesium.Cartesian2(l,l),emissionRate:t,bursts:[new Cesium.ParticleBurst({time:5,minimum:10,maximum:100}),new Cesium.ParticleBurst({time:10,minimum:50,maximum:100}),new Cesium.ParticleBurst({time:15,minimum:200,maximum:300})],lifetime:16,emitter:new Cesium.ConeEmitter(Cesium.Math.toRadians(30)),modelMatrix:function(e){var t=Cesium.Property.getValueOrUndefined(e.position);return Cesium.Transforms.eastNorthUpToFixedFrame(t)}(g,Cesium.JulianDate.now()),emitterModelMatrix:(c=Cesium.HeadingPitchRoll.fromDegrees(0,0,0),h=new Cesium.TranslationRotationScale,h.translation=Cesium.Cartesian3.fromElements(2.5,4,1),h.rotation=Cesium.Quaternion.fromHeadingPitchRoll(c),Cesium.Matrix4.fromTranslationRotationScale(h))});var d=viewer.scene.primitives.add(u);this.primitiveData.push({entities:g,primitives:d})}addeEvent(e){e.style.left="-100000px",e.style.top="-100000px",document.getElementsByTagName("body")[0].appendChild(e);var t=this;t.viewer.scene.canvas.style.cursor="crosshair",t.handler=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas),t.handler.setInputAction((function(i){let n=t.viewer.camera.pickEllipsoid(i.position,t.viewer.scene.globe.ellipsoid);t.addPartical({position:n}),t.handler.destroy(),t.handler=null,document.getElementsByTagName("body")[0].removeChild(e),t.viewer.scene.canvas.style.cursor=""}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.setInputAction((function(t){e.style.left=t.endPosition.x+20+"px",e.style.top=t.endPosition.y-10+"px"}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}remove(){this.viewer.clock.shouldAnimate=!1,Cesium.defined(this.rainSystem)&&this.viewer.scene.primitives.remove(this.rainSystem),this.primitiveData.forEach((e=>{this.viewer.entities.remove(e.entities),this.viewer.scene.primitives.remove(e.primitives)}))}}class CircleScanSystem{constructor(e,t){this.viewer=e;var i={radius:"1000",scanColor:new Cesium.Color(1,0,0,1),interval:"3000"};this.data=Object.assign(i,t),this.primitives=null,"Circle"==t.type?this.primitives=addCircleScan(this.viewer,this.data):"Radar"==t.type&&(this.primitives=addRadarScan(this.viewer,this.data))}remove(){this.viewer.scene.postProcessStages.remove(this.primitives)}}function AddCircleScanPostStage(e,t,i,n,r){var o=Cesium.Cartographic.toCartesian(t),a=new Cesium.Cartesian4(o.x,o.y,o.z,1),s=new Cesium.Cartographic(t.longitude,t.latitude,t.height+500),l=Cesium.Cartographic.toCartesian(s),u=new Cesium.Cartesian4(l.x,l.y,l.z,1),c=(new Date).getTime(),h=new Cesium.Cartesian4,g=new Cesium.Cartesian4,d=new Cesium.Cartesian3,p=new Cesium.PostProcessStage({fragmentShader:"uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nvarying vec2 v_textureCoordinates;\nuniform vec4 u_scanCenterEC;\nuniform vec3 u_scanPlaneNormalEC;\nuniform float u_radius;\nuniform vec4 u_scanColor;\nvec4 toEye(in vec2 uv, in float depth)\n {\n vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n posInCamera =posInCamera / posInCamera.w;\n return posInCamera;\n }\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n{\nvec3 v01 = point -planeOrigin;\nfloat d = dot(planeNormal, v01) ;\nreturn (point - planeNormal * d);\n}\nfloat getDepth(in vec4 depth)\n{\nfloat z_window = czm_unpackDepth(depth);\nz_window = czm_reverseLogDepth(z_window);\nfloat n_range = czm_depthRange.near;\nfloat f_range = czm_depthRange.far;\nreturn (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main()\n{\ngl_FragColor = texture2D(colorTexture, v_textureCoordinates);\nfloat depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\nvec4 viewPos = toEye(v_textureCoordinates, depth);\nvec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\nfloat dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\nif(dis < u_radius)\n{\nfloat f = 1.0 -abs(u_radius - dis) / u_radius;\nf = pow(f, 4.0);\ngl_FragColor = mix(gl_FragColor, u_scanColor, f);\n}\n}\n",uniforms:{u_scanCenterEC:function(){return Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,a,h)},u_scanPlaneNormalEC:function(){var t=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,a,h),i=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,u,g);return d.x=i.x-t.x,d.y=i.y-t.y,d.z=i.z-t.z,Cesium.Cartesian3.normalize(d,d),d},u_radius:function(){return i*(((new Date).getTime()-c)%r)/r},u_scanColor:n}});return e.scene.postProcessStages.add(p),p}function addCircleScan(e,t){return e.scene.globe.depthTestAgainstTerrain=!0,AddCircleScanPostStage(e,new Cesium.Cartographic(Cesium.Math.toRadians(t.lon),Cesium.Math.toRadians(t.lat),0),t.radius,t.scanColor,t.interval)}function AddRadarScanPostStage(e,t,i,n,r){var o=Cesium.Cartographic.toCartesian(t),a=new Cesium.Cartesian4(o.x,o.y,o.z,1),s=new Cesium.Cartographic(t.longitude,t.latitude,t.height+500),l=Cesium.Cartographic.toCartesian(s),u=new Cesium.Cartesian4(l.x,l.y,l.z,1),c=new Cesium.Cartographic(t.longitude+Cesium.Math.toRadians(.001),t.latitude,t.height),h=Cesium.Cartographic.toCartesian(c),g=new Cesium.Cartesian4(h.x,h.y,h.z,1),d=new Cesium.Quaternion,p=new Cesium.Matrix3,m=(new Date).getTime(),f=new Cesium.Cartesian4,C=new Cesium.Cartesian4,y=new Cesium.Cartesian4,v=new Cesium.Cartesian3,A=new Cesium.Cartesian3,I=new Cesium.PostProcessStage({fragmentShader:"uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nvarying vec2 v_textureCoordinates;\nuniform vec4 u_scanCenterEC;\nuniform vec3 u_scanPlaneNormalEC;\nuniform vec3 u_scanLineNormalEC;\nuniform float u_radius;\nuniform vec4 u_scanColor;\nvec4 toEye(in vec2 uv, in float depth)\n {\n vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n posInCamera =posInCamera / posInCamera.w;\n return posInCamera;\n }\nbool isPointOnLineRight(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt)\n{\nvec3 v01 = testPt - ptOnLine;\nnormalize(v01);\nvec3 temp = cross(v01, lineNormal);\nfloat d = dot(temp, u_scanPlaneNormalEC);\nreturn d > 0.5;\n}\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n{\nvec3 v01 = point -planeOrigin;\nfloat d = dot(planeNormal, v01) ;\nreturn (point - planeNormal * d);\n}\nfloat distancePointToLine(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt)\n{\nvec3 tempPt = pointProjectOnPlane(lineNormal, ptOnLine, testPt);\nreturn length(tempPt - ptOnLine);\n}\nfloat getDepth(in vec4 depth)\n{\nfloat z_window = czm_unpackDepth(depth);\nz_window = czm_reverseLogDepth(z_window);\nfloat n_range = czm_depthRange.near;\nfloat f_range = czm_depthRange.far;\nreturn (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main()\n{\ngl_FragColor = texture2D(colorTexture, v_textureCoordinates);\nfloat depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\nvec4 viewPos = toEye(v_textureCoordinates, depth);\nvec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\nfloat dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\nfloat twou_radius = u_radius * 2.0;\nif(dis < u_radius)\n{\nfloat f0 = 1.0 -abs(u_radius - dis) / u_radius;\nf0 = pow(f0, 64.0);\nvec3 lineEndPt = vec3(u_scanCenterEC.xyz) + u_scanLineNormalEC * u_radius;\nfloat f = 0.0;\nif(isPointOnLineRight(u_scanCenterEC.xyz, u_scanLineNormalEC.xyz, prjOnPlane.xyz))\n{\nfloat dis1= length(prjOnPlane.xyz - lineEndPt);\nf = abs(twou_radius -dis1) / twou_radius;\nf = pow(f, 3.0);\n}\ngl_FragColor = mix(gl_FragColor, u_scanColor, f + f0);\n}\n}\n",uniforms:{u_scanCenterEC:function(){return Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,a,f)},u_scanPlaneNormalEC:function(){var t=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,a,f),i=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,u,C);return v.x=i.x-t.x,v.y=i.y-t.y,v.z=i.z-t.z,Cesium.Cartesian3.normalize(v,v),v},u_radius:function(){return 1*i},u_scanLineNormalEC:function(){var t=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,a,f),i=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,u,C),n=Cesium.Matrix4.multiplyByVector(e.camera._viewMatrix,g,y);v.x=i.x-t.x,v.y=i.y-t.y,v.z=i.z-t.z,Cesium.Cartesian3.normalize(v,v),A.x=n.x-t.x,A.y=n.y-t.y,A.z=n.z-t.z;var o=((new Date).getTime()-m)%r/r;return Cesium.Quaternion.fromAxisAngle(v,o*Cesium.Math.PI*2,d),Cesium.Matrix3.fromQuaternion(d,p),Cesium.Matrix3.multiplyByVector(p,A,A),Cesium.Cartesian3.normalize(A,A),A},u_scanColor:n}});return e.scene.postProcessStages.add(I),I}function addRadarScan(e,t){return e.scene.globe.depthTestAgainstTerrain=!0,AddRadarScanPostStage(e,new Cesium.Cartographic(Cesium.Math.toRadians(t.lon),Cesium.Math.toRadians(t.lat),0),t.radius,t.scanColor,t.interval)}class ParticleSystemEx{constructor(e,t){this.viewer=e,this.rainSystem="",this.options={viewModel:{startColor:Cesium.Color.WHITE.withAlpha(.5),endColor:Cesium.Color.WHITE.withAlpha(0),particleSize:20,startScale:1,endScale:3,emissionRate:200,minimumParticleLife:1.2,maximumParticleLife:1.2,gravity:-11,minimumSpeed:1,maximumSpeed:4,height:10,lifetime:16,emitter:new Cesium.CircleEmitter(.5),modelMatrix:function(e,t){var i=Cesium.Property.getValueOrUndefined(e.position);return Cesium.Transforms.eastNorthUpToFixedFrame(i)},updateCallback:function(e){return function(t,i){var n=new Cesium.Cartesian3,r=new Cesium.Cartographic,o=Cesium.Cartesian3.normalize(t.position,new Cesium.Cartesian3);if(n=Cesium.Cartesian3.multiplyByScalar(o,e.viewModel.gravity*i,n),t.velocity=Cesium.Cartesian3.add(t.velocity,n,t.velocity),null!=e.downrange){let n=Cesium.Cartographic.fromCartesian(e.position,Cesium.Ellipsoid.WGS84),a=Cesium.Cartographic.fromCartesian(e.downrange,Cesium.Ellipsoid.WGS84);o=Cesium.Cartesian3.multiplyByScalar(o,i,o),o=Cesium.Cartesian3.add(t.position,o,o),(r=Cesium.Cartographic.fromCartesian(o,Cesium.Ellipsoid.WGS84,r)).longitude+=-(n.longitude-a.longitude)*i,r.latitude+=-(n.latitude-a.latitude)*i,r.height+=e.viewModel.height*i,t.position=Cesium.Cartographic.toCartesian(r)}}}}},this.options.position=t.position,this.options.downrange=t.downrange,this.options.text=t.text,Object.assign(this.options.viewModel,t.viewModel),this.addPartical()}addPartical(){var e=this;e.viewer.clock.shouldAnimate=!0;var t=e.viewer.entities.add({position:e.options.position,label:{text:e.options.text?e.options.text:""}}),i=e.options.viewModel.updateCallback(e.options);e.rainSystem=new Cesium.ParticleSystem({image:e.options.viewModel.image,startColor:e.options.viewModel.startColor,endColor:e.options.viewModel.endColor,imageSize:new Cesium.Cartesian2(e.options.viewModel.particleSize,e.options.viewModel.particleSize),startScale:e.options.viewModel.startScale,endScale:e.options.viewModel.endScale,emissionRate:e.options.viewModel.emissionRate,minimumParticleLife:e.options.viewModel.minimumParticleLife,maximumParticleLife:e.options.viewModel.maximumParticleLife,minimumSpeed:e.options.viewModel.minimumSpeed,maximumSpeed:e.options.viewModel.maximumSpeed,lifetime:e.options.viewModel.lifetime,emitter:e.options.viewModel.emitter,modelMatrix:e.options.viewModel.modelMatrix(t),updateCallback:i}),e.viewer.scene.primitives.add(e.rainSystem)}remove(){this.viewer.clock.shouldAnimate=!1,Cesium.defined(this.rainSystem)&&this.viewer.scene.primitives.remove(this.rainSystem)}}class FlyLineEdit{constructor(e,t){this.viewer=e,this.historyCamera=[],this.length=0,this.pauseState=!1;var i=t||{};null!=i.x&&(this.historyCamera.push(i),this._flyTo())}addFlyLine(e){e.id=null!=e.id?e.id:this.historyCamera.length+"Fly",this.historyCamera.push(e)}startFlyTo(){var e=this;this.pauseState||(this.length=0,e.stopState=!1,e.viewer.camera.setView({destination:e.historyCamera[e.length].destination,orientation:{heading:e.historyCamera[e.length].heading,pitch:e.historyCamera[e.length].pitch,roll:e.historyCamera[e.length].roll}})),this._flyTo()}pause(){this.viewer.camera.cancelFlight(),this.pauseState=!0}stop(){this.viewer.camera.cancelFlight(),this.pauseState=!1}setFlyTo(e,t){this.historyCamera.forEach((i=>{i.id===e&&(i=Object.assign(i,t))}))}_flyTo(){var e=this;e.historyCamera.length>0&&e.viewer.camera.flyTo({destination:e.historyCamera[e.length].destination,duration:e.historyCamera[e.length].duration,orientation:{heading:e.historyCamera[e.length].heading,pitch:e.historyCamera[e.length].pitch,roll:e.historyCamera[e.length].roll},complete:function(){e.length+1<e.historyCamera.length?(e.length=++e.length,e._flyTo()):e.pauseState=!1}})}}class brightness{constructor(e){this._viewer=e}update(e){this.clear();this._state=this._viewer.scene.postProcessStages.add(new Cesium.PostProcessStage({fragmentShader:"uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nuniform float scale;\nuniform vec3 offset;\nvoid main() {\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    gl_FragColor = vec4(color.rgb * scale + offset, 1);\n}\n",uniforms:{scale:e,offset:function(){return new Cesium.Cartesian3(0,0,0)}}}))}clear(){this._state&&this._viewer.scene.postProcessStages.remove(this._state)}}class nightness{constructor(e){this._viewer=e,this.init()}init(){this.clear();this._state=this._viewer.scene.postProcessStages.add(new Cesium.PostProcessStage({fragmentShader:"uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nuniform float scale;\nuniform vec3 offset;\nvoid main() {\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    gl_FragColor = vec4(color.rgb * scale + offset, 1);\n}\n",uniforms:{scale:1,offset:function(){return Cesium.Color.DARKGREEN}}}))}clear(){this._state&&this._viewer.scene.postProcessStages.remove(this._state)}}class flyRoute{constructor(e,t){this.options={showDialog:!0,offset:.5,pointImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACLklEQVRYR+2WPWgUURSFvzu7IoKFBkRM8CdmZ8VC0TSCNqYJKFgkjVXEQhILCShYRWJi0MZCRCEkoGAtiIIoIkgala0WZcGws6KoYBAMQQgWcefKzCbLLmTmvdm1EWZgqnfOed+7c+fOCAkvdRn0oVfgMLXbBwoKRUcoSZnHSSLFVqzdbGcDN1UZivUor0QZkY9UbLKtADTPGVUe2ASuaQRGxeOOyWME0B6OqsNrU9B66+LjmiphBPBd5oF94QYd2+DPCvxasuWZczz64sSxAFWXKwJTQYBMTsPg2RrAw3vojYtWEKZHEQvgu7wDDrL/EPKk2LShDvVBYc4GouR4HIgSRgIEXa9ZFkLj6WFkaqYZYOxcWAmbS7J0yge+r9snUQErOfozwot6V5e1GSBvbJ+6XuCUeDxNBKA5rqowUTd17YEjx+H3MhTfwsI3m8OHGlEmpMJkMoA8J1R5Zr1LjNAXBrIREzK6B3rYqQ5f/gWAZOiWeT4nqkAg9l08INcmxCfHY2/ityAwVF2mBc63AyDCLSlzqSUA3cVW3Rg+hs0tQvyUTeyW9yy3BBCY1GVU4XYrAAL94vEyzmv1MqvLI4WBRBDKc6fCSZPHCiAIWR1M94EuQ+iSwLjNpzicESbCxvVgPPsZLod/Q0IvsGV1fRGlIEIJn1nTJ7gxMxFAo3Hs2t2ZHYtfj1XJ6I+OzjfXxy+MJDnMmrYtAJTh2qxlNgVIK5BWIK1AWoH/tgJ/Aae33SE+H7UaAAAAAElFTkSuQmCC"},this.viewer=e,this.options=Object.assign(this.options,t),this.dataSource=new Cesium.CustomDataSource("flyRoute"),this.viewer.dataSources.add(this.dataSource),this.options.config&&""!=this.options.config?(this.dataconfig=this.options.config,this.showDialog()):this.options.url&&XLGlobe.Utils.util.getJSON(this.options.url,(e=>{this.dataconfig=e,this.showDialog()}))}showDialog(){if(this.options.showDialog&&1==this.options.showDialog){var e=this;if(e.options.target)e.dom=document.querySelector(e.options.target),e.dom.classList.add("flyRouteTool"),e.dom.classList.add("flyzoomopen"),e.options.classname&&e.dom.classList.add(e.options.classname);else{var t=document.createElement("div");t.className="flyRouteTool flyzoomopen flyRouteTool_"+(e.options.classname?" "+e.options.classname:""),document.body.appendChild(t),e.dom=t}for(var i="",n=0;n<e.dataconfig.info.length;n++)i+='<tr><td data-click="flyitemname" data-value="'+n+'">'+e.dataconfig.info[n].name+'</td><td style="text-align: center;">',i+='<span class="fly iconfont_RJ icon-bofang" data-value="'+n+'" data-click="t" title="飞行" style=""></span>',i+='<span class="fly iconfont_RJ icon-zanting" data-value="'+n+'" data-click="t" title="暂停" style="display:none;"></span>',i+='<span data-value="'+n+'" data-click="t" title="编辑" class="edit iconfont_RJ icon-bianji" style="margin-left: 10px;"></span>',i+='<span title="删除" data-value="'+n+'" data-click="t" class="remove iconfont_RJ icon-shanchu" style="margin-left: 10px;"></span>',i+="</td></tr>";var r=`\n     <div class="fly_title"><span>飞行漫游</span>\n     <div data-click="z" class="zoom zoomclose" title="展开">＋</div>\n     <div data-click="z" class="zoom zoomopen" title="收起">一</div></div>\n     <div class="fly_cen">\n       <div id="fr_tab_list" class="fr_tab show">\n       <div class="buts">\n         <div class="butsBox">\n           <button data-click="b" class="addBut"><span class="iconfont_RJ icon-xinzeng"></span>新增路线</button>\n           <button data-click="b" class="saveBut"><span class="iconfont_RJ icon-save01"></span>保存路线</button>\n         </div>\n       </div>\n       <div class="tableBox" style="">\n         <div class="tableHeaderBox">\n           <table class="table table-hover">\n             <thead>\n               <tr><th>名称</th><th>操作</th></tr>\n             </thead>\n             <tbody>\n               ${i}\n             </tbody>\n           </table>\n         </div>\n       </div>\n       </div>\n       <div id="fr_tab_edit" class="fr_tab"></div>\n       <ul class="mp_tab_tit">\n         <li id="tab_plot" class="cur" data-click="tab">路线</li>\n         <li id="tab_attr" class="" data-click="tab">编辑</li>\n       </ul>\n     </div>\n     `;e.dom.innerHTML=r,e.dom.addEventListener("click",(function(t){if("flyitemname"===t.target.getAttribute("data-click")){var i=t.target.getAttribute("data-value"),n=e.dataconfig.info[parseInt(i)].viewinfo;n&&n.length>0&&e.viewer.camera.setView({destination:Cesium.Cartesian3.fromDegrees(n[0].x,n[0].y,n[0].z),orientation:{heading:Cesium.Math.toRadians(n[0].heading),pitch:Cesium.Math.toRadians(n[0].pitch),roll:Cesium.Math.toRadians(n[0].roll)}})}else if("t"===t.target.getAttribute("data-click")){i=t.target.getAttribute("data-value");switch(t.target.getAttribute("title")){case"飞行":document.querySelectorAll(".flyRouteTool .icon-bofang")[i].style.display="none",document.querySelectorAll(".flyRouteTool .icon-zanting")[i].style.display="",e.startfly(parseInt(i));break;case"暂停":document.querySelectorAll(".flyRouteTool .icon-bofang")[i].style.display="",document.querySelectorAll(".flyRouteTool .icon-zanting")[i].style.display="none",e.stopFly();break;case"编辑":e.editFlyLine(e.dataconfig.info[parseInt(i)],i),document.querySelectorAll(".fly_cen #fr_tab_list")[0].classList.remove("show"),document.querySelectorAll(".fly_cen #fr_tab_edit")[0].classList.add("show"),document.querySelectorAll(".mp_tab_tit #tab_plot")[0].classList.remove("cur"),document.querySelectorAll(".mp_tab_tit #tab_attr")[0].classList.add("cur");break;case"删除":null!=e.flyxh&&e.clearFly(),e.dataconfig.info.splice(parseInt(i),1),e.update()}}else if("b"===t.target.getAttribute("data-click")){switch(t.target.getAttribute("class")){case"addBut":document.querySelectorAll(".fly_cen #fr_tab_list")[0].classList.remove("show"),document.querySelectorAll(".fly_cen #fr_tab_edit")[0].classList.add("show"),document.querySelectorAll(".mp_tab_tit #tab_plot")[0].classList.remove("cur"),document.querySelectorAll(".mp_tab_tit #tab_attr")[0].classList.add("cur"),e.editFlyLine();break;case"saveBut":if(e.options.preserveCustomFn)e.preserveCustomFn(e.dataconfig);else{const t=JSON.stringify(e.dataconfig),i=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download="漫游路线数据",n.click(),URL.revokeObjectURL(n.href),n.remove()}}}else if("tab"===t.target.getAttribute("data-click")){switch(t.target.getAttribute("id")){case"tab_plot":document.querySelectorAll(".fly_cen #fr_tab_list")[0].classList.add("show"),document.querySelectorAll(".fly_cen #fr_tab_edit")[0].classList.remove("show"),document.querySelectorAll(".mp_tab_tit #tab_attr")[0].classList.remove("cur"),document.querySelectorAll(".mp_tab_tit #tab_plot")[0].classList.add("cur");break;case"tab_attr":document.querySelectorAll(".fly_cen #fr_tab_list")[0].classList.remove("show"),document.querySelectorAll(".fly_cen #fr_tab_edit")[0].classList.add("show"),document.querySelectorAll(".mp_tab_tit #tab_plot")[0].classList.remove("cur"),document.querySelectorAll(".mp_tab_tit #tab_attr")[0].classList.add("cur")}}else if("z"===t.target.getAttribute("data-click")){var r=document.querySelectorAll(".flyRouteTool_")[0].className;r.indexOf("flyzoomclose")>=0?document.querySelectorAll(".flyRouteTool_")[0].className=r.replace("flyzoomclose","flyzoomopen"):document.querySelectorAll(".flyRouteTool_")[0].className=r.replace("flyzoomopen","flyzoomclose")}}))}}update(){for(var e="",t=0;t<this.dataconfig.info.length;t++)e+="<tr><td>"+this.dataconfig.info[t].name+'</td><td style="text-align: center;">',e+='<span class="fly iconfont_RJ icon-bofang" data-value="'+t+'" data-click="t" title="飞行" style=""></span>',e+='<span class="fly iconfont_RJ icon-zanting" data-value="'+t+'" data-click="t" title="暂停" style="display:none;"></span>',e+='<span data-value="'+t+'" data-click="t" title="编辑" class="edit iconfont_RJ icon-bianji" style="margin-left: 10px;"></span>',e+='<span title="删除" data-value="'+t+'" data-click="t" class="remove iconfont_RJ icon-shanchu" style="margin-left: 10px;"></span>',e+="</td></tr>";document.querySelector("#fr_tab_list .tableHeaderBox tbody").innerHTML=e}editFlyLine(e,t){var i=this,n=function(e){return e||(e={name:"视图-未命名",x:0,y:0,z:0,heading:0,pitch:0,roll:0,duration:1}),`\n     <div>\n       <div class="open"><i class="tree_icon">-</i><input type="text" class="mp_input plot_name" data-type="name" value="${e.name}">\n       <span class="fly iconfont_RJ icon-shanchu" data-click="del" title="删除" style="color: #1f90fc;float: right;margin-right: 10px;"></span>\n         <span class="fly iconfont_RJ icon-sheweidangqianhaizi" data-click="set" title="设为当前视图" style="color: #1f90fc;float: right;margin-right: 10px;"></span>\n         <span class="fly iconfont_RJ icon-jia" data-click="add" title="添加" style="color: #1f90fc;float: right;margin-right: 10px;"></span>\n       </div>\n       <div class="mp_attr">\n         <table>\n           <tbody>\n             <tr>\n               <td class="nametd">经度：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="jd" value="${e.x}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">纬度：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="wd" value="${e.y}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">高程：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="height" value="${e.z}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">弧度方向：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="heading" value="${e.heading}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">相机弧度：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="pitch" value="${e.pitch}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">相机弧度角：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="roll" value="${e.roll}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">动画时间：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="duration" value="${e.duration}">\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">飞行最大高度：</td>\n               <td><input type="number" class="mp_input plot_latlngs" data-type="maximumHeight" value="${e.maximumHeight}">\n               </td>\n             </tr>\n           </tbody>\n         </table>\n       </div>\n     </div>\n     `},r="",o="未命名路线",a=!1,s=!1;if(e){o=e.name,a=e.isshowline,s=e.isshowpoint;for(var l=0;l<e.viewinfo.length;l++)r+='<div class="view_latlngs">'+n(e.viewinfo[l])+"</div>"}else r+='<div class="view_latlngs">'+n()+"</div>";var u=`\n     <div class="fr_tree">\n       <div class="fr_lineinfo">\n         <input type="text" class="mp_input plot_name" data-type="name" value="${o}">\n         <span data-click="save" style="color: #1f90fc;float: right;margin-right: 20px; cursor: pointer;">保存</span>\n         </div>\n         \n       <div class="fr_lineinfo2">\n         <table>\n           <tbody>\n             <tr>\n               <td class="nametd">是否显示线：</td>\n               <td>\n                 <div class='radio radio-info radio-inline'>\n                    <input type='radio'id='fr_attr_showline' value='1'  name='fr_attr_showline'${a?" checked='checked'":""}> \n                    <label for='fr_attr_showline_1'> 是</label> \n                 </div>\n                 <div class='radio radio-info radio-inline'>\n                   <input type='radio' id='fr_attr_showline_2' value='2' name='fr_attr_showline'${a?"":" checked='checked'"} />\n                   <label for='fr_attr_showline_2'> 否 </label>\n                 </div>\n               </td>\n             </tr>\n             <tr>\n               <td class="nametd">是否显示点：</td>\n               <td>\n                 <div class='radio radio-info radio-inline'>\n                    <input type='radio'id='fr_attr_showpoint' value='1'  name='fr_attr_showpoint'${s?" checked='checked'":""}> \n                    <label for='fr_attr_showpoint_1'> 是</label> \n                 </div>\n                 <div class='radio radio-info radio-inline'>\n                   <input type='radio' id='fr_attr_showpoint_2' value='2' name='fr_attr_showpoint'${s?"":" checked='checked'"} />\n                   <label for='fr_attr_showpoint_2'> 否 </label>\n                 </div>\n               </td>\n             </tr>\n           </tbody>\n         </table>\n         </div>\n             \n       <div class="open"><i class="tree_icon">-</i>坐标列表\n         </div>\n       ${r}\n     </div>\n     `;document.querySelectorAll(".fly_cen #fr_tab_edit")[0].innerHTML=u,document.querySelector("#fr_tab_edit .fr_tree").addEventListener("click",(function(r){switch(r.target.getAttribute("data-click")){case"save":var o=r.target.parentElement.parentElement.children,a={name:o[0].querySelector("input").value,isshowline:o[1].querySelector("#fr_attr_showline").checked,isshowpoint:o[1].querySelector("#fr_attr_showpoint").checked,viewinfo:[]};if(o.length<=3)return;for(var s=3;s<o.length;s++){var l=o[s].querySelectorAll("input"),u={name:l[0].value,x:parseFloat(l[1].value),y:parseFloat(l[2].value),z:parseFloat(l[3].value),heading:parseFloat(l[4].value),pitch:parseFloat(l[5].value),roll:parseFloat(l[6].value),duration:parseFloat(l[7].value),maximumHeight:parseFloat(l[8].value)};a.viewinfo.length>0&&(u.maximumHeight=Math.min(u.maximumHeight,a.viewinfo[a.viewinfo.length-1].maximumHeight)),a.viewinfo.push(u)}e?i.dataconfig.info[parseInt(t)]=a:i.dataconfig.info.push(a),i.update(),document.querySelectorAll(".fly_cen #fr_tab_list")[0].classList.add("show"),document.querySelectorAll(".fly_cen #fr_tab_edit")[0].classList.remove("show"),document.querySelectorAll(".mp_tab_tit #tab_attr")[0].classList.remove("cur"),document.querySelectorAll(".mp_tab_tit #tab_plot")[0].classList.add("cur");break;case"set":var c=XLGlobe.Utils.latlng.getCameraView(i.viewer),h=r.target.parentElement.parentElement.children[1].children[0].children[0].children;h[0].children[1].children[0].value=c.x,h[1].children[1].children[0].value=c.y,h[2].children[1].children[0].value=c.z,h[3].children[1].children[0].value=c.heading,h[4].children[1].children[0].value=c.pitch,h[5].children[1].children[0].value=c.roll,h[6].children[1].children[0].value=3,h[7].children[1].children[0].value=c.z;break;case"add":var g=document.createElement("div");g.className="view_latlngs",g.innerHTML=n(),insertAfter(g,r.target.parentElement.parentElement.parentElement);break;case"del":r.target.parentElement.parentElement.parentElement.remove()}}))}startfly(e){null!=this.flyxh&&this.flyxh!=e&&this.clearFly(),this.flyxh=e;var t=this.dataconfig.info[e];if(t&&t.viewinfo&&!(t.viewinfo<2)){var i=this;if(t.isshowline||t.isshowpoint){for(var n=[],r=0;r<t.viewinfo.length;r++)n.push(t.viewinfo[r].x,t.viewinfo[r].y,t.viewinfo[r].z-i.options.offset),t.isshowpoint&&i.dataSource.entities.add({position:Cesium.Cartesian3.fromDegrees(t.viewinfo[r].x,t.viewinfo[r].y,t.viewinfo[r].z-i.options.offset),billboard:{image:i.options.pointImg,scale:.7}});t.isshowline&&i.dataSource.entities.add({name:"线",polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(n),width:2,material:Cesium.Color.AQUA}})}if(!i.flynum){i.flynum=1;var o=t.viewinfo[0];i.viewer.camera.setView({destination:Cesium.Cartesian3.fromDegrees(o.x,o.y,o.z),orientation:{heading:Cesium.Math.toRadians(o.heading),pitch:Cesium.Math.toRadians(o.pitch),roll:Cesium.Math.toRadians(o.roll)}})}var a=function(e,t){i.flystarttime=(new Date).getTime(),i.flynum=t;var n=t,r=e.viewinfo[n],o=r.duration;i.oldtime&&(o-=i.oldtime/1e3,i.oldtime=null),i.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(r.x,r.y,r.z),orientation:{heading:Cesium.Math.toRadians(r.heading),pitch:Cesium.Math.toRadians(r.pitch),roll:Cesium.Math.toRadians(r.roll)},duration:o,easingFunction:Cesium.EasingFunction.LINEAR_NONE,maximumHeight:r.maximumHeight,complete:function(){r.callback&&r.callback(),n<e.viewinfo.length-1?a(e,n+=1):(i.flynum=null,i.flystarttime=null,document.querySelectorAll(".flyRouteTool .icon-bofang").length>0&&(document.querySelectorAll(".flyRouteTool .icon-bofang")[i.flyxh].style.display="",document.querySelectorAll(".flyRouteTool .icon-zanting")[i.flyxh].style.display="none"),i.flyxh=null,null==e.isshowline&&null==e.isshowpoint||i.dataSource.entities.removeAll())}})};a(t,i.flynum)}}stopFly(){this.viewer.camera.cancelFlight(),null!=this.flystarttime&&(this.oldtime=(new Date).getTime()-this.flystarttime,this.flystarttime=null)}clearFly(){this.viewer.camera.cancelFlight(),this.flynum=null,this.flystarttime=null,this.oldtime=null,null!=this.flyxh&&document.querySelectorAll(".flyRouteTool .icon-bofang").length>0&&(document.querySelectorAll(".flyRouteTool .icon-bofang")[this.flyxh].style.display="",document.querySelectorAll(".flyRouteTool .icon-zanting")[this.flyxh].style.display="none"),this.flyxh=null,this.dataSource&&this.dataSource.entities.removeAll()}}function insertAfter(e,t){var i=t.parentNode;i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling)}var Scene={};Scene.SkyBox=SkyBox,Scene.DownloadImg=DownloadImg,Scene.BookmarkWidget=BookmarkWidget,Scene.Rotate=Rotate,Scene.HistoryCamera=HistoryCamera,Scene.LimitCamera=LimitCamera,Scene.FlyLineEdit=FlyLineEdit,Scene.CameraFlight=CameraFlight,Scene.flyRoute=flyRoute,Scene.KeyboardRoam=KeyboardRoam,Scene.Roaming=Roaming,Scene.RoamLineWidget=RoamLineWidget,Scene.sceneEffects={},Scene.sceneEffects.weatherEffects=weatherEffects,Scene.sceneEffects.WaterReflection=WaterReflection,Scene.sceneEffects.ParticalSystem=ParticalSystem,Scene.sceneEffects.CircleScanSystem=CircleScanSystem,Scene.sceneEffects.ParticleSystemEx=ParticleSystemEx,Scene.sceneEffects.brightness=brightness,Scene.sceneEffects.nightness=nightness;class modelListWidget{constructor(e,t,i){this.caontainer=e,this.json=t,this.viewer=i,this.initList()}initList(){var e=this,t=this.json;if(t&&t.length>0){for(var i=[],n=0;n<t.length;n++)e.viewer.entities.getById(t[n].id)&&(i.push('<div class="left_list_li_box" id = "'+t[n].id+'">'),i.push('<div class="left_list_li_box_top" id="hsd">'),i.push('<div class="left_list_li1">'),i.push("<p>"),i.push("<a>模型ID:"+t[n].id+"</a><br/>"),i.push("<a>名称:"+t[n].name+"</a><br/>"),i.push("<a>其他信息:"+t[n].message+"</a><br/>"),i.push("</p>"),i.push("</div>"),i.push("</div>"),i.push("</div>"));if(document.getElementById("modelListWidget"))console.log("已经存在widget");else{e.caontainer.insertAdjacentHTML("afterend","<div id='modelListWidget'><div class='modelListWidgetScrollbar'></div></div>"),document.getElementById("modelListWidget").insertAdjacentHTML("beforeend",i.join(""));var r=document.getElementsByClassName("left_list_li_box");for(let t=0;t<r.length;t++)r[t].onclick=function(t){var i=t.currentTarget.id;e.toLocationGltf(i)}}}}toLocationGltf(e){var t=this.viewer.entities.getById(e);t instanceof Cesium.Entity&&this.viewer.zoomTo(t)}}class modelStoreWidget{constructor(e,t){this.viewer=e,this.config=t,this.loadWidget(),this.data=null,this.entity=null}loadWidget(){var e=this,t=new Cesium.ScreenSpaceEventHandler(e.viewer.canvas);function i(i){var r=1;$(document.body).append("<div id='modelStoreWidget'><div id='modelStoreWidget-head'><p>模型库</p></div><div id='modelStoreWidget-toolBar'><ul><li style= 'display:none' title='打开配置文件'><input type='file' style='display:none' single accept='application/json'></li><li title='保存配置文件'></li><li title='清除所有模型'></li></ul></div><div id='modelStoreWidget-modelList'><div id='modelStoreWidget-select'><p>无模型数据</p><div id='triangle'></div><ul></ul></div><div id='model-list'><ul></ul></div>"),$("#modelStoreWidget-toolBar>ul>li:nth-child(1)").click((function(){var e;(e=document.createElement("input")).setAttribute("id","_ef"),e.setAttribute("type","file"),e.setAttribute("style","visibility:hidden"),document.body.appendChild(e),e.click(),e.onchange=function(){let e=new FileReader;e.readAsText($(this)[0].files[0].name,"UTF-8"),e.onload=function(e){e.target.result}}})),$("#modelStoreWidget-toolBar ul>li:eq(1)").click((function(){var t=e.viewer.entities;if(0==t.values.length)alert("当前视图没有模型数据");else{var i={},n=[];for(let e=0;e<t.values.length;e++){var r={};r.name=t.values[e].property.name,r.url=t.values[e].property.url,r.position=[t.values[e].position._value.x,t.values[e].position._value.y,t.values[e].position._value.z],n.push(r)}i.modelData=n,function(e,t){var i=document.createElement("a");if(i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),i.dispatchEvent(n)}else i.click()}("模型列表文件.json",JSON.stringify(i))}})),$("#modelStoreWidget-toolBar ul>li:eq(2)").click((function(){e.viewer.entities.removeAll()})),$("#modelStoreWidget-select>p").text(i.data[0].type+"("+i.data[0].modelList.length+")");for(let e=0;e<i.data[0].modelList.length;e++)$("#model-list>ul").append("<li modelScale="+(i.data[0].modelList[e].scale||1)+" modelName="+i.data[0].modelList[e].name+" modelUrl="+i.data[0].modelList[e].model+"><img style='width:100%;height:100%' title='"+i.data[0].modelList[e].name+"' src='"+i.data[0].modelList[e].imgUrl+"' /></li>");o();for(let e=0;e<i.data.length;e++)$("#modelStoreWidget-select>ul").append("<li>"+i.data[e].type+"("+i.data[e].modelList.length+")</li>");function o(){$("#model-list>ul>li").click((function(){e.viewer._container.style.cursor="crosshair";var i=$(this).attr("modelUrl"),r=$(this).attr("modelName"),o=$(this).attr("modelScale"),a={name:r,uri:i,scale:o};t.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction((function(s){var l=e.viewer.camera.pickEllipsoid(s.position,e.viewer.scene.globe.ellipsoid),u={url:i,name:r,attr:{scale:o,direction:0,pitch:0,roll:0,alpha:1,radio:1,position:l,minimumPixelSize:120,maximumScale:500,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,1e5)}};Cesium.defined(l)&&function(i,r,o){var a=e.viewer.entities.add({name:e.config.name,position:r,model:i,property:o});e.viewer.zoomTo(a),e.entity=a,n(a),t.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),e.viewer._container.style.cursor=""}(a,l,u)}),Cesium.ScreenSpaceEventType.LEFT_CLICK)}))}$("#modelStoreWidget-select>ul>li").click((function(){$("#modelStoreWidget-select>p").text($(this).text());for(let e=0;e<i.data.length;e++)if(i.data[e].type==$(this).text().split("(")[0]){$("#model-list>ul").html("");for(let t=0;t<i.data[e].modelList.length;t++)$("#model-list>ul").append("<li modelScale="+(i.data[e].modelList[t].scale||1)+" modelName="+i.data[e].modelList[t].name+" modelUrl="+i.data[e].modelList[t].model+"><img style='width:100%;height:100%' title='"+i.data[e].modelList[t].name+"' src='"+i.data[e].modelList[t].imgUrl+"' /></li>");o()}})),$("#modelStoreWidget-select").click((function(){1==r?($("#modelStoreWidget-select>ul").css("height","auto"),$("#modelStoreWidget-select>ul").show(),$("#triangle").css("border-color","transparent transparent white"),$("#triangle").css("top","-2px"),r=0):($("#modelStoreWidget-select>ul").css("height",0),$("#modelStoreWidget-select>ul").hide(),$("#triangle").css("border-color","white transparent transparent "),$("#triangle").css("top","6px"),r=1)})),$("#modelStoreWidget-select>ul>li").click((function(){$("#modelStoreWidget-select").val($(this).val())}))}function n(e){var t=latlng$1.Cartesian3To(e.position._value).latlng;if($("#model-attribute").length)$("#model-attribute").show();else{var i="";i+="<div id='model-attribute'>",i+="<div id='model-attribute-header'><span>属性信息</span><span>×</span></div>",i+="<div id='model-attribute-table-container'>",i+="<table id='model-attribute-table'>",i+="<tr><td>模型名称:</td><td></td></tr>",i+="<tr><td>比例:</td><td><input id='model-attribute-scale' value='"+e.property.attr.scale+"' type='number'></td></tr>",i+="<tr><td>方向角:</td><td><input id='model-attribute-direction' value='"+e.property.attr.direction+"' type='number'></td></tr>",i+="<tr><td>俯仰角:</td><td><input id='model-attribute-pitch' value='"+e.property.attr.pitch+"' type='number'></td></tr>",i+="<tr><td>翻滚角:</td><td><input id='model-attribute-roll'  value='"+e.property.attr.roll+"' type='number'></td></tr>",i+="<tr><td>透明度:</td><td><input id='model-attribute-alpha' value='"+e.property.attr.alpha+"' type='number' step='0.1' min='0' max='1'></td></tr>",i+="<tr><td>是否贴地:</td><td><input type='radio' name='td' value='1'>是<input type='radio' name='td' value='0' checked>否</td></tr>",i+="</table>",i+="<table id='model-attribute-table2'>",i+="<tr><td>经度:</td><td><input id='model-attribute-lng' value='"+t.lng+"' /></td></td></tr>",i+="<tr><td>纬度:</td><td><input id='model-attribute-lat' value='"+t.lat+"' /></td></tr>",i+="<tr><td>高程:</td><td><input id='model-attribute-height' value='"+t.height+"' /></td></tr>",i+="</table>",i+="</div>",i+="<div id='model-attribute-footer'>",i+="<ul style='cursor:pointer;'><li class='li1' >样式</li><li>属性</li><ul>",i+="</div>",i+="</div>",$(document.body).append(i),$("#model-attribute-header span:nth-child(2)").click((function(){$("#model-attribute").hide()})),$("#model-attribute-footer li").click((function(){$("#model-attribute-footer li").toggleClass("li1")})),$("#model-attribute-footer li:nth-child(1)").click((function(){$("#model-attribute-table").show(),$("#model-attribute-table2").hide()})),$("#model-attribute-footer li:nth-child(2)").click((function(){$("#model-attribute-table").hide(),$("#model-attribute-table2").show()}))}var n=e.property;$("#model-attribute-table tr:nth-child(1) td:nth-child(2)").text(n.name),$("#model-attribute-lng").val(t.lng),$("#model-attribute-lat").val(t.lat),$("#model-attribute-height").val(t.height),$("#model-attribute-direction").val(Math.round(n.attr.direction*(180/Math.PI))),$("#model-attribute-pitch").val(Math.round(n.attr.pitch*(180/Math.PI))),$("#model-attribute-roll").val(Math.round(n.attr.roll*(180/Math.PI))),$("#model-attribute-scale").val(n.attr.scale),$("#model-attribute-alpha").val(n.attr.alpha);for(var r=0;r<2;r++)$("input[type=radio][name=td]")[r].value==n.attr.radio&&($("input[type=radio][name=td]")[r].checked=!0)}function r(e){var t=Number($("#model-attribute-direction").val()),i=Number($("#model-attribute-pitch").val()),n=Number($("#model-attribute-roll").val()),r=Number($("#model-attribute-scale").val()),o=(t=Cesium.Math.toRadians(Number(t||0)),i=Cesium.Math.toRadians(Number(i||0)),n=Cesium.Math.toRadians(Number(n||0)),new Cesium.HeadingPitchRoll(t,i,n)),a=$("input[type=radio][name=td]:checked").val();e.model.scale=r,e.property.attr={scale:r,direction:t,pitch:i,roll:n,radio:a},e.orientation=Cesium.Transforms.headingPitchRollQuaternion(e.position._value,o)}function o(){if("0"==$("input[type=radio][name=td]:checked").val()){let t=Cesium.Cartesian3.fromDegrees($("#model-attribute-lng").val(),$("#model-attribute-lat").val(),$("#model-attribute-height").val());e.entity.position._value=t}else{let t=Cesium.Cartesian3.fromDegrees($("#model-attribute-lng").val(),$("#model-attribute-lat").val(),0);e.entity.position._value=t}}t.setInputAction((function(t){var i=e.viewer.scene.pick(t.position);Cesium.defined(i)&&""!=i.id.id&&(e.entity=i.id,n(e.viewer.entities.getById(i.id.id)))}),Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),$("body").on("change","#model-attribute-scale",(function(){r(e.entity)})),$("body").on("change","#model-attribute-direction",(function(){r(e.entity)})),$("body").on("change","#model-attribute-pitch",(function(){r(e.entity)})),$("body").on("change","#model-attribute-roll",(function(){r(e.entity)})),$("body").on("change","#model-attribute-alpha",(function(){e.entity.model.color=Cesium.Color.WHITE.withAlpha(.1),e.entity.model.color._value.alpha=$(this).val()})),$("body").on("change","input[type=radio][name=td]",(function(){o()})),$("body").on("change","#model-attribute-lng",(function(){o()})),$("body").on("change","#model-attribute-lat",(function(){o()})),$("body").on("change","#model-attribute-height",(function(){o()})),$.ajax({url:e.config.url,type:"GET",dataType:"json",async:!1,success:t=>{e.data=t,i(t)},error:function(e){console.log("载入模型库的数据信息失败！！！！！！")}})}}class tileMonomer{constructor(e){this.viewer=e.viewer,this.seltile=[[],[]],this.jsondata=null,this.entities=null,this.options={type:"property",comparisonField:["name","name"],leftClick:!0,leftcallback:function(){},mouseMove:!1,movecallback:function(){},handler:null,height:0,startheight:0,endheight:1,heightField:null,url:"",bufferRadius:0,fillcolor:new Cesium.Color(1,0,0,.5),fillcolor2:new Cesium.Color(1,1,0,.1),outlinecolor:new Cesium.Color(0,1,1,.5),sel3Dtiles:[]},this.options=Object.assign(this.options,e),this.options.Collection=new Cesium.PrimitiveCollection,this.viewer.scene.primitives.add(this.options.Collection),this.options.Collection2=new Cesium.PrimitiveCollection,this.viewer.scene.primitives.add(this.options.Collection2),this.options.leftClick&&this.handlerEvent_left(),this.options.mouseMove&&this.handlerEvent_move(),"coverage"==this.options.type&&this.showpolylayer()}showpolylayer(){var e=this;Cesium.GeoJsonDataSource.load(e.options.url).then((function(t){e.viewer.dataSources.add(t),e.entities=t.entities;for(var i=0;i<e.entities.values.length;i++){var n=e.entities.values[i];n.polygon.material=new Cesium.Color(0,1,1,.01),n.polygon.classificationType=Cesium.ClassificationType.CESIUM_3D_TILE,n.polygon.outline=!1;var r=0,o=1;"string"==typeof e.options.startheight&&(r=parseFloat(n.properties[e.options.startheight]._value)),"string"==typeof e.options.endheight&&(o=parseFloat(n.properties[e.options.endheight]._value)),"string"==typeof e.options.heightField&&(o=r+parseFloat(n.properties[e.options.heightField]._value)),r+=e.options.height,o+=e.options.height,n.polygon.extrudedHeight=o,n.polygon.height=r}}))}clear(){this.options.Collection.removeAll(),this.options.Collection2.removeAll(),this.entities&&this.entities.removeAll(),this.options.handler&&(this.options.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.options.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE))}clearColor(){this.options.Collection.removeAll(),this.options.Collection2.removeAll(),this.entities&&this.entities.removeAll(),this.seltile[0].length>0&&(this.seltile[0][0].color=this.seltile[0][1]),this.seltile[1].length>0&&(this.seltile[1][0].color=this.seltile[1][1]),this.seltile=[[],[]]}handlerEvent_left(){var e=this;e.options.handler&&e.options.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),e.options.handler=new Cesium.ScreenSpaceEventHandler(e.viewer.scene.canvas),e.options.handler.setInputAction((function(t){var i=e.viewer.scene.pick(t.position);if(i){if(e.options.sel3Dtiles.length>0){for(var n=!1,r=i.primitive||i.tileset,o=0;o<e.options.sel3Dtiles.length;o++)e.options.sel3Dtiles[o]==r&&(n=!0);if(!n)return}if("property"==e.options.type)i instanceof Cesium.Cesium3DTileFeature?i.getProperty&&e.getpolybyprop(e,i.getProperty(e.options.comparisonField[0]),"left",t.position):e.clearMovePrimitives();else if("geometry"==e.options.type){var a=e.viewer.scene.pickPosition(t.position),s=Cesium.Cartographic.fromCartesian(a),l=Cesium.Math.toDegrees(s.longitude),u=Cesium.Math.toDegrees(s.latitude);e.getpolybygeo(e,[l,u],"left",t.position)}else"model"==e.options.type?(i instanceof Cesium.Cesium3DTileFeature?(e.seltile[0].length>0&&(e.seltile[0][0].color=e.seltile[0][1]),e.seltile[0]=[i,i.color],i.color=e.options.fillcolor):i.content&&(e.seltile[0].length>0&&(e.seltile[0][0].content._model.color=e.seltile[0][1]),e.seltile[0]=[i,i.content._model.color],i.content._model.color=e.options.fillcolor),e.options.leftcallback(i,t.position)):"coverage"==e.options.type&&(i.id&&(e.seltile[0].length>0&&(e.seltile[0][0].id.polygon.material=e.seltile[0][1]),e.seltile[0]=[i,i.id.polygon.material],i.id.polygon.material=e.options.fillcolor),e.options.leftcallback(i,t.position))}}),Cesium.ScreenSpaceEventType.LEFT_CLICK)}handlerEvent_move(){var e=this;e.options.handler&&e.options.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.options.handler=new Cesium.ScreenSpaceEventHandler(e.viewer.scene.canvas),e.options.handler.setInputAction((function(t){var i=e.viewer.scene.pick(t.endPosition);if(i){if(e.options.sel3Dtiles.length>0){for(var n=!1,r=i.primitive||i.tileset,o=0;o<e.options.sel3Dtiles.length;o++)e.options.sel3Dtiles[o]==r&&(n=!0);if(!n)return}if("property"==e.options.type)if(i instanceof Cesium.Cesium3DTileFeature){if(i.getProperty){var a=i.getProperty(e.options.comparisonField[0]);e.mfid!=a&&(e.mfid=a,e.clearMovePrimitives()),a&&null!=a&&e.getpolybyprop(e,i.getProperty(e.options.comparisonField[0]),"move",t.endPosition)}}else e.clearMovePrimitives();else if("geometry"==e.options.type){var s=e.viewer.scene.pickPosition(t.endPosition),l=Cesium.Cartographic.fromCartesian(s),u=Cesium.Math.toDegrees(l.longitude),c=Cesium.Math.toDegrees(l.latitude);e.getpolybygeo(e,[u,c],"move",t.endPosition)}else"model"==e.options.type?(i instanceof Cesium.Cesium3DTileFeature?(e.seltile[1].length>0&&(e.seltile[1][0].color=e.seltile[1][1]),e.seltile[1]=[i,i.color],i.color=this.options.outlinecolor):i.content&&(e.seltile[1].length>0&&(e.seltile[1][0].content._model.color=e.seltile[1][1]),e.seltile[1]=[i,i.content._model.color],i.content._model.color=this.options.outlinecolor),e.options.movecallback(i)):"coverage"==e.options.type&&(i.id&&(e.seltile[1].length>0&&(e.seltile[1][0].id.polygon.material=e.seltile[1][1]),e.seltile[1]=[i,i.id.polygon.material],i.id.polygon.material=e.options.fillcolor),e.options.movecallback(i))}else e.clearMovePrimitives()}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}clearMovePrimitives(){this.options.Collection2.removeAll()}getpolybygeo(e,t,i,n){var r=function(r){null==e.jsondata&&(e.jsondata=r);for(let a of r.features){var o=a.geometry.coordinates;if(util$1.isDotInPolygon(t,o[0])){"left"==i?e.showpoly(a,n):"move"==i&&e.showpolyout(a);break}}};null==e.jsondata?util$1.getJSON(e.options.url,r):r(e.jsondata)}getpolybyprop(e,t,i,n){var r=function(r){null==e.jsondata&&(e.jsondata=r);for(let o of r.features){if(o.properties[e.options.comparisonField[1]]==t){"left"==i?e.showpoly(o,n):"move"==i&&e.showpolyout(o);break}}};null==e.jsondata?util$1.getJSON(e.options.url,r):r(e.jsondata)}showpolyout(e){this.clearMovePrimitives();var t=e;0!=this.options.bufferRadius&&(t=turf.buffer(e,this.options.bufferRadius/1e3,{units:"kilometers"}));var i=0;"string"==typeof this.options.startheight&&(i=parseFloat(e.properties[this.options.startheight])),"string"==typeof this.options.endheight&&parseFloat(e.properties[this.options.endheight]),"string"==typeof this.options.heightField&&parseFloat(e.properties[this.options.heightField]),i+=this.options.height,this.options.height,this.options.Collection2.add(new Cesium.ClassificationPrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolygonOutlineGeometry({polygonHierarchy:new Cesium.PolygonHierarchy(Cesium.Cartesian3.fromDegreesArray([].concat.apply([],t.geometry.coordinates[0]))),height:i}),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(this.options.outlinecolor),show:new Cesium.ShowGeometryInstanceAttribute(!0)}}),classificationType:Cesium.ClassificationType.CESIUM_3D_TILE})),this.options.movecallback(e)}showpoly(e,t){this.options.Collection.removeAll();var i=e;0!=this.options.bufferRadius&&(i=turf.buffer(e,this.options.bufferRadius/1e3,{units:"kilometers"}));var n=0,r=1;"string"==typeof this.options.startheight&&(n=parseFloat(e.properties[this.options.startheight])),"string"==typeof this.options.endheight&&(r=parseFloat(e.properties[this.options.endheight])),"string"==typeof this.options.heightField&&(r=n+parseFloat(e.properties[this.options.heightField])),n+=this.options.height,r+=this.options.height,this.options.Collection.add(new Cesium.ClassificationPrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolygonGeometry({polygonHierarchy:new Cesium.PolygonHierarchy(Cesium.Cartesian3.fromDegreesArray([].concat.apply([],i.geometry.coordinates[0]))),extrudedHeight:r,height:n}),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(this.options.fillcolor),show:new Cesium.ShowGeometryInstanceAttribute(!0)}}),classificationType:Cesium.ClassificationType.CESIUM_3D_TILE})),this.options.leftcallback(e,t)}}class Buildflowline{constructor(e){var t={tileset:null,backgroundcolor:"rgba(0, 127.5, 255 ,1)",linespeed:"2.0",linewidth:"0.005",brightness:"100.0",glowRange:"360.0"};null!=(t=Object.assign(t,e)).tileset&&t.tileset.readyPromise.then((function(e){null!=t.backgroundcolor&&(e.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["true",t.backgroundcolor]]}})),e.tileVisible.addEventListener((function(e){for(var i=e.content,n=i.featuresLength,r=0;r<n;r+=2){let e=i.getFeature(r),n=e.content._model;n&&n._sourcePrograms&&n._rendererResources&&(Object.keys(n._sourcePrograms).forEach((i=>{let r=n._sourcePrograms[i],o=n._rendererResources.sourceShaders[r.fragmentShader],a="";-1!=o.indexOf(" v_positionEC;")?a="v_positionEC":-1!=o.indexOf(" v_pos;")&&(a="v_pos");const s=`vec4(${e.color.toString()})`;n._rendererResources.sourceShaders[r.fragmentShader]="varying vec3 "+a+";\nvoid main(void){\n    vec4 position = czm_inverseModelView * vec4("+a+",1);\n    float glowRange = "+t.glowRange+";\n    gl_FragColor = "+s+";\n    gl_FragColor *= vec4(vec3(position.z / "+t.brightness+"), 1.0);\n    float time = fract(czm_frameNumber / 360.0);\n    time = abs(time - 0.5) * "+t.linespeed+";\n    float diff = step("+t.linewidth+", abs( clamp(position.z / glowRange, 0.0, 1.0) - time));\n    gl_FragColor.rgb += gl_FragColor.rgb * (1.0 - diff);\n}\n"})),n._shouldRegenerateShaders=!0)}}))})).otherwise((function(e){console.error(e)}))}}var Model={};Model.loadGltf=loadGltf,Model.modelListWidget=modelListWidget,Model.load3DTiles=load3DTiles,Model.modelStoreWidget=modelStoreWidget,Model.tileMonomer=tileMonomer,Model.Buildflowline=Buildflowline;class baiduQueryWidget{constructor(e,t){this.viewer=e,this.config=t,this.tooltip2=new Tooltip({viewer:e,lineheight:20});$(document.body).append('<div id="baiduSearch"><div id="poiSearch"><input value="酒店" id="poiSearch-input"><button id="poiSearch-input-close"></button><button id="poiSearch-span"><i></i><span>查询</span></button><ul id="poiSearch-ul"></ul><ul id="poiSearch-ul2"></ul><div id="result"></div> <div id="poiSearch-region-select"><div data-toggle="distpicker"><select data-province="---- 选择省 ----"></select><select id="regionName" style="width:110px" data-city="---- 选择市 ----"></select> <div><button id="poiSearch-region-button">确定</button></div></div></div></div></div>'),this.loadHtml()}loadHtml(){var e=this,t=e.config.location;n();var i=[];function n(i){$.ajax({type:"get",async:!1,url:"http://api.map.baidu.com/geocoding/v3/?address="+t+"&output=json&ak="+e.config.AK,dataType:"jsonp",jsonp:"callback",jsonpCallback:"flightHandler",success:function(t){e.viewer.camera.setView({destination:Cesium.Cartesian3.fromDegrees(t.result.location.lng,t.result.location.lat,35e3),orientation:{roll:0}})},error:function(){console.log("查询不到该城市坐标位置")}})}$(document).on("click",(function(e){$("#poiSearch-ul").hide()})),$("#poiSearch-region>a").on("click",(function(){$("#poiSearch-region-select").show()})),$("#poiSearch-input-close").on("click",(function(){$("#poiSearch-input").val(null),$(this).hide(),$("#result").hide()})),$("#poiSearch-span").on("click",(function(){var n=$("#poiSearch-input").val();$("#poiSearch-input-close").show(),$.ajax({type:"get",async:!1,url:"http://api.map.baidu.com/place/v2/suggestion?query="+n+"&region="+t+"&city_limit=true&output=json&ak="+e.config.AK,dataType:"jsonp",jsonp:"callback",jsonpCallback:"flightHandler",success:function(t){var n="",r=t.result.length;!function(t){for(let t=0;t<i.length;t++)e.viewer.entities.removeById(i[t]);i=[];for(let n=0;n<t.result.length;n++)""!=t.result[n].uid&&(i.push(t.result[n].uid),e.viewer.entities.add({name:t.result[n].name,code:t.result[n].uid,id:t.result[n].uid,position:Cesium.Cartesian3.fromDegrees(t.result[n].location.lng,t.result[n].location.lat),label:{text:t.result[n].name,font:"12px",fillColor:Cesium.Color.RED,style:Cesium.LabelStyle.FILL,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-15)},billboard:{image:"./location.png",width:24,height:24}}));e.viewer.zoomTo(e.viewer.entities)}(t);for(let e=0;e<t.result.length;e++)""!=t.result[e].uid?(n+="<li cid="+t.result[e].uid+"><div class='result-img'></div>",n+="<div class='result-message'><ul>",n+="<li style='margin-bottom:5px;height: 20px;overflow: hidden;'>名称:"+t.result[e].name+"</li>",n+="<li style='height: 40px;overflow: hidden;'>地址:"+t.result[e].address+"</li></ul></div></li>"):r-=1;$("#result").show(),$("#result").html("<a>共计"+r+"个结果</a>"),$("#result").show(),$("#result").html("<ul>"+n+"</ul>"),$("#result>ul>li").on("click",(function(){var t=$(this).attr("cid");e.viewer.zoomTo(e.viewer.entities.getById(t))}))},error:function(){console.log("查询失败")}})})),$("#poiSearch-region-button").on("click",(function(){t="---- 选择市 ----"==$("#regionName").val()?"武汉":$("#regionName").val(),$("#poiSearch-region>a").text(t),$("#poiSearch-region-select").hide(),n()}))}showInGlobe(e){var t=this;t.tooltip2.cleartooltip(),e.result.forEach((e=>{e.location&&t.tooltip2.add({position:Cesium.Cartesian3.fromDegrees(e.location.lng,e.location.lat),id:e.uid,header:e.name,content:"城市名："+e.tag+"<br/>分类："+e.address})})),window.jwl=t.tooltip2,this.viewer.flyTo(t.tooltip2.dataSource)}}var PI=3.141592653589793,a=6378245,ee=.006693421622965943;function gcj02towgs84(e,t){if(out_of_china(e,t))return[e,t];var i=transformlat(e-105,t-35),n=transformlng(e-105,t-35),r=t/180*PI,o=Math.sin(r);o=1-ee*o*o;var s=Math.sqrt(o);return i=180*i/(a*(1-ee)/(o*s)*PI),[2*e-(e+(n=180*n/(a/s*Math.cos(r)*PI))),2*t-(t+i)]}function transformlat(e,t){var i=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*PI)+20*Math.sin(2*e*PI))/3,i+=2*(20*Math.sin(t*PI)+40*Math.sin(t/3*PI))/3,i+=2*(160*Math.sin(t/12*PI)+320*Math.sin(t*PI/30))/3}function transformlng(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*PI)+20*Math.sin(2*e*PI))/3,i+=2*(20*Math.sin(e*PI)+40*Math.sin(e/3*PI))/3,i+=2*(150*Math.sin(e/12*PI)+300*Math.sin(e/30*PI))/3}function out_of_china(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1}class gaodePoiQuery{constructor(e,t){this.key=e,this.viewer=t,this.tooltip2=new Tooltip({viewer:t,lineheight:20,opacity:1})}queryByCity(e){var t;$.ajax({type:"get",async:!1,url:"https://restapi.amap.com/v3/place/text?keywords="+e.keyword+"&city="+e.city+"&output=json&offset="+e.offset+"&page="+e.page+"&key="+this.key+"&output=JSON",dataType:"json",success:function(e){t=e},error:function(){console.log("查询失败")}}),this.showDataOnMap(t,e)}queryByCurrentWindow(e){var t;$.ajax({type:"get",async:!1,url:"https://restapi.amap.com/v3/place/polygon?keywords="+e.keyword+"&polygon="+e.polygon+"&output=json&offset="+e.offset+"&page="+e.page+"&key="+this.key+"&output=JSON",dataType:"json",success:function(e){t=e},error:function(){console.log("查询失败")}}),this.showDataOnMap(t,e)}showDataOnMap(e,t){var i=this;i.tooltip2.cleartooltip(),e.pois.forEach((e=>{var n,r;t.isMars?(n=Number(e.location.split(",")[0]),r=Number(e.location.split(",")[1])):(n=gcj02towgs84(Number(e.location.split(",")[0]),Number(e.location.split(",")[1]))[0],r=gcj02towgs84(Number(e.location.split(",")[0]),Number(e.location.split(",")[1]))[1]),i.tooltip2.add({position:Cesium.Cartesian3.fromDegrees(n,r),header:e.name,content:"城市名："+e.cityname+"<br/>分类："+e.type})})),this.viewer.flyTo(i.tooltip2.dataSource)}clear(){this.tooltip2.cleartooltip()}guide(e){var t,i;switch(e.type){case"1":i="https://restapi.amap.com/v3/direction/walking?";break;case"2":i="https://restapi.amap.com/v3/direction/driving?";break;case"3":i="https://restapi.amap.com/v3/direction/transit/integrated?";break;default:i="https://restapi.amap.com/v4/direction/bicycling?"}return $.ajax({type:"get",async:!1,url:i+"origin="+e.start+"&destination="+e.end+"&key="+this.key,dataType:"json",success:function(e){t=e},error:function(){console.log("查询失败")}}),t}}var Service={baiduQueryWidget:baiduQueryWidget,gaodePoiQuery:gaodePoiQuery};class sunlight{constructor(e,t){this.viewer=e,this.config=t,this.analysis()}analysis(){var e=null,t=this.viewer,i=this.config,n=i.day,r=new Date(n),o=i.startTime,a=i.stopTime,s=new Date(new Date(r).setHours(Number(o))),l=new Date(new Date(r).setHours(Number(a)));i.play?(t.scene.globe.enableLighting=!0,t.shadows=!0,t.clock.startTime=Cesium.JulianDate.fromDate(s),t.clock.stopTime=Cesium.JulianDate.fromDate(l),t.clock.clockRange=i.clockRange,t.clock.clockStep=i.clockStep,t.clock.multiplier=i.multiplier,t.clock.shouldAnimate=!0,t.clock.currentTime=e||Cesium.JulianDate.fromDate(s)):(e=t.clock.currentTime,t.clock.shouldAnimate=!1)}}class Profile{constructor(e,t){var i=this;this.opts=t,this.viewer=e,this.handler=null,this.positions=[],this.positions_Inter=[],this.poly=null,this.distance=0,this.cartesian=null,this.floatingPoint,this.floatingPointLis=[],this.DistanceArray=[],this.profileItem=[],this.polyline=null,this.PolyLinePrimitive=function(){function e(e){this.options={polyline:{show:!0,positions:[],material:Cesium.Color.CHARTREUSE,width:2,clampToGround:!0}},this.positions=e,this._init()}return e.prototype._init=function(){var e=this;this.options.polyline.positions=new Cesium.CallbackProperty((function(){return e.positions}),!1),i.polyline=i.viewer.entities.add(this.options)},e}();var n=document.createElement("div");n.setAttribute("class","roamWidget_tooltip");var r=document.createElement("div");r.setAttribute("class","roamWidget_tooltip_arrow"),n.appendChild(r);var o=document.createElement("div");o.setAttribute("class","roamWidget_tooltip_inner"),n.appendChild(o),o.innerHTML="单击 开始绘制",this.tooltip=n,this.tooltipInner=o}initProfile(e){var t=this;this.handler=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas),t.tooltip.style.left="-100000px",t.tooltip.style.top="-100000px",document.getElementsByTagName("body")[0].appendChild(t.tooltip),t.viewer.scene.canvas.style.cursor="crosshair",t.handler.setInputAction((function(e){var i=t.viewer.camera.getPickRay(e.endPosition);t.cartesian=t.viewer.scene.globe.pick(i,t.viewer.scene),t.positions.length>=2&&(Cesium.defined(t.poly)?(t.positions.pop(),t.positions.push(t.cartesian)):t.poly=new t.PolyLinePrimitive(t.positions)),t.tooltip.style.left=e.endPosition.x+20+"px",t.tooltip.style.top=e.endPosition.y-10+"px"}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),t.handler.setInputAction((function(e){var i=t.viewer.camera.getPickRay(e.position);t.cartesian=t.viewer.scene.globe.pick(i,t.viewer.scene),0==t.positions.length&&t.positions.push(t.cartesian.clone()),t.positions.push(t.cartesian),t.poly?(t.interPoints(t.poly.positions),t.distance=t.getSpaceDistance(t.positions_Inter)):t.distance=t.getSpaceDistance(t.positions);var n=t.distance+"米";t.DistanceArray.push(t.distance),t.floatingPoint=t.viewer.entities.add({position:t.positions[t.positions.length-1],point:{pixelSize:5,color:Cesium.Color.RED,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.NONE},label:{text:n,font:"18px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(20,-20),disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:Cesium.HeightReference.NONE}}),t.floatingPointLis.push(t.floatingPoint),t.tooltipInner.innerHTML="单击增加点，右键结束"}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.setInputAction((function(i){document.getElementsByTagName("body")[0].removeChild(t.tooltip),t.viewer.scene.canvas.style.cursor="",t.handler.destroy(),t.positions.pop(),e(t.profileItem)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}clear(){Cesium.defined(this.polyline)&&this.viewer.entities.remove(this.polyline),this.floatingPointLis.length>0&&this.floatingPointLis.forEach((e=>{this.viewer.entities.remove(e)})),this.handler&&!this.handler.isDestroyed()&&(this.handler=this.handler&&this.handler.destroy()),this.handler=null,this.positions=[],this.positions_Inter=[],this.poly=null,this.distance=0,this.cartesian=null,this.floatingPoint=null,this.floatingPointLis=[],this.DistanceArray=[],this.profileItem=[],this.polyline=null}getSpaceDistance(e){this.profileItem=[{point:cartesian3ToDegrees(e[0]),distance:0}];for(var t=0,i=0;i<e.length-1;i++){var n=Cesium.Cartographic.fromCartesian(e[i]),r=Cesium.Cartographic.fromCartesian(e[i+1]),o=new Cesium.EllipsoidGeodesic;o.setEndPoints(n,r);var a=o.surfaceDistance;t+=a=Math.sqrt(Math.pow(a,2)+Math.pow(r.height-n.height,2));var s={point:cartesian3ToDegrees(e[i+1]),distance:t};this.profileItem.push(s)}return t.toFixed(2)}interPoints(e){var t=this,i=[],n=[];for(let t=0;t<e.length-1;t++){const n=e[t];var r=Cesium.Cartographic.fromCartesian(n);i.push(r)}for(let e=0;e<i.length;e++){const t=i[e],r=i[e+1];if(r){var o=1e7*Math.abs(t.longitude-r.longitude),a=1e7*Math.abs(t.latitude-r.latitude);o>a&&(a=o);var s=parseInt(a/2),l=100;this.opts&&this.opts.sampling&&(l=this.opts.sampling),s>l&&(s=l),s<2&&(s=2);for(var u=0;u<s;u++)n.push(new Cesium.Cartographic(Cesium.Math.lerp(t.longitude,r.longitude,u/(s-1)),Cesium.Math.lerp(t.latitude,r.latitude,u/(s-1))));n.pop()}else n.push(t)}t.positions_Inter=[];for(var c=0;c<n.length;c++){var h=n[c],g=t.viewer.scene.globe.getHeight(h),d=Cesium.Cartesian3.fromDegrees(h.longitude/Math.PI*180,h.latitude/Math.PI*180,g);t.positions_Inter.push(d)}}}function cartesian3ToDegrees(e){var t=Cesium.Cartographic.fromCartesian(e),i=Cesium.Math.toDegrees(t.latitude);return[Cesium.Math.toDegrees(t.longitude),i,t.height]}class MeasureVolume{constructor(e,t){var i=this;this.viewer=e,this.optS=t||{},this.handler=null,this.polygon=null,this.wall=null,this.initHeight=0,this.minHeight=0,this.maxHeight=0,this.volumn=0,this.label=null,this.cartesian=null,this.poly=null,this.area=null,this.cellsize=null,this.centroid=null,this.planeHeight=0,this.positions=[],this.Cartesian2Array=[],this.floatingPointLis=[],e.scene.globe.depthTestAgainstTerrain=!0,this.data=[],this.PolygonPrimitive=function(){function e(e){this.options={name:"多边形",polygon:{show:!0,perPositionHeight:!0,material:Cesium.Color.CHARTREUSE.withAlpha(.5)}},this.hierarchy=e,this._init()}return e.prototype._init=function(){var e=this;this.options.polygon.hierarchy=new Cesium.CallbackProperty((function(){return new Cesium.PolygonHierarchy(e.hierarchy)}),!1),i.polygon=i.viewer.entities.add(this.options)},e}();var n=document.createElement("div");n.setAttribute("class","roamWidget_tooltip");var r=document.createElement("div");r.setAttribute("class","roamWidget_tooltip_arrow"),n.appendChild(r);var o=document.createElement("div");o.setAttribute("class","roamWidget_tooltip_inner"),n.appendChild(o),o.innerHTML="单击 开始绘制",this.tooltip=n,this.tooltipInner=o}initMeasureVolume(e){var t=this;t.handler=new Cesium.ScreenSpaceEventHandler(t.viewer.scene._imageryLayerCollection),t.tooltip.style.left="-100000px",t.tooltip.style.top="-100000px",document.getElementsByTagName("body")[0].appendChild(t.tooltip),t.viewer.scene.canvas.style.cursor="crosshair",t.handler.setInputAction((function(e){var i=t.viewer.camera.getPickRay(e.endPosition);t.cartesian=t.viewer.scene.globe.pick(i,t.viewer.scene),t.positions.length>=2&&(Cesium.defined(t.poly)?null!=t.cartesian&&(t.positions.pop(),t.cartesian.y+=1+Math.random(),t.positions.push(t.cartesian)):t.poly=new t.PolygonPrimitive(t.positions)),t.tooltip.style.left=e.endPosition.x+20+"px",t.tooltip.style.top=e.endPosition.y-10+"px"}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),t.handler.setInputAction((function(e){var i=t.viewer.camera.getPickRay(e.position);t.cartesian=t.viewer.scene.globe.pick(i,t.viewer.scene),0==t.positions.length&&t.positions.push(t.cartesian.clone()),t.positions.push(t.cartesian),t.tooltipInner.innerHTML="单击增加点，右键结束"}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.setInputAction((function(i){t.viewer.entities.remove(t.polygon),document.getElementsByTagName("body")[0].removeChild(t.tooltip),t.viewer.scene.canvas.style.cursor="",t.handler.destroy(),t.positions.pop();var n=t.viewer.scene.globe.ellipsoid;t.positions.forEach((e=>{var i=n.cartesianToCartographic(e),r=Cesium.Math.toDegrees(i.latitude),o=Cesium.Math.toDegrees(i.longitude);t.Cartesian2Array.push([o,r])})),t.Cartesian2Array.push(t.Cartesian2Array[0]);let r=turf.polygon([t.Cartesian2Array]);t.cellsize=Math.sqrt(turf.area(r)/1e4);let o=turf.envelope(r);t.area=turf.area(r),t.centroid=turf.centroid(r);let a=turf.bbox(o),s=turf.pointGrid(a,t.cellsize,{units:"meters"}),l=[],u=turf.pointsWithinPolygon(s,r).features;for(let e=0;e<u.length;e++)l.push({lon:u[e].geometry.coordinates[0],lat:u[e].geometry.coordinates[1]});TerrainToolCopy.LonlatPointsTerrainData(t.viewer.terrainProvider,l,t.optS.terrainLevel,(i=>{t.getVolumn(i),e({planeHeight:t.minHeight,wallMinHeight:t.minHeight,wallMaxHeight:t.maxHeight})}))}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}getVolumn(e){var t=this;t.data=e;let i=[];var n=t.viewer.scene.globe.ellipsoid;t.positions.forEach((e=>{var r=n.cartesianToCartographic(e);let o=t.viewer.scene.globe.getHeight(r);i.push(o),t.floatingPoint=t.viewer.entities.add({position:e,label:{text:"海拔:"+o.toFixed(2)+"米",font:"19px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,pixelOffset:new Cesium.Cartesian2(0,-20)}}),t.floatingPointLis.push(t.floatingPoint)})),t.minHeight=findMinHeight(i),t.initHeight=t.planeHeight=t.minHeight,t.maxHeight=findMaxHeight(i),t.volumn=0;for(let i=0;i<e.length;i++)t.volumn+=(e[i].height-t.minHeight)*t.cellsize*t.cellsize;let r=[],o=[],a=[];t.Cartesian2Array.forEach((e=>{e.forEach(((e,t)=>{r.push(e),1==t&&r.push(0)})),o.push(t.minHeight),a.push(t.maxHeight)})),t.wall=t.viewer.entities.add({wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(r),minimumHeights:o,maximumHeights:a,outline:!0,outlineColor:Cesium.Color.WHITE.withAlpha(.7),material:Cesium.Color.CYAN.withAlpha(.7)}}),t.polygon=t.viewer.entities.add({polygon:{show:!0,hierarchy:new Cesium.PolygonHierarchy(Cesium.Cartesian3.fromDegreesArrayHeights(r)),height:t.minHeight,material:Cesium.Color.CHARTREUSE.withAlpha(.5)}});let s=0,l=0;s=t.volumn/1e4>.01?(t.volumn/1e4).toFixed(2)+"万立方米":t.volumn.toFixed(2)+"立方米",l=t.area/1e4>.01?(t.area/1e4).toFixed(2)+"万平方米":t.area.toFixed(2)+"平方米",t.label=t.viewer.entities.add({name:"飞机",position:Cesium.Cartesian3.fromDegrees(t.centroid.geometry.coordinates[0],t.centroid.geometry.coordinates[1],t.maxHeight),label:{text:"挖方体积："+s+"\n横切面积："+l,font:"18px sans-serif",showBackground:!0,fillColor:Cesium.Color.WHITE,style:Cesium.LabelStyle.FILL_AND_OUTLINE,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,-80)}})}setParameters(e,t){if(this.planeHeight=null==e.planeHeight?this.planeHeight:e.planeHeight,this.minHeight=null==e.wallMinHeight?this.minHeight:e.wallMinHeight,this.maxHeight=null==e.wallMaxHeight?this.maxHeight:e.wallMaxHeight,this.planeHeight<this.minHeight&&(this.minHeight=this.planeHeight),this.planeHeight>this.maxHeight&&(this.maxHeight=this.planeHeight),Cesium.defined(this.polygon)&&this.polygon.polygon.height.setValue(this.planeHeight),Cesium.defined(this.wall)){let e=[];for(let t=0;t<this.wall.wall.minimumHeights.getValue().length;t++)e.push(this.minHeight);this.wall.wall.minimumHeights.setValue(e);let t=[];for(let e=0;e<this.wall.wall.maximumHeights.getValue().length;e++)t.push(this.maxHeight);this.wall.wall.maximumHeights.setValue(t)}this.calculateBulk(),t({planeHeight:this.planeHeight,wallMinHeight:this.minHeight,wallMaxHeight:this.maxHeight})}calculateBulk(){let e=this.area*(this.planeHeight-this.minHeight),t=0;this.volumn=0;for(let e=0;e<this.data.length;e++)this.volumn+=(this.data[e].height-this.minHeight)*this.cellsize*this.cellsize,this.data[e].height>this.planeHeight&&(t+=(this.data[e].height-this.planeHeight)*this.cellsize*this.cellsize);let i=0;this.initHeight<=this.planeHeight&&(i=e-(this.volumn-t)),i>0?(i=i/1e4>.01?(i/1e4).toFixed(2)+"万立方米":i.toFixed(2)+"立方米",i="填方体积："+i+"\n"):i="",t>0?(t=t/1e4>.01?(t/1e4).toFixed(2)+"万立方米":t.toFixed(2)+"立方米",t="挖方体积："+t+"\n"):t="";let n=this.area;n=n/1e4>.01?(n/1e4).toFixed(2)+"万平方米":n.toFixed(2)+"平方米",this.label.label.text.setValue(i+t+"横切面积："+n)}clear(){this.floatingPointLis.length>0&&this.floatingPointLis.forEach((e=>{this.viewer.entities.remove(e)})),Cesium.defined(this.wall)&&this.viewer.entities.remove(this.wall),Cesium.defined(this.polygon)&&this.viewer.entities.remove(this.polygon),Cesium.defined(this.label)&&this.viewer.entities.remove(this.label)}}function findMinHeight(e){let t=5e6;for(let i=0;i<e.length;i++){let n=e[i];n<t&&(t=n)}return t}function findMaxHeight(e){let t=0;for(let i=0;i<e.length;i++){let n=e[i];n>t&&(t=n)}return t}var TerrainToolCopy=function(){function e(){}return e.LonlatPointsTerrainData=function(e,t,i=13,n){for(var r=[],o=0;o<t.length;o++)r.push(Cesium.Cartographic.fromDegrees(t[o].lon,t[o].lat));var a=Cesium.sampleTerrain(e,i,r);Cesium.when(a,(function(e){n(e)}))},e.CartographicPointsTerrainData=function(e,t,i){if(t.length&&t.length>0){var n=Cesium.sampleTerrain(e,terrainLevel,t);Cesium.when(n,(function(e){i(e)}))}},e}();class analyser{constructor(e){this._viewer=e,this.BEYONANALYSER_STATE={PREPARE:0,OPERATING:1,END:2},this.init()}init(){this.handler=new Cesium.ScreenSpaceEventHandler(this._viewer.scene.canvas)}showTip(e,t,i,n,r){if(e.show=t,t&&(i&&(e.position=i),n&&(e.label.text=n),r))for(let t in r)e.key&&(e.key=r[t])}getIntersectObj(e,t,i=[],n=!1){var r=this._viewer,o=Cesium.Cartesian3.normalize(Cesium.Cartesian3.subtract(t,e,new Cesium.Cartesian3),new Cesium.Cartesian3),a=new Cesium.Ray(e,o),s=[];if(n)s=r.scene.drillPickFromRay(a,10,i);else{var l=r.scene.pickFromRay(a,i);Cesium.defined(l)&&(s=[l])}return s}}class viewshed extends analyser{constructor(e,t){super(e),this.viewer=e,this.viewPosition=t.viewPosition,this.viewPositionEnd=t.viewPositionEnd,this.viewDistance=this.viewPositionEnd?Cesium.Cartesian3.distance(this.viewPosition,this.viewPositionEnd):t.viewDistance||100,this.viewHeading=this.viewPositionEnd?getHeading$2(this.viewPosition,this.viewPositionEnd):t.viewHeading||0,this.viewPitch=this.viewPositionEnd?getPitch$2(this.viewPosition,this.viewPositionEnd):t.viewPitch||0,this.horizontalViewAngle=t.horizontalViewAngle||90,this.verticalViewAngle=t.verticalViewAngle||60,this.visibleAreaColor=t.visibleAreaColor||Cesium.Color.GREEN,this.invisibleAreaColor=t.invisibleAreaColor||Cesium.Color.RED,this.enabled="boolean"!=typeof t.enabled||t.enabled,this.softShadows="boolean"!=typeof t.softShadows||t.softShadows,this.size=t.size||2048,this.options=t,this.id=Cesium.createGuid(),this._resultTip=this.viewer.entities.add({id:this.id,label:{fillColor:Cesium.Color.YELLOW,showBackground:!0,font:"14px monospace",horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-10)}}),this.posArray=[],this._markers=[],this.state=this.BEYONANALYSER_STATE.PREPARE,this.action()}action(){let e=this;var t,i=this.viewer.scene.globe.ellipsoid;e.handler.setInputAction((function(t){var n=latlng$1.getCurrentMousePosition(e.viewer.scene,t.position);if(0==e._markers.length){var r=Cesium.Cartographic.fromCartesian(n);a=e.options.qdOffset?r.height+e.options.qdOffset:r.height+1;var o=Cesium.Cartographic.fromDegrees(r.longitude/Math.PI*180,r.latitude/Math.PI*180,a);n=i.cartographicToCartesian(o)}else if(1==e._markers.length){var a;r=Cesium.Cartographic.fromCartesian(n);a=e.options.zdOffset?r.height+e.options.qdOffset:r.height+1;o=Cesium.Cartographic.fromDegrees(r.longitude/Math.PI*180,r.latitude/Math.PI*180,a);n=i.cartographicToCartesian(o)}if(n)if(e.posArray.push(n),0==e._markers.length){var s=e.viewer.entities.add({position:n,ellipsoid:{radii:new Cesium.Cartesian3(1,1,1),material:Cesium.Color.BLUE},label:{text:"视线起点",fillColor:Cesium.Color.YELLOW,pixelOffset:{x:0,y:-20},scale:.5}});e._markers.push(s),e.state=e.BEYONANALYSER_STATE.OPERATING}else if(1==e._markers.length){var l=e.viewer.entities.add({position:n,ellipsoid:{radii:new Cesium.Cartesian3(1,1,1),material:Cesium.Color.RED},label:{text:"视线终点",fillColor:Cesium.Color.YELLOW,pixelOffset:{x:0,y:-20},scale:.5}});e._markers.push(l),e.viewPosition=e.posArray[0],e.viewPositionEnd=n,e.viewDistance=e.viewPositionEnd?Cesium.Cartesian3.distance(e.viewPosition,e.viewPositionEnd):e.options.viewDistance||100,e.viewHeading=e.viewPositionEnd?getHeading$2(e.viewPosition,e.viewPositionEnd):e.options.viewHeading||0,e.viewPitch=e.viewPositionEnd?getPitch$2(e.viewPosition,e.viewPositionEnd):e.options.viewPitch||0,e.state=e.BEYONANALYSER_STATE.END,e.handler.destroy(),e.handler=null,e.remove(),e.update()}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),e.handler.setInputAction((function(i){var n=e.viewer.scene.pickPosition(i.endPosition);e.state===e.BEYONANALYSER_STATE.PREPARE?(t="点击设定起点",e.showTip(e._resultTip,!0,n,t)):e.state===e.BEYONANALYSER_STATE.OPERATING&&(t="点击设定终点",e.showTip(e._resultTip,!0,n,t))}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}remove(){if(0==this._markers.length)return!1;for(let t=0;t<this._markers.length;t++){var e=this._markers[t];this.viewer.entities.remove(e)}this._markers.length=0,this.viewer.entities.remove(this._resultTip),this._resultTip=void 0}add(){this.createLightCamera(),this.createShadowMap(),this.createPostStage(),this.drawFrustumOutline(),this.drawSketch()}update(){this.clear(),this.add()}clear(){this.sketch&&(this.viewer.entities.removeById(this.sketch.id),this.sketch=null),this.frustumOutline&&(this.frustumOutline.destroy(),this.frustumOutline=null),this.postStage&&(this.viewer.scene.postProcessStages.remove(this.postStage),this.postStage=null)}createLightCamera(){this.lightCamera=new Cesium.Camera(this.viewer.scene),this.lightCamera.position=this.viewPosition,this.lightCamera.frustum.near=.001*this.viewDistance,this.lightCamera.frustum.far=this.viewDistance;const e=Cesium.Math.toRadians(this.horizontalViewAngle),t=Cesium.Math.toRadians(this.verticalViewAngle),i=this.viewDistance*Math.tan(e/2)*2/(this.viewDistance*Math.tan(t/2)*2);this.lightCamera.frustum.aspectRatio=i,this.lightCamera.frustum.fov=e>t?e:t,this.lightCamera.setView({destination:this.viewPosition,orientation:{heading:Cesium.Math.toRadians(this.viewHeading||0),pitch:Cesium.Math.toRadians(this.viewPitch||0),roll:0}})}createShadowMap(){this.shadowMap=new Cesium.ShadowMap({context:this.viewer.scene.context,lightCamera:this.lightCamera,enabled:this.enabled,isPointLight:!0,pointLightRadius:this.viewDistance,cascadesEnabled:!1,size:this.size,softShadows:this.softShadows,normalOffset:!1,fromLightSource:!1}),this.viewer.scene.shadowMap=this.shadowMap}createPostStage(){const e=new Cesium.PostProcessStage({fragmentShader:"\n        #define USE_CUBE_MAP_SHADOW true\n        uniform sampler2D colorTexture;\n        uniform sampler2D depthTexture;\n        varying vec2 v_textureCoordinates;\n        uniform mat4 camera_projection_matrix;\n        uniform mat4 camera_view_matrix;\n        uniform samplerCube shadowMap_textureCube;\n        uniform mat4 shadowMap_matrix;\n        uniform vec4 shadowMap_lightPositionEC;\n        uniform vec4 shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness;\n        uniform vec4 shadowMap_texelSizeDepthBiasAndNormalShadingSmooth;\n        uniform float helsing_viewDistance; \n        uniform vec4 helsing_visibleAreaColor;\n        uniform vec4 helsing_invisibleAreaColor;\n        struct zx_shadowParameters\n        {\n            vec3 texCoords;\n            float depthBias;\n            float depth;\n            float nDotL;\n            vec2 texelStepSize;\n            float normalShadingSmooth;\n            float darkness;\n        };\n        float czm_shadowVisibility(samplerCube shadowMap, zx_shadowParameters shadowParameters)\n        {\n            float depthBias = shadowParameters.depthBias;\n            float depth = shadowParameters.depth;\n            float nDotL = shadowParameters.nDotL;\n            float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n            float darkness = shadowParameters.darkness;\n            vec3 uvw = shadowParameters.texCoords;\n            depth -= depthBias;\n            float visibility = czm_shadowDepthCompare(shadowMap, uvw, depth);\n            return czm_private_shadowVisibility(visibility, nDotL, normalShadingSmooth, darkness);\n        }\n        vec4 getPositionEC(){\n            return czm_windowToEyeCoordinates(gl_FragCoord);\n        }\n        vec3 getNormalEC(){\n            return vec3(1.);\n        }\n        vec4 toEye(in vec2 uv,in float depth){\n            vec2 xy=vec2((uv.x*2.-1.),(uv.y*2.-1.));\n            vec4 posInCamera=czm_inverseProjection*vec4(xy,depth,1.);\n            posInCamera=posInCamera/posInCamera.w;\n            return posInCamera;\n        }\n        vec3 pointProjectOnPlane(in vec3 planeNormal,in vec3 planeOrigin,in vec3 point){\n            vec3 v01=point-planeOrigin;\n            float d=dot(planeNormal,v01);\n            return(point-planeNormal*d);\n        }\n        float getDepth(in vec4 depth){\n            float z_window=czm_unpackDepth(depth);\n            z_window=czm_reverseLogDepth(z_window);\n            float n_range=czm_depthRange.near;\n            float f_range=czm_depthRange.far;\n            return(2.*z_window-n_range-f_range)/(f_range-n_range);\n        }\n        float shadow(in vec4 positionEC){\n            vec3 normalEC=getNormalEC();\n            zx_shadowParameters shadowParameters;\n            shadowParameters.texelStepSize=shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.xy;\n            shadowParameters.depthBias=shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.z;\n            shadowParameters.normalShadingSmooth=shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.w;\n            shadowParameters.darkness=shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness.w;\n            vec3 directionEC=positionEC.xyz-shadowMap_lightPositionEC.xyz;\n            float distance=length(directionEC);\n            directionEC=normalize(directionEC);\n            float radius=shadowMap_lightPositionEC.w;\n            if(distance>radius)\n            {\n                return 2.0;\n            }\n            vec3 directionWC=czm_inverseViewRotation*directionEC;\n            shadowParameters.depth=distance/radius-0.0003;\n            shadowParameters.nDotL=clamp(dot(normalEC,-directionEC),0.,1.);\n            shadowParameters.texCoords=directionWC;\n            float visibility=czm_shadowVisibility(shadowMap_textureCube,shadowParameters);\n            return visibility;\n        }\n        bool visible(in vec4 result)\n        {\n            result.x/=result.w;\n            result.y/=result.w;\n            result.z/=result.w;\n            return result.x>=-1.&&result.x<=1.\n            &&result.y>=-1.&&result.y<=1.\n            &&result.z>=-1.&&result.z<=1.;\n        }\n        void main(){\n            // 釉色 = 结构二维(颜色纹理, 纹理坐标)\n            gl_FragColor = texture2D(colorTexture, v_textureCoordinates);\n            // 深度 = 获取深度(结构二维(深度纹理, 纹理坐标))\n            float depth = getDepth(texture2D(depthTexture, v_textureCoordinates));\n            // 视角 = (纹理坐标, 深度)\n            vec4 viewPos = toEye(v_textureCoordinates, depth);\n            // 世界坐标\n            vec4 wordPos = czm_inverseView * viewPos;\n            // 虚拟相机中坐标\n            vec4 vcPos = camera_view_matrix * wordPos;\n            float near = .001 * helsing_viewDistance;\n            float dis = length(vcPos.xyz);\n            if(dis > near && dis < helsing_viewDistance){\n                // 透视投影\n                vec4 posInEye = camera_projection_matrix * vcPos;\n                // 可视区颜色\n                // vec4 helsing_visibleAreaColor=vec4(0.,1.,0.,.5);\n                // vec4 helsing_invisibleAreaColor=vec4(1.,0.,0.,.5);\n                if(visible(posInEye)){\n                    float vis = shadow(viewPos);\n                    if(vis > 0.3){\n                        gl_FragColor = mix(gl_FragColor,helsing_visibleAreaColor,.5);\n                    } else{\n                        gl_FragColor = mix(gl_FragColor,helsing_invisibleAreaColor,.5);\n                    }\n                }\n            }\n        }",uniforms:{shadowMap_textureCube:()=>(this.shadowMap.update(Reflect.get(this.viewer.scene,"_frameState")),Reflect.get(this.shadowMap,"_shadowMapTexture")),shadowMap_matrix:()=>(this.shadowMap.update(Reflect.get(this.viewer.scene,"_frameState")),Reflect.get(this.shadowMap,"_shadowMapMatrix")),shadowMap_lightPositionEC:()=>(this.shadowMap.update(Reflect.get(this.viewer.scene,"_frameState")),Reflect.get(this.shadowMap,"_lightPositionEC")),shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness:()=>{this.shadowMap.update(Reflect.get(this.viewer.scene,"_frameState"));const e=this.shadowMap._pointBias;return Cesium.Cartesian4.fromElements(e.normalOffsetScale,this.shadowMap._distance,this.shadowMap.maximumDistance,0,new Cesium.Cartesian4)},shadowMap_texelSizeDepthBiasAndNormalShadingSmooth:()=>{this.shadowMap.update(Reflect.get(this.viewer.scene,"_frameState"));const e=this.shadowMap._pointBias,t=new Cesium.Cartesian2;return t.x=1/this.shadowMap._textureSize.x,t.y=1/this.shadowMap._textureSize.y,Cesium.Cartesian4.fromElements(t.x,t.y,e.depthBias,e.normalShadingSmooth,new Cesium.Cartesian4)},camera_projection_matrix:this.lightCamera.frustum.projectionMatrix,camera_view_matrix:this.lightCamera.viewMatrix,helsing_viewDistance:()=>this.viewDistance,helsing_visibleAreaColor:this.visibleAreaColor,helsing_invisibleAreaColor:this.invisibleAreaColor}});this.postStage=this.viewer.scene.postProcessStages.add(e)}drawFrustumOutline(){const e=new Cesium.Cartesian3,t=new Cesium.Matrix3,i=new Cesium.Quaternion;this.lightCamera.positionWC;const n=this.lightCamera.directionWC,r=this.lightCamera.upWC;let o=this.lightCamera.rightWC;o=Cesium.Cartesian3.negate(o,e);let a=t;Cesium.Matrix3.setColumn(a,0,o,a),Cesium.Matrix3.setColumn(a,1,r,a),Cesium.Matrix3.setColumn(a,2,n,a);let s=Cesium.Quaternion.fromRotationMatrix(a,i),l=new Cesium.GeometryInstance({geometry:new Cesium.FrustumOutlineGeometry({frustum:this.lightCamera.frustum,origin:this.viewPosition,orientation:s}),id:Math.random().toString(36).substr(2),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.YELLOWGREEN),show:new Cesium.ShowGeometryInstanceAttribute(!0)}});this.frustumOutline=this.viewer.scene.primitives.add(new Cesium.Primitive({geometryInstances:[l],appearance:new Cesium.PerInstanceColorAppearance({flat:!0,translucent:!1})}))}drawSketch(){this.sketch=this.viewer.entities.add({name:"sketch",position:this.viewPosition,orientation:Cesium.Transforms.headingPitchRollQuaternion(this.viewPosition,Cesium.HeadingPitchRoll.fromDegrees(this.viewHeading-this.horizontalViewAngle,this.viewPitch,0)),ellipsoid:{radii:new Cesium.Cartesian3(this.viewDistance,this.viewDistance,this.viewDistance),minimumClock:Cesium.Math.toRadians(-this.horizontalViewAngle/2),maximumClock:Cesium.Math.toRadians(this.horizontalViewAngle/2),minimumCone:Cesium.Math.toRadians(this.verticalViewAngle+7.75),maximumCone:Cesium.Math.toRadians(180-this.verticalViewAngle-7.75),fill:!1,outline:!0,subdivisions:256,stackPartitions:64,slicePartitions:64,outlineColor:Cesium.Color.YELLOWGREEN}})}}function getHeading$2(e,t){let i=new Cesium.Cartesian3,n=Cesium.Transforms.eastNorthUpToFixedFrame(e);return Cesium.Matrix4.inverse(n,n),Cesium.Matrix4.multiplyByPoint(n,t,i),Cesium.Cartesian3.normalize(i,i),Cesium.Math.toDegrees(Math.atan2(i.x,i.y))}function getPitch$2(e,t){let i=new Cesium.Cartesian3,n=Cesium.Transforms.eastNorthUpToFixedFrame(e);return Cesium.Matrix4.inverse(n,n),Cesium.Matrix4.multiplyByPoint(n,t,i),Cesium.Cartesian3.normalize(i,i),Cesium.Math.toDegrees(Math.asin(i.z))}class skyline{constructor(e){this.viewer=e}add(){try{viewer.scene.postProcessStages._stages[0].enabled=!0}catch(e){this.show()}}show(){var e=viewer.scene.postProcessStages,t=Cesium.PostProcessStageLibrary.createEdgeDetectionStage(),i=new Cesium.PostProcessStage({name:"czm_skylinetemp",fragmentShader:"uniform sampler2D colorTexture;uniform sampler2D depthTexture;varying vec2 v_textureCoordinates;void main(void){float depth = czm_readDepth(depthTexture, v_textureCoordinates);vec4 color = texture2D(colorTexture, v_textureCoordinates);if(depth<1.0 - 0.000001){gl_FragColor = color;}else{gl_FragColor = vec4(1.0,0.0,0.0,1.0);}}"}),n=new Cesium.PostProcessStage({name:"czm_skylinetemp1",fragmentShader:"uniform sampler2D colorTexture;uniform sampler2D redTexture;uniform sampler2D silhouetteTexture;varying vec2 v_textureCoordinates;void main(void){vec4 redcolor=texture2D(redTexture, v_textureCoordinates);vec4 silhouetteColor = texture2D(silhouetteTexture, v_textureCoordinates);vec4 color = texture2D(colorTexture, v_textureCoordinates);if(redcolor.r == 1.0){gl_FragColor = mix(color, vec4(1.0,0.0,0.0,1.0), silhouetteColor.a);}else{gl_FragColor = color;}}",uniforms:{redTexture:i.name,silhouetteTexture:t.name}});i=new Cesium.PostProcessStageComposite({name:"czm_skyline",stages:[t,i,n],inputPreviousStageTexture:!1});e.add(i)}remove(){viewer.scene.postProcessStages._stages[0].enabled=!1}}window.turf=turf$1;var _BillboardControl=BillboardControl,_LabelControl=LabelControl,_EllipseControl=EllipseControl,_PolylineControl=PolylineControl,_zhijiantouControl=zhijiantouControl,_qianjijiantouControl=qianjijiantouControl,_gongjijiantouControl=gongjijiantouControl,_PolylineVolumeControl=PolylineVolumeControl,_PolygonControl=PolygonControl,_EllipsoidControl=EllipsoidControl,_PointControl=PointControl,_RectangleControl=RectangleControl,_ModelControl=ModelControl,_WallControl=WallControl;class bufferAnalysis{constructor(e){this.viewer=e,this.lastdataSource=[],this.lastgeojson=null,this.control={billboard:_BillboardControl,label:_LabelControl,ellipse:_EllipseControl,polyline:_PolylineControl,zhijiantou:_zhijiantouControl,qianjijiantou:_qianjijiantouControl,gongjijiantou:_gongjijiantouControl,polylineVolume:_PolylineVolumeControl,polygon:_PolygonControl,ellipsoid:_EllipsoidControl,wall:_WallControl,point:_PointControl,rectangle:_RectangleControl,model:_ModelControl}}analysis(e,t){var i,n=this;try{var r=n.control[e.attribute.type].toGeoJSON(e);r.properties={},i=buffer$1(r,t,{units:"kilometers"}),n.lastgeojson=r}catch(e){}i&&Cesium.GeoJsonDataSource.load(i,{stroke:new Cesium.Color.fromCssColorString("#ffffff").withAlpha(.7),strokeWidth:2,fill:new Cesium.Color.fromCssColorString("#ff0000").withAlpha(.4),clampToGround:!0}).then((function(e){n.lastdataSource.push(e),n.viewer.dataSources.add(e)})).otherwise((function(e){console.log("error")}))}removeAll(){if(this.lastdataSource.length>0){for(var e=0;e<this.lastdataSource.length;e++)viewer.dataSources.remove(this.lastdataSource[e]);this.lastdataSource=[]}}}class analysisBuffer{constructor(e){this.viewer=e.viewer,this.units=e.units||"kilometers"}initPointBuffer(e,t){var i=this.units;"meter"==this.units&&(i="kilometers",t/=1e3);let n=turf.point(e),r=turf.buffer(n,t,{units:i}).geometry.coordinates[0],o=this.pointsToDegreesArray(r);this.addBufferPolyogn(Cesium.Cartesian3.fromDegreesArray(o))}initPolylineBuffer(e,t){var i=this.units;"meter"==this.units&&(i="kilometers",t/=1e3);let n=turf.lineString(e);e=turf.buffer(n,t,{units:i}).geometry.coordinates[0];let r=this.pointsToDegreesArray(e);this.addBufferPolyogn(Cesium.Cartesian3.fromDegreesArray(r))}initPolygonBuffer(e,t){var i=this.units;"meter"==this.units&&(i="kilometers",t/=1e3);let n=turf.polygon([e]);e=turf.buffer(n,t,{units:i}).geometry.coordinates[0];let r=this.pointsToDegreesArray(e);this.addBufferPolyogn(Cesium.Cartesian3.fromDegreesArray(r))}addBufferPolyogn(e){this.viewer.entities.add({polygon:{hierarchy:new Cesium.PolygonHierarchy(e),material:Cesium.Color.RED.withAlpha(.6),classificationType:Cesium.ClassificationType.BOTH}})}pointsToDegreesArray(e){let t=[];return e.map((e=>{t.push(e[0]),t.push(e[1])})),t}}class Popup{constructor(e){this.options=e,this.viewer=e.viewer,this.className=e.className,this.html=e.html||null,this.id=0,this.ctnList={}}add(e){var t=this,i=e.geometry,n="popup_"+(e.id||(65536*(1+Math.random())|0).toString(16)+t.id++),r=document.createElement("div");r.className="bx-popup-ctn"+(this.className?" "+this.className:" bx-popup-ctn1"),r.id=n,document.getElementById(t.viewer.container.id).appendChild(r);var o=e.content;return r.innerHTML=t.createHtml(o.header,o.content,e.isclose),t.ctnList[n]=[i,r],t.render(),t.eventListener||(t.eventListener=function(e){t.render()},t.viewer.clock.onTick.addEventListener(t.eventListener)),!1===e.isclose||r.getElementsByClassName("bx-popup-close")&&r.getElementsByClassName("bx-popup-close").length>0&&(r.getElementsByClassName("bx-popup-close")[0].onclick=function(){t.close(r)}),n}render(){var e=this;for(var t in e.ctnList){var i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(e.viewer.scene,e.ctnList[t][0]);i&&i.x&&i.y&&(Math.abs(i.x)>2*window.innerWidth||Math.abs(i.y)>2*window.innerHeight?e.ctnList[t][1].style.display="none":(e.options.offset?(i.x+=e.options.offset.left?e.options.offset.left:0,i.y+=e.options.offset.top?e.options.offset.top:0):(i.x+=e.viewer.container.offsetLeft,i.y+=e.viewer.container.offsetTop),e.ctnList[t][1].style.display="",e.ctnList[t][1].style.left=i.x+"px",e.ctnList[t][1].style.top=i.y+"px"))}}createHtml(e,t,i){return this.html?this.html(e,t):`\n            ${!1===i?"":'<div class="bx-popup-close"><i class="iconfont_RJ icon-guanbi"></i></div>'}\n            <div class="divpoint-wrap">\n            <div class="divpoint-border">\n            <div class="divpoint-center">\n            <div class="bx-popup-header-ctn">\n            ${e}\n            </div>\n            <div class="bx-popup-content-ctn" >\n            <div class="bx-popup-content" >\n            ${t}\n            </div>\n            </div>\n            </div>\n            </div>\n            </div>\n            <div class="directional"></div>\n            `}close(e){e.remove(),delete this.ctnList[e.id],0==Object.keys(this.ctnList).length&&(this.viewer.clock.onTick.removeEventListener(this.eventListener),this.eventListener=null)}closeAll(e){for(var t in this.ctnList)this.ctnList[t][1].remove();this.ctnList={},this.viewer.clock.onTick.removeEventListener(this.eventListener),this.eventListener=null}}class visibility extends analyser{constructor(e,t){super(e),this.opt=t,this.popup=new Popup({viewer:this._viewer,className:"bx-popup-ctn4"}),this.id=Cesium.createGuid(),this._markers=[],this._lines=[],this._pickedObjs=[],this.posArray=[],this._resultTip=this._viewer.entities.add({id:this.id,label:{fillColor:Cesium.Color.YELLOW,showBackground:!0,font:"14px monospace",horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-10)}}),this.state=this.BEYONANALYSER_STATE.PREPARE,this.action()}action(){if(!Cesium.defined(this._viewer))throw new Cesium.DeveloperError("viewer is required.");var e,t=this._viewer.scene.globe.ellipsoid,i=this;i.handler.setInputAction((function(e){var n=latlng$1.getCurrentMousePosition(i._viewer.scene,e.position);if(0==i._markers.length){var r=Cesium.Cartographic.fromCartesian(n);a=i.opt.qdOffset?r.height+i.opt.qdOffset:r.height+1;var o=Cesium.Cartographic.fromDegrees(r.longitude/Math.PI*180,r.latitude/Math.PI*180,a);n=t.cartographicToCartesian(o)}else if(1==i._markers.length){var a;r=Cesium.Cartographic.fromCartesian(n);a=i.opt.zdOffset?r.height+i.opt.zdOffset:r.height+1;o=Cesium.Cartographic.fromDegrees(r.longitude/Math.PI*180,r.latitude/Math.PI*180,a);n=t.cartographicToCartesian(o)}if(i.posArray.push(n),0==i._markers.length){var s=i._viewer.entities.add({position:n,ellipsoid:{radii:new Cesium.Cartesian3(2,2,2),material:Cesium.Color.BLUE},label:{text:"视线起点",fillColor:Cesium.Color.YELLOW,pixelOffset:{x:0,y:-20},scale:.5}});i._markers.push(s),i.state=i.BEYONANALYSER_STATE.OPERATING}else if(1==i._markers.length){var l=i._viewer.entities.add({position:n,ellipsoid:{radii:new Cesium.Cartesian3(2,2,2),material:Cesium.Color.RED}});i._markers.push(l);var u=i.getIntersectObj(i.posArray[0],n,i._markers,!0);if(0==u.length)return alert("没有取到相交点"),i.handler.destroy(),i._viewer.entities.remove(i._resultTip),i.remove(),!1;for(let e=u.length-1;e>=0;e--){const t=u[e];Cesium.defined(t.position)||u.splice(e,1)}if(!u[0])return;if(!Cesium.defined(u[0].position))throw new Cesium.DeveloperError("position is undefined");var c,h=u[0].position,g=Cesium.Cartesian3.distance(h,n)<5,d=[i.posArray[0],u[0].position],p=i._viewer.entities.add({polyline:{positions:d,width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.GREEN)}});if(i._lines.push(p),!g){var m=[u[0].position,n],f=i._viewer.entities.add({polyline:{positions:m,width:10,arcType:Cesium.ArcType.NONE,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.RED)}});i._lines.push(f);var C=Cesium.Cartographic.fromCartesian(m[0]);c={longitude:C.longitude/Math.PI*180,latitude:C.latitude/Math.PI*180,height:C.height}}i.showIntersections(u);var y=i.posArray[0],v=n,A=Cesium.Cartographic.fromCartesian(y),I=Cesium.Cartographic.fromCartesian(v),w={longitude:A.longitude/Math.PI*180,latitude:A.latitude/Math.PI*180,height:A.height},b={longitude:I.longitude/Math.PI*180,latitude:I.latitude/Math.PI*180,height:I.height},E=Math.sqrt(Math.pow(y.x-v.x,2)+Math.pow(y.y-v.y,2)+Math.pow(y.z-v.z,2)),x=Math.abs(b.height-w.height),_=Math.sqrt(Math.pow(E,2)+Math.pow(x,2)),k=g?"是":"否";if(g)P="<p>起点坐标:    ("+w.longitude.toFixed(6)+"°,"+w.latitude.toFixed(6)+"°,"+w.height.toFixed(2)+")</p><p>终点坐标:    ("+b.longitude.toFixed(6)+"°,"+b.latitude.toFixed(6)+"°,"+b.height.toFixed(2)+")</p><p>垂直距离:    "+x.toFixed(2)+"m</p><p>水平距离:    "+E.toFixed(2)+"m</p><p>空间距离:    "+_.toFixed(2)+"m</p><p>是否可视:    "+k+"</p>";else var P="<p>遮挡点坐标:    ("+c.longitude.toFixed(6)+"°,"+c.latitude.toFixed(6)+"°,"+c.height.toFixed(2)+")</p><p>起点坐标:    ("+w.longitude.toFixed(6)+"°,"+w.latitude.toFixed(6)+"°,"+w.height.toFixed(2)+")</p><p>终点坐标:    ("+b.longitude.toFixed(6)+"°,"+b.latitude.toFixed(6)+"°,"+b.height.toFixed(2)+")</p><p>垂直距离:    "+x.toFixed(2)+"m</p><p>水平距离:    "+E.toFixed(2)+"m</p><p>空间距离:    "+_.toFixed(2)+"m</p><p>是否可视:    "+k+"</p>";i.popup.add({geometry:n,content:{content:P},isclose:!1}),i.state=i.BEYONANALYSER_STATE.END,i.handler.destroy(),i.handler=null}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),i.handler.setInputAction((function(t){var n=i._viewer.scene.pickPosition(t.endPosition);i.state===i.BEYONANALYSER_STATE.PREPARE?(e="点击设定起点",i.showTip(i._resultTip,!0,n,e)):i.state===i.BEYONANALYSER_STATE.OPERATING&&(e="点击分析通视情况",i.showTip(i._resultTip,!0,n,e))}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}showIntersections(e){let t=this;for(let o=0;o<e.length;++o){var i=e[o].object;if(i)if(i instanceof Cesium.Cesium3DTileFeature)t._pickedObjs.push(i),i.oldColor=i.color.clone();else if(i.id instanceof Cesium.Entity){var n=i.id;t._pickedObjs.push(n);var r=n.polygon.material.color.getValue();n.polygon.oldColor=r.clone()}t._markers.push(t._viewer.entities.add({position:e[o].position,ellipsoid:{radii:new Cesium.Cartesian3(.8,.8,.8),material:Cesium.Color.RED}}))}}remove(){if(0==this._markers.length)return!1;for(let t=0;t<this._pickedObjs.length;++t){var e=this._pickedObjs[t];e instanceof Cesium.Cesium3DTileFeature?e.color=e.oldColor.clone():e instanceof Cesium.Entity&&(e.polygon.material=e.polygon.oldColor.clone())}this._pickedObjs.length=0;for(let e=0;e<this._markers.length;e++){var t=this._markers[e];this._viewer.entities.remove(t)}this._markers.length=0;for(let e=0;e<this._lines.length;e++){t=this._lines[e];this._viewer.entities.remove(t)}this._lines.length=0,this._viewer.entities.remove(this._resultTip),this._resultTip=void 0,this.popup.closeAll()}}class Entitys{constructor(e){this.entitysAction=e.entities}add(e){return this.entitysAction.add(e)}remove(e){this.entitysAction.remove(e)}removeAll(){this.entitysAction.removeAll()}createEntity(){return new Cesium.Entity}getPoint(){return new Cesium.PointGraphics({color:Cesium.Color.GREEN,pixelSize:5,outlineColor:Cesium.Color.WHITE,outlineWidth:1})}getLine(e,t){return new Cesium.PolylineGraphics({show:!0,positions:e,material:t,width:1})}getLabel(e,t){return new Cesium.LabelGraphics({text:e,font:"14px sans-serif",fillColor:Cesium.Color.GOLD,style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,showBackground:!0,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:null==t?new Cesium.Cartesian2(0,20):t})}getBillboard(e,t,i){return new Cesium.BillboardGraphics({image:null==e?"../img/zb.png":e,width:null==t?35:t,height:null==i?35:i,clampToGround:!0,pixelOffset:new Cesium.Cartesian2(0,-20)})}getPath(){return new Cesium.PathGraphics({resolution:1,material:new Cesium.PolylineGlowMaterialProperty({glowPower:.1,color:Cesium.Color.YELLOW}),width:30})}getModel(e){return new Cesium.ModelGraphics({uri:e.url,scale:6,minimumPixelSize:64})}getEllipse(e){null==e.r||e.r,new Cesium.EllipseGraphics({semiMajorAxis:e.r,semiMinorAxis:e.r,metarial:Cesium.Color.RED.withAlpha(.5),outline:!0})}getEllipsoid(e){let t=null==e.r?1e6:e.r;return new Cesium.EllipsoidGraphics({radii:new Cesium.Cartesian3(t,t,t),maximumCone:Cesium.Math.PI_OVER_TWO,stackPartitions:56,slicePartitions:56,outlineWidth:2,outlineColor:Cesium.Color.YELLOW,material:Cesium.Color.RED.withAlpha(.1),outline:!0})}createPoint(e,t=!1,i=!1,n=!1){let r=this.createEntity();return r.position=e,i&&(r.point=this.getPoint()),n&&(r.billboard=this.getBillboard(n)),t&&(r.label=this.getLabel(t)),this.add(r)}createLine(e,t="",i=Cesium.Color.BLUE){let n=this.createEntity();return n.position=e,n.polyline=this.getLine(e,i),n.oid=t,this.add(n)}getCustomRadar(e,t){return{position:e,orientation:Cesium.Transforms.headingPitchRollQuaternion(e,t),rectangularSensor:new Cesium.RectangularSensorGraphics({radius:38e4,xHalfAngle:Cesium.Math.toRadians(50),yHalfAngle:Cesium.Math.toRadians(50),material:new Cesium.Color(0,1,1,.4),lineColor:new Cesium.Color(0,1,1,1),showScanPlane:!0,scanPlaneColor:new Cesium.Color(0,1,1,1),scanPlaneMode:"vertical",scanPlaneRate:3,showThroughEllipsoid:!1})}}createMsgTip(){return this._resultTip=this.entitysAction.add({id:Cesium.createGuid(),label:{fillColor:Cesium.Color.YELLOW,showBackground:!0,font:"14px monospace",horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-10)}}),this._resultTip}showTip(e,t,i,n,r){if(e.show=t,t&&(i&&(e.position=i),n&&(e.label.text=n),r))for(let t in r)e.key&&(e.key=r[t])}drawPoint(e,t,i,n){e instanceof Array&&(e=Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]?e[2]:0));let r={position:e,point:{pixelSize:t,color:i}};return n&&(r=_.merge(r,{id:n})),this.entitysAction.add(r)}drawLine(e,t,i){return this.entitysAction.add({polyline:{positions:positons,width:2,material:new Cesium.PolylineOutlineMaterialProperty({color:t||Cesium.Color.GREEN,outlineWidth:1,outlineColor:t||Cesium.Color.GREEN}),depthFailMaterial:i?new Cesium.PolylineOutlineMaterialProperty({color:i,outlineWidth:0,outlineColor:i}):void 0}})}}class DrawDynamicTool{constructor(e){this.viewer=e,this.removeObj=[],this.entitys=new Entitys(e),this._resultTip=this.entitys.createMsgTip(),this.handleArr=[]}remove(){if(this.handleArr.length>0){for(let e in this.handleArr)this.handleArr[e].destroy();this.entitys.remove(this._resultTip),this._resultTip=null,this.handleArr=[]}if(0!=this.removeObj.length){for(let e in this.removeObj)this.viewer.entities.remove(this.removeObj[e]);this.removeObj=[]}}removeHandle(){if(this.handleArr.length>0){for(let e in this.handleArr)this.handleArr[e].destroy();this.entitys.remove(this._resultTip),this._resultTip=null,this.handleArr=[]}}drawLineString(e){var t=this,i=function(){function e(e){this.options={polyline:{show:!0,positions:[],material:Cesium.Color.CHARTREUSE,width:5,clampToGround:!0}},this.positions=e,this._init()}return e.prototype._init=function(){var e=this;this.options.polyline.positions=new Cesium.CallbackProperty((function(){return e.positions}),!1),t.removeObj.push(t.viewer.entities.add(this.options))},e}(),n=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas);this._resultTip||(this._resultTip=this.entitys.createMsgTip()),this.handleArr.push(n);var r=[],o=void 0;n.setInputAction((function(e){var i=t.viewer.scene.camera.pickEllipsoid(e.position,t.viewer.scene.globe.ellipsoid);0==r.length&&r.push(i.clone()),r.push(i)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),n.setInputAction((function(e){var n=t.viewer.scene.camera.pickEllipsoid(e.endPosition,t.viewer.scene.globe.ellipsoid);r.length>=2?Cesium.defined(o)?(null!=n&&(r.pop(),n.y+=1+Math.random(),r.push(n)),t.entitys.showTip(t._resultTip,!0,n,"鼠标右键结束,平板长按结束")):o=new i(r):t.entitys.showTip(t._resultTip,!0,n,"点击绘制")}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),n.setInputAction((function(i){t.removeHandle(),e(r)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}drawPolygon(e){var t=this,i=function(){function e(e){this.options={name:"多边形",polygon:{hierarchy:[],perPositionHeight:!0,outline:!1,outlineWidth:10,material:Cesium.Color.fromCssColorString("#F44336").withAlpha(.5),outlineColor:Cesium.Color.CHARTREUSE,clampToGround:!0}},this.hierarchy=e,this._init()}return e.prototype._init=function(){var e=this;this.options.polygon.hierarchy=new Cesium.CallbackProperty((function(){return new Cesium.PolygonHierarchy(e.hierarchy)}),!1),t.removeObj.push(t.viewer.entities.add(this.options))},e}(),n=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas);this._resultTip||(this._resultTip=this.entitys.createMsgTip()),this.handleArr.push(n);var r=[],o=void 0;n.setInputAction((function(e){var i=t.viewer.scene.camera.pickEllipsoid(e.position,t.viewer.scene.globe.ellipsoid);0==r.length&&r.push(i.clone()),r.push(i)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),n.setInputAction((function(e){var n=t.viewer.scene.camera.pickEllipsoid(e.endPosition,t.viewer.scene.globe.ellipsoid);r.length>=2?Cesium.defined(o)?(null!=n&&(r.pop(),n.y+=1+Math.random(),r.push(n)),t.entitys.showTip(t._resultTip,!0,n,"鼠标右键结束,平板长按结束")):o=new i(r):t.entitys.showTip(t._resultTip,!0,n,"点击绘制")}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),n.setInputAction((function(i){t.removeHandle(),e(r)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}circleDraw(e){let t=this;var i;let n,r,o;t.circle={points:[],rect:null,entity:null,r:1};var a=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas);this._resultTip||(this._resultTip=this.entitys.createMsgTip()),this.handleArr.push(a),a.setInputAction((function(a){if(i=t.getPointFromWindowPoint(a.position)){function c(){if(0==t.circle.points.length)return;const e=Cesium.Math.toDegrees(t.circle.points[0].longitude),i=Cesium.Math.toDegrees(t.circle.points[0].latitude),n=Cesium.Math.toDegrees(t.circle.points[1].longitude),r=Cesium.Math.toDegrees(t.circle.points[1].latitude),o=t.getFlatternDistance(i,e,r,n);return o||1}if(0==t.circle.points.length){if(a.position,n=Cesium.Ellipsoid.WGS84.cartesianToCartographic(i),!i)return!1;t.circle.points.push(t.viewer.scene.globe.ellipsoid.cartesianToCartographic(i)),t.circle.points.push(t.viewer.scene.globe.ellipsoid.cartesianToCartographic(i)),r=Cesium.Math.toDegrees(n.longitude),o=Cesium.Math.toDegrees(n.latitude),t.circle.entity=t.viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(r,o),ellipse:{semiMinorAxis:new Cesium.CallbackProperty(c,!1),semiMajorAxis:new Cesium.CallbackProperty(c,!1),outline:!1,outlineWidth:10,outlineColor:Cesium.Color.CHARTREUSE,material:Cesium.Color.fromCssColorString("#F44336").withAlpha(.5),height:1}}),t.removeObj.push(t.circle.entity)}else{var s=new Cesium.CircleOutlineGeometry({center:Cesium.Cartesian3.fromDegrees(r,o),radius:c(),granularity:Math.PI/2}),l=Cesium.CircleOutlineGeometry.createGeometry(s).attributes.position.values,u=[].slice.call(l);t.removeHandle(),t.removeObj.push(t.entitys.createPoint(Cesium.Cartesian3.fromDegrees(r,o),"半径 :"+parseFloat(c()).toFixed(2))),e(u,[r,o],c())}}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),a.setInputAction((function(e){var i=t.getPointFromWindowPoint(e.endPosition);if(0==t.circle.points.length)return t.entitys.showTip(t._resultTip,!0,i,"点击地图"),!1;t.entitys.showTip(t._resultTip,!0,i,"再次点击结束"),i&&(t.circle.points.pop(),t.circle.points.push(t.viewer.scene.globe.ellipsoid.cartesianToCartographic(i)))}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}drawRect(e){let t=this,i=[];var n;t.shape={points:[],rect:null,entity:null};var r=new Cesium.ScreenSpaceEventHandler(t.viewer.scene.canvas);this._resultTip||this._resultTip||(this._resultTip=this.entitys.createMsgTip()),this.handleArr.push(r),r.setInputAction((function(r){if(n=t.getPointFromWindowPoint(r.position))if(0==t.shape.points.length){i.push(n);let e=t.viewer.scene.globe.ellipsoid.cartesianToCartographic(n);t.shape.points.push(e),t.shape.rect=Cesium.Rectangle.fromCartographicArray(t.shape.points),t.shape.rect.east+=1e-6,t.shape.rect.north+=1e-6,t.shape.entity=t.viewer.entities.add({rectangle:{coordinates:t.shape.rect,outline:!1,outlineWidth:10,outlineColor:Cesium.Color.CHARTREUSE,material:Cesium.Color.fromCssColorString("#F44336").withAlpha(.5),height:10}}),t.bufferEntity=t.shape.entity,t.removeObj.push(t.shape.entity)}else t.removeHandle(),e(i)}),Cesium.ScreenSpaceEventType.LEFT_CLICK),r.setInputAction((function(e){if(!e.endPosition)return!1;let n=t.getPointFromWindowPoint(e.endPosition);if(0!=t.shape.points.length){if(n){i[1]=n;let e=t.viewer.scene.globe.ellipsoid.cartesianToCartographic(n);t.shape.points[1]=e,t.shape.rect=Cesium.Rectangle.fromCartographicArray(t.shape.points),t.shape.rect.west==t.shape.rect.east&&(t.shape.rect.east+=1e-6),t.shape.rect.south==t.shape.rect.north&&(t.shape.rect.north+=1e-6),t.shape.entity.rectangle.coordinates=t.shape.rect,t.entitys.showTip(t._resultTip,!0,n,"再次点击结束")}}else t.entitys.showTip(t._resultTip,!0,n,"点击绘制")}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)}clearHandle(){this.viewer.entities.removeAll();for(var e=0;e<this.removeImageryLayers.length;e++)this.viewer.imageryLayers.remove(this.removeImageryLayers[e])}getPointFromWindowPoint(e){if("EllipsoidTerrainProvider"==this.viewer.scene.terrainProvider.constructor.name)return this.viewer.camera.pickEllipsoid(e,this.viewer.scene.globe.ellipsoid);var t=this.viewer.scene.camera.getPickRay(e);return this.viewer.scene.globe.pick(t,this.viewer.scene)}Cartesian3_to_WGS84(e){var t=new Cesium.Cartesian3(e.x,e.y,e.z),i=Cesium.Cartographic.fromCartesian(t);return{lat:Cesium.Math.toDegrees(i.latitude),lng:Cesium.Math.toDegrees(i.longitude),alt:i.height}}WGS84_to_Cartesian3(e){var t=Cesium.Cartesian3.fromDegrees(e.lng,e.lat,e.alt);return{x:t.x,y:t.y,z:t.z}}getFlatternDistance(e,t,i,n){var r=Math.PI;function o(e){return e*r/180}var a,s,l,u,c=o((e+i)/2),h=o((e-i)/2),g=o((t-n)/2),d=Math.sin(h),p=Math.sin(g),m=Math.sin(c);return a=(d*=d)*(1-(p*=p))+(1-(m*=m))*p,s=(1-d)*(1-p)+m*p,2*(l=Math.atan(Math.sqrt(a/s)))*6378137*(1+1/298.257*((3*(u=Math.sqrt(a*s)/l)-1)/2/s*m*(1-d)-(3*u+1)/2/a*(1-m)*d))}}class lookAround extends analyser{constructor(e,t){super(e);for(let e in t)this[e]=t[e];this.primitiveKSY=[],this.draw=new DrawDynamicTool(this._viewer),this._resultTip=this._viewer.entities.add({id:Cesium.createGuid(),label:{fillColor:Cesium.Color.YELLOW,showBackground:!0,font:"14px monospace",horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-10)}}),this.action()}action(){this.draw.circleDraw(((e,t,i)=>{if(!i)return alert("没有获取到半径"),!1;this.draw.remove(),setTimeout((()=>{this.analyser(t,i)}),500)}))}remove(){if(this.primitiveKSY.length>0){for(var e=0;e<this.primitiveKSY.length;e++)this.primitiveKSY[e].remove(),this.primitiveKSY[e]=null;this.primitiveKSY=[]}}analyser(e,t){try{if(this.primitiveKSY.length>0)return!1;let r=this,o=10;r._viewer.scene.globe.depthTestAgainstTerrain=!0;var i=Cesium.Cartographic.fromDegrees(e[0],e[1]),n=Cesium.Cartesian3.fromRadians(i.longitude,i.latitude);let a=t,s={};s.semiMinorAxis=a,s.semiMajorAxis=a,s.rotation=0,s.center=n,s.granularity=Math.PI/45;let l=CesiumBuild.EllipseGeometryLibraryEx.computeEllipseEdgePositions(s);for(let e=0;e<l.outerPositions.length;e+=3){let t=new Cesium.Cartesian3(l.outerPositions[e],l.outerPositions[e+1],l.outerPositions[e+2]),n=Cesium.Cartographic.fromCartesian(t),a=5e-5*Math.PI/180,s=CesiumBuild.SysMathTool.InterpolateLineCartographic(i,n,a);CesiumBuild.ThreeDTilesToolCopy.CartographicPointsTerrainData(r._viewer,s,(function(e){if(e.length>0){let t=!0,i=[],n=[];for(let r=1;r<e.length;r++){let a=!0;if(r>1){let i=new Cesium.Cartographic(e[0].longitude,e[0].latitude,e[0].height+o);if(console.log(i),t){CesiumBuild.SysMathTool.InterpolateIndexLineHeightCartographic(i,e[r],r,r-1).height>=e[r-1].height?(t=!0,a=!0):(t=!1,a=!1)}else{let n=CesiumBuild.SysMathTool.Interpolate2IndexLineHeightCartographic(i,e[r],r,r-1);for(let i=0;i<n.length;i++){if(!(n[i].height>=e[i].height)){t=!1,a=!1;break}t=!0,a=!0}}}let s=Cesium.Cartesian3.fromRadians(e[r].longitude,e[r].latitude,e[r].height+1);i.push(s),a?(n.push(0),n.push(0),n.push(1),n.push(1)):(n.push(1),n.push(0),n.push(0),n.push(1))}let a=new CesiumBuild.PrimitivePoints({viewer:r._viewer,Cartesians:i,Colors:n});r.primitiveKSY.push(a)}else alert("高程异常！")}))}}catch(e){console.log(e)}}}class contour{constructor(e,t){this.viewer=e,this.config=t,this.loadContour()}loadContour(){var e=this,t=e.config.color,i={},n={},r={enableContour:this.config.enableContour,contourSpacing:this.config.contourSpacing,contourWidth:this.config.contourWidth,selectedShading:e.config.selectedShading,changeColor:function(){i.color=Cesium.Color.fromRandom({alpha:1},t)}};var o,a,s,l,u=[0,.045,.1,.15,.37,.54,1],c=[0,.29,.5,Math.sqrt(2)/2,.87,.91,1];a=r.enableContour,s=r.selectedShading,l=e.viewer.scene.globe,a?("elevation"===s?(o=new Cesium.Material({fabric:{type:"ElevationColorContour",materials:{contourMaterial:{type:"ElevationContour"},elevationRampMaterial:{type:"ElevationRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? elevationRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, elevationRampMaterial.alpha)"}},translucent:!1}),(n=o.materials.elevationRampMaterial.uniforms).minHeight=-414,n.maxHeight=8777,i=o.materials.contourMaterial.uniforms):"slope"===s?(o=new Cesium.Material({fabric:{type:"SlopeColorContour",materials:{contourMaterial:{type:"ElevationContour"},slopeRampMaterial:{type:"SlopeRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? slopeRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, slopeRampMaterial.alpha)"}},translucent:!1}),n=o.materials.slopeRampMaterial.uniforms,i=o.materials.contourMaterial.uniforms):(o=Cesium.Material.fromType("ElevationContour"),i=o.uniforms),i.width=r.contourWidth,i.spacing=r.contourSpacing,i.color=t):"elevation"===s?(o=Cesium.Material.fromType("ElevationRamp"),(n=o.uniforms).minHeight=-414,n.maxHeight=8777):"slope"===s&&(o=Cesium.Material.fromType("SlopeRamp"),n=o.uniforms),"none"!==s&&(n.image=function(e){var t=document.createElement("canvas");t.width=100,t.height=1;var i=t.getContext("2d"),n="elevation"===e?u:c,r=i.createLinearGradient(0,0,100,0);return r.addColorStop(n[0],"#000000"),r.addColorStop(n[1],"#2747E0"),r.addColorStop(n[2],"#D33B7D"),r.addColorStop(n[3],"#D33038"),r.addColorStop(n[4],"#FF9742"),r.addColorStop(n[5],"#ffd700"),r.addColorStop(n[6],"#ffffff"),i.fillStyle=r,i.fillRect(0,0,100,1),t}(s)),l.material=o}changeContour(e){this.config=e,this.loadContour()}}class undergroundmode{constructor(e){this.viewer=e.viewer,this.options=e,this.config={enableCollisionDetection:!1,NearFarScalar:new Cesium.NearFarScalar(500,0,1e3,1),translucencyEnabled:!0,fadeByDistance:!0,alpha:.5},this.config=Object.assign(this.config,this.options),this.config.ecd=this.viewer.scene.screenSpaceCameraController.enableCollisionDetection;var t=Number(this.options.alpha?this.options.alpha:.5);t=isNaN(t)?1:t,t=Cesium.Math.clamp(t,0,1),this.config.alpha=t,this.viewer.scene.screenSpaceCameraController.enableCollisionDetection=this.config.enableCollisionDetection,this.viewer.scene.globe.translucency.frontFaceAlphaByDistance=this.config.NearFarScalar,this.update()}update(){this.viewer.scene.globe.translucency.enabled=this.config.translucencyEnabled,this.viewer.scene.globe.translucency.frontFaceAlphaByDistance.nearValue=this.config.alpha,this.viewer.scene.globe.translucency.frontFaceAlphaByDistance.farValue=this.config.fadeByDistance?1:this.config.alpha}changeTranslucencyEnabled(e){null!=e&&(this.config.translucencyEnabled=e,this.update())}changeFadeByDistance(e){null!=e&&(this.config.fadeByDistance=e,this.update())}changeAlpha(e){null!=e&&(this.config.alpha=e,this.update())}}class tilesClip{constructor(e){this.tileset=e.tileset,this.type=e.type?e.type:"outer",this.edgeColor=e.edgeColor?e.edgeColor:Cesium.Color.RED,this.edgeWidth=e.edgeWidth?e.edgeWidth:1}clip(e){if(e=e||[],this.tileset&&e&&e.length>0){var t=!0,i=this.isClockWise(e);"inner"==this.type&&(i=!i,t=!1),!1===i&&e.reverse();for(var n=[],r=0;r<e.length;r++){var o=r+1;o==e.length&&(o=0),n.push(this.createPlane(e[r],e[o]))}this.tileset.clippingPlanes=new Cesium.ClippingPlaneCollection({planes:n,edgeColor:this.edgeColor,edgeWidth:this.edgeWidth,unionClippingRegions:t})}}clipLinesegment(e){var t=this.createPlane(e[0],e[1]);this.tileset.clippingPlanes=new Cesium.ClippingPlaneCollection({planes:[t],edgeColor:this.edgeColor,edgeWidth:this.edgeWidth})}clearClip(){this.tileset.clippingPlanes&&this.tileset.clippingPlanes.removeAll()}getInverseTransform(e){let t,i=e.root.transform;return t=i&&i.equals(Cesium.Matrix4.IDENTITY)||!i?Cesium.Transforms.eastNorthUpToFixedFrame(e.boundingSphere.center):Cesium.Matrix4.fromArray(e.root.transform),Cesium.Matrix4.inverseTransformation(t,new Cesium.Matrix4)}getOriginCoordinateSystemPoint(e,t){var i=null;return e.lng?i=Cesium.Cartesian3.fromDegrees(e.lng,e.lat):e.x&&(i=e.x<180&&e.x>-180&&e.y<90&&e.y>-90?Cesium.Cartesian3.fromDegrees(e.lng,e.lat):e),Cesium.Matrix4.multiplyByPoint(t,i,new Cesium.Cartesian3(0,0,0))}createPlane(e,t,i){i=this.getInverseTransform(this.tileset);let n=this.getOriginCoordinateSystemPoint(e,i),r=this.getOriginCoordinateSystemPoint(t,i),o=new Cesium.Cartesian3(0,0,10),a=Cesium.Cartesian3.subtract(r,n,new Cesium.Cartesian3),s=Cesium.Cartesian3.cross(a,o,new Cesium.Cartesian3);s=Cesium.Cartesian3.normalize(s,s);let l=Cesium.Plane.fromPointNormal(n,s);return Cesium.ClippingPlane.fromPlane(l)}isClockWise(e){if(e.length<3)return null;e[0]===e[e.length-1]&&(e=e.slice(0,e.length-1));let t={i:-1,val:1e8};for(let i=0;i<e.length;i++){let n=e[i].y;n<t.val&&(t.val=n,t.i=i)}let i=(t.i+e.length-1)%e.length,n=t.i,r=(t.i+1)%e.length,o=e[n].y-e[i].y,a=e[n].x-e[i].x,s=e[r].y-e[n].y,l=(e[r].x-e[n].x)*o-a*s;return 0===l?e[r].x<e[i].x:l>0}}class SubmergenceAnalysis{constructor(e){this.viewer=e.viewer,this.targetHeight=e.targetHeight?e.targetHeight:10,this.startHeight=e.startHeight?e.startHeight:0,this.waterHeight=e.waterHeight?e.waterHeight:this.startHeight,this.adapCoordi=e.adapCoordi?e.adapCoordi:[0,0,0,0,0,0],this.speed=e.speed?e.speed:1,this.color=e.color?e.color:new Cesium.Color.fromBytes(64,157,253,100),this.changetype=e.changetype?e.changetype:"up",this.speedCallback=e.speedCallback?e.speedCallback:function(e){},this.endCallback=e.endCallback?e.endCallback:function(){},this.polygonEntity=null,this.timer=null,this.viewer&&(this.createEntity(),this.updatePoly(this.adapCoordi))}createEntity(){if(this.polygonEntity&&this.polygonEntity.length>0)for(let e of this.polygonEntity)this.viewer.entities.remove(e);this.polygonEntity=[];let e=this.viewer.entities.add({polygon:{hierarchy:{},material:this.color}});e.polygon.extrudedHeight=new Cesium.CallbackProperty((()=>this.waterHeight),!1),this.polygonEntity.push(e)}updatePoly(e){this.adapCoordi=this.coordsTransformation(e),this.polygonEntity&&this.polygonEntity.length>0&&(this.polygonEntity[0].polygon.hierarchy=new Cesium.PolygonHierarchy(this.adapCoordi))}coordsTransformation(e){var t=[];if("number"==typeof e[0]&&"number"==typeof e[1])t=e[0]<180&&e[0]>-180&&e[1]<90&&e[1]>-90?Cesium.Cartesian3.fromDegreesArray(this.adapCoordi):Cesium.Cartesian3.fromArray(this.adapCoordi);else for(var i=0;i<e.length;i++){var n=e[i],r=null;n.lng?r=Cesium.Cartesian3.fromDegrees(n.lng,n.lat):n.x&&(r=n.x<180&&n.x>-180&&n.y<90&&n.y>-90?Cesium.Cartesian3.fromDegrees(n.lng,n.lat):n),t.push(r)}return t}start(){this.timer=window.setInterval((()=>{var e=this.speed/50;"up"==this.changetype?(this.waterHeight=util$1.floatObj.add(this.waterHeight,e),this.waterHeight>this.targetHeight&&(this.waterHeight=this.targetHeight,window.clearInterval(this.timer),this.endCallback())):(this.waterHeight-=e,this.waterHeight<this.targetHeight&&(this.waterHeight=this.targetHeight,window.clearInterval(this.timer),this.endCallback())),this.speedCallback(this.waterHeight)}),20)}clear(){let e=this.viewer;this.timer&&(window.clearInterval(this.timer),this.timer=null),this.waterHeight=this.startHeight;for(let t of this.polygonEntity)e.entities.remove(t);this.polygonEntity=null}}class excavateTerrain{constructor(e,t){this.viewer=e,this.config=t,this.analysis()}analysis(){var e=this.viewer,t=this.config,i=e.scene.globe.ellipsoid,n=t.positions,r=[],o=[];n.forEach((e=>{var t=Cesium.Cartographic.fromCartesian(e),n=Number(t.height.toFixed(2)),a=i.cartesianToCartographic({x:e.x,y:e.y,z:e.z}),s=Cesium.Math.toDegrees(a.latitude),l=Cesium.Math.toDegrees(a.longitude);r.push({x:l,y:s,z:n}),o.push({x:l,y:s,z:n})}));var a=i.cartesianToCartographic({x:n[0].x,y:n[0].y,z:n[0].z}),s=Cesium.Cartographic.fromCartesian(n[0]),l=Number(s.height.toFixed(2)),u=Cesium.Math.toDegrees(a.latitude),c=Cesium.Math.toDegrees(a.longitude);o.push({x:c,y:u,z:l}),this.excavate(r,o);try{drawControl.deleteAll()}catch(e){}}excavate(e,t){var i=this.viewer,n=this.config;i.scene.globe.ellipsoid;var r=[],o=[];!0===this.isClockWise(e)&&(e.reverse(),t.reverse()),e.forEach((e=>{r.push(e.x),r.push(e.y),o.push(e.z)}));var a=[];e.forEach((e=>{a.push(Cesium.Cartesian3.fromDegrees(e.x,e.y))}));for(var s,l=a.length,u=[],c=0;c<l;++c){var h=(c+1)%l,g=Cesium.Cartesian3.add(a[c],a[h],new Cesium.Cartesian3);g=Cesium.Cartesian3.multiplyByScalar(g,.5,g);var d=Cesium.Cartesian3.normalize(g,new Cesium.Cartesian3),p=Cesium.Cartesian3.subtract(a[h],g,new Cesium.Cartesian3);p=Cesium.Cartesian3.normalize(p,p);var m=Cesium.Cartesian3.cross(p,d,new Cesium.Cartesian3);m=Cesium.Cartesian3.normalize(m,m);var f=new Cesium.Plane(m,0),C=Cesium.Plane.getPointDistance(f,g);u.push(new Cesium.ClippingPlane(m,C))}i.scene.globe.clippingPlanes=new Cesium.ClippingPlaneCollection({planes:u,edgeWidth:1,edgeColor:Cesium.Color.OLIVE});try{i.entities.removeById("entityDM"),i.entities.removeById("entityDMBJ")}catch(e){}for(c=0;c<o.length;c++)for(var y=c;y<o.length;y++)o[c]>o[y]&&(s=o[y],o[y]=o[c],o[c]=s);i.entities.add({id:"entityDM",polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArray(r),material:new Cesium.ImageMaterialProperty({image:n.bottom,color:new Cesium.Color.fromCssColorString("#cbc6c2"),repeat:new Cesium.Cartesian2(30,30)}),height:o[0]-n.height}});var v=[],A=[],I=[],w=2048,b=[];if(t.forEach(((e,i)=>{if(i<t.length-1)for(var n=Cesium.Math.toRadians(e.x),r=Cesium.Math.toRadians(t[i+1].x),o=Cesium.Math.toRadians(e.y),a=Cesium.Math.toRadians(t[i+1].y),s=0;s<w;++s){var l=Cesium.Math.lerp(e.x,t[i+1].x,s/2047),u=Cesium.Math.lerp(e.y,t[i+1].y,s/2047),c=Cesium.Math.lerp(n,r,s/2047),h=Cesium.Math.lerp(o,a,s/2047),g=new Cesium.Cartographic(c,h);I.push(g),b.push(l),b.push(u)}else for(n=Cesium.Math.toRadians(e.x),r=Cesium.Math.toRadians(t[0].x),o=Cesium.Math.toRadians(e.y),a=Cesium.Math.toRadians(t[0].y),s=0;s<w;++s){l=Cesium.Math.lerp(e.x,t[0].x,s/2047),u=Cesium.Math.lerp(e.y,t[0].y,s/2047),c=Cesium.Math.lerp(n,r,s/2047),h=Cesium.Math.lerp(o,a,s/2047),g=new Cesium.Cartographic(c,h);I.push(g),b.push(l),b.push(u)}})),i.terrainProvider._layers)Cesium.when(Cesium.sampleTerrainMostDetailed(i.terrainProvider,I),(function(e){for(let t=0;t<e.length;t++)v.push(e[t].height),A.push(o[0]-n.height);i.entities.add({id:"entityDMBJ",wall:{positions:Cesium.Cartesian3.fromDegreesArray(b),maximumHeights:v,minimumHeights:A,material:new Cesium.ImageMaterialProperty({image:n.side,repeat:new Cesium.Cartesian2(30,30)})}}),n.drawControl.deleteAll()}));else{for(let e=0;e<I.length;e++)v.push(0),A.push(o[0]-n.height);i.entities.add({id:"entityDMBJ",wall:{positions:Cesium.Cartesian3.fromDegreesArray(b),maximumHeights:v,minimumHeights:A,material:new Cesium.ImageMaterialProperty({image:n.side,repeat:new Cesium.Cartesian2(30,30)})}}),n.drawControl.deleteAll()}}isClockWise(e){if(e.length<3)return null;e[0]===e[e.length-1]&&(e=e.slice(0,e.length-1));let t={i:-1,val:1e8};for(let i=0;i<e.length;i++){let n=e[i].y;n<t.val&&(t.val=n,t.i=i)}let i=(t.i+e.length-1)%e.length,n=t.i,r=(t.i+1)%e.length,o=e[n].y-e[i].y,a=e[n].x-e[i].x,s=e[r].y-e[n].y,l=(e[r].x-e[n].x)*o-a*s;return 0===l?e[r].x<e[i].x:l>0}}var videos$1=[],video_dom$1,getCurrentMousePosition$1=function(e,t,i){var n=e.pick(t);if(e.pickPositionSupported&&Cesium.defined(n)){var r=n.id;if(null==i||i&&r!==i){var o=e.pickPosition(t);if(Cesium.defined(o)){var a=Cesium.Cartographic.fromCartesian(o).height;if(a>=0)return o;if(!Cesium.defined(n.id)&&a>=-500)return o}}}if(e.mode===Cesium.SceneMode.SCENE3D){var s=e.camera.getPickRay(t);o=e.globe.pick(s,e)}else o=e.camera.pickEllipsoid(t,e.globe.ellipsoid);return o};class video$1{constructor(e,t){this.viewer=e,this.config=t}creat(){var e=this.viewer,t=this.config,i=t.videoElement,n=t.positions;t.clampToGround?e.entities.add({nam:"video",polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArray(n),material:i}}):e.entities.add({nam:"video",polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(n)},material:i,perPositionHeight:!0,outline:!0}})}clearAll(){var e=viewer.entities._entities._array;for(let t=0;t<e.length;t++)(e[t]._nam="video")&&(viewer.entities.remove(e[t]),t--);videos$1.forEach((e=>{e.destroy()}))}change(e){var t=this;for(const i in e){const n=e[i];t.lightCamera.frustum[i]=n,t.clear(),t.drawFrustumOutline()}}drawVideo(){let e=this;var t=this.config;this.handler=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.horizontalViewAngle=t.horizontalViewAngle||60,this.verticalViewAngle=t.verticalViewAngle||40,video_dom$1=document.getElementById(t.video),this.options=t,this.posArray=[],this.state="PREPARE",t.viewPosition&&t.viewPositionEnd?(e.viewPosition=t.viewPosition,e.viewPositionEnd=t.viewPositionEnd,e.viewDistance=Cesium.Cartesian3.distance(e.viewPosition,e.viewPositionEnd),e.viewHeading=getHeading$1(e.viewPosition,e.viewPositionEnd),e.viewPitch=getPitch$1(e.viewPosition,e.viewPositionEnd),e.createLightCamera()):this.action()}action(){let e=this;e.handler.setInputAction((function(t){var i=getCurrentMousePosition$1(e.viewer.scene,t.position);i&&(0==e.posArray.length?(e.posArray.push(i),e.state="OPERATING"):1==e.posArray.length&&(e.viewPosition=e.posArray[0],e.viewPositionEnd=i,e.viewDistance=Cesium.Cartesian3.distance(e.viewPosition,e.viewPositionEnd),e.viewHeading=getHeading$1(e.viewPosition,e.viewPositionEnd),e.viewPitch=getPitch$1(e.viewPosition,e.viewPositionEnd),e.state="END",e.handler.destroy(),e.handler=null,e.createLightCamera()))}),Cesium.ScreenSpaceEventType.LEFT_CLICK)}createLightCamera(){this.lightCamera=new Cesium.Camera(this.viewer.scene),this.lightCamera.position=this.viewPosition,this.lightCamera.frustum.near=1e-4*this.viewDistance,this.lightCamera.frustum.far=this.viewDistance;const e=Cesium.Math.toRadians(this.horizontalViewAngle),t=Cesium.Math.toRadians(this.verticalViewAngle),i=this.viewDistance*Math.tan(e/2)*2/(this.viewDistance*Math.tan(t/2)*2);this.lightCamera.frustum.aspectRatio=i,this.lightCamera.frustum.fov=e>t?e:t,this.lightCamera.setView({destination:this.viewPosition,orientation:{heading:Cesium.Math.toRadians(this.viewHeading||0),pitch:Cesium.Math.toRadians(this.viewPitch||0),roll:0}}),this.drawFrustumOutline()}drawFrustumOutline(){const e=new Cesium.Cartesian3,t=new Cesium.Matrix3,i=new Cesium.Quaternion;this.lightCamera.positionWC;const n=this.lightCamera.directionWC,r=this.lightCamera.upWC;let o=this.lightCamera.rightWC;o=Cesium.Cartesian3.negate(o,e);let a=t;Cesium.Matrix3.setColumn(a,0,o,a),Cesium.Matrix3.setColumn(a,1,r,a),Cesium.Matrix3.setColumn(a,2,n,a);let s=Cesium.Quaternion.fromRotationMatrix(a,i);var l=_.cloneDeep(this.lightCamera.frustum);l.near=l.far-.01;var u=new Cesium.GeometryInstance({geometry:new Cesium.FrustumGeometry({frustum:l,origin:this.viewPosition,orientation:s})}),c=new Cesium.Primitive({geometryInstances:[u],appearance:createAppearance$1()});this.viewer.scene.primitives.add(c);var h=new Cesium.GeometryInstance({geometry:new Cesium.FrustumOutlineGeometry({frustum:this.lightCamera.frustum,origin:this.viewPosition,orientation:s}),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.WHITE)}}),g=new Cesium.Primitive({geometryInstances:[h],appearance:new Cesium.PerInstanceColorAppearance({flat:!0,translucent:!1})});this.viewer.scene.primitives.add(g),this.FrustumGeometry=c,this.FrustumOutlineGeometry=g,videos$1.push(c),videos$1.push(g)}clear(){this.FrustumGeometry.destroy(),this.FrustumOutlineGeometry.destroy()}}function createAppearance$1(){let e=new Cesium.Material({fabric:{type:"custome_1",uniforms:{color:new Cesium.Color(1,1,1,1),image:"data:image/png;base64,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",tmask:"data:image/jpg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/7QAsUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQAB/+Ekcmh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wR0ltZz0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL2cvaW1nLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczppbGx1c3RyYXRvcj0iaHR0cDovL25zLmFkb2JlLmNvbS9pbGx1c3RyYXRvci8xLjAvIgogICAgICAgICAgICB4bWxuczpwZGY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8iPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL2pwZWc8L2RjOmZvcm1hdD4KICAgICAgICAgPGRjOnRpdGxlPgogICAgICAgICAgICA8cmRmOkFsdD4KICAgICAgICAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij7miZPljbA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QWx0PgogICAgICAgICA8L2RjOnRpdGxlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE5LTEyLTE4VDE3OjA4OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0xMi0xOFQwOTowODo1OVo8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOS0xMi0xOFQxNzowODo1OSswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgSWxsdXN0cmF0b3IgQ0MgMjMuMSAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOlRodW1ibmFpbHM+CiAgICAgICAgICAgIDxyZGY6QWx0PgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHhtcEdJbWc6d2lkdGg+MjU2PC94bXBHSW1nOndpZHRoPgogICAgICAgICAgICAgICAgICA8eG1wR0ltZzpoZWlnaHQ+NzY8L3htcEdJbWc6aGVpZ2h0PgogICAgICAgICAgICAgICAgICA8eG1wR0ltZzpmb3JtYXQ+SlBFRzwveG1wR0ltZzpmb3JtYXQ+CiAgICAgICAgICAgICAgICAgIDx4bXBHSW1nOmltYWdlPi85ai80QUFRU2taSlJnQUJBZ0VBU0FCSUFBRC83UUFzVUdodmRHOXphRzl3SURNdU1BQTRRa2xOQSswQUFBQUFBQkFBU0FBQUFBRUEmI3hBO0FRQklBQUFBQVFBQi8rNEFEa0ZrYjJKbEFHVEFBQUFBQWYvYkFJUUFCZ1FFQkFVRUJnVUZCZ2tHQlFZSkN3Z0dCZ2dMREFvS0N3b0smI3hBO0RCQU1EQXdNREF3UURBNFBFQThPREJNVEZCUVRFeHdiR3hzY0h4OGZIeDhmSHg4Zkh3RUhCd2NOREEwWUVCQVlHaFVSRlJvZkh4OGYmI3hBO0h4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zi84QUFFUWdBVEFFQUF3RVImI3hBO0FBSVJBUU1SQWYvRUFhSUFBQUFIQVFFQkFRRUFBQUFBQUFBQUFBUUZBd0lHQVFBSENBa0tDd0VBQWdJREFRRUJBUUVBQUFBQUFBQUEmI3hBO0FRQUNBd1FGQmdjSUNRb0xFQUFDQVFNREFnUUNCZ2NEQkFJR0FuTUJBZ01SQkFBRklSSXhRVkVHRTJFaWNZRVVNcEdoQnhXeFFpUEImI3hBO1V0SGhNeFppOENSeWd2RWxRelJUa3FLeVkzUENOVVFuazZPek5oZFVaSFREMHVJSUpvTUpDaGdaaEpSRlJxUzBWdE5WS0JyeTQvUEUmI3hBOzFPVDBaWFdGbGFXMXhkWGw5V1oyaHBhbXRzYlc1dlkzUjFkbmQ0ZVhwN2ZIMStmM09FaFlhSGlJbUtpNHlOam8rQ2s1U1ZscGVZbVomI3hBO3FibkoyZW41S2pwS1dtcDZpcHFxdXNyYTZ2b1JBQUlDQVFJREJRVUVCUVlFQ0FNRGJRRUFBaEVEQkNFU01VRUZVUk5oSWdaeGdaRXkmI3hBO29iSHdGTUhSNFNOQ0ZWSmljdkV6SkRSRGdoYVNVeVdpWTdMQ0IzUFNOZUpFZ3hkVWt3Z0pDaGdaSmpaRkdpZGtkRlUzOHFPend5Z3AmI3hBOzArUHpoSlNrdE1UVTVQUmxkWVdWcGJYRjFlWDFSbFptZG9hV3ByYkcxdWIyUjFkbmQ0ZVhwN2ZIMStmM09FaFlhSGlJbUtpNHlOam8mI3hBOytEbEpXV2w1aVptcHVjblo2ZmtxT2twYWFucUttcXE2eXRycSt2L2FBQXdEQVFBQ0VRTVJBRDhBRmZsWCtYbWkrYU5Qalc1aVZad3QmI3hBO2ZVcDFvTytSRElsNkYvMEx4NWY4VSs3K3pEU0xkLzBMeDVmOFUrNyt6R2x0My9RdkhsL3hUN3Y3TWFXM2Y5QzhlWC9GUHUvc3hwYmQmI3hBOy93QkM4ZVgvQUJUN3Y3TWFXM2Y5QzhlWC9GUHUvc3hwYmQvMEx4NWY4VSs3K3pHbHQzL1F2SGwveFQ3djdNYVczZjhBUXZIbC93QVUmI3hBOys3K3pHbHQzL1F2SGwveFQ3djdNYVcwdTE3OGovTHVrNmJMZXNxU2NCc29IZW1OSnRPZitjZFk0NC9LbXN4eHFGUmRabUNxTmdCOVYmI3hBO3RzUWd2VmNLSFlxN0ZYWXE3RlhZcThRLzV5Ny9BUEpiYWIvMjJZUCtvVzV3RmxGODNlUi95eTg0ZWVQcnYrSExSTHI5SCtsOWE1eXgmI3hBO3hjZlg1OEtlb3kxcjZUZE1ESWxsWC9RczM1d2Y5V3FIL3BMdHYrYThhUmJ2K2hadnpnLzZ0VVAvQUVsMjMvTmVOTGJ2K2hadnpnLzYmI3hBO3RVUC9BRWwyMy9OZU5MYnYraFp2emcvNnRVUC9BRWwyMy9OZU5MYnYraFp2emcvNnRVUC9BRWwyMy9OZU5MYnYraFp2emcvNnRVUC8mI3hBO0FFbDIzL05lTkxiditoWnZ6Zy82dFVQL0FFbDIzL05lTkxiditoWnZ6Zy82dFVQL0FFbDIzL05lTkxiditoWnZ6Zy82dFVQL0FFbDImI3hBOzMvTmVOTGJ2K2hadnpnLzZ0VVAvQUVsMjMvTmVOTGJ6YlZ0TXZOSzFTODB1OVFSM3RoUEphM0tBaGdzc0xsSEFZVkJveW5jWXBmVmYmI3hBOy9PTzMrODhmK29mMVlReEwzVEN4ZGlyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBLzVScTQvd0EreHhVTVAvNXg1LzVSZlcvKzJ6Ti8mI3hBOzFEVzJBSkwxUENoMkt1eFYyS3V4VjJLdkVQOEFuTHYvQU1sdHB2OEEyMllQK29XNXdGbEZqWC9PR3Y4QTAxLy9BRzd2K3hyRUxKOUsmI3hBO1lXTHNWZGlyc1ZkaXJzVmRpcnNWZGlyc1ZmbjMrWnYvQUpNbnpaLzIyZFEvNmlwTWkyQjlJZjhBT08zKzg4ZitvZjFZUXhMM1RDeGQmI3hBO2lyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBLzVScTQvejdIRlF3Ly9BSng1L3dDVVgxdi9BTGJNMy9VTmJZQWt2VThLSFlxN0ZYWXEmI3hBOzdGWFlxOFEvNXk3L0FQSmJhYi8yMllQK29XNXdGbEZqWC9PR3YvVFgvd0RidS83R3NRc24wcGhZdXhWMkt1eFYyS3V4VjJLdXhWMksmI3hBO3V4VitmZjVtL3dEa3lmTm4vYloxRC9xS2t5TFlIMGgvemp0L3ZQSC9BS2gvVmhERXZkTUxGMkt1eFYyS3V4VjJLdXhWMkt1eFYyS3MmI3hBO2MvTUQvbEdyai9Qc2NWREQvd0RuSG4vbEY5Yi9BTzJ6Ti8xRFcyQUpMMVBDaDJLdXhWMkt1eFYyS3ZFUCtjdS8vSmJhYi8yMllQOEEmI3hBO3FGdWNCWlJZMS96aHIvMDEvd0QyN3Y4QXNheEN5ZlNtRmk3RlhZcTdGWFlxN0ZYWXE3RlhZcTdGWDU5L21iLzVNbnpaL3dCdG5VUCsmI3hBO29xVEl0Z2ZTSC9PTzMrODhmK29mMVlReEwzVEN4ZGlyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBL3dDVWF1UDgreHhVTVA4QStjZWYmI3hBOytVWDF2L3RzemY4QVVOYllBa3ZVOEtIWXE3RlhZcTdGWFlxOFEvNXk3LzhBSmJhYi93QnRtRC9xRnVjQlpSWTEvd0E0YS84QVRYLzkmI3hBO3U3L3NheEN5ZlNtRmk3RlhZcTdGWFlxN0ZYWXE3RlhZcTdGWDU5L21iLzVNbnpaLzIyZFEvd0NvcVRJdGdmU0gvT08zKzg4ZitvZjEmI3hBO1lReEwzVEN4ZGlyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBLzVScTQvd0EreHhVTVAvNXg1LzVSZlcvKzJ6Ti8xRFcyQUpMMVBDaDImI3hBO0t1eFYyS3V4VjJLdkVQOEFuTHYvQU1sdHB2OEEyMllQK29XNXdGbEZqWC9PR3Y4QTAxLy9BRzd2K3hyRUxKOUtZV0xzVmRpcnNWZGkmI3hBO3JzVmRpcnNWZGlyc1ZmbjMrWnYvQUpNbnpaLzIyZFEvNmlwTWkyQjlJZjhBT08zKzg4ZitvZjFZUXhMM1RDeGRpcnNWZGlyc1ZkaXImI3hBO3NWZGlyc1ZkaXJIUHpBLzVScTQvejdIRlF3Ly9BSng1L3dDVVgxdi9BTGJNMy9VTmJZQWt2VThLSFlxN0ZYWXE3RlhZcThRLzV5Ny8mI3hBO0FQSmJhYi8yMllQK29XNXdGbEZqWC9PR3YvVFgvd0RidS83R3NRc24wcGhZdXhWMkt1eFYyS3V4VjJLdXhWMkt1eFYrZmY1bS93RGsmI3hBO3lmTm4vYloxRC9xS2t5TFlIMGgvemp0L3ZQSC9BS2gvVmhERXZkTUxGMkt1eFYyS3V4VjJLdXhWMkt1eFYyS3NjL01EL2xHcmovUHMmI3hBO2NWREQvd0RuSG4vbEY5Yi9BTzJ6Ti8xRFcyQUpMMVBDaDJLdXhWMkt1eFYyS3ZFUCtjdS8vSmJhYi8yMllQOEFxRnVjQlpSWTEvemgmI3hBO3IvMDEvd0QyN3Y4QXNheEN5ZlNtRmk3RlhZcTdGWFlxN0ZYWXE3RlhZcTdGWDU5L21iLzVNbnpaL3dCdG5VUCtvcVRJdGdmUjMvT1AmI3hBO0xvbHNqT3dWUWhxU2FEcGhERXZjZnJWci92NVArQ0g5Y0xGMzFxMS8zOG4vQUFRL3JpcnZyVnIvQUwrVC9naC9YRlhmV3JYL0FIOG4mI3hBOy9CRCt1S3UrdFd2Ky9rLzRJZjF4VjMxcTEvMzhuL0JEK3VLdSt0V3YrL2svNElmMXhWMzFxMS8zOG4vQkQrdUt1K3RXdisvay93Q0MmI3hBO0g5Y1ZkOWF0ZjkvSi93QUVQNjRxeDd6N05DL2x1NENTS3g2MFVnOWo0WXBZbC96anoveWkrdC85dG1iL0FLaHJiQUZMMVBDaDJLdXgmI3hBO1YyS3V4VjJLdkVQK2N1Ly9BQ1cybS84QWJaZy82aGJuQVdVWG52OEF6aTM1NDhwK1YvOEFFMytJTlRoMDc2NTlSK3Jlc1NPZnBmV08mI3hBO2RLQS9aNXI5K0FMSVBlZitWMy9sUC8xTTFuOTdmODA0YlJUditWMy9BSlQvQVBVeldmM3Qvd0EwNDJ0Ty93Q1YzL2xQL3dCVE5aL2UmI3hBOzMvTk9OclR2K1YzL0FKVC9BUFV6V2YzdC93QTA0MnRPL3dDVjMvbFAvd0JUTlovZTMvTk9OclR2K1YzL0FKVC9BUFV6V2YzdC93QTAmI3hBOzQydE8vd0NWMy9sUC93QlROWi9lMy9OT05yVHYrVjMvQUpUL0FQVXpXZjN0L3dBMDQydE8vd0NWMy9sUC93QlROWi9lMy9OT05yVHYmI3hBOytWMy9BSlQvQVBVeldmM3Qvd0EwNDJ0UGl6ei9BSDFwZitlL01kL1p5aWV6dTlVdlo3YVpmc3ZISmNPNk1QWmxOY0RNUFN2SzMrT2YmI3hBOzBURitodVAxYWcreld2MDB4UW5IL0lWdmYvaHNVTy81Q3Q3L0FQRFlxNy9rSzN2L0FNTmlydjhBa0szdi93QU5pcnYrUXJlLy9EWXEmI3hBOzcva0szdjhBOE5pcnYrUXJlLzhBdzJLdS93Q1FyZS8vQUEyS3UvNUN0Ny84TmlyditRcmUvd0R3MktyWlArVnBjRzlUN0ZQaTVjcVUmI3hBOzk4VmVxLzhBT09YcmY0UjFqMStQcS9waWJueDZWK3EyM1N1RUlMMWJDaDJLdXhWMkt1eFYyS3ZFUCtjdS93RHlXMm0vOXRtRC9xRnUmI3hBO2NCWlJmSXVCazdGWFlxN0ZYWXE3RlhZcTdGWFlxN0ZYWXE3RlgvL1o8L3htcEdJbWc6aW1hZ2U+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwveG1wOlRodW1ibmFpbHM+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6YzAzYzk1NmEtMmM5ZC00MzI0LWFmMWYtNWFhNjNhMWM4MDA5PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOmMwM2M5NTZhLTJjOWQtNDMyNC1hZjFmLTVhYTYzYTFjODAwOTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD51dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpSZW5kaXRpb25DbGFzcz5wcm9vZjpwZGY8L3htcE1NOlJlbmRpdGlvbkNsYXNzPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD51dWlkOmFjOTVjMjFhLTM2MGEtNGVjZi1iNTBkLTE4ZGVhZmQ4NTYzNjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozYzUyMWIzYy04ZTE3LTY0NDItYjVjYi0wMDAxYzVhYjNlMWI8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgICAgIDxzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+dXVpZDo1RDIwODkyNDkzQkZEQjExOTE0QTg1OTBEMzE1MDhDODwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6cmVuZGl0aW9uQ2xhc3M+cHJvb2Y6cGRmPC9zdFJlZjpyZW5kaXRpb25DbGFzcz4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmMwM2M5NTZhLTJjOWQtNDMyNC1hZjFmLTVhYTYzYTFjODAwOTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOS0xMi0xOFQxNzowODo1OSswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgSWxsdXN0cmF0b3IgQ0MgMjMuMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8aWxsdXN0cmF0b3I6U3RhcnR1cFByb2ZpbGU+UHJpbnQ8L2lsbHVzdHJhdG9yOlN0YXJ0dXBQcm9maWxlPgogICAgICAgICA8cGRmOlByb2R1Y2VyPkFkb2JlIFBERiBsaWJyYXJ5IDEwLjAxPC9wZGY6UHJvZHVjZXI+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVzYwAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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"},source:"czm_material czm_getMaterial(czm_materialInput materialInput)\n      {\n           czm_material material = czm_getDefaultMaterial(materialInput);\n           vec2 st = materialInput.st;\n           vec4 colorImage = texture2D(image, vec2(st.s, st.t));\n           vec4 maskImage = texture2D(tmask, vec2(st.s, st.t));\n           material.alpha = colorImage.a * color.a*maskImage.r;\n           material.diffuse = colorImage.rgb*color.rgb;\n           return material;\n       }"}});return e.uniforms.image=video_dom$1,new Cesium.EllipsoidSurfaceAppearance({material:e,flat:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}})}function getHeading$1(e,t){let i=new Cesium.Cartesian3,n=Cesium.Transforms.eastNorthUpToFixedFrame(e);return Cesium.Matrix4.inverse(n,n),Cesium.Matrix4.multiplyByPoint(n,t,i),Cesium.Cartesian3.normalize(i,i),Cesium.Math.toDegrees(Math.atan2(i.x,i.y))}function getPitch$1(e,t){let i=new Cesium.Cartesian3,n=Cesium.Transforms.eastNorthUpToFixedFrame(e);return Cesium.Matrix4.inverse(n,n),Cesium.Matrix4.multiplyByPoint(n,t,i),Cesium.Cartesian3.normalize(i,i),Cesium.Math.toDegrees(Math.asin(i.z))}class falling{constructor(e,t){this.viewer=e,this.config=t,this.loadResult()}loadResult(){var e=this;!function(t,i,n,r,o,a,s,l,u,c,h,g){var d=100,p=[];for(let e=0;e<100;e++)for(var m=0;m<100;m++){var f=[];f.push(new Cesium.Cartesian3(t+(r-t)/d*m+(c+(s-c)/d*m-t-(r-t)/d*m)/d*e,i+(o-i)/d*m+(h+(l-h)/d*m-i-(o-i)/d*m)/d*e,n+(a-n)/d*m+(g+(u-g)/d*m-n-(a-n)/d*m)/d*e)),f.push(new Cesium.Cartesian3(t+(r-t)/d*(m+1)+(c+(s-c)/d*(m+1)-t-(r-t)/d*(m+1))/d*e,i+(o-i)/d*(m+1)+(h+(l-h)/d*(m+1)-i-(o-i)/d*(m+1))/d*e,n+(a-n)/d*(m+1)+(g+(u-g)/d*(m+1)-n-(a-n)/d*(m+1))/d*e)),f.push(new Cesium.Cartesian3(c+(s-c)/d*(m+1)-(c+(s-c)/d*(m+1)-t-(r-t)/d*(m+1))/d*(99-e),h+(l-h)/d*(m+1)-(h+(l-h)/d*(m+1)-i-(o-i)/d*(m+1))/d*(99-e),g+(u-g)/d*(m+1)-(g+(u-g)/d*(m+1)-n-(a-n)/d*(m+1))/d*(99-e))),f.push(new Cesium.Cartesian3(c+(s-c)/d*m-(c+(s-c)/d*m-t-(r-t)/d*m)/d*(99-e),h+(l-h)/d*m-(h+(l-h)/d*m-i-(o-i)/d*m)/d*(99-e),g+(u-g)/d*m-(g+(u-g)/d*m-n-(a-n)/d*m)/d*(99-e))),p.push(Cesium.Cartographic.fromDegrees(f[0].x,f[0].y)),p.push(Cesium.Cartographic.fromDegrees((f[0].x+f[1].x)/2,(f[0].y+f[1].y)/2)),p.push(Cesium.Cartographic.fromDegrees(f[1].x,f[1].y)),p.push(Cesium.Cartographic.fromDegrees((f[1].x+f[2].x)/2,(f[1].y+f[2].y)/2)),p.push(Cesium.Cartographic.fromDegrees(f[2].x,f[2].y)),p.push(Cesium.Cartographic.fromDegrees((f[2].x+f[3].x)/2,(f[2].y+f[3].y)/2)),p.push(Cesium.Cartographic.fromDegrees(f[3].x,f[3].y)),p.push(Cesium.Cartographic.fromDegrees((f[3].x+f[0].x)/2,(f[3].y+f[0].y)/2))}var C=Cesium.sampleTerrainMostDetailed(e.config.terrainProvider,p);Cesium.when(C,(function(t){for(var i=0,n=0;n<t.length/8;n++){var r=(t[i].height-t[i+4].height)/Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(t[i].latitude,t[i].longitude,t[i].height),Cesium.Cartesian3.fromDegrees(t[i+4].latitude,t[i+4].longitude,t[i+4].height)),o=(t[i+1].height-t[i+5].height)/Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(t[i+1].latitude,t[i+1].longitude,t[i+1].height),Cesium.Cartesian3.fromDegrees(t[i+5].latitude,t[i+5].longitude,t[i+5].height)),a=(t[i+2].height-t[i+6].height)/Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(t[i+2].latitude,t[i+2].longitude,t[i+2].height),Cesium.Cartesian3.fromDegrees(t[i+6].latitude,t[i+6].longitude,t[i+6].height)),s=(t[i+3].height-t[i+7].height)/Cesium.Cartesian3.distance(Cesium.Cartesian3.fromDegrees(t[i+3].latitude,t[i+3].longitude,t[i+3].height),Cesium.Cartesian3.fromDegrees(t[i+7].latitude,t[i+7].longitude,t[i+7].height)),l=[Math.abs(r),Math.abs(o),Math.abs(a),Math.abs(s)];l.sort();var u=l[3],c=[];u==Math.abs(r)?r>0?c.push(Cesium.Math.toDegrees(t[i].longitude),Cesium.Math.toDegrees(t[i].latitude),Cesium.Math.toDegrees(t[i+4].longitude),Cesium.Math.toDegrees(t[i+4].latitude)):c.push(Cesium.Math.toDegrees(t[i+4].longitude),Cesium.Math.toDegrees(t[i+4].latitude),Cesium.Math.toDegrees(t[i].longitude),Cesium.Math.toDegrees(t[i].latitude)):u==Math.abs(o)?o>0?c.push(Cesium.Math.toDegrees(t[i+1].longitude),Cesium.Math.toDegrees(t[i+1].latitude),Cesium.Math.toDegrees(t[i+5].longitude),Cesium.Math.toDegrees(t[i+5].latitude)):c.push(Cesium.Math.toDegrees(t[i+5].longitude),Cesium.Math.toDegrees(t[i+5].latitude),Cesium.Math.toDegrees(t[i+1].longitude),Cesium.Math.toDegrees(t[i+1].latitude)):u==Math.abs(a)?a>0?c.push(Cesium.Math.toDegrees(t[i+2].longitude),Cesium.Math.toDegrees(t[i+2].latitude),Cesium.Math.toDegrees(t[i+6].longitude),Cesium.Math.toDegrees(t[i+6].latitude)):c.push(Cesium.Math.toDegrees(t[i+6].longitude),Cesium.Math.toDegrees(t[i+6].latitude),Cesium.Math.toDegrees(t[i+2].longitude),Cesium.Math.toDegrees(t[i+2].latitude)):u==Math.abs(s)&&(s>0?c.push(Cesium.Math.toDegrees(t[i+3].longitude),Cesium.Math.toDegrees(t[i+3].latitude),Cesium.Math.toDegrees(t[i+7].longitude),Cesium.Math.toDegrees(t[i+7].latitude)):c.push(Cesium.Math.toDegrees(t[i+7].longitude),Cesium.Math.toDegrees(t[i+7].latitude),Cesium.Math.toDegrees(t[i+3].longitude),Cesium.Math.toDegrees(t[i+3].latitude))),u=(Math.abs(r)+Math.abs(o)+Math.abs(a)+Math.abs(s))/4;var h=e.viewer.entities.add({name:"Red polygon on surface",rectangle:{coordinates:Cesium.Rectangle.fromDegrees(Cesium.Math.toDegrees(t[i].longitude),Cesium.Math.toDegrees(t[i].latitude),Cesium.Math.toDegrees(t[i+4].longitude),Cesium.Math.toDegrees(t[i+4].latitude)),material:Cesium.Color.fromCssColorString(slopecolor)}});e.viewer.zoomTo(h),e.viewer.entities.add({name:"Red polygon on surface",polyline:{clampToGround:!0,positions:Cesium.Cartesian3.fromDegreesArray(c),material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.fromCssColorString("#ff9090")),width:8,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,t[i+4].height+4500)}}),i+=8}}))}(e.config.positons[0],e.config.positons[1],0,e.config.positons[2],e.config.positons[3],0,e.config.positons[4],e.config.positons[5],0,e.config.positons[6],e.config.positons[7],0)}}var Analysis={sunlight:sunlight,Profile:Profile,MeasureVolume:MeasureVolume,skyline:skyline,viewshed:viewshed,bufferAnalysis:bufferAnalysis,analysisBuffer:analysisBuffer,visibility:visibility,lookAround:lookAround,undergroundmode:undergroundmode,tilesClip:tilesClip,SubmergenceAnalysis:SubmergenceAnalysis,contour:contour,excavateTerrain:excavateTerrain,video:video$1,falling:falling},Particle=function(){this.x=null,this.dx=null,this.dx=null,this.y=null,this.age=null,this.birthAge=null,this.path=null},WindField=function(e){this.west=null,this.east=null,this.south=null,this.north=null,this.rows=null,this.cols=null,this.dx=null,this.dy=null,this.unit=null,this.date=null,this.grid=null,this._init(e)};WindField.prototype={constructor:WindField,_init:function(e){var t=e.header,i=e.uComponent,n=e.vComponent;this.west=+t.lo1,this.east=+t.lo2,this.south=+t.la2,this.north=+t.la1,this.rows=+t.ny,this.cols=+t.nx,this.dx=+t.dx,this.dy=+t.dy,this.unit=t.parameterUnit,this.date=t.refTime,this.grid=[];for(var r=0,o=null,a=null,s=0;s<this.rows;s++){o=[];for(var l=0;l<this.cols;l++,r++)a=this._calcUV(i[r],n[r]),o.push(a);this.grid.push(o)}},_calcUV:function(e,t){return[+e,+t,Math.sqrt(e*e+t*t)]},_bilinearInterpolation:function(e,t,i,n,r,o){var a=1-e,s=1-t,l=a*s,u=e*s,c=a*t,h=e*t,g=i[0]*l+n[0]*u+r[0]*c+o[0]*h,d=i[1]*l+n[1]*u+r[1]*c+o[1]*h;return this._calcUV(g,d)},getIn:function(e,t){var i,n,r=Math.floor(e),o=Math.floor(t);if(r===e&&o===t)return this.grid[t][e];i=r+1,n=o+1;var a=this.getIn(r,o),s=this.getIn(i,o),l=this.getIn(r,n),u=this.getIn(i,n);return this._bilinearInterpolation(e-r,t-o,a,s,l,u)},isInBound:function(e,t){return e>=0&&e<this.cols-2&&t>=0&&t<this.rows-2}};var _primitives=null,SPEED_RATE=.15,PARTICLES_NUMBER=2e3,MAX_AGE=10,BRIGHTEN=1.5,Windy=function(e,t){this.windData=e,this.windField=null,this.particles=[],this.lines=null,_primitives=t.scene.primitives,this._init()},b,c;Windy.prototype={constructor:Windy,_init:function(){this.windField=this.createField();for(var e=0;e<PARTICLES_NUMBER;e++)this.particles.push(this.randomParticle(new Particle))},createField:function(){var e=this._parseWindJson();return new WindField(e)},animate:function(){var e=this,t=e.windField,i=e.particles,n=[],r=null,o=null,a=null;i.forEach((function(i){if(i.age<=0&&e.randomParticle(i),i.age>0){var s=i.x,l=i.y;t.isInBound(s,l)?(a=t.getIn(s,l),r=s+SPEED_RATE*a[0],o=l+SPEED_RATE*a[1],i.path.push(r,o),i.x=r,i.y=o,n.push(e._createLineInstance(e._map(i.path),i.age/i.birthAge)),i.age--):i.age=0}})),n.length<=0&&this.removeLines(),e._drawLines(n)},_parseWindJson:function(){var e=null,t=null,i=null;return this.windData.forEach((function(n){switch(n.header.parameterCategory+","+n.header.parameterNumber){case"2,2":e=n.data,i=n.header;break;case"2,3":t=n.data}})),{header:i,uComponent:e,vComponent:t}},removeLines:function(){this.lines&&(_primitives.remove(this.lines),this.lines.destroy())},_map:function(e){for(var t=e.length,i=this.windField,n=i.dx,r=i.dy,o=i.west,a=i.north,s=[],l=0;l<=t-2;l+=2)s.push(o+e[l]*n,a-e[l+1]*r);return s},_createLineInstance:function(e,t){for(var i=[],n=e.length,r=n/2,o=0;o<n;o++)i.push(Cesium.Color.WHITE.withAlpha(o/r*t*BRIGHTEN));return new Cesium.GeometryInstance({geometry:new Cesium.PolylineGeometry({positions:Cesium.Cartesian3.fromDegreesArray(e),colors:i,width:1.5,colorsPerVertex:!0})})},_drawLines:function(e){this.removeLines();var t=new Cesium.Primitive({appearance:new Cesium.PolylineColorAppearance({translucent:!0}),geometryInstances:e,asynchronous:!1});this.lines=_primitives.add(t)},randomParticle:function(e){var t,i,n=30;do{t=Math.floor(Math.random()*(this.windField.cols-2)),i=Math.floor(Math.random()*(this.windField.rows-2))}while(this.windField.getIn(t,i)[2]<=0&&n++<30);return e.x=t,e.y=i,e.age=Math.round(Math.random()*MAX_AGE),e.birthAge=e.age,e.path=[t,i],e}};class HeatMap{constructor(e,t=null,i=null,n=null){this.viewer=e,this.data=t,this.initHeatMap(i,t,n)}initHeatMap(e,t,i=null){let n=window.CesiumHeatmap.create(this.viewer,e,i||{backgroundColor:"rgba(255,0,0,0)",radius:50,maxOpacity:.93,minOpacity:0,blur:.75});this.heatMap=n;let r=t.map((e=>e.value)),o=Math.min(...r),a=Math.max(...r);n.setWGS84Data(o,a,t),this.viewer.zoomTo(n._layer)}show(e){this.heatMap.show(e)}update(e){let t=e.map((e=>e.value)),i=Math.min(...t),n=Math.max(...t);this.heatMap.setWGS84Data(i,n,e),this.viewer.zoomTo(this.heatMap._layer)}}function CHInstance(e,t,i){if(!t)return null;i||(i={}),this._cesium=e,this._options=i,this._id=CesiumHeatmap._getID(),this._options.gradient=this._options.gradient?this._options.gradient:CesiumHeatmap.defaults.gradient,this._options.maxOpacity=this._options.maxOpacity?this._options.maxOpacity:CesiumHeatmap.defaults.maxOpacity,this._options.minOpacity=this._options.minOpacity?this._options.minOpacity:CesiumHeatmap.defaults.minOpacity,this._options.blur=this._options.blur?this._options.blur:CesiumHeatmap.defaults.blur,this._mbounds=CesiumHeatmap.wgs84ToMercatorBB(t),this._setWidthAndHeight(this._mbounds),this._options.radius=Math.round(this._options.radius?this._options.radius:this.width>this.height?this.width/CesiumHeatmap.defaults.radiusFactor:this.height/CesiumHeatmap.defaults.radiusFactor),this._spacing=this._options.radius*CesiumHeatmap.defaults.spacingFactor,this._xoffset=this._mbounds.west,this._yoffset=this._mbounds.south,this.width=Math.round(this.width+2*this._spacing),this.height=Math.round(this.height+2*this._spacing),this._mbounds.west-=this._spacing*this._factor,this._mbounds.east+=this._spacing*this._factor,this._mbounds.south-=this._spacing*this._factor,this._mbounds.north+=this._spacing*this._factor,this.bounds=CesiumHeatmap.mercatorToWgs84BB(this._mbounds),this._rectangle=Cesium.Rectangle.fromDegrees(this.bounds.west,this.bounds.south,this.bounds.east,this.bounds.north),this._container=CesiumHeatmap._getContainer(this.width,this.height,this._id),this._options.container=this._container,this._heatmap=h337.create(this._options),this._container.children[0].setAttribute("id",this._id+"-hm")}!function(e){"undefined"==typeof CesiumHeatmap?e.CesiumHeatmap=function(){var e={defaults:{useEntitiesIfAvailable:!0,minCanvasSize:700,maxCanvasSize:2e3,radiusFactor:60,spacingFactor:1.5,maxOpacity:.8,minOpacity:.1,blur:.85,gradient:{".1":"blue",".35":"yellow",".6":"orange",".95":"red"}},create:function(e,t,i){return new CHInstance(e,t,i)},_getContainer:function(e,t,i){var n=document.createElement("div");return i&&n.setAttribute("id",i),n.setAttribute("style","width: "+e+"px; height: "+t+"px; margin: 0px; display: none;"),document.body.appendChild(n),n},_getImageryProvider:function(e){var t=e._heatmap.getDataURL(),i=new Cesium.SingleTileImageryProvider({url:t,rectangle:e._rectangle});return i._tilingScheme=new Cesium.WebMercatorTilingScheme({rectangleSouthwestInMeters:new Cesium.Cartesian2(e._mbounds.west,e._mbounds.south),rectangleNortheastInMeters:new Cesium.Cartesian2(e._mbounds.east,e._mbounds.north)}),i},_getID:function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<(e||8);n++)t+=i.charAt(Math.floor(62*Math.random()));return t}},t=new Cesium.WebMercatorProjection;return e.wgs84ToMercator=function(e){var i=t.project(Cesium.Cartographic.fromDegrees(e.x,e.y));return{x:i.x,y:i.y}},e.wgs84ToMercatorBB=function(e){var i=t.project(Cesium.Cartographic.fromDegrees(e.west,e.south)),n=t.project(Cesium.Cartographic.fromDegrees(e.east,e.north));return{north:n.y,east:n.x,south:i.y,west:i.x}},e.mercatorToWgs84=function(e){var i=t.unproject(new Cesium.Cartesian3(e.x,e.y));return{x:i.longitude,y:i.latitude}},e.mercatorToWgs84BB=function(e){var i=t.unproject(new Cesium.Cartesian3(e.west,e.south)),n=t.unproject(new Cesium.Cartesian3(e.east,e.north));return{north:this.rad2deg(n.latitude),east:this.rad2deg(n.longitude),south:this.rad2deg(i.latitude),west:this.rad2deg(i.longitude)}},e.deg2rad=function(e){return e*(Math.PI/180)},e.rad2deg=function(e){return e/(Math.PI/180)},e}():console.log("CesiumHeatmap already defined.")}(window),CHInstance.prototype.wgs84PointToHeatmapPoint=function(e){return this.mercatorPointToHeatmapPoint(CesiumHeatmap.wgs84ToMercator(e))},CHInstance.prototype.mercatorPointToHeatmapPoint=function(e){var t={};return t.x=Math.round((e.x-this._xoffset)/this._factor+this._spacing),t.y=Math.round((e.y-this._yoffset)/this._factor+this._spacing),t.y=this.height-t.y,t},CHInstance.prototype._setWidthAndHeight=function(e){this.width=e.east>0&&e.west<0?e.east+Math.abs(e.west):Math.abs(e.east-e.west),this.height=e.north>0&&e.south<0?e.north+Math.abs(e.south):Math.abs(e.north-e.south),this._factor=1,this.width>this.height&&this.width>CesiumHeatmap.defaults.maxCanvasSize?(this._factor=this.width/CesiumHeatmap.defaults.maxCanvasSize,this.height/this._factor<CesiumHeatmap.defaults.minCanvasSize&&(this._factor=this.height/CesiumHeatmap.defaults.minCanvasSize)):this.height>this.width&&this.height>CesiumHeatmap.defaults.maxCanvasSize?(this._factor=this.height/CesiumHeatmap.defaults.maxCanvasSize,this.width/this._factor<CesiumHeatmap.defaults.minCanvasSize&&(this._factor=this.width/CesiumHeatmap.defaults.minCanvasSize)):this.width<this.height&&this.width<CesiumHeatmap.defaults.minCanvasSize?(this._factor=this.width/CesiumHeatmap.defaults.minCanvasSize,this.height/this._factor>CesiumHeatmap.defaults.maxCanvasSize&&(this._factor=this.height/CesiumHeatmap.defaults.maxCanvasSize)):this.height<this.width&&this.height<CesiumHeatmap.defaults.minCanvasSize&&(this._factor=this.height/CesiumHeatmap.defaults.minCanvasSize,this.width/this._factor>CesiumHeatmap.defaults.maxCanvasSize&&(this._factor=this.width/CesiumHeatmap.defaults.maxCanvasSize)),this.width=this.width/this._factor,this.height=this.height/this._factor},CHInstance.prototype.setData=function(e,t,i){return!!(i&&i.length>0&&null!==e&&!1!==e&&null!==t&&!1!==t)&&(this._heatmap.setData({min:e,max:t,data:i}),this.updateLayer(),!0)},CHInstance.prototype.setWGS84Data=function(e,t,i){if(i&&i.length>0&&null!==e&&!1!==e&&null!==t&&!1!==t){for(var n=[],r=0;r<i.length;r++){var o=i[r],a=this.wgs84PointToHeatmapPoint(o);(o.value||0===o.value)&&(a.value=o.value),n.push(a)}return this.setData(e,t,n)}return!1},CHInstance.prototype.show=function(e){this._layer&&(this._layer.show=e)},CHInstance.prototype.updateLayer=function(){if(CesiumHeatmap.defaults.useEntitiesIfAvailable&&this._cesium.entities){this._layer&&this._cesium.entities.remove(this._layer);let e=new Cesium.ImageMaterialProperty({image:this._heatmap._renderer.canvas});Cesium.VERSION>="1.21"||Cesium.VERSION>="1.16"&&(e.alpha=.99),this._layer=this._cesium.entities.add({show:!0,rectangle:{coordinates:this._rectangle,material:e}})}else this._layer&&this._cesium.scene.imageryLayers.remove(this._layer),this._layer=this._cesium.scene.imageryLayers.addImageryProvider(CesiumHeatmap._getImageryProvider(this))},b=window,c=function(){var e={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},t=function(){var t=function(e){this._coordinator={},this._data=[],this._radi=[],this._min=0,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)},i=e.defaultRadius;return t.prototype={_organiseData:function(e,t){var n=e[this._xField],r=e[this._yField],o=this._radi,a=this._data,s=this._max,l=this._min,u=e[this._valueField]||1,c=e.radius||this._cfgRadius||i;return a[n]||(a[n]=[],o[n]=[]),a[n][r]?a[n][r]+=u:(a[n][r]=u,o[n][r]=c),a[n][r]>s?(t?this.setDataMax(a[n][r]):this._max=a[n][r],!1):{x:n,y:r,value:u,radius:c,min:l,max:s}},_unOrganizeData:function(){var e=[],t=this._data,i=this._radi;for(var n in t)for(var r in t[n])e.push({x:n,y:r,radius:i[n][r],value:t[n][r]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var e=arguments[0],t=e.length;t--;)this.addData.call(this,e[t]);else{var i=this._organiseData(arguments[0],!0);i&&this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[i]})}return this},setData:function(e){var t=e.data,i=t.length;this._data=[],this._radi=[];for(var n=0;n<i;n++)this._organiseData(t[n],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},t}(),i=function(){var e=function(e){var t=e.gradient||e.defaultGradient,i=document.createElement("canvas"),n=i.getContext("2d");i.width=256,i.height=1;var r=n.createLinearGradient(0,0,256,1);for(var o in t)r.addColorStop(o,t[o]);return n.fillStyle=r,n.fillRect(0,0,256,1),n.getImageData(0,0,256,1).data},t=function(e,t){var i=document.createElement("canvas"),n=i.getContext("2d"),r=e,o=e;if(i.width=i.height=2*e,1==t)n.beginPath(),n.arc(r,o,e,0,2*Math.PI,!1),n.fillStyle="rgba(0,0,0,1)",n.fill();else{var a=n.createRadialGradient(r,o,e*t,r,o,e);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),n.fillStyle=a,n.fillRect(0,0,2*e,2*e)}return i};function i(t){var i=t.container,n=this.shadowCanvas=document.createElement("canvas"),r=this.canvas=t.canvas||document.createElement("canvas");this._renderBoundaries=[1e4,1e4,0,0];var o=getComputedStyle(t.container)||{};r.className="heatmap-canvas",this._width=r.width=n.width=+o.width.replace(/px/,""),this._height=r.height=n.height=+o.height.replace(/px/,""),this.shadowCtx=n.getContext("2d"),this.ctx=r.getContext("2d"),r.style.cssText=n.style.cssText="position:absolute;left:0;top:0;",i.style.position="relative",i.appendChild(r),this._palette=e(t),this._templates={},this._setStyles(t)}return i.prototype={renderPartial:function(e){this._drawAlpha(e),this._colorize()},renderAll:function(e){this._clear(),this._drawAlpha(function(e){for(var t=[],i=e.min,n=e.max,r=e.radi,o=(e=e.data,Object.keys(e)),a=o.length;a--;)for(var s=o[a],l=Object.keys(e[s]),u=l.length;u--;){var c=l[u],h=e[s][c],g=r[s][c];t.push({x:s,y:c,value:h,radius:g})}return{min:i,max:n,data:t}}(e)),this._colorize()},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(e){e.gradient&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,t){this._width=e,this._height=t,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=t},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){for(var i=this._min=e.min,n=this._max=e.max,r=(e=e.data||[]).length,o=1-this._blur;r--;){var a,s=e[r],l=s.x,u=s.y,c=s.radius,h=Math.min(s.value,n),g=l-c,d=u-c,p=this.shadowCtx;this._templates[c]?a=this._templates[c]:this._templates[c]=a=t(c,o),p.globalAlpha=(h-i)/(n-i),p.drawImage(a,g,d),g<this._renderBoundaries[0]&&(this._renderBoundaries[0]=g),d<this._renderBoundaries[1]&&(this._renderBoundaries[1]=d),g+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=g+2*c),d+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=d+2*c)}},_colorize:function(){var e=this._renderBoundaries[0],t=this._renderBoundaries[1],i=this._renderBoundaries[2]-e,n=this._renderBoundaries[3]-t,r=this._width,o=this._height,a=this._opacity,s=this._maxOpacity,l=this._minOpacity,u=this._useGradientOpacity;e<0&&(e=0),t<0&&(t=0),e+i>r&&(i=r-e),t+n>o&&(n=o-t);for(var c=this.shadowCtx.getImageData(e,t,i,n),h=c,g=c.data,d=g.length,p=this._palette,m=3;m<d;m+=4){var f,C=g[m],y=4*C;y&&(f=a>0?a:C<s?C<l?l:C:s,h.data[m-3]=p[y],h.data[m-2]=p[y+1],h.data[m-1]=p[y+2],h.data[m]=u?p[y+3]:f)}this.ctx.putImageData(h,e,t),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var t=this.shadowCtx.getImageData(e.x,e.y,1,1).data[3],i=this._max,n=this._min;return Math.abs(i-n)*(t/255)|0},getDataURL:function(){return this.canvas.toDataURL()}},i}(),n=function(){var t=!1;return"canvas2d"===e.defaultRenderer&&(t=i),t}(),r=function(){for(var e={},t=arguments.length,i=0;i<t;i++){var n=arguments[i];for(var r in n)e[r]=n[r]}return e},o=function(){var i=function(){function e(){this.cStore={}}return e.prototype={on:function(e,t,i){var n=this.cStore;n[e]||(n[e]=[]),n[e].push((function(e){return t.call(i,e)}))},emit:function(e,t){var i=this.cStore;if(i[e])for(var n=i[e].length,r=0;r<n;r++)(0,i[e][r])(t)}},e}();function o(){var o=this._config=r(e,arguments[0]||{});if(this._coordinator=new i,o.plugin){var a=o.plugin;if(!e.plugins[a])throw new Error("Plugin '"+a+"' not found. Maybe it was not registered.");var s=e.plugins[a];this._renderer=new s.renderer(o),this._store=new s.store(o)}else this._renderer=new n(o),this._store=new t(o);!function(e){var t=e._renderer,i=e._coordinator,n=e._store;i.on("renderpartial",t.renderPartial,t),i.on("renderall",t.renderAll,t),i.on("extremachange",(function(t){e._config.onExtremaChange&&e._config.onExtremaChange({min:t.min,max:t.max,gradient:e._config.gradient||e._config.defaultGradient})})),n.setCoordinator(i)}(this)}return o.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=r(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},o}(),a={create:function(e){return new o(e)},register:function(t,i){e.plugins[t]=i}};return a},"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b.h337=c();let createWebGLHeatmap=null;!function(e){var t,i,n,r,o,a,s,l,u=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};s=function(){var e,t,i,n,r,o,a,s,l,c,h,g,d,p;if(r=function(){var e,t,i;return(e=document.createElement("canvas")).width=2,e.height=2,(i=(t=e.getContext("2d")).getImageData(0,0,2,2)).data.set(new Uint8ClampedArray([0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255])),t.putImageData(i,0,0),e},r(),t=function(e,t){var i,n,o,a,s,l,u,c,h,g,d,p,m,f;if(l=e.createProgram(),m=e.createShader(e.VERTEX_SHADER),e.attachShader(l,m),e.shaderSource(m,"attribute vec2 position;\nvoid main(){\n    gl_Position = vec4(position, 0.0, 1.0);\n}"),e.compileShader(m),!e.getShaderParameter(m,e.COMPILE_STATUS))throw e.getShaderInfoLog(m);if(o=e.createShader(e.FRAGMENT_SHADER),e.attachShader(l,o),e.shaderSource(o,"uniform sampler2D source;\nvoid main(){\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\n}"),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw e.getShaderInfoLog(o);if(e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw e.getProgramInfoLog(l);return e.useProgram(l),n=function(){return e.deleteShader(o),e.deleteShader(m),e.deleteProgram(l),e.deleteBuffer(i),e.deleteTexture(h),e.deleteTexture(p),e.deleteFramebuffer(a),e.bindBuffer(e.ARRAY_BUFFER,null),e.useProgram(null),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},p=e.createTexture(),e.bindTexture(e.TEXTURE_2D,p),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),a=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,p,0),g=r(),h=e.createTexture(),e.bindTexture(e.TEXTURE_2D,h),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,t,g),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),f=new Float32Array([1,1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,f,e.STATIC_DRAW),s=e.getAttribLocation(l,"position"),d=e.getUniformLocation(l,"source"),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.uniform1i(d,0),e.drawArrays(e.TRIANGLES,0,6),u=new Uint8Array(16),e.readPixels(0,0,2,2,e.RGBA,e.UNSIGNED_BYTE,u),c=Math.abs(u[0]-127)<10,n(),c},n=function(e,t){var i;return i=e.createTexture(),e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,t,null),0===e.getError()?(e.deleteTexture(i),!0):(e.deleteTexture(i),!1)},e=function(e,t){var i,n,r;return r=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,t,null),n=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),i=e.checkFramebufferStatus(e.FRAMEBUFFER),e.deleteTexture(r),e.deleteFramebuffer(n),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),i===e.FRAMEBUFFER_COMPLETE},l=[],c={},h=[],i=function(){var i,r,o,a,s;i=document.createElement("canvas"),r=null;try{null===(r=i.getContext("experimental-webgl"))&&(r=i.getContext("webgl"))}catch(e){}if(null!=r&&(null===r.getExtension("OES_texture_float")?n(r,r.FLOAT)?(s=!0,l.push("OES_texture_float"),c.OES_texture_float={shim:!0}):(s=!1,h.push("OES_texture_float")):n(r,r.FLOAT)?(s=!0,l.push("OES_texture_float")):(s=!1,h.push("OES_texture_float")),s&&(null===r.getExtension("WEBGL_color_buffer_float")?e(r,r.FLOAT)?(l.push("WEBGL_color_buffer_float"),c.WEBGL_color_buffer_float={shim:!0,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):h.push("WEBGL_color_buffer_float"):e(r,r.FLOAT)?l.push("WEBGL_color_buffer_float"):h.push("WEBGL_color_buffer_float"),null===r.getExtension("OES_texture_float_linear")?t(r,r.FLOAT)?(l.push("OES_texture_float_linear"),c.OES_texture_float_linear={shim:!0}):h.push("OES_texture_float_linear"):t(r,r.FLOAT)?l.push("OES_texture_float_linear"):h.push("OES_texture_float_linear")),null===(o=r.getExtension("OES_texture_half_float"))?n(r,36193)?(a=!0,l.push("OES_texture_half_float"),o=c.OES_texture_half_float={HALF_FLOAT_OES:36193,shim:!0}):(a=!1,h.push("OES_texture_half_float")):n(r,o.HALF_FLOAT_OES)?(a=!0,l.push("OES_texture_half_float")):(a=!1,h.push("OES_texture_half_float")),a))return null===r.getExtension("EXT_color_buffer_half_float")?e(r,o.HALF_FLOAT_OES)?(l.push("EXT_color_buffer_half_float"),c.EXT_color_buffer_half_float={shim:!0,RGBA16F_EXT:34842,RGB16F_EXT:34843,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):h.push("EXT_color_buffer_half_float"):e(r,o.HALF_FLOAT_OES)?l.push("EXT_color_buffer_half_float"):h.push("EXT_color_buffer_half_float"),null===r.getExtension("OES_texture_half_float_linear")?t(r,o.HALF_FLOAT_OES)?(l.push("OES_texture_half_float_linear"),c.OES_texture_half_float_linear={shim:!0}):h.push("OES_texture_half_float_linear"):t(r,o.HALF_FLOAT_OES)?l.push("OES_texture_half_float_linear"):h.push("OES_texture_half_float_linear")},null!=window.WebGLRenderingContext){for(i(),g={},d=0,p=h.length;d<p;d++)s=h[d],g[s]=!0;return o=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(e){var t;return void 0===(t=c[e])?g[e]?null:o.call(this,e):t},a=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var e,t,i,n,r,o,s;for(t=[],n=0,o=(i=a.call(this)).length;n<o;n++)e=i[n],void 0===g[e]&&t.push(e);for(r=0,s=l.length;r<s;r++)e=l[r],u.call(t,e)<0&&t.push(e);return t},WebGLRenderingContext.prototype.getFloatExtension=function(e){var t,i,n,r,o,a,l,u,c,h,g,d,p,m,f,C,y,v,A,I,w,b,E,x,_,k;for(null==e.prefer&&(e.prefer=["half"]),null==e.require&&(e.require=[]),null==e.throws&&(e.throws=!0),m=this.getExtension("OES_texture_float"),a=this.getExtension("OES_texture_half_float"),d=this.getExtension("WEBGL_color_buffer_float"),r=this.getExtension("EXT_color_buffer_half_float"),p=this.getExtension("OES_texture_float_linear"),o=this.getExtension("OES_texture_half_float_linear"),g={texture:null!==m,filterable:null!==p,renderable:null!==d,score:0,precision:"single",half:!1,single:!0,type:this.FLOAT},n={texture:null!==a,filterable:null!==o,renderable:null!==r,score:0,precision:"half",half:!0,single:!1,type:null!=(x=null!=a?a.HALF_FLOAT_OES:void 0)?x:null},i=[],g.texture&&i.push(g),n.texture&&i.push(n),h=[],C=0,A=i.length;C<A;C++){for(t=i[C],f=!0,y=0,I=(_=e.require).length;y<I;y++)!1===t[s=_[y]]&&(f=!1);f&&h.push(t)}for(v=0,w=h.length;v<w;v++)for(t=h[v],l=E=0,b=(k=e.prefer).length;E<b;l=++E)c=k[l],u=Math.pow(2,e.prefer.length-l-1),t[c]&&(t.score+=u);if(h.sort((function(e,t){return e.score===t.score?0:e.score<t.score?1:e.score>t.score?-1:void 0})),0===h.length){if(e.throws)throw"No floating point texture support that is "+e.require.join(", ");return null}return{filterable:(h=h[0]).filterable,renderable:h.renderable,type:h.type,precision:h.precision}}}},function(){var e,t,i,n;if(null!=window.WebGLRenderingContext)n=["WEBKIT","MOZ","MS","O"],i=/^WEBKIT_(.*)|MOZ_(.*)|MS_(.*)|O_(.*)/,e=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(t){var r,o,a,s,l;if(null!==(o=t.match(i))&&(t=o[1]),null===(r=e.call(this,t))){for(s=0,l=n.length;s<l;s++)if(a=n[s],null!==(r=e.call(this,a+"_"+t)))return r;return null}return r},t=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var e,n,r,o,a,s;for(r=[],a=0,s=(o=t.call(this)).length;a<s;a++)null!==(n=(e=o[a]).match(i))&&(e=n[1]),u.call(r,e)<0&&r.push(e);return r}}(),s(),r=function(){function e(e,t){var i,n;this.gl=e,n=t.vertex,i=t.fragment,this.program=this.gl.createProgram(),this.vs=this.gl.createShader(this.gl.VERTEX_SHADER),this.fs=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.attachShader(this.program,this.vs),this.gl.attachShader(this.program,this.fs),this.compileShader(this.vs,n),this.compileShader(this.fs,i),this.link(),this.value_cache={},this.uniform_cache={},this.attribCache={}}return e.prototype.attribLocation=function(e){var t;return void 0===(t=this.attribCache[e])&&(t=this.attribCache[e]=this.gl.getAttribLocation(this.program,e)),t},e.prototype.compileShader=function(e,t){if(this.gl.shaderSource(e,t),this.gl.compileShader(e),!this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS))throw"Shader Compile Error: "+this.gl.getShaderInfoLog(e)},e.prototype.link=function(){if(this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw"Shader Link Error: "+this.gl.getProgramInfoLog(this.program)},e.prototype.use=function(){return this.gl.useProgram(this.program),this},e.prototype.uniformLoc=function(e){var t;return void 0===(t=this.uniform_cache[e])&&(t=this.uniform_cache[e]=this.gl.getUniformLocation(this.program,e)),t},e.prototype.int=function(e,t){var i;return this.value_cache[e]!==t&&(this.value_cache[e]=t,(i=this.uniformLoc(e))&&this.gl.uniform1i(i,t)),this},e.prototype.vec2=function(e,t,i){var n;return(n=this.uniformLoc(e))&&this.gl.uniform2f(n,t,i),this},e.prototype.float=function(e,t){var i;return this.value_cache[e]!==t&&(this.value_cache[e]=t,(i=this.uniformLoc(e))&&this.gl.uniform1f(i,t)),this},e}(),t=function(){function e(e){this.gl=e,this.buffer=this.gl.createFramebuffer()}return e.prototype.destroy=function(){return this.gl.deleteFRamebuffer(this.buffer)},e.prototype.bind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.buffer),this},e.prototype.unbind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this},e.prototype.check=function(){switch(this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER)){case this.gl.FRAMEBUFFER_UNSUPPORTED:throw"Framebuffer is unsupported";case this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw"Framebuffer incomplete attachment";case this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:throw"Framebuffer incomplete dimensions";case this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw"Framebuffer incomplete missing attachment"}return this},e.prototype.color=function(e){return this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,e.target,e.handle,0),this.check(),this},e.prototype.depth=function(e){return this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,e.id),this.check(),this},e.prototype.destroy=function(){return this.gl.deleteFramebuffer(this.buffer)},e}(),o=function(){function e(e,t){var i,n;switch(this.gl=e,null==t&&(t={}),this.channels=this.gl[(null!=(i=t.channels)?i:"rgba").toUpperCase()],"number"==typeof t.type?this.type=t.type:this.type=this.gl[(null!=(n=t.type)?n:"unsigned_byte").toUpperCase()],this.channels){case this.gl.RGBA:this.chancount=4;break;case this.gl.RGB:this.chancount=3;break;case this.gl.LUMINANCE_ALPHA:this.chancount=2;break;default:this.chancount=1}this.target=this.gl.TEXTURE_2D,this.handle=this.gl.createTexture()}return e.prototype.destroy=function(){return this.gl.deleteTexture(this.handle)},e.prototype.bind=function(e){if(null==e&&(e=0),e>15)throw"Texture unit too large: "+e;return this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.target,this.handle),this},e.prototype.setSize=function(e,t){return this.width=e,this.height=t,this.gl.texImage2D(this.target,0,this.channels,this.width,this.height,0,this.channels,this.type,null),this},e.prototype.upload=function(e){return this.width=e.width,this.height=e.height,this.gl.texImage2D(this.target,0,this.channels,this.channels,this.type,e),this},e.prototype.linear=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this},e.prototype.nearest=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this},e.prototype.clampToEdge=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this},e.prototype.repeat=function(){return this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this},e}(),n=function(){function e(e,i,n){var r;this.gl=e,this.width=i,this.height=n,r=this.gl.getFloatExtension({require:["renderable"]}),this.texture=new o(this.gl,{type:r.type}).bind(0).setSize(this.width,this.height).nearest().clampToEdge(),this.fbo=new t(this.gl).bind().color(this.texture).unbind()}return e.prototype.use=function(){return this.fbo.bind()},e.prototype.bind=function(e){return this.texture.bind(e)},e.prototype.end=function(){return this.fbo.unbind()},e.prototype.resize=function(e,t){return this.width=e,this.height=t,this.texture.bind(0).setSize(this.width,this.height)},e}(),l="attribute vec4 position;\nvarying vec2 texcoord;\nvoid main(){\n    texcoord = position.xy*0.5+0.5;\n    gl_Position = position;\n}",a="#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp int;\n    precision highp float;\n#else\n    precision mediump int;\n    precision mediump float;\n#endif\nuniform sampler2D source;\nvarying vec2 texcoord;",i=function(){function e(e,t,i,o){var s,u,c;for(this.heatmap=e,this.gl=t,this.width=i,this.height=o,this.shader=new r(this.gl,{vertex:"attribute vec4 position, intensity;\nvarying vec2 off, dim;\nvarying float vIntensity;\nuniform vec2 viewport;\n\nvoid main(){\n    dim = abs(position.zw);\n    off = position.zw;\n    vec2 pos = position.xy + position.zw;\n    vIntensity = intensity.x;\n    gl_Position = vec4((pos/viewport)*2.0-1.0, 0.0, 1.0);\n}",fragment:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp int;\n    precision highp float;\n#else\n    precision mediump int;\n    precision mediump float;\n#endif\nvarying vec2 off, dim;\nvarying float vIntensity;\nvoid main(){\n    float falloff = (1.0 - smoothstep(0.0, 1.0, length(off/dim)));\n    float intensity = falloff*vIntensity;\n    gl_FragColor = vec4(intensity);\n}"}),this.clampShader=new r(this.gl,{vertex:l,fragment:a+"uniform float low, high;\nvoid main(){\n    gl_FragColor = vec4(clamp(texture2D(source, texcoord).rgb, low, high), 1.0);\n}"}),this.multiplyShader=new r(this.gl,{vertex:l,fragment:a+"uniform float value;\nvoid main(){\n    gl_FragColor = vec4(texture2D(source, texcoord).rgb*value, 1.0);\n}"}),this.blurShader=new r(this.gl,{vertex:l,fragment:a+"uniform vec2 viewport;\nvoid main(){\n    vec4 result = vec4(0.0);\n    for(int x=-1; x<=1; x++){\n        for(int y=-1; y<=1; y++){\n            vec2 off = vec2(x,y)/viewport;\n            //float factor = 1.0 - smoothstep(0.0, 1.5, length(off));\n            float factor = 1.0;\n            result += vec4(texture2D(source, texcoord+off).rgb*factor, factor);\n        }\n    }\n    gl_FragColor = vec4(result.rgb/result.w, 1.0);\n}"}),this.nodeBack=new n(this.gl,this.width,this.height),this.nodeFront=new n(this.gl,this.width,this.height),this.vertexBuffer=this.gl.createBuffer(),this.vertexSize=8,this.maxPointCount=10240,this.vertexBufferData=new Float32Array(this.maxPointCount*this.vertexSize*6),this.vertexBufferViews=[],s=u=0,c=this.maxPointCount;0<=c?u<c:u>c;s=0<=c?++u:--u)this.vertexBufferViews.push(new Float32Array(this.vertexBufferData.buffer,0,s*this.vertexSize*6));this.bufferIndex=0,this.pointCount=0}return e.prototype.resize=function(e,t){return this.width=e,this.height=t,this.nodeBack.resize(this.width,this.height),this.nodeFront.resize(this.width,this.height)},e.prototype.update=function(){var e,t;if(this.pointCount>0)return this.gl.enable(this.gl.BLEND),this.nodeFront.use(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertexBufferViews[this.pointCount],this.gl.STREAM_DRAW),t=this.shader.attribLocation("position"),e=this.shader.attribLocation("intensity"),this.gl.enableVertexAttribArray(1),this.gl.vertexAttribPointer(t,4,this.gl.FLOAT,!1,32,0),this.gl.vertexAttribPointer(e,4,this.gl.FLOAT,!1,32,16),this.shader.use().vec2("viewport",this.width,this.height),this.gl.drawArrays(this.gl.TRIANGLES,0,6*this.pointCount),this.gl.disableVertexAttribArray(1),this.pointCount=0,this.bufferIndex=0,this.nodeFront.end(),this.gl.disable(this.gl.BLEND)},e.prototype.clear=function(){return this.nodeFront.use(),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.nodeFront.end()},e.prototype.clamp=function(e,t){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.heatmap.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.nodeFront.bind(0),this.nodeBack.use(),this.clampShader.use().int("source",0).float("low",e).float("high",t),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.nodeBack.end(),this.swap()},e.prototype.multiply=function(e){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.heatmap.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.nodeFront.bind(0),this.nodeBack.use(),this.multiplyShader.use().int("source",0).float("value",e),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.nodeBack.end(),this.swap()},e.prototype.blur=function(){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.heatmap.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.nodeFront.bind(0),this.nodeBack.use(),this.blurShader.use().int("source",0).vec2("viewport",this.width,this.height),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.nodeBack.end(),this.swap()},e.prototype.swap=function(){var e;return e=this.nodeFront,this.nodeFront=this.nodeBack,this.nodeBack=e},e.prototype.addVertex=function(e,t,i,n,r){return this.vertexBufferData[this.bufferIndex++]=e,this.vertexBufferData[this.bufferIndex++]=t,this.vertexBufferData[this.bufferIndex++]=i,this.vertexBufferData[this.bufferIndex++]=n,this.vertexBufferData[this.bufferIndex++]=r,this.vertexBufferData[this.bufferIndex++]=r,this.vertexBufferData[this.bufferIndex++]=r,this.vertexBufferData[this.bufferIndex++]=r},e.prototype.addPoint=function(e,t,i,n){var r;return null==i&&(i=50),null==n&&(n=.2),this.pointCount>=this.maxPointCount-1&&this.update(),t=this.height-t,r=i/2,this.addVertex(e,t,-r,-r,n),this.addVertex(e,t,+r,-r,n),this.addVertex(e,t,-r,+r,n),this.addVertex(e,t,-r,+r,n),this.addVertex(e,t,+r,-r,n),this.addVertex(e,t,+r,+r,n),this.pointCount+=1},e}(),function(){function e(e){var t,n,s,u,c,h,g,d,p,m,f,C;f=null!=e?e:{},this.canvas=f.canvas,this.width=f.width,this.height=f.height,g=f.intensityToAlpha,c=f.gradientTexture,n=f.alphaRange,this.canvas||(this.canvas=document.createElement("canvas"));try{if(this.gl=this.canvas.getContext("experimental-webgl",{depth:!1,antialias:!1}),null===this.gl&&(this.gl=this.canvas.getContext("webgl",{depth:!1,antialias:!1}),null===this.gl))throw"WebGL not supported"}catch(e){throw"WebGL not supported"}null!=window.WebGLDebugUtils&&(console.log("debugging mode"),this.gl=WebGLDebugUtils.makeDebugContext(this.gl,(function(e,t,i){throw WebGLDebugUtils.glEnumToString(e)+" was caused by call to: "+t}))),this.gl.enableVertexAttribArray(0),this.gl.blendFunc(this.gl.ONE,this.gl.ONE),c?(m=this.gradientTexture=new o(this.gl,{channels:"rgba"}).bind(0).setSize(2,2).nearest().clampToEdge(),"string"==typeof c?((h=new Image).onload=function(){return m.bind().upload(h)},h.src=c):c.width>0&&c.height>0?m.upload(c):c.onload=function(){return m.upload(c)},u="uniform sampler2D gradientTexture;\nvec3 getColor(float intensity){\n    return texture2D(gradientTexture, vec2(intensity, 0.0)).rgb;\n}"):(m=null,u="vec3 getColor(float intensity){\n    vec3 blue = vec3(0.0, 0.0, 1.0);\n    vec3 cyan = vec3(0.0, 1.0, 0.0);\n    vec3 green = vec3(0.0, 1.0, 0.0);\n    vec3 yellow = vec3(1.0, 1.0, 0.0);\n    vec3 red = vec3(1.0, 0.0, 0.0);\n\n    vec3 color = (\n        fade(-0.25, 0.25, intensity)*blue +\n        fade(0.0, 0.5, intensity)*cyan +\n        fade(0.25, 0.75, intensity)*green +\n        fade(0.5, 1.0, intensity)*yellow +\n        smoothstep(0.75, 1.0, intensity)*red\n    );\n    return color;\n}"),null==g&&(g=!0),g?(s=(C=null!=n?n:[0,1])[0],t=C[1],d="vec4 alphaFun(vec3 color, float intensity){\n    float alpha = smoothstep("+s.toFixed(8)+", "+t.toFixed(8)+", intensity);\n    return vec4(color*alpha, alpha);\n}"):d="vec4 alphaFun(vec3 color, float intensity){\n    return vec4(color, 1.0);\n}",this.shader=new r(this.gl,{vertex:l,fragment:a+"float linstep(float low, float high, float value){\n    return clamp((value-low)/(high-low), 0.0, 1.0);\n}\n\nfloat fade(float low, float high, float value){\n    float mid = (low+high)*0.5;\n    float range = (high-low)*0.5;\n    float x = 1.0 - clamp(abs(mid-value)/range, 0.0, 1.0);\n    return smoothstep(0.0, 1.0, x);\n}\n\n"+u+"\n"+d+"\n\nvoid main(){\n    float intensity = smoothstep(0.0, 1.0, texture2D(source, texcoord).r);\n    vec3 color = getColor(intensity);\n    gl_FragColor = alphaFun(color, intensity);\n}"}),null==this.width&&(this.width=this.canvas.offsetWidth||2),null==this.height&&(this.height=this.canvas.offsetHeight||2),this.canvas.width=this.width,this.canvas.height=this.height,this.gl.viewport(0,0,this.width,this.height),this.quad=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.quad),p=new Float32Array([-1,-1,0,1,1,-1,0,1,-1,1,0,1,-1,1,0,1,1,-1,0,1,1,1,0,1]),this.gl.bufferData(this.gl.ARRAY_BUFFER,p,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.heights=new i(this,this.gl,this.width,this.height)}e.prototype.adjustSize=function(){var e,t;if(t=this.canvas.offsetWidth||2,e=this.canvas.offsetHeight||2,this.width!==t||this.height!==e)return this.gl.viewport(0,0,t,e),this.canvas.width=t,this.canvas.height=e,this.width=t,this.height=e,this.heights.resize(this.width,this.height)},e.prototype.display=function(){return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.quad),this.gl.vertexAttribPointer(0,4,this.gl.FLOAT,!1,0,0),this.heights.nodeFront.bind(0),this.gradientTexture&&this.gradientTexture.bind(1),this.shader.use().int("source",0).int("gradientTexture",1),this.gl.drawArrays(this.gl.TRIANGLES,0,6)},e.prototype.update=function(){return this.heights.update()},e.prototype.clear=function(){return this.heights.clear()},e.prototype.clamp=function(e,t){return null==e&&(e=0),null==t&&(t=1),this.heights.clamp(e,t)},e.prototype.multiply=function(e){return null==e&&(e=.95),this.heights.multiply(e)},e.prototype.blur=function(){return this.heights.blur()},e.prototype.addPoint=function(e,t,i,n){return this.heights.addPoint(e,t,i,n)},e.prototype.addPoints=function(e){var t,i,n,r;for(r=[],i=0,n=e.length;i<n;i++)t=e[i],r.push(this.addPoint(t.x,t.y,t.size,t.intensity));return r}}()}();var CesiumHeatmap$1=function(e,t){function i(e,t,i={}){this._viewer=e,this.options={maxOpacity:.9,radius:30,minOpacity:.1,gradient:{".3":"blue",".5":"green",".7":"yellow",".95":"red"}},this.options=Object.assign(this.options,i);var n=this;t&&("string"==typeof t?function(e,t){const i=new XMLHttpRequest;i.responseType="json",i.open("get",e,!0),i.onload=function(){if(!(i.status>=200&&i.status<300))throw new Error(i.statusText);t(i.response)},i.send()}(t,(function(e){n.loadGeojson(e)})):this.loadGeojson(t))}function n(e){var t=new Image;return t.src=e.toDataURL("image/png"),t}return i.prototype.loadGeojson=function(i){var n=1e3,r=-1e3,o=1e3,a=-1e3;i.features.forEach((function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1];n=t<n?t:n,o=i<o?i:o,r=t>r?t:r,a=i>a?i:a}));var s=r-n,l=a-o,u={xMin:n-s/10,yMin:o-l/10,xMax:r+s/10,yMax:a+l/10},c=document.createElement("div"),h=parseInt(1e3/(u.xMax-u.xMin)*(u.yMax-u.yMin));c.setAttribute("style","width:1000px;height:"+h+"px"),document.body.appendChild(c);var g=this.options;this.heatmapInstance=t.create({container:c,maxOpacity:g.maxOpacity,radius:g.radius,minOpacity:g.minOpacity,gradient:g.gradient});var d=[],p=1,m=0;i.features.forEach((function(e){var t=(e.geometry.coordinates[0]-u.xMin)/(u.xMax-u.xMin)*1e3,i=(-(e.geometry.coordinates[1]-u.yMin)/(u.yMax-u.yMin)+1)*h,n=g.value?e.properties[g.value]:.02;m>n&&(m=n),p<n&&(p=n);var r={x:t,y:i,value:n};d.push(r)}));i={min:m,max:p,data:d};this.heatmapInstance.setData(i),this.heatmapcanvas=this.heatmapInstance._renderer.canvas,this.drawHeatmapRect(this.heatmapcanvas,u),this._viewer.camera.flyTo({destination:e.Rectangle.fromDegrees(u.xMin,u.yMin,u.xMax,u.yMax)})},i.prototype.drawHeatmapRect=function(t,i){var r=n(t);this._wRectangle=this._viewer.scene.primitives.add(new e.GroundPrimitive({geometryInstances:new e.GeometryInstance({geometry:new e.RectangleGeometry({rectangle:e.Rectangle.fromDegrees(i.xMin,i.yMin,i.xMax,i.yMax),vertexFormat:e.EllipsoidSurfaceAppearance.VERTEX_FORMAT})}),appearance:new e.EllipsoidSurfaceAppearance({aboveGround:!1}),show:!0})),this._wRectangle.appearance.material=new e.Material({fabric:{type:"Image",uniforms:{image:r.src}}})},i.prototype.updateHeatmap=function(){var e=n(this.heatmapcanvas);this._wRectangle.appearance.material.uniforms.image=e.src},i.prototype.config=function(e){this.heatmapInstance.configure(e),this.updateHeatmap()},i}(Cesium||{},h337||{}),CesiumHeatmapGL=function(e,t){function i(e,t,i={}){this._viewer=e,this.options={size:20,intensity:.05};var n=this;this.options=Object.assign(this.options,i),t&&("string"==typeof t?function(e,t){const i=new XMLHttpRequest;i.responseType="json",i.open("get",e,!0),i.onload=function(){if(!(i.status>=200&&i.status<300))throw new Error(i.statusText);t(i.response)},i.send()}(t,(function(e){n.loadGeojson(e)})):this.loadGeojson(t))}function n(e){var t=new Image;return t.src=e.toDataURL("image/png"),t}return i.prototype.loadGeojson=function(i){var n=this,r=1e3,o=-1e3,a=1e3,s=-1e3;i.features.forEach((function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1];r=t<r?t:r,a=i<a?i:a,o=t>o?t:o,s=i>s?i:s}));var l=o-r,u=s-a,c={xMin:r-l/10,yMin:a-u/10,xMax:o+l/10,yMax:s+u/10},h=document.createElement("canvas");document.body.appendChild(h),h.width=1e3,h.height=parseInt(1e3/(c.xMax-c.xMin)*(c.yMax-c.yMin));try{var g={canvas:h,intensityToAlpha:!0};n.options.gradientTexture&&(g.gradientTexture=n.options.gradientTexture),0==n.options.intensityToAlpha&&(g.intensityToAlpha=n.options.intensityToAlpha);var d=this._heatmap=t(g)}catch(e){console.error(e)}i.features.forEach((function(e){var t=(e.geometry.coordinates[0]-c.xMin)/(c.xMax-c.xMin)*h.clientWidth,i=(-(e.geometry.coordinates[1]-c.yMin)/(c.yMax-c.yMin)+1)*h.clientHeight,r="string"==typeof n.options.size?e.properties[n.options.size]:n.options.size,o=n.options.intensity;d.addPoint(t,i,r,o)})),d.adjustSize(),d.update(),d.display(),this.drawHeatmapRect(h,c),this._viewer.camera.flyTo({destination:e.Rectangle.fromDegrees(c.xMin,c.yMin,c.xMax,c.yMax)})},i.prototype.drawHeatmapRect=function(t,i){var r=n(t);this._wRectangle=this._viewer.scene.primitives.add(new e.GroundPrimitive({geometryInstances:new e.GeometryInstance({geometry:new e.RectangleGeometry({rectangle:e.Rectangle.fromDegrees(i.xMin,i.yMin,i.xMax,i.yMax),vertexFormat:e.EllipsoidSurfaceAppearance.VERTEX_FORMAT})}),appearance:new e.EllipsoidSurfaceAppearance({aboveGround:!1}),show:!0})),this._wRectangle.appearance.material=new e.Material({fabric:{type:"Image",uniforms:{image:r.src}}})},i.prototype.updateHeatmap=function(){this._heatmap.adjustSize(),this._heatmap.update(),this._heatmap.display();var e=n(this._heatmap.canvas);this._wRectangle.appearance.material.uniforms.image=e.src},i.prototype.multiply=function(e){this._heatmap.multiply(e),this.updateHeatmap()},i.prototype.clamp=function(e,t){this._heatmap.clamp(e,t),this.updateHeatmap()},i.prototype.blur=function(){this._heatmap.blur(),this.updateHeatmap()},i}(Cesium||{},createWebGLHeatmap||{});class RJHeatMap{constructor(){return{Heatmap:h337,CesiumHeatmap:CesiumHeatmap$1,createWebGLHeatmap:createWebGLHeatmap,CesiumHeatmapGL:CesiumHeatmapGL}}}Object.defineProperty(Array.prototype,"max",{value:function(){return Math.max.apply(null,this)}}),Object.defineProperty(Array.prototype,"min",{value:function(){return Math.min.apply(null,this)}}),Object.defineProperty(Array.prototype,"mean",{value:function(){let e,t;for(e=0,t=0;e<this.length;e++)t+=this[e];return t/this.length}}),Object.defineProperty(Array.prototype,"rep",{value:function(e){return Array.apply(null,new Array(e)).map(Number.prototype.valueOf,this[0])}}),Object.defineProperty(Array.prototype,"pip",{value:function(e,t){let i,n,r=!1;for(i=0,n=this.length-1;i<this.length;n=i++)this[i][1]>t!=this[n][1]>t&&e<(this[n][0]-this[i][0])*(t-this[i][1])/(this[n][1]-this[i][1])+this[i][0]&&(r=!r);return r}});let kriging={};var kriging_matrix_diag=function(e,t){let i,n=[0].rep(t*t);for(i=0;i<t;i++)n[i*t+i]=e;return n},kriging_matrix_transpose=function(e,t,i){let n,r,o=Array(i*t);for(n=0;n<t;n++)for(r=0;r<i;r++)o[r*t+n]=e[n*i+r];return o},kriging_matrix_add=function(e,t,i,n){let r,o,a=Array(i*n);for(r=0;r<i;r++)for(o=0;o<n;o++)a[r*n+o]=e[r*n+o]+t[r*n+o];return a},kriging_matrix_multiply=function(e,t,i,n,r){let o,a,s,l=Array(i*r);for(o=0;o<i;o++)for(a=0;a<r;a++)for(l[o*r+a]=0,s=0;s<n;s++)l[o*r+a]+=e[o*n+s]*t[s*r+a];return l},kriging_matrix_chol=function(e,t){let i,n,r,o=Array(t);for(i=0;i<t;i++)o[i]=e[i*t+i];for(i=0;i<t;i++){for(n=0;n<i;n++)o[i]-=e[i*t+n]*e[i*t+n];if(o[i]<=0)return!1;for(o[i]=Math.sqrt(o[i]),n=i+1;n<t;n++){for(r=0;r<i;r++)e[n*t+i]-=e[n*t+r]*e[i*t+r];e[n*t+i]/=o[i]}}for(i=0;i<t;i++)e[i*t+i]=o[i];return!0},kriging_matrix_chol2inv=function(e,t){let i,n,r,o;for(i=0;i<t;i++)for(e[i*t+i]=1/e[i*t+i],n=i+1;n<t;n++){for(o=0,r=i;r<n;r++)o-=e[n*t+r]*e[r*t+i];e[n*t+i]=o/e[n*t+n]}for(i=0;i<t;i++)for(n=i+1;n<t;n++)e[i*t+n]=0;for(i=0;i<t;i++){for(e[i*t+i]*=e[i*t+i],r=i+1;r<t;r++)e[i*t+i]+=e[r*t+i]*e[r*t+i];for(n=i+1;n<t;n++)for(r=n;r<t;r++)e[i*t+n]+=e[r*t+i]*e[r*t+n]}for(i=0;i<t;i++)for(n=0;n<i;n++)e[i*t+n]=e[n*t+i]},kriging_matrix_solve=function(e,t){let i,n,r,o,a,s,l,u,c,h,g,d=t,p=Array(t*t),m=Array(t),f=Array(t),C=Array(t);for(i=0;i<t;i++)for(o=0;o<t;o++)p[i*t+o]=i==o?1:0;for(o=0;o<t;o++)C[o]=0;for(i=0;i<t;i++){for(u=0,o=0;o<t;o++)if(1!=C[o])for(a=0;a<t;a++)0==C[a]&&Math.abs(e[o*t+a])>=u&&(u=Math.abs(e[o*t+a]),r=o,n=a);if(++C[n],r!=n){for(s=0;s<t;s++)g=e[r*t+s],e[r*t+s]=e[n*t+s],e[n*t+s]=g;for(s=0;s<d;s++)g=p[r*t+s],p[r*t+s]=p[n*t+s],p[n*t+s]=g}if(f[i]=r,m[i]=n,0==e[n*t+n])return!1;for(h=1/e[n*t+n],e[n*t+n]=1,s=0;s<t;s++)e[n*t+s]*=h;for(s=0;s<d;s++)p[n*t+s]*=h;for(l=0;l<t;l++)if(l!=n){for(c=e[l*t+n],e[l*t+n]=0,s=0;s<t;s++)e[l*t+s]-=e[n*t+s]*c;for(s=0;s<d;s++)p[l*t+s]-=p[n*t+s]*c}}for(s=t-1;s>=0;s--)if(f[s]!=m[s])for(a=0;a<t;a++)g=e[a*t+f[s]],e[a*t+f[s]]=e[a*t+m[s]],e[a*t+m[s]]=g;return!0},kriging_variogram_gaussian=function(e,t,i,n,r){return t+(n-t)/i*(1-Math.exp(-1/r*Math.pow(e/i,2)))},kriging_variogram_exponential=function(e,t,i,n,r){return t+(n-t)/i*(1-Math.exp(-1/r*(e/i)))},kriging_variogram_spherical=function(e,t,i,n,r){return e>i?t+(n-t)/i:t+(n-t)/i*(e/i*1.5-.5*Math.pow(e/i,3))};kriging.train=function(e,t,i,n,r,o){let a={t:e,x:t,y:i,nugget:0,range:0,sill:0,A:1/3,n:0};switch(n){case"gaussian":a.model=kriging_variogram_gaussian;break;case"exponential":a.model=kriging_variogram_exponential;break;case"spherical":a.model=kriging_variogram_spherical}let s,l,u,c,h=e.length,g=Array((h*h-h)/2);for(s=0,u=0;s<h;s++)for(l=0;l<s;l++,u++)g[u]=Array(2),g[u][0]=Math.pow(Math.pow(t[s]-t[l],2)+Math.pow(i[s]-i[l],2),.5),g[u][1]=Math.abs(e[s]-e[l]);g.sort((function(e,t){return e[0]-t[0]})),a.range=g[(h*h-h)/2-1][0];let d=(h*h-h)/2>30?30:(h*h-h)/2,p=a.range/d,m=[0].rep(d),f=[0].rep(d);if(d<30)for(c=0;c<d;c++)m[c]=g[c][0],f[c]=g[c][1];else{for(s=0,l=0,u=0,c=0;s<d&&l<(h*h-h)/2;s++,u=0){for(;g[l][0]<=(s+1)*p&&(m[c]+=g[l][0],f[c]+=g[l][1],l++,u++,!(l>=(h*h-h)/2)););u>0&&(m[c]/=u,f[c]/=u,c++)}if(c<2)return a}h=c,a.range=m[h-1]-m[0];let C=[1].rep(2*h),y=Array(h),v=a.A;for(s=0;s<h;s++){switch(n){case"gaussian":C[2*s+1]=1-Math.exp(-1/v*Math.pow(m[s]/a.range,2));break;case"exponential":C[2*s+1]=1-Math.exp(-1/v*m[s]/a.range);break;case"spherical":C[2*s+1]=m[s]/a.range*1.5-.5*Math.pow(m[s]/a.range,3)}y[s]=f[s]}let A=kriging_matrix_transpose(C,h,2),I=kriging_matrix_multiply(A,C,2,h,2);I=kriging_matrix_add(I,kriging_matrix_diag(1/o,2),2,2);let w=I.slice(0);kriging_matrix_chol(I,2)?kriging_matrix_chol2inv(I,2):(kriging_matrix_solve(w,2),I=w);let b=kriging_matrix_multiply(kriging_matrix_multiply(I,A,2,2,h),y,2,h,1);a.nugget=b[0],a.sill=b[1]*a.range+a.nugget,a.n=t.length,h=t.length;let E=Array(h*h);for(s=0;s<h;s++){for(l=0;l<s;l++)E[s*h+l]=a.model(Math.pow(Math.pow(t[s]-t[l],2)+Math.pow(i[s]-i[l],2),.5),a.nugget,a.range,a.sill,a.A),E[l*h+s]=E[s*h+l];E[s*h+s]=a.model(0,a.nugget,a.range,a.sill,a.A)}let x=kriging_matrix_add(E,kriging_matrix_diag(r,h),h,h),_=x.slice(0);kriging_matrix_chol(x,h)?kriging_matrix_chol2inv(x,h):(kriging_matrix_solve(_,h),x=_);var k=x.slice(0);let P=kriging_matrix_multiply(x,e,h,h,1);return a.K=k,a.M=P,a},kriging.predict=function(e,t,i){let n,r=Array(i.n);for(n=0;n<i.n;n++)r[n]=i.model(Math.pow(Math.pow(e-i.x[n],2)+Math.pow(t-i.y[n],2),.5),i.nugget,i.range,i.sill,i.A);return kriging_matrix_multiply(r,i.M,1,i.n,1)[0]},kriging.variance=function(e,t,i){let n,r=Array(i.n);for(n=0;n<i.n;n++)r[n]=i.model(Math.pow(Math.pow(e-i.x[n],2)+Math.pow(t-i.y[n],2),.5),i.nugget,i.range,i.sill,i.A);return i.model(0,i.nugget,i.range,i.sill,i.A)+kriging_matrix_multiply(kriging_matrix_multiply(r,i.K,1,i.n,i.n),r,1,i.n,1)[0]},kriging.grid=function(e,t,i){let n,r,o,a=e.length;if(0==a)return;let s,l,u=[e[0][0][0],e[0][0][0]],c=[e[0][0][1],e[0][0][1]];for(n=0;n<a;n++)for(r=0;r<e[n].length;r++)e[n][r][0]<u[0]&&(u[0]=e[n][r][0]),e[n][r][0]>u[1]&&(u[1]=e[n][r][0]),e[n][r][1]<c[0]&&(c[0]=e[n][r][1]),e[n][r][1]>c[1]&&(c[1]=e[n][r][1]);let h=Array(2),g=Array(2),d=Array(2),p=Array(2),m=Math.ceil((u[1]-u[0])/i),f=Math.ceil((c[1]-c[0])/i),C=Array(m+1);for(n=0;n<=m;n++)C[n]=Array(f+1);for(n=0;n<a;n++){for(d[0]=e[n][0][0],d[1]=d[0],p[0]=e[n][0][1],p[1]=p[0],r=1;r<e[n].length;r++)e[n][r][0]<d[0]&&(d[0]=e[n][r][0]),e[n][r][0]>d[1]&&(d[1]=e[n][r][0]),e[n][r][1]<p[0]&&(p[0]=e[n][r][1]),e[n][r][1]>p[1]&&(p[1]=e[n][r][1]);for(h[0]=Math.floor((d[0]-(d[0]-u[0])%i-u[0])/i),h[1]=Math.ceil((d[1]-(d[1]-u[1])%i-u[0])/i),g[0]=Math.floor((p[0]-(p[0]-c[0])%i-c[0])/i),g[1]=Math.ceil((p[1]-(p[1]-c[1])%i-c[0])/i),r=h[0];r<=h[1];r++)for(o=g[0];o<=g[1];o++)s=u[0]+r*i,l=c[0]+o*i,e[n].pip(s,l)&&(C[r][o]=kriging.predict(s,l,t))}return C.xlim=u,C.ylim=c,C.zlim=[t.t.min(),t.t.max()],C.width=i,C},kriging.contour=function(e,t,i){return null},kriging.plot=function(e,t,i,n,r){let o=e.getContext("2d");o.clearRect(0,0,e.width,e.height);let a,s,l,u,c,h=[i[1]-i[0],n[1]-n[0],t.zlim[1]-t.zlim[0]],g=t.length,d=t[0].length,p=Math.ceil(t.width*e.width/(i[1]-i[0])),m=Math.ceil(t.width*e.height/(n[1]-n[0]));for(a=0;a<g;a++)for(s=0;s<d;s++)null!=t[a][s]&&(l=e.width*(a*t.width+t.xlim[0]-i[0])/h[0],u=e.height*(1-(s*t.width+t.ylim[0]-n[0])/h[1]),c=(t[a][s]-t.zlim[0])/h[2],c<0&&(c=0),c>1&&(c=1),o.fillStyle=r[Math.floor((r.length-1)*c)],o.fillRect(Math.round(l-p/2),Math.round(u-m/2),p,m))},kriging.plot_rainbow=function(e,t,i,n,r){let o=e.getContext("2d");o.clearRect(0,0,e.width,e.height);let a,s,l,u,c,h=[i[1]-i[0],n[1]-n[0],t.zlim[1]-t.zlim[0]],g=t.length,d=t[0].length,p=Math.ceil(t.width*e.width/(i[1]-i[0])),m=Math.ceil(t.width*e.height/(n[1]-n[0]));for(a=0;a<g;a++)for(s=0;s<d;s++)null!=t[a][s]&&(l=e.width*(a*t.width+t.xlim[0]-i[0])/h[0],u=e.height*(1-(s*t.width+t.ylim[0]-n[0])/h[1]),c=(t[a][s]-t.zlim[0])/h[2],c<0&&(c=0),c>1&&(c=1),o.fillStyle="#"+r.colourAt(c),o.fillRect(Math.round(l-p/2),Math.round(u-m/2),p,m))},window.kriging=kriging;var kopts={propname:"value",krigingModel:"exponential",krigingSigma2:0,krigingAlpha:100,alpha:.3,colors:["#006837","#1a9850","#66bd63","#a6d96a","#d9ef8b","#ffffbf","#fee08b","#fdae61","#f46d43","#d73027","#a50026"]},drawKriging=function(e,t,i={}){(kopts=Object.assign(kopts,i)).colors&&kopts.colorsNum?kopts.colors=getColor(kopts.colors,kopts.colorsNum):kopts.colors=getColor(["#00A600","#E6DD09","#F2F2F2"],100);var n=[],r=[],o=[];if(e.features.forEach((e=>{n.push(e.properties[kopts.propname]),r.push(e.geometry.coordinates[0]),o.push(e.geometry.coordinates[1])})),n.length>3){for(var a={xMin:1e8,yMin:1e8,xMax:-1e8,yMax:-1e8},s=0;s<t.length;s++)for(var l=0;l<t[s].length;l++)a.xMin=Math.min(a.xMin,t[s][l][0]),a.xMax=Math.max(a.xMax,t[s][l][0]),a.yMin=Math.min(a.yMin,t[s][l][1]),a.yMax=Math.max(a.yMax,t[s][l][1]);kopts.width||(kopts.width=Math.round(1e4*Math.min(a.xMax-a.xMin,a.yMax-a.yMin))/1e4/500);var u=document.createElement("canvas");document.body.appendChild(u),u.width=5e3,u.height=parseInt(5e3/(a.xMax-a.xMin)*(a.yMax-a.yMin));let e=kriging.train(n,r,o,kopts.krigingModel,kopts.krigingSigma2,kopts.krigingAlpha);var c=kriging.grid(t,e,kopts.width);return kriging.plot(u,c,[a.xMin,a.xMax],[a.yMin,a.yMax],kopts.colors),drawHeatmapRect(u,a)}};function drawHeatmapRect(e,t){var i=convertCanvasToImage(e),n=viewer.scene.primitives.add(new Cesium.GroundPrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.RectangleGeometry({rectangle:Cesium.Rectangle.fromDegrees(t.xMin,t.yMin,t.xMax,t.yMax),vertexFormat:Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT})}),appearance:new Cesium.EllipsoidSurfaceAppearance({aboveGround:!1}),show:!0}));return n.appearance.material=new Cesium.Material({fabric:{type:"Image",uniforms:{color:{alpha:kopts.alpha},image:i.src}}}),n}function convertCanvasToImage(e){var t=new Image;return t.src=e.toDataURL("image/png"),t}function getColor(e,t){var i=new Rainbow__default.default;i.setSpectrum(...e),i.setNumberRange(0,t);for(var n=[],r=0;r<t;r++)n.push("#"+i.colourAt(r));return n}var videos=[],video_dom,getCurrentMousePosition=function(e,t,i){var n=e.pick(t);if(e.pickPositionSupported&&Cesium.defined(n)){var r=n.id;if(null==i||i&&r!==i){var o=e.pickPosition(t);if(Cesium.defined(o)){var a=Cesium.Cartographic.fromCartesian(o).height;if(a>=0)return o;if(!Cesium.defined(n.id)&&a>=-500)return o}}}if(e.mode===Cesium.SceneMode.SCENE3D){var s=e.camera.getPickRay(t);o=e.globe.pick(s,e)}else o=e.camera.pickEllipsoid(t,e.globe.ellipsoid);return o};class video{constructor(e,t){this.viewer=e,this.config=t}creat(){var e=this.viewer,t=this.config,i=t.videoElement,n=t.positions;t.clampToGround?e.entities.add({nam:"video",polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArray(n),material:i}}):e.entities.add({nam:"video",polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(n)},material:i,perPositionHeight:!0,outline:!0}})}clearAll(){var e=viewer.entities._entities._array;for(let t=0;t<e.length;t++)(e[t]._nam="video")&&(viewer.entities.remove(e[t]),t--);videos.forEach((e=>{e.destroy()}))}change(e){var t=this;for(const i in e){const n=e[i];t.lightCamera.frustum[i]=n,t.clear(),t.drawFrustumOutline()}}drawVideo(){let e=this;var t=this.config;this.handler=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.horizontalViewAngle=t.horizontalViewAngle||60,this.verticalViewAngle=t.verticalViewAngle||40,video_dom=document.getElementById(t.video),this.options=t,this.posArray=[],this.state="PREPARE",t.viewPosition&&t.viewPositionEnd?(e.viewPosition=t.viewPosition,e.viewPositionEnd=t.viewPositionEnd,e.viewDistance=Cesium.Cartesian3.distance(e.viewPosition,e.viewPositionEnd),e.viewHeading=getHeading(e.viewPosition,e.viewPositionEnd),e.viewPitch=getPitch(e.viewPosition,e.viewPositionEnd),e.createLightCamera()):this.action()}action(){let e=this;e.handler.setInputAction((function(t){var i=getCurrentMousePosition(e.viewer.scene,t.position);i&&(0==e.posArray.length?(e.posArray.push(i),e.state="OPERATING"):1==e.posArray.length&&(e.viewPosition=e.posArray[0],e.viewPositionEnd=i,e.viewDistance=Cesium.Cartesian3.distance(e.viewPosition,e.viewPositionEnd),e.viewHeading=getHeading(e.viewPosition,e.viewPositionEnd),e.viewPitch=getPitch(e.viewPosition,e.viewPositionEnd),e.state="END",e.handler.destroy(),e.handler=null,e.createLightCamera()))}),Cesium.ScreenSpaceEventType.LEFT_CLICK)}createLightCamera(){this.lightCamera=new Cesium.Camera(this.viewer.scene),this.lightCamera.position=this.viewPosition,this.lightCamera.frustum.near=1e-4*this.viewDistance,this.lightCamera.frustum.far=this.viewDistance;const e=Cesium.Math.toRadians(this.horizontalViewAngle),t=Cesium.Math.toRadians(this.verticalViewAngle),i=this.viewDistance*Math.tan(e/2)*2/(this.viewDistance*Math.tan(t/2)*2);this.lightCamera.frustum.aspectRatio=i,this.lightCamera.frustum.fov=e>t?e:t,this.lightCamera.setView({destination:this.viewPosition,orientation:{heading:Cesium.Math.toRadians(this.viewHeading||0),pitch:Cesium.Math.toRadians(this.viewPitch||0),roll:0}}),this.drawFrustumOutline()}drawFrustumOutline(){const e=new Cesium.Cartesian3,t=new Cesium.Matrix3,i=new Cesium.Quaternion;this.lightCamera.positionWC;const n=this.lightCamera.directionWC,r=this.lightCamera.upWC;let o=this.lightCamera.rightWC;o=Cesium.Cartesian3.negate(o,e);let a=t;Cesium.Matrix3.setColumn(a,0,o,a),Cesium.Matrix3.setColumn(a,1,r,a),Cesium.Matrix3.setColumn(a,2,n,a);let s=Cesium.Quaternion.fromRotationMatrix(a,i);var l=_.cloneDeep(this.lightCamera.frustum);l.near=l.far-.01;var u=new Cesium.GeometryInstance({geometry:new Cesium.FrustumGeometry({frustum:l,origin:this.viewPosition,orientation:s})}),c=new Cesium.Primitive({geometryInstances:[u],appearance:createAppearance()});this.viewer.scene.primitives.add(c);var h=new Cesium.GeometryInstance({geometry:new Cesium.FrustumOutlineGeometry({frustum:this.lightCamera.frustum,origin:this.viewPosition,orientation:s}),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.WHITE)}}),g=new Cesium.Primitive({geometryInstances:[h],appearance:new Cesium.PerInstanceColorAppearance({flat:!0,translucent:!1})});this.viewer.scene.primitives.add(g),this.FrustumGeometry=c,this.FrustumOutlineGeometry=g,videos.push(c),videos.push(g)}clear(){this.FrustumGeometry.destroy(),this.FrustumOutlineGeometry.destroy()}}function createAppearance(){let e=new Cesium.Material({fabric:{type:"custome_1",uniforms:{color:new Cesium.Color(1,1,1,1),image:"data:image/png;base64,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",tmask:"data:image/jpg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/7QAsUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQAB/+Ekcmh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wR0ltZz0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL2cvaW1nLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczppbGx1c3RyYXRvcj0iaHR0cDovL25zLmFkb2JlLmNvbS9pbGx1c3RyYXRvci8xLjAvIgogICAgICAgICAgICB4bWxuczpwZGY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8iPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL2pwZWc8L2RjOmZvcm1hdD4KICAgICAgICAgPGRjOnRpdGxlPgogICAgICAgICAgICA8cmRmOkFsdD4KICAgICAgICAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij7miZPljbA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QWx0PgogICAgICAgICA8L2RjOnRpdGxlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE5LTEyLTE4VDE3OjA4OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0xMi0xOFQwOTowODo1OVo8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOS0xMi0xOFQxNzowODo1OSswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgSWxsdXN0cmF0b3IgQ0MgMjMuMSAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOlRodW1ibmFpbHM+CiAgICAgICAgICAgIDxyZGY6QWx0PgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHhtcEdJbWc6d2lkdGg+MjU2PC94bXBHSW1nOndpZHRoPgogICAgICAgICAgICAgICAgICA8eG1wR0ltZzpoZWlnaHQ+NzY8L3htcEdJbWc6aGVpZ2h0PgogICAgICAgICAgICAgICAgICA8eG1wR0ltZzpmb3JtYXQ+SlBFRzwveG1wR0ltZzpmb3JtYXQ+CiAgICAgICAgICAgICAgICAgIDx4bXBHSW1nOmltYWdlPi85ai80QUFRU2taSlJnQUJBZ0VBU0FCSUFBRC83UUFzVUdodmRHOXphRzl3SURNdU1BQTRRa2xOQSswQUFBQUFBQkFBU0FBQUFBRUEmI3hBO0FRQklBQUFBQVFBQi8rNEFEa0ZrYjJKbEFHVEFBQUFBQWYvYkFJUUFCZ1FFQkFVRUJnVUZCZ2tHQlFZSkN3Z0dCZ2dMREFvS0N3b0smI3hBO0RCQU1EQXdNREF3UURBNFBFQThPREJNVEZCUVRFeHdiR3hzY0h4OGZIeDhmSHg4Zkh3RUhCd2NOREEwWUVCQVlHaFVSRlJvZkh4OGYmI3hBO0h4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zkh4OGZIeDhmSHg4Zi84QUFFUWdBVEFFQUF3RVImI3hBO0FBSVJBUU1SQWYvRUFhSUFBQUFIQVFFQkFRRUFBQUFBQUFBQUFBUUZBd0lHQVFBSENBa0tDd0VBQWdJREFRRUJBUUVBQUFBQUFBQUEmI3hBO0FRQUNBd1FGQmdjSUNRb0xFQUFDQVFNREFnUUNCZ2NEQkFJR0FuTUJBZ01SQkFBRklSSXhRVkVHRTJFaWNZRVVNcEdoQnhXeFFpUEImI3hBO1V0SGhNeFppOENSeWd2RWxRelJUa3FLeVkzUENOVVFuazZPek5oZFVaSFREMHVJSUpvTUpDaGdaaEpSRlJxUzBWdE5WS0JyeTQvUEUmI3hBOzFPVDBaWFdGbGFXMXhkWGw5V1oyaHBhbXRzYlc1dlkzUjFkbmQ0ZVhwN2ZIMStmM09FaFlhSGlJbUtpNHlOam8rQ2s1U1ZscGVZbVomI3hBO3FibkoyZW41S2pwS1dtcDZpcHFxdXNyYTZ2b1JBQUlDQVFJREJRVUVCUVlFQ0FNRGJRRUFBaEVEQkNFU01VRUZVUk5oSWdaeGdaRXkmI3hBO29iSHdGTUhSNFNOQ0ZWSmljdkV6SkRSRGdoYVNVeVdpWTdMQ0IzUFNOZUpFZ3hkVWt3Z0pDaGdaSmpaRkdpZGtkRlUzOHFPend5Z3AmI3hBOzArUHpoSlNrdE1UVTVQUmxkWVdWcGJYRjFlWDFSbFptZG9hV3ByYkcxdWIyUjFkbmQ0ZVhwN2ZIMStmM09FaFlhSGlJbUtpNHlOam8mI3hBOytEbEpXV2w1aVptcHVjblo2ZmtxT2twYWFucUttcXE2eXRycSt2L2FBQXdEQVFBQ0VRTVJBRDhBRmZsWCtYbWkrYU5Qalc1aVZad3QmI3hBO2ZVcDFvTytSRElsNkYvMEx4NWY4VSs3K3pEU0xkLzBMeDVmOFUrNyt6R2x0My9RdkhsL3hUN3Y3TWFXM2Y5QzhlWC9GUHUvc3hwYmQmI3hBOy93QkM4ZVgvQUJUN3Y3TWFXM2Y5QzhlWC9GUHUvc3hwYmQvMEx4NWY4VSs3K3pHbHQzL1F2SGwveFQ3djdNYVczZjhBUXZIbC93QVUmI3hBOys3K3pHbHQzL1F2SGwveFQ3djdNYVcwdTE3OGovTHVrNmJMZXNxU2NCc29IZW1OSnRPZitjZFk0NC9LbXN4eHFGUmRabUNxTmdCOVYmI3hBO3RzUWd2VmNLSFlxN0ZYWXE3RlhZcThRLzV5Ny9BUEpiYWIvMjJZUCtvVzV3RmxGODNlUi95eTg0ZWVQcnYrSExSTHI5SCtsOWE1eXgmI3hBO3hjZlg1OEtlb3kxcjZUZE1ESWxsWC9RczM1d2Y5V3FIL3BMdHYrYThhUmJ2K2hadnpnLzZ0VVAvQUVsMjMvTmVOTGJ2K2hadnpnLzYmI3hBO3RVUC9BRWwyMy9OZU5MYnYraFp2emcvNnRVUC9BRWwyMy9OZU5MYnYraFp2emcvNnRVUC9BRWwyMy9OZU5MYnYraFp2emcvNnRVUC8mI3hBO0FFbDIzL05lTkxiditoWnZ6Zy82dFVQL0FFbDIzL05lTkxiditoWnZ6Zy82dFVQL0FFbDIzL05lTkxiditoWnZ6Zy82dFVQL0FFbDImI3hBOzMvTmVOTGJ2K2hadnpnLzZ0VVAvQUVsMjMvTmVOTGJ6YlZ0TXZOSzFTODB1OVFSM3RoUEphM0tBaGdzc0xsSEFZVkJveW5jWXBmVmYmI3hBOy9PTzMrODhmK29mMVlReEwzVEN4ZGlyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBLzVScTQvd0EreHhVTVAvNXg1LzVSZlcvKzJ6Ti8mI3hBOzFEVzJBSkwxUENoMkt1eFYyS3V4VjJLdkVQOEFuTHYvQU1sdHB2OEEyMllQK29XNXdGbEZqWC9PR3Y4QTAxLy9BRzd2K3hyRUxKOUsmI3hBO1lXTHNWZGlyc1ZkaXJzVmRpcnNWZGlyc1ZmbjMrWnYvQUpNbnpaLzIyZFEvNmlwTWkyQjlJZjhBT08zKzg4ZitvZjFZUXhMM1RDeGQmI3hBO2lyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBLzVScTQvejdIRlF3Ly9BSng1L3dDVVgxdi9BTGJNMy9VTmJZQWt2VThLSFlxN0ZYWXEmI3hBOzdGWFlxOFEvNXk3L0FQSmJhYi8yMllQK29XNXdGbEZqWC9PR3YvVFgvd0RidS83R3NRc24wcGhZdXhWMkt1eFYyS3V4VjJLdXhWMksmI3hBO3V4VitmZjVtL3dEa3lmTm4vYloxRC9xS2t5TFlIMGgvemp0L3ZQSC9BS2gvVmhERXZkTUxGMkt1eFYyS3V4VjJLdXhWMkt1eFYyS3MmI3hBO2MvTUQvbEdyai9Qc2NWREQvd0RuSG4vbEY5Yi9BTzJ6Ti8xRFcyQUpMMVBDaDJLdXhWMkt1eFYyS3ZFUCtjdS8vSmJhYi8yMllQOEEmI3hBO3FGdWNCWlJZMS96aHIvMDEvd0QyN3Y4QXNheEN5ZlNtRmk3RlhZcTdGWFlxN0ZYWXE3RlhZcTdGWDU5L21iLzVNbnpaL3dCdG5VUCsmI3hBO29xVEl0Z2ZTSC9PTzMrODhmK29mMVlReEwzVEN4ZGlyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBL3dDVWF1UDgreHhVTVA4QStjZWYmI3hBOytVWDF2L3RzemY4QVVOYllBa3ZVOEtIWXE3RlhZcTdGWFlxOFEvNXk3LzhBSmJhYi93QnRtRC9xRnVjQlpSWTEvd0E0YS84QVRYLzkmI3hBO3U3L3NheEN5ZlNtRmk3RlhZcTdGWFlxN0ZYWXE3RlhZcTdGWDU5L21iLzVNbnpaLzIyZFEvd0NvcVRJdGdmU0gvT08zKzg4ZitvZjEmI3hBO1lReEwzVEN4ZGlyc1ZkaXJzVmRpcnNWZGlyc1ZkaXJIUHpBLzVScTQvd0EreHhVTVAvNXg1LzVSZlcvKzJ6Ti8xRFcyQUpMMVBDaDImI3hBO0t1eFYyS3V4VjJLdkVQOEFuTHYvQU1sdHB2OEEyMllQK29XNXdGbEZqWC9PR3Y4QTAxLy9BRzd2K3hyRUxKOUtZV0xzVmRpcnNWZGkmI3hBO3JzVmRpcnNWZGlyc1ZmbjMrWnYvQUpNbnpaLzIyZFEvNmlwTWkyQjlJZjhBT08zKzg4ZitvZjFZUXhMM1RDeGRpcnNWZGlyc1ZkaXImI3hBO3NWZGlyc1ZkaXJIUHpBLzVScTQvejdIRlF3Ly9BSng1L3dDVVgxdi9BTGJNMy9VTmJZQWt2VThLSFlxN0ZYWXE3RlhZcThRLzV5Ny8mI3hBO0FQSmJhYi8yMllQK29XNXdGbEZqWC9PR3YvVFgvd0RidS83R3NRc24wcGhZdXhWMkt1eFYyS3V4VjJLdXhWMkt1eFYrZmY1bS93RGsmI3hBO3lmTm4vYloxRC9xS2t5TFlIMGgvemp0L3ZQSC9BS2gvVmhERXZkTUxGMkt1eFYyS3V4VjJLdXhWMkt1eFYyS3NjL01EL2xHcmovUHMmI3hBO2NWREQvd0RuSG4vbEY5Yi9BTzJ6Ti8xRFcyQUpMMVBDaDJLdXhWMkt1eFYyS3ZFUCtjdS8vSmJhYi8yMllQOEFxRnVjQlpSWTEvemgmI3hBO3IvMDEvd0QyN3Y4QXNheEN5ZlNtRmk3RlhZcTdGWFlxN0ZYWXE3RlhZcTdGWDU5L21iLzVNbnpaL3dCdG5VUCtvcVRJdGdmUjMvT1AmI3hBO0xvbHNqT3dWUWhxU2FEcGhERXZjZnJWci92NVArQ0g5Y0xGMzFxMS8zOG4vQUFRL3JpcnZyVnIvQUwrVC9naC9YRlhmV3JYL0FIOG4mI3hBOy9CRCt1S3UrdFd2Ky9rLzRJZjF4VjMxcTEvMzhuL0JEK3VLdSt0V3YrL2svNElmMXhWMzFxMS8zOG4vQkQrdUt1K3RXdisvay93Q0MmI3hBO0g5Y1ZkOWF0ZjkvSi93QUVQNjRxeDd6N05DL2x1NENTS3g2MFVnOWo0WXBZbC96anoveWkrdC85dG1iL0FLaHJiQUZMMVBDaDJLdXgmI3hBO1YyS3V4VjJLdkVQK2N1Ly9BQ1cybS84QWJaZy82aGJuQVdVWG52OEF6aTM1NDhwK1YvOEFFMytJTlRoMDc2NTlSK3Jlc1NPZnBmV08mI3hBO2RLQS9aNXI5K0FMSVBlZitWMy9sUC8xTTFuOTdmODA0YlJUditWMy9BSlQvQVBVeldmM3Qvd0EwNDJ0Ty93Q1YzL2xQL3dCVE5aL2UmI3hBOzMvTk9OclR2K1YzL0FKVC9BUFV6V2YzdC93QTA0MnRPL3dDVjMvbFAvd0JUTlovZTMvTk9OclR2K1YzL0FKVC9BUFV6V2YzdC93QTAmI3hBOzQydE8vd0NWMy9sUC93QlROWi9lMy9OT05yVHYrVjMvQUpUL0FQVXpXZjN0L3dBMDQydE8vd0NWMy9sUC93QlROWi9lMy9OT05yVHYmI3hBOytWMy9BSlQvQVBVeldmM3Qvd0EwNDJ0UGl6ei9BSDFwZitlL01kL1p5aWV6dTlVdlo3YVpmc3ZISmNPNk1QWmxOY0RNUFN2SzMrT2YmI3hBOzBURitodVAxYWcreld2MDB4UW5IL0lWdmYvaHNVTy81Q3Q3L0FQRFlxNy9rSzN2L0FNTmlydjhBa0szdi93QU5pcnYrUXJlLy9EWXEmI3hBOzcva0szdjhBOE5pcnYrUXJlLzhBdzJLdS93Q1FyZS8vQUEyS3UvNUN0Ny84TmlyditRcmUvd0R3MktyWlArVnBjRzlUN0ZQaTVjcVUmI3hBOzk4VmVxLzhBT09YcmY0UjFqMStQcS9waWJueDZWK3EyM1N1RUlMMWJDaDJLdXhWMkt1eFYyS3ZFUCtjdS93RHlXMm0vOXRtRC9xRnUmI3hBO2NCWlJmSXVCazdGWFlxN0ZYWXE3RlhZcTdGWFlxN0ZYWXE3RlgvL1o8L3htcEdJbWc6aW1hZ2U+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgIDwveG1wOlRodW1ibmFpbHM+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6YzAzYzk1NmEtMmM5ZC00MzI0LWFmMWYtNWFhNjNhMWM4MDA5PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOmMwM2M5NTZhLTJjOWQtNDMyNC1hZjFmLTVhYTYzYTFjODAwOTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD51dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpSZW5kaXRpb25DbGFzcz5wcm9vZjpwZGY8L3htcE1NOlJlbmRpdGlvbkNsYXNzPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD51dWlkOmFjOTVjMjFhLTM2MGEtNGVjZi1iNTBkLTE4ZGVhZmQ4NTYzNjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozYzUyMWIzYy04ZTE3LTY0NDItYjVjYi0wMDAxYzVhYjNlMWI8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgICAgIDxzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+dXVpZDo1RDIwODkyNDkzQkZEQjExOTE0QTg1OTBEMzE1MDhDODwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6cmVuZGl0aW9uQ2xhc3M+cHJvb2Y6cGRmPC9zdFJlZjpyZW5kaXRpb25DbGFzcz4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmMwM2M5NTZhLTJjOWQtNDMyNC1hZjFmLTVhYTYzYTFjODAwOTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOS0xMi0xOFQxNzowODo1OSswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgSWxsdXN0cmF0b3IgQ0MgMjMuMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8aWxsdXN0cmF0b3I6U3RhcnR1cFByb2ZpbGU+UHJpbnQ8L2lsbHVzdHJhdG9yOlN0YXJ0dXBQcm9maWxlPgogICAgICAgICA8cGRmOlByb2R1Y2VyPkFkb2JlIFBERiBsaWJyYXJ5IDEwLjAxPC9wZGY6UHJvZHVjZXI+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVzYwAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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"},source:"czm_material czm_getMaterial(czm_materialInput materialInput)\n      {\n           czm_material material = czm_getDefaultMaterial(materialInput);\n           vec2 st = materialInput.st;\n           vec4 colorImage = texture2D(image, vec2(st.s, st.t));\n           vec4 maskImage = texture2D(tmask, vec2(st.s, st.t));\n           material.alpha = colorImage.a * color.a*maskImage.r;\n           material.diffuse = colorImage.rgb*color.rgb;\n           return material;\n       }"}});return e.uniforms.image=video_dom,new Cesium.EllipsoidSurfaceAppearance({material:e,flat:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}})}function getHeading(e,t){let i=new Cesium.Cartesian3,n=Cesium.Transforms.eastNorthUpToFixedFrame(e);return Cesium.Matrix4.inverse(n,n),Cesium.Matrix4.multiplyByPoint(n,t,i),Cesium.Cartesian3.normalize(i,i),Cesium.Math.toDegrees(Math.atan2(i.x,i.y))}function getPitch(e,t){let i=new Cesium.Cartesian3,n=Cesium.Transforms.eastNorthUpToFixedFrame(e);return Cesium.Matrix4.inverse(n,n),Cesium.Matrix4.multiplyByPoint(n,t,i),Cesium.Cartesian3.normalize(i,i),Cesium.Math.toDegrees(Math.asin(i.z))}var Visualization={Windy:Windy,HeatMap:HeatMap,RJHeatMap:RJHeatMap,drawKriging:drawKriging,video:video};class GLMapCoordSys{constructor(e,t){this._GLMap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=t}setMapOffset(e){this._mapOffset=e}getBMap(){return this._GLMap}dataToPoint(e){var t=[99999,99999],i=Cesium.Cartesian3.fromDegrees(e[0],e[1]);if(!i)return t;var n=this._GLMap.cartesianToCanvasCoordinates(i);return n?!(Cesium.Cartesian3.angleBetween(this._GLMap.camera.position,i)>Cesium.Math.toRadians(75))&&[n.x-this._mapOffset[0],n.y-this._mapOffset[1]]:t}pointToData(e){var t=this._mapOffset;return[(e=this._bmap.project([e[0]+t[0],e[1]+t[1]])).lng,e.lat]}getViewRect(){var e=this._api;return new echarts.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())}getRoamTransform(){return echarts.matrix.create()}static create(e,t){var i;e.eachComponent("GLMap",(function(e){t.getZr().painter.getViewportRoot();var n=echarts.glMap;(i=new GLMapCoordSys(n,t)).setMapOffset(e.__mapOffset||[0,0]),e.coordinateSystem=i})),e.eachSeries((function(e){"GLMap"===e.get("coordinateSystem")&&(e.coordinateSystem=i)}))}}GLMapCoordSys.prototype.dimensions=["lng","lat"],GLMapCoordSys.dimensions=GLMapCoordSys.prototype.dimensions;class CombineEcharts{constructor(e,t){this._map=e,this._overlay=this._createChartOverlay(),t&&this._registerMap(),this._overlay.setOption(t||{})}_registerMap(){this._isRegistered||(echarts.registerCoordinateSystem("GLMap",GLMapCoordSys),echarts.registerAction({type:"GLMapRoam",event:"GLMapRoam",update:"updateLayout"},(function(e,t){})),echarts.extendComponentModel({type:"GLMap",getBMap:function(){return this.__GLMap},defaultOption:{roam:!1}}),echarts.extendComponentView({type:"GLMap",init:function(e,t){this.api=t,echarts.glMap.postRender.addEventListener(this.moveHandler,this)},moveHandler:function(e,t){this.api.dispatchAction({type:"GLMapRoam"})},render:function(e,t,i){},dispose:function(e){echarts.glMap.postRender.removeEventListener(this.moveHandler,this)}}),this._isRegistered=!0)}_createChartOverlay(){var e=this._map.scene;e.canvas.setAttribute("tabIndex",0);const t=document.createElement("div");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=999,t.style.width=e.canvas.parentNode.offsetWidth+"px",t.style.height=e.canvas.parentNode.offsetHeight+"px",t.style.pointerEvents="none",t.setAttribute("id","echarts"),t.setAttribute("class","echartMap"),this._map.container.appendChild(t),this._echartsContainer=t,echarts.glMap=e,this._chart=echarts.init(t)}dispose(){this._echartsContainer&&(this._map.container.removeChild(this._echartsContainer),this._echartsContainer=null),this._overlay&&(this._overlay.dispose(),this._overlay=null)}updateOverlay(e){this._overlay&&this._overlay.setOption(e)}getMap(){return this._map}getOverlay(){return this._overlay}show(){this._echartsContainer&&(this._echartsContainer.style.visibility="visible")}hide(){this._echartsContainer&&(this._echartsContainer.style.visibility="hidden")}remove(){this._chart.clear(),this._echartsContainer.parentNode&&this._echartsContainer.parentNode.removeChild(this._echartsContainer),this._map=void 0}resize(){const e=this;window.onresize=function(){const t=e._map.scene;e._echartsContainer.style.width=t.canvas.style.width,e._echartsContainer.style.height=t.canvas.style.height,e._chart.resize()}}}function colorModifyHSL(e,t){return echarts.color.modifyHSL(e,t)}var CombineEcharts_=function(e,t){function i(e,t){this._mapContainer=e,this._overlay=this._createChartOverlay(),this._overlay.setOption(t)}!function(e){const t={};function i(n){if(t[n])return t[n].exports;const r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;const n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(let t in e)i.d(n,t,function(t){return e[t]}.bind(null,t));return n},i.n=function(e){let t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){echarts?i(2).load():console.error("missing echarts lib")},function(t,i,n){function r(e,t){for(let i=0;i<t.length;i++){let n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.r(i);let o=function(){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._viewer=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=i}let i,n,o;return i=t,o=[{key:"create",value:function(e,i){let n;e.eachComponent("GLMap",(function(e){(n=new t(echarts.cesiumViewer,i)).setMapOffset(e.__mapOffset||[0,0]),e.coordinateSystem=n})),e.eachSeries((function(e){"GLMap"===e.get("coordinateSystem")&&(e.coordinateSystem=n)}))}},{key:"dimensions",get:function(){return["lng","lat"]}}],(n=[{key:"setMapOffset",value:function(e){return this._mapOffset=e,this}},{key:"getViewer",value:function(){return this._viewer}},{key:"dataToPoint",value:function(e){let t=this._viewer.scene,i=[0,0],n=Cesium.Cartesian3.fromDegrees(e[0],e[1]);if(!n)return i;if(t.mode===Cesium.SceneMode.SCENE3D&&Cesium.Cartesian3.angleBetween(t.camera.position,n)>Cesium.Math.toRadians(80))return!1;let r=t.cartesianToCanvasCoordinates(n);return r?[r.x-this._mapOffset[0],r.y-this._mapOffset[1]]:i}},{key:"pointToData",value:function(t){let i=this._mapOffset,n=e.scene.globe.ellipsoid,r=new Cesium.cartesian3(t[1]+i,t[2]+i[2],0),o=n.cartesianToCartographic(r);return[o.lng,o.lat]}},{key:"getViewRect",value:function(){let e=this._api;return new echarts.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())}},{key:"getRoamTransform",value:function(){return echarts.matrix.create()}}])&&r(i.prototype,n),o&&r(i,o),t}();function a(){echarts.registerCoordinateSystem("GLMap",o),echarts.registerAction({type:"GLMapRoam",event:"GLMapRoam",update:"updateLayout"},(function(e,t){}))}echarts.extendComponentModel({type:"GLMap",getViewer:function(){return echarts.cesiumViewer},defaultOption:{roam:!1}}),echarts.extendComponentView({type:"GLMap",init:function(e,t){this.api=t,echarts.cesiumViewer.scene.postRender.addEventListener(this.moveHandler,this)},moveHandler:function(e,t){this.api.dispatchAction({type:"GLMapRoam"})},render:function(e,t,i){},dispose:function(e){echarts.cesiumViewer.scene.postRender.removeEventListener(this.moveHandler,this)}}),n.d(i,"load",(function(){return a}))}]),echarts.cesiumViewer=e,i.prototype._createChartOverlay=function(){const e=this._mapContainer.scene;e.canvas.setAttribute("tabIndex",0);const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width=e.canvas.width+"px",t.style.height=e.canvas.height+"px",t.style.pointerEvents="none";const i=document.getElementsByClassName("echartMap").length;return t.setAttribute("id","ysCesium-echarts-"+parseInt(99999*Math.random())+"-"+i),t.setAttribute("class","echartMap"),this._mapContainer.container.appendChild(t),this._echartsContainer=t,echarts.init(t)},i.prototype.dispose=function(){this._echartsContainer&&(this._mapContainer.container.removeChild(this._echartsContainer),this._echartsContainer=null),this._overlay&&(this._overlay.dispose(),this._overlay=null)},i.prototype.updateOverlay=function(e){this._overlay&&this._overlay.setOption(e)},i.prototype.getMap=function(){return this._mapContainer},i.prototype.getOverlay=function(){return this._overlay},i.prototype.show=function(){document.getElementById(this._id).style.visibility="visible"},i.prototype.hide=function(){document.getElementById(this._id).style.visibility="hidden"},new i(e,t)},Echarts={};Echarts.CombineEcharts=CombineEcharts,Echarts.CombineEcharts_=CombineEcharts_,Echarts.colorModifyHSL=colorModifyHSL;class CombineMapV{constructor(e,t,i){this.viewer=e,this.data=t,this.option=i,this.loadData()}loadData(){var e=new MapV__namespace.default.DataSet(this.data),t=this.option;return MapV__namespace.default.cesiumMapLayer(viewer,e,t)}}function getCenterByCityName(e){return MapV__namespace.default.utilCityCenter.getCenterByCityName(e)}class utilForceEdgeBundling{constructor(e,t){this.node_data=e,this.edge_data=t}nodesEdges(e,t){return MapV__namespace.default.utilForceEdgeBundling().nodes(e).edges(t)}}function DataSet(e){return new MapV__namespace.default.DataSet(e)}function getPoints(e){return MapV__namespace.default.utilCurve.getPoints(e)}function getDataSet(e){return MapV__namespace.default.geojson.getDataSet(e)}var MapV={};function honeycombLayerGl(e){return new MapVGL__namespace.default.HoneycombLayer(e)}function View(e){return new MapVGL__namespace.default.View(e)}MapV.CombineMapV=CombineMapV,MapV.getCenterByCityName=getCenterByCityName,MapV.utilForceEdgeBundling=utilForceEdgeBundling,MapV.DataSet=DataSet,MapV.getPoints=getPoints,MapV.getDataSet=getDataSet;var MapVGL={};MapVGL.honeycombLayerGl=honeycombLayerGl,MapVGL.View=View;class GeoJsonDataSource{load(e){return Cesium.GeoJsonDataSource.load(e)}crsNames(e){return Cesium.GeoJsonDataSource.crsNames[e]}fromDegrees(e){return Cesium.Cartesian3.fromDegrees(e)}WebMapTileServiceImageryProvider(e){return new Cesium.WebMapTileServiceImageryProvider(e)}ArcGisMapServerImageryProvider(e){return new Cesium.ArcGisMapServerImageryProvider(e)}ArcGISTiledElevationTerrainProvider(e){return new Cesium.ArcGISTiledElevationTerrainProvider(e)}}function PointOnMode(e,t,i,n){for(let r of t){let t,o={};for(let e in r.field)o[e]=r.field[e];let a=null!=e.baseLayerPicker.viewModel.terrainProviderViewModels&&e.baseLayerPicker.viewModel.terrainProviderViewModels.length>0,s=Cesium.Cartographic.fromDegrees(r.lng,r.lat),l=new Cesium.Cartographic(s.longitude,s.latitude);if(t=(e.scene.sampleHeight(l)||0)+n,a){let a=Cesium.createWorldTerrain(),s=[Cesium.Cartographic.fromDegrees(r.lng,r.lat),Cesium.Cartographic.fromDegrees(Math.ceil(r.lng)+0,Math.ceil(r.lat)+0)],l=Cesium.sampleTerrainMostDetailed(a,s);Cesium.when(l,(function(a){t==n&&(t=a[0].height+n),e.entities.add({position:Cesium.Cartesian3.fromDegrees(r.lng,r.lat,t),billboard:i,properties:o})}))}else e.entities.add({position:Cesium.Cartesian3.fromDegrees(r.lng,r.lat,t),billboard:i,properties:o})}}var ArcGIS=Object.freeze({__proto__:null,GeoJsonDataSource:GeoJsonDataSource,PointOnMode:PointOnMode});const XLGlobe$1={...XLGlobe$2,Utils:{...Utils$1,Rainbow:Rainbow__default.default},Globe:Globe$1,createMap:createMap,getLayerById:getLayerById,Control:Control,Layer:Layer,DataSource:DataSource,Scene:Scene,Model:Model,Service:Service,Analysis:Analysis,Visualization:Visualization,Echarts:Echarts,MapV:MapV,MapVGL:MapVGL,...ArcGIS};return"undefined"!=typeof window&&(window.XLGlobe=XLGlobe$1),XLGlobe$1}));
